const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "assets/shared-components-G24N1P00.js",
      "assets/vendor-react-CpGE3sj0.js",
      "assets/vendor-other-C35hYj1E.js",
      "assets/vendor-other-BaVkx4tQ.css",
      "assets/vendor-redux-CiqK6azd.js",
      "assets/vendor-charts-CZ6szF51.js",
      "assets/vendor-charts-CfBfaPHo.css",
      "assets/vendor-ui-CWi54YN-.js",
      "assets/vendor-react-DnB_YXlC.css",
      "assets/editor-M-e6bJKl.js",
      "assets/user-manager-Dr4yhAGw.js",
      "assets/public-COS93uTN.js",
      "assets/agent-C9nq9n0B.js",
      "assets/routes-constants-lB11n7Go.js",
      "assets/types-CckU8TWY.js",
      "assets/public-C4CXbxfB.css",
      "assets/editor-jH6JdS_v.css",
      "assets/shared-components-CGCpepLA.css",
      "assets/routeGuards-UTbmkPHz.js",
      "assets/ResetPassword-Dl5FOVRB.js",
      "assets/VerifyEmail-DskC0p7N.js",
    ])
) => i.map((i) => d[i]);
import {
  c as ca,
  j as s,
  r as j,
  a as G,
  u as nt,
  b as Xe,
  d as He,
  e as ln,
  f as da,
  g as zn,
  h as fr,
  C as pr,
  B as y,
  H as el,
  I as Ee,
  i as Y,
  k as xr,
  F as jr,
  l as wt,
  P as ha,
  V as le,
  T as i,
  m as rl,
  n as W,
  o as tl,
  p as Be,
  q as Mt,
  s as Ls,
  t as Xt,
  v as yr,
  w as ki,
  S as Wt,
  x as br,
  y as vs,
  z as Ss,
  A as At,
  D as Ce,
  E as _s,
  G as _e,
  J as ds,
  K as kn,
  L as sl,
  M as Nn,
  N as Dn,
  O as nl,
  Q as Ln,
  R as Fn,
  U as Rn,
  W as ps,
  X as vr,
  Y as ma,
  Z as hs,
  _ as Ii,
  $ as Ds,
  a0 as Vi,
  a1 as Jt,
  a2 as Zt,
  a3 as es,
  a4 as ol,
  a5 as Ni,
  a6 as On,
  a7 as Qt,
  a8 as ua,
  a9 as il,
  aa as rt,
  ab as xl,
  ac as kt,
  ad as vn,
  ae as Kt,
  af as Sr,
  ag as ga,
  ah as jl,
  ai as fa,
  aj as pa,
  ak as _r,
  al as yl,
  am as tt,
  an as Yt,
  ao as st,
  ap as xa,
  aq as ja,
  ar as ya,
  as as ba,
  at as vt,
  au as wn,
  av as Ts,
  aw as $i,
  ax as va,
  ay as bl,
  az as $s,
  aA as Ms,
  aB as Mi,
  aC as Sa,
  aD as _a,
  aE as Ca,
  aF as Cr,
  aG as Tr,
  aH as wr,
  aI as Ar,
  aJ as vl,
  aK as Er,
  aL as Pr,
  aM as Sl,
  aN as Di,
  aO as kr,
  aP as Ta,
  aQ as ws,
  aR as ll,
  aS as _l,
  aT as wa,
  aU as Nr,
  aV as Dr,
  aW as Aa,
  aX as Bi,
  aY as Lr,
  aZ as An,
  a_ as zr,
  a$ as Cl,
  b0 as Ea,
  b1 as Fr,
  b2 as Rr,
  b3 as Or,
  b4 as Ir,
  b5 as Vr,
  b6 as Pa,
  b7 as $r,
  b8 as ka,
  b9 as Na,
  ba as Mr,
  bb as Tl,
  bc as Wr,
} from "./vendor-react-CpGE3sj0.js";
import {
  t as ye,
  L as wl,
  D as qr,
  E as Da,
  a as Ws,
  b as qs,
  c as Us,
  d as Bs,
  e as Qs,
  C as La,
  f as Ks,
  F as Ne,
  g as za,
  M as Gs,
  h as Fa,
  i as Ra,
  j as Ur,
  k as Ot,
  l as Oa,
  N as Br,
  O as Qr,
  m as Ia,
  P as Kr,
} from "./shared-components-G24N1P00.js";
import { M as Gr } from "./user-manager-Dr4yhAGw.js";
import { R as at, g as Hs } from "./routes-constants-lB11n7Go.js";
import {
  T as Os,
  V as ks,
  a as cs,
  b as yt,
  D as Al,
  R as Hr,
  P as en,
  c as Pn,
  U as _n,
} from "./types-CckU8TWY.js";
import {
  P as Qi,
  u as Yr,
  R as Xr,
  S as Va,
  V as $a,
  a as Jr,
} from "./editor-M-e6bJKl.js";
import {
  u as Zr,
  a as eo,
  b as to,
  f as El,
  g as Ki,
  c as Gi,
  d as Hi,
  D as Oe,
  e as Je,
  h as so,
  i as no,
  j as io,
  k as lo,
  l as ao,
  m as ro,
} from "./agent-C9nq9n0B.js";
import {
  L as Li,
  N as Pl,
  P as oo,
  T as Ma,
  a as co,
} from "./public-COS93uTN.js";
import { a as yn } from "./vendor-other-C35hYj1E.js";
const ho = { auth: null, loading: !1, error: null },
  Wa = ca({
    name: "auth",
    initialState: ho,
    reducers: {
      signIn: (e, t) => {
        e.auth = { ...e.auth, ...t.payload };
      },
      signOut: (e) => {
        e.auth = null;
      },
      setWallet: (e, t) => ({ ...e, wallet: t.payload }),
      setLoading: (e, t) => {
        e.loading = t.payload;
      },
      setNonce: (e, t) => ({ ...e, signMessage: t.payload }),
    },
  }),
  { signIn: In, signOut: Vs, setWallet: p0, setNonce: x0 } = Wa.actions,
  mo = (e) => e.auth.auth,
  j0 = Wa.reducer,
  cl = "https://api.mehappy.vn/api",
  uo = "https://storage.mehappy.vn",
  ie = yn.create({
    baseURL: cl,
    headers: { "Content-Type": "application/json" },
  }),
  Cs = yn.create({
    baseURL: uo,
    headers: { "Content-Type": "application/json" },
  });
let fs;
const y0 = (e) => {
  fs = e;
};
ie.interceptors.request.use(
  (e) => {
    var a, l;
    const n =
      (l = (a = fs.getState().auth) == null ? void 0 : a.auth) == null
        ? void 0
        : l.accessToken;
    return n && (e.headers.Authorization = `Bearer ${n}`), e;
  },
  (e) => Promise.reject(e)
);
ie.interceptors.response.use(
  (e) =>
    e.data &&
    e.data.hasOwnProperty("status_code") &&
    e.data.hasOwnProperty("data") &&
    e.data.hasOwnProperty("success")
      ? e.data.success
        ? e
        : Promise.reject({
            message: e.data.message || "Unknown error occurred",
            code: e.data.status_code,
            response: e,
          })
      : e,
  async (e) => {
    var n, a, l;
    const t = e.config;
    if (((n = e.response) == null ? void 0 : n.status) === 401 && !t._retry) {
      t._retry = !0;
      try {
        const c = fs.getState(),
          m =
            (l = (a = c.auth) == null ? void 0 : a.auth) == null
              ? void 0
              : l.refreshToken;
        if (!m) return fs.dispatch(Vs()), Promise.reject(e);
        const r = await yn.post(
          `${cl}/auth/refresh`,
          { refreshToken: m },
          { headers: { "Content-Type": "application/json" }, timeout: 1e4 }
        );
        if (r.data && r.data.success && r.data.data) {
          const o = r.data.data;
          return (
            fs.dispatch(
              In({
                ...c.auth.auth,
                accessToken: o.accessToken,
                refreshToken: o.refreshToken,
              })
            ),
            (t.headers.Authorization = `Bearer ${o.accessToken}`),
            yn(t)
          );
        } else fs.dispatch(Vs());
      } catch (c) {
        return fs.dispatch(Vs()), Promise.reject(c);
      }
    }
    return Promise.reject(e);
  }
);
Cs.interceptors.request.use(
  (e) => {
    var a, l;
    const n =
      (l = (a = fs.getState().auth) == null ? void 0 : a.auth) == null
        ? void 0
        : l.accessToken;
    return n && (e.headers.Authorization = `Bearer ${n}`), e;
  },
  (e) => Promise.reject(e)
);
Cs.interceptors.response.use(
  (e) =>
    e.data &&
    e.data.hasOwnProperty("status_code") &&
    e.data.hasOwnProperty("data") &&
    e.data.hasOwnProperty("success")
      ? e.data.success
        ? e
        : Promise.reject({
            message: e.data.message || "Unknown error occurred",
            code: e.data.status_code,
            response: e,
          })
      : e,
  async (e) => {
    var n, a, l;
    const t = e.config;
    if (((n = e.response) == null ? void 0 : n.status) === 401 && !t._retry) {
      t._retry = !0;
      try {
        const c = fs.getState(),
          m =
            (l = (a = c.auth) == null ? void 0 : a.auth) == null
              ? void 0
              : l.refreshToken;
        if (!m) return fs.dispatch(Vs()), Promise.reject(e);
        const r = await yn.post(
          `${cl}/auth/refresh`,
          { refreshToken: m },
          { headers: { "Content-Type": "application/json" }, timeout: 1e4 }
        );
        if (r.data && r.data.success && r.data.data) {
          const o = r.data.data;
          return (
            fs.dispatch(
              In({
                ...c.auth.auth,
                accessToken: o.accessToken,
                refreshToken: o.refreshToken,
              })
            ),
            (t.headers.Authorization = `Bearer ${o.accessToken}`),
            yn(t)
          );
        } else fs.dispatch(Vs());
      } catch (c) {
        return fs.dispatch(Vs()), Promise.reject(c);
      }
    }
    return Promise.reject(e);
  }
);
const go = "modulepreload",
  fo = function (e) {
    return "/" + e;
  },
  kl = {},
  fe = function (t, n, a) {
    let l = Promise.resolve();
    if (n && n.length > 0) {
      document.getElementsByTagName("link");
      const m = document.querySelector("meta[property=csp-nonce]"),
        r =
          (m == null ? void 0 : m.nonce) ||
          (m == null ? void 0 : m.getAttribute("nonce"));
      l = Promise.allSettled(
        n.map((o) => {
          if (((o = fo(o)), o in kl)) return;
          kl[o] = !0;
          const u = o.endsWith(".css"),
            _ = u ? '[rel="stylesheet"]' : "";
          if (document.querySelector(`link[href="${o}"]${_}`)) return;
          const d = document.createElement("link");
          if (
            ((d.rel = u ? "stylesheet" : go),
            u || (d.as = "script"),
            (d.crossOrigin = ""),
            (d.href = o),
            r && d.setAttribute("nonce", r),
            document.head.appendChild(d),
            u)
          )
            return new Promise((f, b) => {
              d.addEventListener("load", f),
                d.addEventListener("error", () =>
                  b(new Error(`Unable to preload CSS for ${o}`))
                );
            });
        })
      );
    }
    function c(m) {
      const r = new Event("vite:preloadError", { cancelable: !0 });
      if (((r.payload = m), window.dispatchEvent(r), !r.defaultPrevented))
        throw m;
    }
    return l.then((m) => {
      for (const r of m || []) r.status === "rejected" && c(r.reason);
      return t().catch(c);
    });
  },
  po = (e) => {
    const t = G.c(3),
      { message: n } = e,
      a = n === void 0 ? "Loading..." : n;
    let l;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((l = {
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
          height: "100vh",
          fontSize: "1.2rem",
          color: "#666",
        }),
        (t[0] = l))
      : (l = t[0]);
    let c;
    return (
      t[1] !== a
        ? ((c = s.jsx("div", { style: l, children: a })),
          (t[1] = a),
          (t[2] = c))
        : (c = t[2]),
      c
    );
  },
  Ve = (e, t) => s.jsx(j.Suspense, { fallback: s.jsx(po, {}), children: e }),
  Nl = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aJ),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  xo = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aK),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  jo = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aL),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  yo = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aM),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  bo = j.lazy(() => fe(() => Promise.resolve().then(() => gm), void 0)),
  vo = j.lazy(() => fe(() => Promise.resolve().then(() => Em), void 0)),
  So = j.lazy(() => fe(() => Promise.resolve().then(() => Ym), void 0)),
  _o = j.lazy(() => fe(() => Promise.resolve().then(() => vu), void 0)),
  Co = j.lazy(() => fe(() => Promise.resolve().then(() => Pu), void 0)),
  To = j.lazy(() => fe(() => Promise.resolve().then(() => Qu), void 0)),
  wo = j.lazy(() => fe(() => Promise.resolve().then(() => Zu), void 0)),
  Ao = j.lazy(() => fe(() => Promise.resolve().then(() => og), void 0)),
  Eo = j.lazy(() => fe(() => Promise.resolve().then(() => gg), void 0)),
  Po = j.lazy(() => fe(() => Promise.resolve().then(() => pg), void 0)),
  ko = j.lazy(() => fe(() => Promise.resolve().then(() => jg), void 0)),
  No = j.lazy(() => fe(() => Promise.resolve().then(() => bg), void 0)),
  Do = j.lazy(() => fe(() => Promise.resolve().then(() => Sg), void 0)),
  Lo = j.lazy(() => fe(() => Promise.resolve().then(() => Jg), void 0)),
  zo = j.lazy(() =>
    fe(() => Promise.resolve().then(() => gf), void 0).then((e) => ({
      default: e.PlanFeaturesManager,
    }))
  ),
  Fo = j.lazy(() => fe(() => Promise.resolve().then(() => Lf), void 0)),
  Ro = j.lazy(() => fe(() => Promise.resolve().then(() => tp), void 0)),
  Oo = j.lazy(() => fe(() => Promise.resolve().then(() => np), void 0)),
  Io = j.lazy(() => fe(() => Promise.resolve().then(() => wp), void 0)),
  Vo = j.lazy(() => fe(() => Promise.resolve().then(() => Lp), void 0)),
  $o = j.lazy(() => fe(() => Promise.resolve().then(() => Vp), void 0)),
  Mo = j.lazy(() =>
    fe(() => Promise.resolve().then(() => Jp), void 0).then((e) => ({
      default: e.UserFeaturesManager,
    }))
  ),
  Wo = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.F),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  qo = j.lazy(() =>
    fe(
      () => import("./editor-M-e6bJKl.js").then((e) => e.D),
      __vite__mapDeps([
        9, 1, 2, 3, 4, 5, 6, 7, 8, 10, 0, 11, 12, 13, 14, 15, 17, 16,
      ])
    )
  ),
  Uo = j.lazy(() => fe(() => Promise.resolve().then(() => $x), void 0)),
  Bo = j.lazy(() => fe(() => Promise.resolve().then(() => Wx), void 0)),
  Qo = j.lazy(() => fe(() => Promise.resolve().then(() => Hx), void 0)),
  Ko = j.lazy(() => fe(() => Promise.resolve().then(() => t1), void 0)),
  Go = j.lazy(() => fe(() => Promise.resolve().then(() => a1), void 0)),
  Ho = j.lazy(() => fe(() => Promise.resolve().then(() => o1), void 0)),
  Yo = j.lazy(() => fe(() => Promise.resolve().then(() => J1), void 0)),
  Xo = j.lazy(() => fe(() => Promise.resolve().then(() => a0), void 0)),
  qa = [
    {
      path: at.ADMIN.ROOT,
      element: Ve(s.jsx(Nl, { children: s.jsx(xo, {}) })),
      children: [
        { index: !0, element: Ve(s.jsx(So, {})) },
        { path: "card-templates", element: Ve(s.jsx(vo, {})) },
        { path: "pages", element: Ve(s.jsx(Co, {})) },
        { path: "audio-templates", element: Ve(s.jsx(bo, {})) },
        { path: "feedback", element: Ve(s.jsx(Wo, {})) },
        { path: "notifications", element: Ve(s.jsx(No, {})) },
        { path: at.ADMIN.PRODUCTS, element: Ve(s.jsx(Oo, {})) },
        { path: at.ADMIN.ORDERS, element: Ve(s.jsx(Do, {})) },
        { path: "blogs", element: Ve(s.jsx(yo, {})) },
        { path: "design-requests", element: Ve(s.jsx(Ao, {})) },
        { path: "plans", element: Ve(s.jsx(Fo, {})) },
        { path: "plan-features", element: Ve(s.jsx(zo, {})) },
        { path: "user-features", element: Ve(s.jsx(Mo, {})) },
        { path: "promotions", element: Ve(s.jsx(Io, {})) },
        { path: "billing-orders", element: Ve(s.jsx(_o, {})) },
        { path: "payment-reconciliation", element: Ve(s.jsx(Lo, {})) },
        { path: "referrals", element: Ve(s.jsx($o, {})) },
        { path: "referral-config", element: Ve(s.jsx(Vo, {})) },
        { path: "product-affiliates", element: Ve(s.jsx(Ro, {})) },
        { path: "videos", element: Ve(s.jsx(To, {})) },
        { path: "video-orders", element: Ve(s.jsx(wo, {})) },
        { path: "agents/applications", element: Ve(s.jsx(Bo, {})) },
        { path: "agents/management", element: Ve(s.jsx(Qo, {})) },
        { path: "agents/catalog", element: Ve(s.jsx(Ko, {})) },
        { path: "agents/analytics", element: Ve(s.jsx(Uo, {})) },
        { path: "agents/design-requests", element: Ve(s.jsx(Eo, {})) },
        { path: "dealer-pricing", element: Ve(s.jsx(Go, {})) },
        { path: "bill-export", element: Ve(s.jsx(Ho, {})) },
        { path: "templates", element: Ve(s.jsx(Yo, {})) },
        { path: "users", element: Ve(s.jsx(Xo, {})) },
      ],
    },
    {
      path: `${at.ADMIN.ROOT}/builder`,
      element: Ve(s.jsx(Nl, { children: s.jsx(jo, {}) })),
      children: [
        { path: "template/:id", element: Ve(s.jsx(Po, {})) },
        { path: "template-logo/:id", element: Ve(s.jsx(ko, {})) },
        { path: "page/:id", element: Ve(s.jsx(qo, {})) },
      ],
    },
  ],
  Jo = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aN),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Zo = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aO),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Dl = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.A),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  ec = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.s),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  tc = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.t),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  sc = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.v),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  nc = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.w),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  ic = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.x),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  lc = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.y),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  ac = j.lazy(() =>
    fe(
      () => import("./agent-C9nq9n0B.js").then((e) => e.z),
      __vite__mapDeps([
        12, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Rs = j.lazy(() =>
    fe(
      () => import("./routeGuards-UTbmkPHz.js"),
      __vite__mapDeps([
        18, 1, 2, 3, 4, 5, 6, 7, 8, 12, 0, 9, 10, 11, 13, 14, 15, 16, 17,
      ])
    ).then((e) => ({ default: e.AgentRouteGuard }))
  ),
  rc = [
    {
      path: at.AGENT.ROOT,
      element: Ve(s.jsx(Zo, { children: s.jsx(Jo, {}) })),
      children: [
        { index: !0, element: Ve(s.jsx(Rs, { children: s.jsx(Dl, {}) })) },
        {
          path: "dashboard",
          element: Ve(s.jsx(Rs, { children: s.jsx(Dl, {}) })),
        },
        { path: "pages", element: Ve(s.jsx(Rs, { children: s.jsx(ec, {}) })) },
        {
          path: "pages/:id",
          element: Ve(s.jsx(Rs, { children: s.jsx(tc, {}) })),
        },
        {
          path: "pages/:id/edit",
          element: Ve(s.jsx(Rs, { children: s.jsx(sc, {}) })),
        },
        {
          path: "settings/branding",
          element: Ve(s.jsx(Rs, { children: s.jsx(nc, {}) })),
        },
        {
          path: "page-catalog",
          element: Ve(s.jsx(Rs, { children: s.jsx(ic, {}) })),
        },
        {
          path: "pricing-page",
          element: Ve(s.jsx(Rs, { children: s.jsx(lc, {}) })),
        },
        {
          path: "design-requests",
          element: Ve(s.jsx(Rs, { children: s.jsx(ac, {}) })),
        },
      ],
    },
  ],
  oc = (e) =>
    !e || !e.user
      ? !1
      : e.user.role === "admin" || e.user.role === "super_admin",
  Ua = (e) => oc(e),
  cc = (e) => !!(e && e.accessToken && e.user),
  b0 = (e) => (!e || !e.user ? !1 : e.user.role === "agent"),
  En = {
    all: ["user-audio-templates"],
    lists: () => [...En.all, "list"],
    list: (e) => [...En.lists(), e],
    details: () => [...En.all, "detail"],
    detail: (e) => [...En.details(), e],
  },
  dc = {
    getUserAudioTemplates: async (e) => {
      const t = await ie.get("/user/audio-templates", { params: e });
      return t.data.data || t.data;
    },
    getUserAudioTemplate: async (e) => {
      const t = await ie.get(`/user/audio-templates/${e}`);
      return t.data.data || t.data;
    },
  },
  v0 = (e) => {
    const t = G.c(7);
    let n;
    t[0] !== e ? ((n = En.list(e)), (t[0] = e), (t[1] = n)) : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => dc.getUserAudioTemplates(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    let l;
    return (
      t[4] !== n || t[5] !== a
        ? ((l = { queryKey: n, queryFn: a, staleTime: 3e5, retry: !1 }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l))
        : (l = t[6]),
      nt(l)
    );
  },
  S0 = () => {
    const e = G.c(3),
      t = Xe(),
      n = ln();
    let a;
    return (
      e[0] !== n || e[1] !== t
        ? ((a = {
            mutationFn: mc,
            onSuccess: (l) => {
              t.invalidateQueries({ queryKey: ["templates"] }),
                l.id && n(Hs.adminBuilderTemplate(l.id.toString()));
            },
          }),
          (e[0] = n),
          (e[1] = t),
          (e[2] = a))
        : (a = e[2]),
      He(a)
    );
  },
  Ba = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: ["admin-templates", a],
            queryFn: async () => {
              const c = new URLSearchParams();
              Object.entries(a).forEach((o) => {
                const [u, _] = o;
                _ != null &&
                  _ !== "" &&
                  (typeof _ == "boolean" ||
                  typeof _ == "string" ||
                  typeof _ == "number"
                    ? c.append(u, _.toString())
                    : _ instanceof Date
                    ? c.append(u, _.toISOString())
                    : Array.isArray(_)
                    ? _.forEach((d) => c.append(u, String(d)))
                    : typeof _ == "object" || c.append(u, String(_)));
              });
              const r = (await ie.get(`/templates?${c.toString()}`)).data.data;
              return {
                data: r.data || [],
                total: Number(r.total) || 0,
                page: Number(r.page) || 1,
                limit: Number(r.limit) || 25,
                totalPages: Number(r.totalPages) || 1,
              };
            },
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  _0 = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = {
            queryKey: ["publishedTemplates", e],
            queryFn: async () =>
              (await ie.get("/templates/published", { params: e })).data.data,
          }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  },
  C0 = (e) => {
    const t = G.c(7);
    let n, a;
    t[0] !== e
      ? ((n = ["templates", e]),
        (a = async () => {
          if (isNaN(e) || e <= 0) throw new Error("Invalid template ID");
          return (await ie.get(`/templates/lookup/${e}`)).data.data;
        }),
        (t[0] = e),
        (t[1] = n),
        (t[2] = a))
      : ((n = t[1]), (a = t[2]));
    const l = !isNaN(e) && e > 0;
    let c;
    return (
      t[3] !== n || t[4] !== a || t[5] !== l
        ? ((c = { queryKey: n, queryFn: a, enabled: l, retry: !1 }),
          (t[3] = n),
          (t[4] = a),
          (t[5] = l),
          (t[6] = c))
        : (c = t[6]),
      nt(c)
    );
  },
  Qa = (e) => {
    const t = G.c(7);
    let n, a;
    t[0] !== e
      ? ((n = ["templates", e]),
        (a = async () =>
          isNaN(e) || e <= 0
            ? void 0
            : (await ie.get(`/templates/${e}`)).data.data),
        (t[0] = e),
        (t[1] = n),
        (t[2] = a))
      : ((n = t[1]), (a = t[2]));
    const l = !isNaN(e) && e > 0;
    let c;
    return (
      t[3] !== n || t[4] !== a || t[5] !== l
        ? ((c = { queryKey: n, queryFn: a, enabled: l, retry: uc }),
          (t[3] = n),
          (t[4] = a),
          (t[5] = l),
          (t[6] = c))
        : (c = t[6]),
      nt(c)
    );
  },
  T0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: gc,
            onSuccess: (a, l) => {
              t.invalidateQueries({ queryKey: ["templates"] }),
                t.invalidateQueries({ queryKey: ["templates", l.id] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Ka = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: fc,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["templates"] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  w0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: pc,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["templates"] }),
                t.invalidateQueries({ queryKey: ["admin-templates"] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  A0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: xc,
            onSuccess: (a, l) => {
              t.invalidateQueries({ queryKey: ["templates"] }),
                t.invalidateQueries({ queryKey: ["templates", l.id] }),
                t.invalidateQueries({ queryKey: ["admin-templates"] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Ga = async (e) =>
    (await ie.get("/templates/tags", { params: { category: e } })).data.data,
  hc = async (e) =>
    (await ie.get("/templates/private-tags", { params: { category: e } })).data
      .data,
  E0 = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = { queryKey: ["template-tags", e], queryFn: () => Ga(e) }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  },
  Ha = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = {
            queryKey: ["private-template-tags", e],
            queryFn: () => hc(e),
          }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  };
async function mc(e) {
  return (await ie.post("/templates", e)).data.data;
}
function uc(e, t) {
  return t.message === "Invalid template ID" ? !1 : e < 3;
}
async function gc(e) {
  const { id: t, data: n } = e;
  return (await ie.patch(`/templates/${t}`, n)).data.data;
}
async function fc(e) {
  await ie.delete(`/templates/${e}`);
}
async function pc(e) {
  const { id: t, data: n } = e;
  return (await ie.post(`/templates/duplicate/${t}`, n)).data.data;
}
async function xc(e) {
  const { id: t, data: n } = e;
  return (await ie.patch(`/templates/${t}/tier-links`, n)).data.data;
}
const jc = (e) => {
    const t = G.c(7),
      n = e || "all";
    let a;
    t[0] !== n
      ? ((a = ["audioTemplates", n]), (t[0] = n), (t[1] = a))
      : (a = t[1]);
    let l;
    t[2] !== e
      ? ((l = async () =>
          (await Cs.get("/audio-templates", { params: e })).data.data),
        (t[2] = e),
        (t[3] = l))
      : (l = t[3]);
    let c;
    return (
      t[4] !== a || t[5] !== l
        ? ((c = { queryKey: a, queryFn: l }),
          (t[4] = a),
          (t[5] = l),
          (t[6] = c))
        : (c = t[6]),
      nt(c)
    );
  },
  yc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Sc,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["audioTemplates"] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  bc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: _c,
            onSuccess: (a, l) => {
              t.invalidateQueries({ queryKey: ["audioTemplates"] }),
                t.invalidateQueries({ queryKey: ["audioTemplates", l.id] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  vc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Cc,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["audioTemplates"] });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Wi = (e) => {
    if (e === 0) return "0 Bytes";
    const t = 1024,
      n = ["Bytes", "KB", "MB", "GB"],
      a = Math.floor(Math.log(e) / Math.log(t));
    return parseFloat((e / Math.pow(t, a)).toFixed(2)) + " " + n[a];
  };
async function Sc(e) {
  const t = new FormData();
  return (
    t.append("file", e.file),
    t.append("name", e.name),
    e.tier && t.append("tier", e.tier),
    (
      await Cs.post("/audio-templates", t, {
        headers: { "Content-Type": "multipart/form-data" },
      })
    ).data.data
  );
}
async function _c(e) {
  const { id: t, data: n } = e,
    a = new FormData();
  return (
    n.file && a.append("file", n.file),
    n.name && a.append("name", n.name),
    n.tier && a.append("tier", n.tier),
    (
      await Cs.put(`/audio-templates/${t}`, a, {
        headers: { "Content-Type": "multipart/form-data" },
      })
    ).data.data
  );
}
async function Cc(e) {
  await Cs.delete(`/audio-templates/${e}`);
}
const Tc = { all: ["custom-audio-templates"] },
  wc = {
    getCustomAudioTemplates: async (e) =>
      (await Cs.get("/custom-audio-templates", { params: e })).data,
    getCustomAudioTemplate: async (e) =>
      (await Cs.get(`/custom-audio-templates/${e}`)).data,
    createCustomAudioTemplate: async (e) => {
      const t = new FormData();
      return (
        t.append("file", e.file),
        t.append("name", e.name),
        e.tier && t.append("tier", e.tier),
        (
          await Cs.post("/custom-audio-templates", t, {
            headers: { "Content-Type": "multipart/form-data" },
          })
        ).data
      );
    },
    updateCustomAudioTemplate: async (e, t) => {
      const n = new FormData();
      return (
        t.file && n.append("file", t.file),
        t.name && n.append("name", t.name),
        t.tier && n.append("tier", t.tier),
        (
          await Cs.put(`/custom-audio-templates/${e}`, n, {
            headers: { "Content-Type": "multipart/form-data" },
          })
        ).data
      );
    },
    deleteCustomAudioTemplate: async (e) => {
      await Cs.delete(`/custom-audio-templates/${e}`);
    },
  },
  P0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ac,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Tc.all }),
                t.invalidateQueries({ queryKey: ["user-audio-templates"] }),
                ye.create({
                  title: "Thành công",
                  description: "Đã tạo audio template thành công",
                  type: "success",
                });
            },
            onError: Ec,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function Ac(e) {
  return wc.createCustomAudioTemplate(e);
}
function Ec(e) {
  var n, a;
  const t =
    ((a = (n = e == null ? void 0 : e.response) == null ? void 0 : n.data) ==
    null
      ? void 0
      : a.message) || "Có lỗi xảy ra khi tạo audio template";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
const Nt = {
    all: ["user-features"],
    lists: () => [...Nt.all, "list"],
    list: (e) => [...Nt.lists(), e],
    userFeatures: (e) => [...Nt.all, "user", e],
    userActiveFeatures: (e) => [...Nt.all, "user", e, "active"],
    userSummary: (e) => [...Nt.all, "user", e, "summary"],
    details: () => [...Nt.all, "detail"],
    detail: (e) => [...Nt.details(), e],
    userFeature: (e) => [...Nt.all, "feature", e],
  },
  Ys = {
    checkUserFeature: async (e) => {
      const t = await ie.get(`/user-features/check/${e}`);
      return t.data.data || t.data;
    },
    getAllUserFeatures: async () => {
      const e = await ie.get("/user-features/my-features-keys");
      return e.data.data || e.data;
    },
    getUserFeatures: async (e) => {
      const t = await ie.get(`/admin/user-features/user/${e}`);
      return t.data.data || t.data;
    },
    getUserActiveFeatures: async (e) => {
      const t = await ie.get(`/admin/user-features/user/${e}/active`);
      return t.data.data || t.data;
    },
    getUserFeaturesSummary: async (e) => {
      const t = await ie.get(`/admin/user-features/user/${e}/summary`);
      return t.data.data || t.data;
    },
    createUserFeature: async (e) => {
      const t = await ie.post("/admin/user-features", e);
      return t.data.data || t.data;
    },
    updateUserFeature: async (e, t) => {
      const n = await ie.patch(`/admin/user-features/${e}`, t);
      return n.data.data || n.data;
    },
    toggleUserFeature: async (e) => {
      const t = await ie.patch(`/admin/user-features/${e}/toggle`);
      return t.data.data || t.data;
    },
    deleteUserFeature: async (e) => {
      await ie.delete(`/admin/user-features/${e}`);
    },
    addPlanFeaturesToUser: async (e, t) => {
      const n = await ie.post(
        `/admin/user-features/user/${e}/add-plan-features`,
        t
      );
      return n.data.data || n.data;
    },
    removePlanFeaturesFromUser: async (e, t) => {
      await ie.post(`/admin/user-features/user/${e}/remove-plan-features`, t);
    },
    checkUserFeatures: async (e, t) => {
      const n = new URLSearchParams();
      t.forEach((l) => n.append("featureKeys", l));
      const a = await ie.get(
        `/admin/user-features/user/${e}/check-features?${n}`
      );
      return a.data.data || a.data;
    },
  },
  Pc = (e) => {
    const t = G.c(8);
    let n;
    t[0] !== e
      ? ((n = Nt.userFeatures(e)), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => Ys.getUserFeatures(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    const l = !!e;
    let c;
    return (
      t[4] !== n || t[5] !== a || t[6] !== l
        ? ((c = {
            queryKey: n,
            queryFn: a,
            enabled: l,
            staleTime: 3e5,
            retry: !1,
          }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l),
          (t[7] = c))
        : (c = t[7]),
      nt(c)
    );
  },
  kc = (e) => {
    const t = G.c(8);
    let n;
    t[0] !== e ? ((n = Nt.userSummary(e)), (t[0] = e), (t[1] = n)) : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => Ys.getUserFeaturesSummary(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    const l = !!e;
    let c;
    return (
      t[4] !== n || t[5] !== a || t[6] !== l
        ? ((c = { queryKey: n, queryFn: a, enabled: l, staleTime: 3e5 }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l),
          (t[7] = c))
        : (c = t[7]),
      nt(c)
    );
  },
  k0 = () => {
    const e = G.c(5),
      t = da(mo);
    let n;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((n = ["user-features", "all-keys"]), (e[0] = n))
      : (n = e[0]);
    let a;
    e[1] !== t ? ((a = cc(t)), (e[1] = t), (e[2] = a)) : (a = e[2]);
    let l;
    return (
      e[3] !== a
        ? ((l = {
            queryKey: n,
            queryFn: Rc,
            staleTime: 3e5,
            retry: !1,
            enabled: a,
          }),
          (e[3] = a),
          (e[4] = l))
        : (l = e[4]),
      nt(l)
    );
  },
  Nc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ys.createUserFeature,
            onSuccess: (a) => {
              t.invalidateQueries({ queryKey: Nt.userFeatures(a.userId) }),
                t.invalidateQueries({
                  queryKey: Nt.userActiveFeatures(a.userId),
                }),
                t.invalidateQueries({ queryKey: Nt.userSummary(a.userId) }),
                ye.create({
                  title: "Thành công",
                  description: "Thêm tính năng cho user thành công",
                  type: "success",
                  duration: 3e3,
                  meta: { closable: !0 },
                });
            },
            onError: Oc,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Dc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ic,
            onSuccess: (a) => {
              t.invalidateQueries({ queryKey: Nt.userFeatures(a.userId) }),
                t.invalidateQueries({
                  queryKey: Nt.userActiveFeatures(a.userId),
                }),
                t.invalidateQueries({ queryKey: Nt.userSummary(a.userId) }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật tính năng user thành công",
                  type: "success",
                  duration: 3e3,
                  meta: { closable: !0 },
                });
            },
            onError: Vc,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Lc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ys.toggleUserFeature,
            onSuccess: (a) => {
              t.invalidateQueries({ queryKey: Nt.userFeatures(a.userId) }),
                t.invalidateQueries({
                  queryKey: Nt.userActiveFeatures(a.userId),
                }),
                t.invalidateQueries({ queryKey: Nt.userSummary(a.userId) }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật trạng thái tính năng user thành công",
                  type: "success",
                  duration: 3e3,
                  meta: { closable: !0 },
                });
            },
            onError: $c,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  zc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ys.deleteUserFeature,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Nt.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Xóa tính năng user thành công",
                  type: "success",
                  duration: 3e3,
                  meta: { closable: !0 },
                });
            },
            onError: Mc,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Fc = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Wc,
            onSuccess: (a, l) => {
              t.invalidateQueries({ queryKey: Nt.userFeatures(l.userId) }),
                t.invalidateQueries({
                  queryKey: Nt.userActiveFeatures(l.userId),
                }),
                t.invalidateQueries({ queryKey: Nt.userSummary(l.userId) }),
                ye.create({
                  title: "Thành công",
                  description: `Đã thêm ${a.length} tính năng từ plan cho user`,
                  type: "success",
                  duration: 3e3,
                  meta: { closable: !0 },
                });
            },
            onError: qc,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function Rc() {
  return Ys.getAllUserFeatures();
}
function Oc(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "User đã có tính năng này. Vui lòng kiểm tra lại."
      : "Có lỗi xảy ra khi thêm tính năng cho user";
  ye.create({
    title: "Lỗi",
    description: t,
    type: "error",
    duration: 3e3,
    meta: { closable: !0 },
  });
}
function Ic(e) {
  const { id: t, data: n } = e;
  return Ys.updateUserFeature(t, n);
}
function Vc(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "User đã có tính năng này. Vui lòng kiểm tra lại."
      : "Có lỗi xảy ra khi cập nhật tính năng user";
  ye.create({
    title: "Lỗi",
    description: t,
    type: "error",
    duration: 3e3,
    meta: { closable: !0 },
  });
}
function $c() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi cập nhật trạng thái tính năng user",
    type: "error",
    duration: 3e3,
    meta: { closable: !0 },
  });
}
function Mc() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi xóa tính năng user",
    type: "error",
    duration: 3e3,
    meta: { closable: !0 },
  });
}
function Wc(e) {
  const { userId: t, data: n } = e;
  return Ys.addPlanFeaturesToUser(t, n);
}
function qc() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi thêm tính năng từ plan cho user",
    type: "error",
    duration: 3e3,
    meta: { closable: !0 },
  });
}
function Uc(e, t, n) {
  const a = G.c(3);
  let l;
  a[0] !== e || a[1] !== t
    ? ((l = () => {
        const c = setTimeout(() => {
          e.apply(void 0);
        }, t);
        return () => {
          clearTimeout(c);
        };
      }),
      (a[0] = e),
      (a[1] = t),
      (a[2] = l))
    : (l = a[2]),
    j.useEffect(l, n);
}
const Bc = () => {
    const e = G.c(3),
      t = Xe(),
      n = zn();
    let a;
    return (
      e[0] !== n || e[1] !== t
        ? ((a = {
            mutationFn: Qc,
            onSuccess: (l) => {
              t.invalidateQueries({ queryKey: ["auth"] }), Ua(l) && n(In(l));
            },
          }),
          (e[0] = n),
          (e[1] = t),
          (e[2] = a))
        : (a = e[2]),
      He(a)
    );
  },
  N0 = () => {
    const e = G.c(3),
      t = Xe(),
      n = zn();
    let a;
    return (
      e[0] !== n || e[1] !== t
        ? ((a = {
            mutationFn: Kc,
            onSuccess: (l) => {
              t.invalidateQueries({ queryKey: ["auth"] }), n(In(l));
            },
          }),
          (e[0] = n),
          (e[1] = t),
          (e[2] = a))
        : (a = e[2]),
      He(a)
    );
  },
  D0 = () => {
    const e = G.c(3),
      t = Xe(),
      n = zn();
    let a;
    return (
      e[0] !== n || e[1] !== t
        ? ((a = {
            mutationFn: Gc,
            onSuccess: (l) => {
              t.invalidateQueries({ queryKey: ["auth"] }), n(In(l));
            },
          }),
          (e[0] = n),
          (e[1] = t),
          (e[2] = a))
        : (a = e[2]),
      He(a)
    );
  },
  L0 = () => {
    const e = G.c(3),
      t = Xe(),
      n = zn();
    let a;
    return (
      e[0] !== n || e[1] !== t
        ? ((a = {
            mutationFn: Hc,
            onSuccess: () => {
              t.invalidateQueries(), t.clear(), t.resetQueries(), n(Vs());
            },
            onError: () => {
              t.invalidateQueries(), t.clear(), n(Vs());
            },
          }),
          (e[0] = n),
          (e[1] = t),
          (e[2] = a))
        : (a = e[2]),
      He(a)
    );
  },
  z0 = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = { mutationFn: Yc }), (e[0] = t))
        : (t = e[0]),
      He(t)
    );
  },
  F0 = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = { mutationFn: Xc }), (e[0] = t))
        : (t = e[0]),
      He(t)
    );
  };
async function Qc(e) {
  return (await ie.post("/auth/login", e)).data.data;
}
async function Kc(e) {
  return (await ie.post("/auth/login", e)).data.data;
}
async function Gc(e) {
  return (await ie.post("/auth/register", e)).data.data;
}
async function Hc() {
  try {
    await ie.post("/auth/logout");
  } catch {}
}
async function Yc(e) {
  return (await ie.post("/auth/forgot-password", e)).data;
}
async function Xc(e) {
  return (await ie.post("/auth/reset-password", e)).data;
}
const Ya = () => {
    var u, _;
    const [e, t] = j.useState(""),
      [n, a] = j.useState(""),
      l = Bc(),
      c = ln(),
      r =
        (_ = (u = fr().state) == null ? void 0 : u.from) == null
          ? void 0
          : _.pathname,
      o = async (d) => {
        d.preventDefault();
        try {
          const f = await l.mutateAsync({ email: e, password: n });
          if (!f || !Ua(f)) {
            ye.create({
              title: "Access denied",
              description:
                "You do not have admin privileges to access this area",
              type: "error",
            });
            return;
          }
          ye.create({ title: "Login successful", type: "success" });
          const b = r || at.ADMIN.DASHBOARD;
          c(b, { replace: !0 });
        } catch (f) {
          ye.create({
            title: "Login failed",
            description: f instanceof Error ? f.message : "Please try again",
            type: "error",
          });
        }
      };
    return s.jsx(pr, {
      maxW: "container.sm",
      py: 10,
      children: s.jsx(y, {
        p: 8,
        borderWidth: 1,
        borderRadius: "lg",
        boxShadow: "lg",
        bg: "white",
        children: s.jsxs(y, {
          display: "flex",
          flexDirection: "column",
          gap: 4,
          children: [
            s.jsx(el, { textAlign: "center", mb: 6, children: "Admin Login" }),
            s.jsx("form", {
              onSubmit: o,
              children: s.jsxs(y, {
                display: "flex",
                flexDirection: "column",
                gap: 4,
                children: [
                  s.jsx(y, {
                    children: s.jsx(Ee, {
                      type: "text",
                      value: e,
                      onChange: (d) => t(d.target.value),
                      placeholder: "Enter your email",
                      required: !0,
                    }),
                  }),
                  s.jsx(y, {
                    children: s.jsx(Ee, {
                      type: "password",
                      value: n,
                      onChange: (d) => a(d.target.value),
                      placeholder: "Enter your password",
                      required: !0,
                    }),
                  }),
                  s.jsx(Y, {
                    type: "submit",
                    colorScheme: "blue",
                    width: "full",
                    loading: l.isPending,
                    children: "Sign In",
                  }),
                ],
              }),
            }),
          ],
        }),
      }),
    });
  },
  Jc = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Ya },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Zc = async (e) => {
    try {
      return (await ie.get("/pages/domain-type", { params: { domain: e } }))
        .data.data;
    } catch {
      return { type: "not_found", domain: e };
    }
  },
  ed = async () =>
    typeof window > "u"
      ? { type: "not_found", domain: "" }
      : Zc(window.location.hostname);
let _i = null,
  Cn = null;
const R0 = async () => {
    if (_i) return _i;
    if (Cn) return Cn;
    Cn = ed();
    try {
      return (_i = await Cn), _i;
    } catch (e) {
      throw ((Cn = null), e);
    }
  },
  dl = () => {
    if (typeof window > "u") return !1;
    const e = window.location.hostname;
    return [
      "mehappy.info",
      "www.mehappy.info",
      "template.mehappy.info",
      "mehappy.vn",
      "www.mehappy.vn",
      "template.mehappy.vn",
      "thiepcuoi.mehappy.vn",
      "localhost",
    ].includes(e) ||
      e.includes("localhost") ||
      e.includes(".mehappy.info")
      ? !1
      : (e.includes(".mehappy.vn"), !0);
  },
  zi = () => {
    if (typeof window > "u") return !1;
    const e = window.location.hostname;
    return (
      e.includes(".mehappy.info") &&
      e !== "mehappy.info" &&
      e !== "www.mehappy.info" &&
      e !== "template.mehappy.info" &&
      e !== "mehappy.vn" &&
      e !== "www.mehappy.vn" &&
      e !== "template.mehappy.vn" &&
      e !== "thiepcuoi.mehappy.vn"
    );
  },
  hl = () =>
    typeof window > "u"
      ? !1
      : window.location.hostname === "template.mehappy.info",
  td = () => zi() || hl() || dl(),
  sd = () => {
    if (typeof window > "u") return !1;
    const e = window.location.hostname;
    return !(
      e.includes("localhost") ||
      e.includes("mehappy.info") ||
      e.includes("mehappy.vn")
    );
  },
  Ll = () =>
    sd()
      ? s.jsx(qr, {})
      : dl()
      ? s.jsx(co, {})
      : zi()
      ? s.jsx(Li, {})
      : hl()
      ? s.jsx(Ma, {})
      : s.jsx(Li, {}),
  nd = [
    ...qa,
    { path: at.ADMIN.LOGIN, element: s.jsx(Ya, {}) },
    {
      path: "",
      element: s.jsx(wl, {}),
      children: [
        { index: !0, element: Ll() },
        {
          path: "/photobooth",
          element: s.jsx(wl, {}),
          children: [
            { index: !0, element: Ll() },
            ...(zi()
              ? [{ path: at.DOMAIN.GUEST_ID, element: s.jsx(Li, {}) }]
              : []),
            { path: "*", element: s.jsx(Pl, {}) },
          ],
        },
        ...(dl() ? [{ path: "/pricing", element: s.jsx(oo, {}) }] : []),
        ...(hl()
          ? [{ path: at.DOMAIN.TEMPLATE_ID, element: s.jsx(Ma, {}) }]
          : []),
        ...(zi() ? [{ path: at.DOMAIN.GUEST_ID, element: s.jsx(Li, {}) }] : []),
        { path: "*", element: s.jsx(Pl, {}) },
      ],
    },
  ],
  id = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aP),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  ld = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aQ),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Yi = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aI),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Xs = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aL),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  zl = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aO),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  ad = j.lazy(() =>
    fe(
      () => import("./ResetPassword-Dl5FOVRB.js"),
      __vite__mapDeps([
        19, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  rd = j.lazy(() =>
    fe(
      () => import("./VerifyEmail-DskC0p7N.js"),
      __vite__mapDeps([
        20, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  od = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.w),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  cd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.x),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  dd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.y),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  hd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.z),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  md = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.h),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  ud = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.j),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  gd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.k),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  fd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.l),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  pd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.m),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  xd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.n),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  jd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.o),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  yd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.B),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  bd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.p),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  vd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.E),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Sd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.G),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  _d = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.q),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Cd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.r),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Td = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.R),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  wd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.s),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Ad = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.W),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Ed = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.t),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Pd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.v),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  kd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.A),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Nd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.x),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Dd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.y),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Ld = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.z),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  zd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.C),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Fd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.D),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Rd = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.F),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Od = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.H),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Id = [
    {
      path: at.PUBLIC.VIEW_PAGE,
      element: s.jsx(Yi, {}),
      children: [{ index: !0, element: s.jsx(zd, {}) }],
    },
    {
      path: at.PUBLIC.VIEW_TEMPLATE,
      element: s.jsx(Yi, {}),
      children: [{ index: !0, element: s.jsx(Fd, {}) }],
    },
    {
      path: at.PUBLIC.HOME,
      element: s.jsx(Yi, {}),
      children: [{ index: !0, element: s.jsx(md, {}) }],
    },
    {
      path: at.PUBLIC.WEDDING,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(Od, {}) }],
    },
    {
      path: at.PUBLIC.TEMPLATE_WEDDING,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(Ed, {}) }],
    },
    {
      path: at.PUBLIC.PRICING,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(pd, {}) }],
    },
    {
      path: at.PUBLIC.VIP_UPGRADE,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(Rd, {}) }],
    },
    {
      path: "/love-story/:id",
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(fd, {}) }],
    },
    { path: at.PUBLIC.TEMPLATES, element: s.jsx(jd, {}) },
    { path: at.PUBLIC.TEMPLATES_SAVE_THE_DATE, element: s.jsx(wd, {}) },
    { path: at.PUBLIC.TEMPLATES_WEDDING, element: s.jsx(Ad, {}) },
    { path: at.PUBLIC.TEMPLATES_BIRTHDAY, element: s.jsx(bd, {}) },
    { path: at.PUBLIC.TEMPLATES_BABY, element: s.jsx(yd, {}) },
    { path: at.PUBLIC.TEMPLATES_NEW_HOUSE, element: s.jsx(_d, {}) },
    { path: at.PUBLIC.TEMPLATES_NEW_YEAR, element: s.jsx(Cd, {}) },
    { path: at.PUBLIC.TEMPLATES_GRAND_OPENING, element: s.jsx(Sd, {}) },
    { path: at.PUBLIC.TEMPLATES_REUNITE, element: s.jsx(Td, {}) },
    { path: at.PUBLIC.TEMPLATES_EVENT, element: s.jsx(vd, {}) },
    {
      path: at.PUBLIC.VIDEO_CATALOG,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(Pd, {}) }],
    },
    { path: at.PUBLIC.VIDEO_WEDDING, element: s.jsx(Ld, {}) },
    { path: at.PUBLIC.VIDEO_ANNIVERSARY, element: s.jsx(kd, {}) },
    { path: at.PUBLIC.VIDEO_BIRTHDAY, element: s.jsx(Nd, {}) },
    { path: at.PUBLIC.VIDEO_EVENT, element: s.jsx(Dd, {}) },
    { path: at.PUBLIC.LOGO_GALLERY, element: s.jsx(ud, {}) },
    { path: at.PUBLIC.LOGO_WEDDING, element: s.jsx(gd, {}) },
    {
      path: at.PUBLIC.PUBLIC_PAGES,
      element: s.jsx(Xs, {}),
      children: [{ index: !0, element: s.jsx(xd, {}) }],
    },
    {
      path: at.MANAGER.LOGO_MANAGEMENT,
      element: s.jsx(zl, { children: s.jsx(ld, {}) }),
      children: [{ index: !0, element: s.jsx(hd, {}) }],
    },
    {
      path: at.MANAGER.CARD_MANAGEMENT,
      element: s.jsx(zl, { children: s.jsx(id, {}) }),
      children: [
        { index: !0, element: s.jsx(cd, {}) },
        { path: "guest", element: s.jsx(od, {}) },
        { path: "wish", element: s.jsx(dd, {}) },
      ],
    },
    { path: at.AUTH.RESET_PASSWORD, element: s.jsx(ad, {}) },
    { path: at.AUTH.VERIFY_EMAIL, element: s.jsx(rd, {}) },
  ],
  Vd = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aR),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  $d = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aL),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Fl = j.lazy(() =>
    fe(
      () => import("./shared-components-G24N1P00.js").then((e) => e.aO),
      __vite__mapDeps([
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
      ])
    )
  ),
  Md = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.N),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Wd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.S),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  qd = j.lazy(() =>
    fe(
      () => import("./editor-M-e6bJKl.js").then((e) => e.D),
      __vite__mapDeps([
        9, 1, 2, 3, 4, 5, 6, 7, 8, 10, 0, 11, 12, 13, 14, 15, 17, 16,
      ])
    )
  ),
  Ud = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.I),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Bd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.A),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Qd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.B),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Kd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.C),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Gd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.D),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Hd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.G),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Yd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.I),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Xd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.E),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Jd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.J),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  Zd = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.z),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  eh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.K),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  th = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.L),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  sh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.O),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  nh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.V),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  ih = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.W),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  lh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.Q),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  ah = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.R),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  rh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.U),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  oh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.X),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  ch = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.Y),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  dh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e.Z),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  hh = j.lazy(() =>
    fe(
      () => import("./user-manager-Dr4yhAGw.js").then((e) => e._),
      __vite__mapDeps([
        10, 1, 2, 3, 4, 5, 6, 7, 8, 0, 9, 13, 16, 11, 12, 14, 15, 17,
      ])
    )
  ),
  mh = [
    {
      path: at.USER.BUILDER,
      element: Ve(s.jsx(Fl, { children: s.jsx($d, {}) })),
      children: [{ index: !0, element: Ve(s.jsx(qd, {})) }],
    },
    {
      path: at.MANAGER.ROOT,
      element: Ve(s.jsx(Fl, { children: s.jsx(Vd, {}) })),
      children: [
        { index: !0, element: Ve(s.jsx(Bd, {})) },
        { index: !0, path: "dashboard/summary", element: Ve(s.jsx(Gd, {})) },
        { index: !0, path: "bride-groom", element: Ve(s.jsx(Kd, {})) },
        { path: "birthday", element: Ve(s.jsx(Qd, {})) },
        { index: !0, path: "video", element: Ve(s.jsx(nh, {})) },
        { index: !0, path: "wedding", element: Ve(s.jsx(ih, {})) },
        { index: !0, path: "logo", element: Ve(s.jsx(Zd, {})) },
        { index: !0, path: "card", element: Ve(s.jsx(Jd, {})) },
        { index: !0, path: "invitation", element: Ve(s.jsx(Yd, {})) },
        { index: !0, path: "save-the-date", element: Ve(s.jsx(Xd, {})) },
        { index: !0, path: "wish", element: Ve(s.jsx(lh, {})) },
        { index: !0, path: "guest", element: Ve(s.jsx(Hd, {})) },
        { index: !0, path: "invitation-setting", element: Ve(s.jsx(sh, {})) },
        { index: !0, path: "notification", element: Ve(s.jsx(Md, {})) },
        { index: !0, path: "notification-guide", element: Ve(s.jsx(eh, {})) },
        { index: !0, path: "spending-management", element: Ve(s.jsx(Wd, {})) },
        { index: !0, path: "photobooth", element: Ve(s.jsx(th, {})) },
        { index: !0, path: "love-story", element: Ve(s.jsx(Ud, {})) },
        { index: !0, path: "referral", element: Ve(s.jsx(ah, {})) },
        { path: "referral/commissions", element: Ve(s.jsx(rh, {})) },
        { path: "referral/referees", element: Ve(s.jsx(oh, {})) },
        { path: "referral/withdrawals", element: Ve(s.jsx(ch, {})) },
        { path: "product-affiliates", element: Ve(s.jsx(dh, {})) },
        { path: "video-orders", element: Ve(s.jsx(hh, {})) },
      ],
    },
  ],
  uh = j.lazy(() => fe(() => Promise.resolve().then(() => Jc), void 0)),
  Rl = j.lazy(() =>
    fe(
      () => import("./public-COS93uTN.js").then((e) => e.i),
      __vite__mapDeps([
        11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 13, 14, 12, 17, 16, 15,
      ])
    )
  ),
  Xi = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = s.jsx(Da, {
            message: "Đang tải trang...",
            submessage: "Vui lòng chờ trong giây lát",
          })),
          (e[0] = t))
        : (t = e[0]),
      t
    );
  },
  gh = td(),
  fh = gh
    ? nd
    : [
        ...mh,
        ...rc,
        ...qa,
        {
          path: at.ADMIN.LOGIN,
          element: s.jsx(j.Suspense, {
            fallback: s.jsx(Xi, {}),
            children: s.jsx(uh, {}),
          }),
        },
        ...Id,
        {
          path: at.PUBLIC.NOT_FOUND,
          element: s.jsx(j.Suspense, {
            fallback: s.jsx(Xi, {}),
            children: s.jsx(Rl, {}),
          }),
        },
        {
          path: "*",
          element: s.jsx(j.Suspense, {
            fallback: s.jsx(Xi, {}),
            children: s.jsx(Rl, {}),
          }),
        },
      ],
  O0 = xr(fh),
  ph = { openMenuDrawer: !0 },
  Xa = ca({
    name: "drawer",
    initialState: ph,
    reducers: {
      openMenuDrawer: (e) => {
        e.openMenuDrawer = !0;
      },
      closeMenuDrawer: (e) => {
        e.openMenuDrawer = !1;
      },
    },
  }),
  { openMenuDrawer: xh, closeMenuDrawer: jh } = Xa.actions,
  I0 = Xa.reducer,
  yh = ["referralCode", "referral_code", "ref"],
  bh = 30,
  vh = (e) => {
    try {
      const t = e || window.location.href,
        n = new URL(t);
      return (
        n.searchParams.get("ref") ||
        n.searchParams.get("referral") ||
        n.searchParams.get("referralCode")
      );
    } catch {
      return null;
    }
  },
  Sh = (e, t = bh) => {
    try {
      const n = new Date();
      n.setDate(n.getDate() + t),
        yh.forEach((a) => {
          const l = `${a}=${encodeURIComponent(
            e
          )}; expires=${n.toUTCString()}; path=/; SameSite=Lax`;
          document.cookie = l;
        });
    } catch {}
  },
  _h = (e) => (!e || typeof e != "string" ? !1 : /^[a-zA-Z0-9]{3,20}$/.test(e)),
  Ch = () => {
    const e = vh();
    return e && _h(e) ? (Sh(e), Th(), e) : null;
  },
  Th = () => {
    try {
      const e = new URL(window.location.href);
      let t = !1;
      ["ref", "referral", "referralCode"].forEach((a) => {
        e.searchParams.has(a) && (e.searchParams.delete(a), (t = !0));
      }),
        t && window.history.replaceState({}, "", e.toString());
    } catch {}
  },
  wh = (e, t) => {},
  V0 = () => {
    try {
      const e = Ch();
      e && wh(e, "app_initialized");
    } catch {}
  };
class $0 {
  static setCookie(t, n, a = 30) {
    const l = new Date();
    l.setTime(l.getTime() + a * 24 * 60 * 60 * 1e3),
      (document.cookie = `${t}=${n};expires=${l.toUTCString()};path=/;SameSite=Lax`);
  }
  static getCookie(t) {
    const n = document.cookie.split(";");
    for (const a of n) {
      const [l, c] = a.trim().split("=");
      if (l === t) return c;
    }
    return null;
  }
  static deleteCookie(t) {
    document.cookie = `${t}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`;
  }
  static setReferralCode(t) {
    this.setCookie("referralCode", t, 30), this.setCookie("ref", t, 30);
  }
  static getReferralCode() {
    return this.getCookie("referralCode") || this.getCookie("ref");
  }
  static clearReferralCode() {
    this.deleteCookie("referralCode"), this.deleteCookie("ref");
  }
}
class M0 {
  static getReferralFromUrl() {
    const t = new URLSearchParams(window.location.search);
    return t.get("ref") || t.get("referral") || t.get("referralCode");
  }
  static buildReferralUrl(t, n) {
    const a = new URL(t);
    return a.searchParams.set("ref", n), a.toString();
  }
  static removeReferralFromUrl() {
    const t = new URL(window.location.href);
    return (
      t.searchParams.delete("ref"),
      t.searchParams.delete("referral"),
      t.searchParams.delete("referralCode"),
      t.toString()
    );
  }
}
const Pi = (e) => `${(e / 100).toLocaleString("vi-VN")} VND`,
  Ah = (e) =>
    (typeof e == "string" ? new Date(e) : e).toLocaleDateString("vi-VN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit",
      hour: "2-digit",
      minute: "2-digit",
    }),
  Eh = (e) => {
    switch (e.toLowerCase()) {
      case "pending":
        return "yellow";
      case "approved":
        return "green";
      case "paid":
        return "blue";
      case "rejected":
        return "red";
      default:
        return "gray";
    }
  },
  Ph = (e) => {
    switch (e.toLowerCase()) {
      case "pending":
        return "Chờ xử lý";
      case "approved":
        return "Đã duyệt";
      case "paid":
        return "Đã thanh toán";
      case "rejected":
        return "Từ chối";
      default:
        return "Không xác định";
    }
  },
  W0 = async (e) => {
    try {
      return await navigator.clipboard.writeText(e), !0;
    } catch {
      return !1;
    }
  },
  kh = (e) =>
    e.length >= 3 && e.length <= 30
      ? { isValid: !0 }
      : { isValid: !1, error: "Số tài khoản phải có từ 8-20 chữ số" },
  q0 = (e) => {
    const t = [];
    if (
      ((!e.bankCode || e.bankCode.trim() === "") &&
        t.push("Mã ngân hàng không được để trống"),
      (!e.bankName || e.bankName.trim() === "") &&
        t.push("Tên ngân hàng không được để trống"),
      !e.accountNumber || e.accountNumber.trim() === "")
    )
      t.push("Số tài khoản không được để trống");
    else {
      const n = kh(e.accountNumber);
      n.isValid || t.push(n.error || "Số tài khoản không hợp lệ");
    }
    return (
      (!e.accountName || e.accountName.trim() === "") &&
        t.push("Tên chủ tài khoản không được để trống"),
      { isValid: t.length === 0, errors: t }
    );
  },
  U0 = (e, t = 5e4) =>
    e <= 0
      ? { isValid: !1, error: "Số tiền rút phải lớn hơn 0" }
      : e < t
      ? { isValid: !1, error: `Số tiền rút tối thiểu là ${Pi(t)}` }
      : { isValid: !0 },
  nn = {
    userRequests: ["billExport", "userRequests"],
    adminRequests: ["billExport", "adminRequests"],
    pendingRequests: ["billExport", "pendingRequests"],
  },
  Vn = {
    createRequest: async (e) => {
      const t = await ie.post("/bill-export-requests", e);
      return t.data.data || t.data;
    },
    getUserRequests: async (e) => {
      const t = new URLSearchParams();
      e != null && e.page && t.append("page", e.page.toString()),
        e != null && e.limit && t.append("limit", e.limit.toString()),
        e != null && e.status && t.append("status", e.status);
      const n = await ie.get(`/bill-export-requests?${t}`);
      return n.data.data || n.data;
    },
    getUserRequest: async (e) => {
      const t = await ie.get(`/bill-export-requests/${e}`);
      return t.data.data || t.data;
    },
    cancelRequest: async (e) => {
      await ie.delete(`/bill-export-requests/${e}`);
    },
    getAllRequests: async (e) => {
      const t = new URLSearchParams();
      e != null && e.page && t.append("page", e.page.toString()),
        e != null && e.limit && t.append("limit", e.limit.toString()),
        e != null && e.status && t.append("status", e.status),
        e != null && e.userId && t.append("userId", e.userId.toString());
      const n = await ie.get(`/admin/bill-export-requests?${t}`);
      return n.data.data || n.data;
    },
    getPendingRequests: async () => {
      const e = await ie.get("/admin/bill-export-requests/pending");
      return e.data.data || e.data;
    },
    updateRequest: async (e, t) => {
      const n = await ie.patch(`/admin/bill-export-requests/${e}`, t);
      return n.data.data || n.data;
    },
  },
  B0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Vn.createRequest,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: nn.userRequests });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Q0 = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = {
            queryKey: [...nn.userRequests, e],
            queryFn: () => Vn.getUserRequests(e),
            staleTime: 3e5,
          }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  },
  Nh = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = {
            queryKey: [...nn.adminRequests, e],
            queryFn: () => Vn.getAllRequests(e),
            staleTime: 3e5,
          }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  },
  Dh = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: nn.pendingRequests,
            queryFn: Vn.getPendingRequests,
            staleTime: 12e4,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  Lh = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: zh,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: nn.adminRequests }),
                t.invalidateQueries({ queryKey: nn.pendingRequests }),
                t.invalidateQueries({ queryKey: nn.userRequests });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function zh(e) {
  const { id: t, data: n } = e;
  return Vn.updateRequest(t, n);
}
const Fh = (e) => {
    const t = G.c(2);
    let n;
    return (
      t[0] !== e
        ? ((n = {
            queryKey: ["design-requests", e],
            queryFn: async () => {
              const a = new URLSearchParams();
              return (
                a.append("page", e.page.toString()),
                a.append("limit", e.limit.toString()),
                e.search && a.append("search", e.search),
                e.status && a.append("status", e.status),
                e.type && a.append("type", e.type),
                e.priority && a.append("priority", e.priority),
                e.userId && a.append("userId", e.userId.toString()),
                e.assignedToAdminId &&
                  a.append("assignedToAdminId", e.assignedToAdminId.toString()),
                e.dateFrom && a.append("dateFrom", e.dateFrom),
                e.dateTo && a.append("dateTo", e.dateTo),
                (await ie.get(`/design-support-requests?${a}`)).data.data
              );
            },
          }),
          (t[0] = e),
          (t[1] = n))
        : (n = t[1]),
      nt(n)
    );
  },
  K0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ih,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["design-requests"] }),
                t.invalidateQueries({
                  queryKey: ["design-request-statistics"],
                }),
                ye.create({
                  title: "Tạo Yêu Cầu Thành Công",
                  description: "Yêu cầu hỗ trợ thiết kế đã được gửi thành công",
                  type: "success",
                  duration: 3e3,
                });
            },
            onError: Vh,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Rh = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: $h,
            onSuccess: (a, l) => {
              t.invalidateQueries({ queryKey: ["design-requests"] }),
                t.invalidateQueries({ queryKey: ["design-request", l.id] }),
                t.invalidateQueries({
                  queryKey: ["design-request-statistics"],
                }),
                ye.create({
                  title: "Cập Nhật Thành Công",
                  description: "Yêu cầu thiết kế đã được cập nhật thành công",
                  type: "success",
                  duration: 3e3,
                });
            },
            onError: Mh,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Oh = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Wh,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ["design-requests"] }),
                t.invalidateQueries({
                  queryKey: ["design-request-statistics"],
                }),
                ye.create({
                  title: "Xóa Thành Công",
                  description: "Yêu cầu thiết kế đã được xóa thành công",
                  type: "success",
                  duration: 3e3,
                });
            },
            onError: qh,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
async function Ih(e) {
  return (await ie.post("/design-support-requests", e)).data.data;
}
function Vh(e) {
  var t, n, a, l;
  ((t = e.response) == null ? void 0 : t.status) === 403
    ? ye.create({
        title: "Không có quyền tạo yêu cầu",
        description:
          "Bạn cần nâng cấp gói để sử dụng tính năng hỗ trợ thiết kế",
        type: "error",
        duration: 5e3,
      })
    : ((n = e.response) == null ? void 0 : n.status) === 404
    ? ye.create({
        title: "Không tìm thấy trang/mẫu",
        description:
          "Trang hoặc mẫu bạn chọn không tồn tại hoặc bạn không có quyền truy cập",
        type: "error",
        duration: 3e3,
      })
    : ye.create({
        title: "Lỗi Tạo Yêu Cầu",
        description:
          ((l = (a = e.response) == null ? void 0 : a.data) == null
            ? void 0
            : l.message) || "Không thể tạo yêu cầu thiết kế",
        type: "error",
        duration: 3e3,
      });
}
async function $h(e) {
  const { id: t, data: n } = e;
  return (await ie.patch(`/design-support-requests/${t}`, n)).data.data;
}
function Mh(e) {
  var t, n;
  ye.create({
    title: "Lỗi Cập Nhật",
    description:
      ((n = (t = e.response) == null ? void 0 : t.data) == null
        ? void 0
        : n.message) || "Không thể cập nhật yêu cầu thiết kế",
    type: "error",
    duration: 3e3,
  });
}
async function Wh(e) {
  return (await ie.delete(`/design-support-requests/${e}`)).data;
}
function qh(e) {
  var t, n;
  ye.create({
    title: "Lỗi Xóa Yêu Cầu",
    description:
      ((n = (t = e.response) == null ? void 0 : t.data) == null
        ? void 0
        : n.message) || "Không thể xóa yêu cầu thiết kế",
    type: "error",
    duration: 3e3,
  });
}
const G0 = () => {
  const e = G.c(9),
    t = zn(),
    n = da(Uh);
  let a;
  e[0] !== t || e[1] !== n
    ? ((a = () => {
        t(n ? jh() : xh());
      }),
      (e[0] = t),
      (e[1] = n),
      (e[2] = a))
    : (a = e[2]);
  const l = a;
  let c;
  e[3] === Symbol.for("react.memo_cache_sentinel")
    ? ((c = s.jsx(jr, {})), (e[3] = c))
    : (c = e[3]);
  let m;
  e[4] !== l
    ? ((m = s.jsx(y, {
        className: "flex items-center",
        children: s.jsx(wt, {
          "aria-label": "Toggle menu",
          variant: "ghost",
          colorScheme: "gray",
          size: "md",
          onClick: l,
          transition: "transform 0.5s ease-in-out",
          children: c,
        }),
      })),
      (e[4] = l),
      (e[5] = m))
    : (m = e[5]);
  let r;
  e[6] === Symbol.for("react.memo_cache_sentinel")
    ? ((r = s.jsx(y, {
        className: "flex items-center",
        children: s.jsx(Gr, {}),
      })),
      (e[6] = r))
    : (r = e[6]);
  let o;
  return (
    e[7] !== m
      ? ((o = s.jsxs(y, {
          height: "7vh",
          bg: "white",
          borderBottom: "1px",
          borderColor: "gray.200",
          display: "flex",
          alignItems: "center",
          justifyContent: "space-between",
          px: 8,
          transition: "left 0.25s ease",
          zIndex: "sticky",
          fontFamily: "Quicksand, sans-serif",
          className: "w-full",
          children: [m, r],
        })),
        (e[7] = m),
        (e[8] = o))
      : (o = e[8]),
    o
  );
};
function Uh(e) {
  return e.drawer.openMenuDrawer;
}
const Ci = (e) =>
    new Set([
      "video/mp4",
      "video/avi",
      "video/mov",
      "video/wmv",
      "video/flv",
      "video/webm",
      "video/mkv",
      "video/3gp",
      "video/quicktime",
      "video/x-msvideo",
      "video/x-flv",
      "video/x-ms-wmv",
    ]).has(e.type.toLowerCase()),
  Ja = (e) =>
    ({
      "audio/mpeg": "MP3",
      "audio/wav": "WAV",
      "audio/ogg": "OGG",
      "audio/midi": "MIDI",
      "audio/aac": "AAC",
      "audio/webm": "WebM",
      "video/mp4": "MP4",
      "video/avi": "AVI",
      "video/mov": "MOV",
      "video/wmv": "WMV",
      "video/flv": "FLV",
      "video/mkv": "MKV",
      "video/3gp": "3GP",
      "video/quicktime": "QuickTime",
    }[e] || "Unknown"),
  Bh = (e) => {
    const t = [
        "audio/mpeg",
        "audio/wav",
        "audio/ogg",
        "audio/midi",
        "audio/aac",
        "audio/webm",
      ],
      n = [
        "video/mp4",
        "video/avi",
        "video/mov",
        "video/wmv",
        "video/flv",
        "video/webm",
        "video/mkv",
        "video/3gp",
        "video/quicktime",
        "video/x-msvideo",
        "video/x-flv",
        "video/x-ms-wmv",
      ],
      a = t.includes(e.type),
      l = n.includes(e.type);
    if (!a && !l)
      return {
        isValid: !1,
        error:
          "Định dạng file không được hỗ trợ. Vui lòng chọn file audio (MP3, WAV, OGG, MIDI, AAC, WebM) hoặc video (MP4, AVI, MOV, WMV, FLV, MKV, 3GP).",
      };
    const m = {
      "audio/mpeg": 10 * 1024 * 1024,
      "audio/aac": 10 * 1024 * 1024,
      "audio/wav": 20 * 1024 * 1024,
      "audio/ogg": 20 * 1024 * 1024,
      "audio/webm": 20 * 1024 * 1024,
      "audio/midi": 1 * 1024 * 1024,
      "video/mp4": 25 * 1024 * 1024,
      "video/avi": 25 * 1024 * 1024,
      "video/mov": 25 * 1024 * 1024,
      "video/wmv": 25 * 1024 * 1024,
      "video/flv": 25 * 1024 * 1024,
      "video/webm": 25 * 1024 * 1024,
      "video/mkv": 25 * 1024 * 1024,
      "video/3gp": 25 * 1024 * 1024,
      "video/quicktime": 25 * 1024 * 1024,
      "video/x-msvideo": 25 * 1024 * 1024,
      "video/x-flv": 25 * 1024 * 1024,
      "video/x-ms-wmv": 25 * 1024 * 1024,
    }[e.type];
    return e.size > m
      ? {
          isValid: !1,
          error: `File quá lớn. Kích thước tối đa cho ${Ja(e.type)} là ${Wi(
            m
          )}.`,
        }
      : { isValid: !0 };
  },
  Qh = ({ isOpen: e, onClose: t }) => {
    const [n, a] = j.useState(""),
      [l, c] = j.useState("free"),
      [m, r] = j.useState(null),
      [o, u] = j.useState(""),
      [_, d] = j.useState(!1),
      f = j.useRef(null),
      { mutate: b } = yc(),
      P = (T) => {
        var C;
        const S = (C = T.target.files) == null ? void 0 : C[0];
        if (!S) return;
        const h = Bh(S);
        if (!h.isValid) {
          u(h.error || "File không hợp lệ"), r(null);
          return;
        }
        if ((r(S), u(""), !n)) {
          const A = S.name.replace(/\.[^/.]+$/, "");
          a(A);
        }
      },
      w = async (T) => {
        if ((T.preventDefault(), !m)) {
          u("Vui lòng chọn file audio");
          return;
        }
        if (!n.trim()) {
          u("Vui lòng nhập tên template");
          return;
        }
        d(!0), u("");
        try {
          await b({ file: m, name: n.trim(), tier: l }), v();
        } catch {
          u("Có lỗi xảy ra khi tạo audio template. Vui lòng thử lại.");
        } finally {
          d(!1);
        }
      },
      v = () => {
        a(""),
          c("free"),
          r(null),
          u(""),
          d(!1),
          f.current && (f.current.value = ""),
          t();
      },
      x = () => {
        var T;
        (T = f.current) == null || T.click();
      };
    return s.jsx(Ws, {
      open: e,
      onOpenChange: (T) => (T.open ? null : v()),
      children: s.jsx(ha, {
        children: s.jsxs(qs, {
          children: [
            s.jsxs(Us, {
              children: [
                s.jsx(Bs, { children: "Thêm mẫu âm thanh" }),
                s.jsx(Qs, { asChild: !0, children: s.jsx(La, {}) }),
              ],
            }),
            s.jsxs("form", {
              onSubmit: w,
              children: [
                s.jsx(Ks, {
                  children: s.jsxs(le, {
                    gap: 4,
                    align: "stretch",
                    children: [
                      o &&
                        s.jsx(y, {
                          p: 3,
                          bg: "red.50",
                          border: "1px solid",
                          borderColor: "red.200",
                          borderRadius: "md",
                          children: s.jsx(i, {
                            color: "red.600",
                            fontSize: "sm",
                            children: o,
                          }),
                        }),
                      s.jsx(Ne, {
                        label: "Tên template",
                        required: !0,
                        children: s.jsx(Ee, {
                          value: n,
                          onChange: (T) => a(T.target.value),
                          placeholder: "Nhập tên audio template",
                          disabled: _,
                        }),
                      }),
                      s.jsx(Ne, {
                        label: "Tier",
                        required: !0,
                        children: s.jsxs("select", {
                          value: l,
                          onChange: (T) => c(T.target.value),
                          disabled: _,
                          style: {
                            width: "100%",
                            padding: "8px 12px",
                            border: "1px solid #e2e8f0",
                            borderRadius: "6px",
                            fontSize: "14px",
                          },
                          children: [
                            s.jsx("option", {
                              value: "free",
                              children: "Free",
                            }),
                            s.jsx("option", { value: "pro", children: "Pro" }),
                            s.jsx("option", { value: "vip", children: "VIP" }),
                          ],
                        }),
                      }),
                      s.jsxs(Ne, {
                        label: "File audio hoặc video",
                        required: !0,
                        children: [
                          s.jsx("input", {
                            ref: f,
                            type: "file",
                            accept:
                              "audio/mpeg,audio/wav,audio/ogg,audio/midi,audio/aac,audio/webm,video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm,video/mkv,video/3gp,video/quicktime",
                            onChange: P,
                            style: { display: "none" },
                            disabled: _,
                          }),
                          m
                            ? s.jsxs(y, {
                                border: "1px solid #d1d5db",
                                borderRadius: "6px",
                                p: 4,
                                children: [
                                  s.jsxs(W, {
                                    gap: 3,
                                    children: [
                                      s.jsx(tl, { size: 24, color: "green" }),
                                      s.jsxs(le, {
                                        align: "start",
                                        gap: 1,
                                        flex: 1,
                                        children: [
                                          s.jsx(i, {
                                            fontWeight: "medium",
                                            children: m.name,
                                          }),
                                          s.jsxs(W, {
                                            gap: 4,
                                            fontSize: "sm",
                                            color: "gray.600",
                                            children: [
                                              s.jsx(i, {
                                                children: Ja(m.type),
                                              }),
                                              s.jsx(i, {
                                                children: Wi(m.size),
                                              }),
                                              Ci(m) &&
                                                s.jsx(i, {
                                                  color: "blue.600",
                                                  fontSize: "xs",
                                                  children:
                                                    "(Sẽ được convert thành MP3)",
                                                }),
                                            ],
                                          }),
                                        ],
                                      }),
                                      s.jsx(Y, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: x,
                                        disabled: _,
                                        children: "Thay đổi",
                                      }),
                                    ],
                                  }),
                                  !Ci(m) &&
                                    s.jsx(y, {
                                      mt: 3,
                                      children: s.jsx("audio", {
                                        controls: !0,
                                        style: { width: "100%" },
                                        src: URL.createObjectURL(m),
                                      }),
                                    }),
                                  Ci(m) &&
                                    s.jsx(y, {
                                      mt: 3,
                                      p: 2,
                                      bg: "blue.50",
                                      borderRadius: "md",
                                      children: s.jsx(i, {
                                        fontSize: "sm",
                                        color: "blue.700",
                                        children:
                                          "📹 File video sẽ được tự động convert thành MP3 khi tải lên",
                                      }),
                                    }),
                                ],
                              })
                            : s.jsx(y, {
                                border: "2px dashed #d1d5db",
                                borderRadius: "6px",
                                p: 6,
                                textAlign: "center",
                                cursor: "pointer",
                                _hover: { borderColor: "#3b82f6" },
                                onClick: x,
                                children: s.jsxs(le, {
                                  gap: 2,
                                  children: [
                                    s.jsx(rl, { size: 32, color: "gray" }),
                                    s.jsx(i, {
                                      color: "gray.600",
                                      children:
                                        "Nhấn để chọn file audio hoặc video",
                                    }),
                                    s.jsx(i, {
                                      fontSize: "sm",
                                      color: "gray.500",
                                      children:
                                        "Hỗ trợ: MP3, WAV, OGG, MIDI, AAC, WebM, MP4, AVI, MOV, WMV, FLV, MKV, 3GP",
                                    }),
                                  ],
                                }),
                              }),
                        ],
                      }),
                      _ &&
                        s.jsx(y, {
                          children: s.jsx(i, {
                            mb: 2,
                            fontSize: "sm",
                            children:
                              m && Ci(m)
                                ? "Đang convert video thành MP3 và tải lên..."
                                : "Đang tải lên...",
                          }),
                        }),
                    ],
                  }),
                }),
                s.jsxs(za, {
                  children: [
                    s.jsx(Y, {
                      variant: "ghost",
                      mr: 3,
                      onClick: v,
                      disabled: _,
                      children: "Hủy",
                    }),
                    s.jsx(Y, {
                      type: "submit",
                      colorScheme: "blue",
                      loading: _,
                      disabled: !m || !n.trim(),
                      children: _ ? "Đang tạo..." : "Tạo mẫu âm thanh",
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
      }),
    });
  },
  Ti = (e) =>
    new Set([
      "video/mp4",
      "video/avi",
      "video/mov",
      "video/wmv",
      "video/flv",
      "video/webm",
      "video/mkv",
      "video/3gp",
      "video/quicktime",
      "video/x-msvideo",
      "video/x-flv",
      "video/x-ms-wmv",
    ]).has(e.type.toLowerCase()),
  Za = (e) =>
    ({
      "audio/mpeg": "MP3",
      "audio/wav": "WAV",
      "audio/ogg": "OGG",
      "audio/midi": "MIDI",
      "audio/aac": "AAC",
      "audio/webm": "WebM",
      "video/mp4": "MP4",
      "video/avi": "AVI",
      "video/mov": "MOV",
      "video/wmv": "WMV",
      "video/flv": "FLV",
      "video/mkv": "MKV",
      "video/3gp": "3GP",
      "video/quicktime": "QuickTime",
    }[e] || "Unknown"),
  Kh = (e) => {
    const t = [
        "audio/mpeg",
        "audio/wav",
        "audio/ogg",
        "audio/midi",
        "audio/aac",
        "audio/webm",
      ],
      n = [
        "video/mp4",
        "video/avi",
        "video/mov",
        "video/wmv",
        "video/flv",
        "video/webm",
        "video/mkv",
        "video/3gp",
        "video/quicktime",
        "video/x-msvideo",
        "video/x-flv",
        "video/x-ms-wmv",
      ],
      a = t.includes(e.type),
      l = n.includes(e.type);
    if (!a && !l)
      return {
        isValid: !1,
        error:
          "Định dạng file không được hỗ trợ. Vui lòng chọn file audio (MP3, WAV, OGG, MIDI, AAC, WebM) hoặc video (MP4, AVI, MOV, WMV, FLV, MKV, 3GP).",
      };
    const m = {
      "audio/mpeg": 10 * 1024 * 1024,
      "audio/aac": 10 * 1024 * 1024,
      "audio/wav": 20 * 1024 * 1024,
      "audio/ogg": 20 * 1024 * 1024,
      "audio/webm": 20 * 1024 * 1024,
      "audio/midi": 1 * 1024 * 1024,
      "video/mp4": 25 * 1024 * 1024,
      "video/avi": 25 * 1024 * 1024,
      "video/mov": 25 * 1024 * 1024,
      "video/wmv": 25 * 1024 * 1024,
      "video/flv": 25 * 1024 * 1024,
      "video/webm": 25 * 1024 * 1024,
      "video/mkv": 25 * 1024 * 1024,
      "video/3gp": 25 * 1024 * 1024,
      "video/quicktime": 25 * 1024 * 1024,
      "video/x-msvideo": 25 * 1024 * 1024,
      "video/x-flv": 25 * 1024 * 1024,
      "video/x-ms-wmv": 25 * 1024 * 1024,
    }[e.type];
    return e.size > m
      ? {
          isValid: !1,
          error: `File quá lớn. Kích thước tối đa cho ${Za(e.type)} là ${Wi(
            m
          )}.`,
        }
      : { isValid: !0 };
  },
  Gh = ({ isOpen: e, onClose: t, template: n }) => {
    const [a, l] = j.useState(""),
      [c, m] = j.useState("free"),
      [r, o] = j.useState(null),
      [u, _] = j.useState(""),
      [d, f] = j.useState(!1),
      b = j.useRef(null),
      { mutate: P } = bc();
    j.useEffect(() => {
      n && (l(n.name), m(n.tier), o(null), _(""));
    }, [n]);
    const w = (S) => {
        var A;
        const h = (A = S.target.files) == null ? void 0 : A[0];
        if (!h) return;
        const C = Kh(h);
        if (!C.isValid) {
          _(C.error || "File không hợp lệ"), o(null);
          return;
        }
        o(h), _("");
      },
      v = async (S) => {
        if ((S.preventDefault(), !a.trim())) {
          _("Vui lòng nhập tên template");
          return;
        }
        f(!0), _("");
        try {
          const h = { name: a.trim(), tier: c };
          r && (h.file = r), await P({ id: n.id, data: h }), x();
        } catch {
          _("Có lỗi xảy ra khi cập nhật audio template. Vui lòng thử lại.");
        } finally {
          f(!1);
        }
      },
      x = () => {
        l(n.name),
          m(n.tier),
          o(null),
          _(""),
          f(!1),
          b.current && (b.current.value = ""),
          t();
      },
      T = () => {
        var S;
        (S = b.current) == null || S.click();
      };
    return s.jsx(Ws, {
      open: e,
      onOpenChange: (S) => (S.open ? null : x()),
      children: s.jsx(ha, {
        children: s.jsxs(qs, {
          children: [
            s.jsxs(Us, {
              children: [
                s.jsx(Bs, { children: "Chỉnh sửa Audio Template" }),
                s.jsx(Qs, { asChild: !0, children: s.jsx(La, {}) }),
              ],
            }),
            s.jsxs("form", {
              onSubmit: v,
              children: [
                s.jsx(Ks, {
                  children: s.jsxs(le, {
                    gap: 4,
                    align: "stretch",
                    children: [
                      u &&
                        s.jsx(y, {
                          p: 3,
                          bg: "red.50",
                          border: "1px solid",
                          borderColor: "red.200",
                          borderRadius: "md",
                          children: s.jsx(i, {
                            color: "red.600",
                            fontSize: "sm",
                            children: u,
                          }),
                        }),
                      s.jsx(Ne, {
                        label: "Tên template",
                        required: !0,
                        children: s.jsx(Ee, {
                          value: a,
                          onChange: (S) => l(S.target.value),
                          placeholder: "Nhập tên audio template",
                          disabled: d,
                        }),
                      }),
                      s.jsx(Ne, {
                        label: "Tier",
                        required: !0,
                        children: s.jsxs("select", {
                          value: c,
                          onChange: (S) => m(S.target.value),
                          disabled: d,
                          style: {
                            width: "100%",
                            padding: "8px 12px",
                            border: "1px solid #e2e8f0",
                            borderRadius: "6px",
                            fontSize: "14px",
                          },
                          children: [
                            s.jsx("option", {
                              value: "free",
                              children: "Free",
                            }),
                            s.jsx("option", { value: "pro", children: "Pro" }),
                            s.jsx("option", { value: "vip", children: "VIP" }),
                          ],
                        }),
                      }),
                      s.jsx(Ne, {
                        label: "File audio hiện tại",
                        children: s.jsxs(y, {
                          border: "1px solid #d1d5db",
                          borderRadius: "6px",
                          p: 4,
                          bg: "gray.50",
                          children: [
                            s.jsxs(W, {
                              gap: 3,
                              children: [
                                s.jsx(tl, { size: 24, color: "blue" }),
                                s.jsx(le, {
                                  align: "start",
                                  gap: 1,
                                  flex: 1,
                                  children: s.jsx(i, {
                                    fontWeight: "medium",
                                    children: n.fileName,
                                  }),
                                }),
                              ],
                            }),
                            s.jsx(y, {
                              mt: 3,
                              children: s.jsx("audio", {
                                controls: !0,
                                style: { width: "100%" },
                                src: (n.fileUrl.startsWith("http"), n.fileUrl),
                              }),
                            }),
                          ],
                        }),
                      }),
                      s.jsxs(Ne, {
                        label: "Thay đổi file audio hoặc video (tùy chọn)",
                        children: [
                          s.jsx("input", {
                            ref: b,
                            type: "file",
                            accept:
                              "audio/mpeg,audio/wav,audio/ogg,audio/midi,audio/aac,audio/webm,video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm,video/mkv,video/3gp,video/quicktime",
                            onChange: w,
                            style: { display: "none" },
                            disabled: d,
                          }),
                          r
                            ? s.jsxs(y, {
                                border: "1px solid #10b981",
                                borderRadius: "6px",
                                p: 4,
                                bg: "green.50",
                                children: [
                                  s.jsxs(W, {
                                    gap: 3,
                                    children: [
                                      s.jsx(tl, { size: 24, color: "green" }),
                                      s.jsxs(le, {
                                        align: "start",
                                        gap: 1,
                                        flex: 1,
                                        children: [
                                          s.jsxs(i, {
                                            fontWeight: "medium",
                                            color: "green.700",
                                            children: [r.name, " (File mới)"],
                                          }),
                                          s.jsxs(W, {
                                            gap: 4,
                                            fontSize: "sm",
                                            color: "green.600",
                                            children: [
                                              s.jsx(i, {
                                                children: Za(r.type),
                                              }),
                                              s.jsx(i, {
                                                children: Wi(r.size),
                                              }),
                                              Ti(r) &&
                                                s.jsx(i, {
                                                  color: "blue.600",
                                                  fontSize: "xs",
                                                  children:
                                                    "(Sẽ được convert thành MP3)",
                                                }),
                                            ],
                                          }),
                                        ],
                                      }),
                                      s.jsx(Y, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: T,
                                        disabled: d,
                                        children: "Thay đổi",
                                      }),
                                    ],
                                  }),
                                  !Ti(r) &&
                                    s.jsx(y, {
                                      mt: 3,
                                      children: s.jsx("audio", {
                                        controls: !0,
                                        style: { width: "100%" },
                                        src: URL.createObjectURL(r),
                                      }),
                                    }),
                                  Ti(r) &&
                                    s.jsx(y, {
                                      mt: 3,
                                      p: 2,
                                      bg: "blue.50",
                                      borderRadius: "md",
                                      children: s.jsx(i, {
                                        fontSize: "sm",
                                        color: "blue.700",
                                        children:
                                          "📹 File video sẽ được tự động convert thành MP3 khi cập nhật",
                                      }),
                                    }),
                                ],
                              })
                            : s.jsx(y, {
                                border: "2px dashed #d1d5db",
                                borderRadius: "6px",
                                p: 6,
                                textAlign: "center",
                                cursor: "pointer",
                                _hover: { borderColor: "#3b82f6" },
                                onClick: T,
                                children: s.jsxs(le, {
                                  gap: 2,
                                  children: [
                                    s.jsx(rl, { size: 32, color: "gray" }),
                                    s.jsx(i, {
                                      color: "gray.600",
                                      children:
                                        "Nhấn để chọn file audio hoặc video mới",
                                    }),
                                    s.jsx(i, {
                                      fontSize: "sm",
                                      color: "gray.500",
                                      children:
                                        "Hỗ trợ: MP3, WAV, OGG, MIDI, AAC, WebM, MP4, AVI, MOV, WMV, FLV, MKV, 3GP",
                                    }),
                                  ],
                                }),
                              }),
                        ],
                      }),
                      d &&
                        s.jsx(y, {
                          children: s.jsx(i, {
                            mb: 2,
                            fontSize: "sm",
                            children:
                              r && Ti(r)
                                ? "Đang convert video thành MP3 và cập nhật..."
                                : "Đang cập nhật...",
                          }),
                        }),
                    ],
                  }),
                }),
                s.jsxs(za, {
                  children: [
                    s.jsx(Y, {
                      variant: "ghost",
                      mr: 3,
                      onClick: x,
                      disabled: d,
                      children: "Hủy",
                    }),
                    s.jsx(Y, {
                      type: "submit",
                      colorScheme: "blue",
                      loading: d,
                      disabled: !a.trim(),
                      children: d ? "Đang cập nhật..." : "Cập nhật Template",
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
      }),
    });
  },
  Hh = [10, 25, 50, 100],
  Yh = "Không tìm thấy dữ liệu phù hợp với bộ lọc.",
  Xh = "Đang tải dữ liệu...",
  Jh = (e) => {
    const t = G.c(51),
      {
        data: n,
        isLoading: a,
        filters: l,
        columns: c,
        actions: m,
        onFiltersChange: r,
        emptyMessage: o,
        loadingMessage: u,
        showMobileCards: _,
        enableSorting: d,
        enablePagination: f,
        enablePageSizeSelector: b,
        pageSizeOptions: P,
        className: w,
      } = e;
    let v;
    t[0] !== m
      ? ((v = m === void 0 ? [] : m), (t[0] = m), (t[1] = v))
      : (v = t[1]);
    const x = v,
      T = o === void 0 ? Yh : o,
      S = u === void 0 ? Xh : u,
      h = _ === void 0 ? !0 : _,
      C = d === void 0 ? !0 : d,
      A = f === void 0 ? !0 : f,
      k = b === void 0 ? !0 : b,
      g = P === void 0 ? Hh : P,
      p = w === void 0 ? "" : w;
    let E;
    t[2] !== l || t[3] !== r
      ? ((E = (I) => {
          r({ ...l, page: I });
        }),
        (t[2] = l),
        (t[3] = r),
        (t[4] = E))
      : (E = t[4]);
    const z = E;
    let N;
    t[5] !== l || t[6] !== r
      ? ((N = (I) => {
          r({ ...l, limit: I, page: 1 });
        }),
        (t[5] = l),
        (t[6] = r),
        (t[7] = N))
      : (N = t[7]);
    const R = N;
    let F;
    t[8] !== C || t[9] !== l || t[10] !== r
      ? ((F = (I) => {
          if (!C) return;
          let O = "",
            U = "desc";
          if (l.sortBy && typeof l.sortBy == "string") {
            const ue = l.sortBy.split(":");
            ue.length === 2 && ((O = ue[0]), (U = ue[1].toLowerCase()));
          }
          let re = "asc";
          O === I && (re = U === "asc" ? "desc" : "asc");
          const de = `${I}:${re}`;
          r({ ...l, sortBy: de, page: 1 });
        }),
        (t[8] = C),
        (t[9] = l),
        (t[10] = r),
        (t[11] = F))
      : (F = t[11]);
    const V = F;
    if (a) {
      let I;
      t[12] === Symbol.for("react.memo_cache_sentinel")
        ? ((I = s.jsx(Wt, { size: "lg", color: "blue.500" })), (t[12] = I))
        : (I = t[12]);
      let O;
      return (
        t[13] !== S
          ? ((O = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              py: 12,
              children: s.jsxs(le, {
                gap: 4,
                children: [
                  I,
                  s.jsx(i, { color: "gray.600", fontSize: "sm", children: S }),
                ],
              }),
            })),
            (t[13] = S),
            (t[14] = O))
          : (O = t[14]),
        O
      );
    }
    if (!n || n.data.length === 0) {
      let I;
      t[15] === Symbol.for("react.memo_cache_sentinel")
        ? ((I = s.jsx(y, {
            w: 16,
            h: 16,
            borderRadius: "full",
            bg: "gray.100",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            children: s.jsx(br, { size: 24, color: "#9CA3AF" }),
          })),
          (t[15] = I))
        : (I = t[15]);
      let O;
      return (
        t[16] !== T
          ? ((O = s.jsx(y, {
              textAlign: "center",
              py: 12,
              bg: "white",
              borderRadius: "md",
              border: "1px",
              borderColor: "gray.200",
              children: s.jsxs(le, {
                gap: 4,
                children: [
                  I,
                  s.jsx(i, {
                    fontSize: "lg",
                    color: "gray.500",
                    fontWeight: "medium",
                    children: T,
                  }),
                ],
              }),
            })),
            (t[16] = T),
            (t[17] = O))
          : (O = t[17]),
        O
      );
    }
    const { data: $, total: Q, page: M, limit: L, totalPages: q } = n;
    let D;
    t[18] !== x ||
    t[19] !== p ||
    t[20] !== c ||
    t[21] !== C ||
    t[22] !== l ||
    t[23] !== V ||
    t[24] !== $
      ? ((D = () =>
          s.jsx(y, {
            display: { base: "none", lg: "block" },
            overflowX: "auto",
            bg: "white",
            borderRadius: "md",
            border: "1px",
            borderColor: "gray.200",
            className: p,
            children: s.jsxs(vs, {
              size: "sm",
              children: [
                s.jsx(Ss, {
                  children: s.jsxs(At, {
                    children: [
                      c.map((I) =>
                        s.jsx(
                          Ce,
                          {
                            width: I.width,
                            cursor: I.sortable && C ? "pointer" : "default",
                            onClick: () => I.sortable && V(I.key),
                            _hover: I.sortable && C ? { bg: "gray.50" } : {},
                            children: s.jsxs(W, {
                              gap: 2,
                              children: [
                                s.jsx(i, { children: I.label }),
                                I.sortable &&
                                  C &&
                                  (() => {
                                    if (
                                      l.sortBy &&
                                      typeof l.sortBy == "string"
                                    ) {
                                      const O = l.sortBy.split(":");
                                      if (O.length === 2 && O[0] === I.key) {
                                        const U = O[1].toLowerCase();
                                        return s.jsx(i, {
                                          fontSize: "xs",
                                          color: "blue.500",
                                          children: U === "asc" ? "↑" : "↓",
                                        });
                                      }
                                    }
                                    return null;
                                  })(),
                              ],
                            }),
                          },
                          I.key
                        )
                      ),
                      x.length > 0 &&
                        s.jsx(Ce, {
                          textAlign: "right",
                          width: "120px",
                          children: "Thao tác",
                        }),
                    ],
                  }),
                }),
                s.jsx(_s, {
                  children: $.map((I) =>
                    s.jsxs(
                      At,
                      {
                        _hover: { bg: "gray.50" },
                        children: [
                          c.map((O) =>
                            s.jsx(
                              _e,
                              {
                                children: O.render
                                  ? O.render(I)
                                  : s.jsx(i, {
                                      fontSize: "sm",
                                      children: I[O.key] || "-",
                                    }),
                              },
                              O.key
                            )
                          ),
                          x.length > 0 &&
                            s.jsx(_e, {
                              textAlign: "right",
                              children: s.jsx(W, {
                                gap: 1,
                                justify: "flex-end",
                                children: x
                                  .filter((O) => !O.show || O.show(I))
                                  .map((O) =>
                                    s.jsx(
                                      wt,
                                      {
                                        "aria-label": O.label,
                                        size: "sm",
                                        variant: O.variant || "ghost",
                                        colorScheme: O.colorScheme,
                                        onClick: () => O.onClick(I),
                                        children: O.icon,
                                      },
                                      O.key
                                    )
                                  ),
                              }),
                            }),
                        ],
                      },
                      I.id
                    )
                  ),
                }),
              ],
            }),
          })),
        (t[18] = x),
        (t[19] = p),
        (t[20] = c),
        (t[21] = C),
        (t[22] = l),
        (t[23] = V),
        (t[24] = $),
        (t[25] = D))
      : (D = t[25]);
    const K = D;
    let H;
    t[26] !== x || t[27] !== c || t[28] !== $
      ? ((H = () =>
          s.jsx(y, {
            display: { base: "block", lg: "none" },
            gap: 4,
            children: $.map((I) =>
              s.jsxs(
                y,
                {
                  bg: "white",
                  borderRadius: "lg",
                  border: "1px",
                  borderColor: "gray.200",
                  p: 4,
                  mb: 4,
                  shadow: "sm",
                  _hover: { shadow: "md" },
                  transition: "all 0.2s",
                  children: [
                    s.jsxs(W, {
                      justify: "space-between",
                      align: "start",
                      mb: 3,
                      children: [
                        s.jsx(y, {
                          children: s.jsxs(i, {
                            fontSize: "lg",
                            fontWeight: "bold",
                            color: "blue.600",
                            children: ["#", I.id],
                          }),
                        }),
                        x.length > 0 &&
                          s.jsx(W, {
                            gap: 1,
                            children: x
                              .filter((O) => !O.show || O.show(I))
                              .filter(em)
                              .map((O) =>
                                s.jsx(
                                  wt,
                                  {
                                    "aria-label": O.label,
                                    size: "sm",
                                    variant: O.variant || "ghost",
                                    colorScheme: O.colorScheme,
                                    onClick: () => O.onClick(I),
                                    children: O.icon,
                                  },
                                  O.key
                                )
                              ),
                          }),
                      ],
                    }),
                    s.jsx(le, {
                      gap: 3,
                      align: "stretch",
                      children: c
                        .filter(tm)
                        .map((O) =>
                          s.jsxs(
                            y,
                            {
                              children: [
                                s.jsx(i, {
                                  fontSize: "xs",
                                  color: "gray.500",
                                  mb: 1,
                                  fontWeight: "medium",
                                  children: O.label,
                                }),
                                O.mobileRender
                                  ? O.mobileRender(I)
                                  : O.render
                                  ? O.render(I)
                                  : s.jsx(i, {
                                      fontSize: "sm",
                                      color: "gray.700",
                                      children: I[O.key] || "-",
                                    }),
                              ],
                            },
                            O.key
                          )
                        ),
                    }),
                  ],
                },
                I.id
              )
            ),
          })),
        (t[26] = x),
        (t[27] = c),
        (t[28] = $),
        (t[29] = H))
      : (H = t[29]);
    const B = H;
    let Z;
    t[30] !== k ||
    t[31] !== A ||
    t[32] !== R ||
    t[33] !== z ||
    t[34] !== L ||
    t[35] !== g ||
    t[36] !== M ||
    t[37] !== Q ||
    t[38] !== q
      ? ((Z = () =>
          !A || q <= 1
            ? null
            : s.jsxs(y, {
                mt: 4,
                p: 4,
                bg: "white",
                borderRadius: "md",
                border: "1px",
                borderColor: "gray.200",
                children: [
                  s.jsxs(W, {
                    justify: "space-between",
                    align: "center",
                    wrap: "wrap",
                    gap: 4,
                    display: { base: "none", md: "flex" },
                    children: [
                      k &&
                        s.jsxs(W, {
                          gap: 2,
                          align: "center",
                          children: [
                            s.jsx(i, {
                              fontSize: "sm",
                              color: "gray.600",
                              children: "Hiển thị:",
                            }),
                            g.map((I) =>
                              s.jsx(
                                Y,
                                {
                                  size: "sm",
                                  variant: L === I ? "solid" : "outline",
                                  onClick: () => R(I),
                                  children: I,
                                },
                                I
                              )
                            ),
                          ],
                        }),
                      s.jsxs(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: [
                          "Trang ",
                          M,
                          " / ",
                          q,
                          " (Tổng: ",
                          Q,
                          " mục)",
                        ],
                      }),
                      s.jsxs(W, {
                        gap: 1,
                        children: [
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(1),
                            disabled: M === 1,
                            children: "Đầu",
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(M - 1),
                            disabled: M === 1,
                            children: "Trước",
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(M + 1),
                            disabled: M === q,
                            children: "Sau",
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(q),
                            disabled: M === q,
                            children: "Cuối",
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    display: { base: "block", md: "none" },
                    children: [
                      s.jsxs(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        textAlign: "center",
                        mb: 3,
                        children: [
                          "Trang ",
                          M,
                          " / ",
                          q,
                          " (Tổng: ",
                          Q,
                          " mục)",
                        ],
                      }),
                      k &&
                        s.jsxs(W, {
                          justify: "center",
                          mb: 3,
                          wrap: "wrap",
                          gap: 2,
                          children: [
                            s.jsx(i, {
                              fontSize: "xs",
                              color: "gray.600",
                              children: "Hiển thị:",
                            }),
                            g
                              .slice(0, 3)
                              .map((I) =>
                                s.jsx(
                                  Y,
                                  {
                                    size: "xs",
                                    variant: L === I ? "solid" : "outline",
                                    onClick: () => R(I),
                                    children: I,
                                  },
                                  I
                                )
                              ),
                          ],
                        }),
                      s.jsxs(W, {
                        justify: "center",
                        gap: 2,
                        children: [
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(M - 1),
                            disabled: M === 1,
                            flex: 1,
                            children: "Trước",
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => z(M + 1),
                            disabled: M === q,
                            flex: 1,
                            children: "Sau",
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              })),
        (t[30] = k),
        (t[31] = A),
        (t[32] = R),
        (t[33] = z),
        (t[34] = L),
        (t[35] = g),
        (t[36] = M),
        (t[37] = Q),
        (t[38] = q),
        (t[39] = Z))
      : (Z = t[39]);
    const J = Z;
    let se;
    t[40] !== K ? ((se = K()), (t[40] = K), (t[41] = se)) : (se = t[41]);
    let ee;
    t[42] !== B || t[43] !== h
      ? ((ee = h && B()), (t[42] = B), (t[43] = h), (t[44] = ee))
      : (ee = t[44]);
    let te;
    t[45] !== J ? ((te = J()), (t[45] = J), (t[46] = te)) : (te = t[46]);
    let X;
    return (
      t[47] !== se || t[48] !== ee || t[49] !== te
        ? ((X = s.jsxs(y, { children: [se, ee, te] })),
          (t[47] = se),
          (t[48] = ee),
          (t[49] = te),
          (t[50] = X))
        : (X = t[50]),
      X
    );
  },
  er = (e, t = "Xem") => ({
    key: "view",
    label: t,
    icon: s.jsx(Xt, {}),
    onClick: e,
  }),
  tr = (e, t = "Chỉnh sửa") => ({
    key: "edit",
    label: t,
    icon: s.jsx(Mt, {}),
    onClick: e,
  }),
  sr = (e, t = "Xóa") => ({
    key: "delete",
    label: t,
    icon: s.jsx(Ls, {}),
    colorScheme: "red",
    onClick: e,
  }),
  nr = (e, t = "Mở trong tab mới") => ({
    key: "external",
    label: t,
    icon: s.jsx(ki, {}),
    onClick: e,
  }),
  Zh = (e, t = "Nhân bản") => ({
    key: "duplicate",
    label: t,
    icon: s.jsx(yr, {}),
    onClick: e,
  }),
  ir = () => ({
    key: "id",
    label: "ID",
    width: "80px",
    sortable: !0,
    render: (e) =>
      s.jsx(i, { fontWeight: "medium", fontSize: "sm", children: e.id }),
  }),
  Fi = (e, t, n = {}) => ({
    key: e,
    label: t,
    sortable: !0,
    render: (a) =>
      s.jsx(i, {
        fontSize: "sm",
        maxW: "200px",
        truncate: !0,
        children: a[e] || "-",
      }),
    ...n,
  }),
  Ri = (e, t, n = {}) => ({
    key: e,
    label: t,
    sortable: !0,
    render: (a) =>
      s.jsx(i, {
        fontSize: "sm",
        children: a[e] ? new Date(a[e]).toLocaleDateString("vi-VN") : "-",
      }),
    ...n,
  }),
  Oi = (e, t, n, a, l = {}) => ({
    key: e,
    label: t,
    render: (c) =>
      s.jsx(Be, { colorScheme: n(c[e]), size: "sm", children: a(c[e]) }),
    ...l,
  });
function em(e) {
  return !e.hideOnMobile;
}
function tm(e) {
  return !e.hideOnMobile;
}
const sm = "Đặt lại",
  nm = (e) => {
    const t = G.c(27),
      {
        filters: n,
        onFiltersChange: a,
        onReset: l,
        fields: c,
        showResetButton: m,
        resetButtonText: r,
        className: o,
      } = e,
      u = m === void 0 ? !0 : m,
      _ = r === void 0 ? sm : r,
      d = o === void 0 ? "" : o;
    let f;
    t[0] !== n || t[1] !== a
      ? ((f = (g, p) => {
          a({ ...n, [g]: p === "" ? void 0 : p, page: 1 });
        }),
        (t[0] = n),
        (t[1] = a),
        (t[2] = f))
      : (f = t[2]);
    const b = f;
    let P;
    t[3] !== b
      ? ((P = (g, p) => {
          const E = p.value[0] || "";
          b(g, E);
        }),
        (t[3] = b),
        (t[4] = P))
      : (P = t[4]);
    const w = P;
    let v;
    t[5] !== b
      ? ((v = (g, p) => {
          b(g, p === "" ? void 0 : p === "true");
        }),
        (t[5] = b),
        (t[6] = v))
      : (v = t[6]);
    const x = v;
    let T;
    t[7] !== n || t[8] !== x || t[9] !== b || t[10] !== w
      ? ((T = (g) => {
          const p = n[g.key];
          switch (g.type) {
            case "text":
              return s.jsx(Ee, {
                placeholder:
                  g.placeholder || `Nhập ${g.label.toLowerCase()}...`,
                value: p || "",
                onChange: (E) => b(g.key, E.target.value),
              });
            case "number":
              return s.jsx(Ee, {
                type: "number",
                placeholder:
                  g.placeholder || `Nhập ${g.label.toLowerCase()}...`,
                value: p || "",
                onChange: (E) =>
                  b(g.key, E.target.value ? parseInt(E.target.value) : void 0),
              });
            case "date":
              return s.jsx(Ee, {
                type: "date",
                value: p || "",
                onChange: (E) => b(g.key, E.target.value),
              });
            case "boolean": {
              g.options ||
                (g.options = [
                  { value: "", label: "Tất cả" },
                  { value: "true", label: "Có" },
                  { value: "false", label: "Không" },
                ]);
              const E = ds({ items: g.options });
              return s.jsxs(kn, {
                collection: E,
                value: p !== void 0 ? [p.toString()] : [""],
                onValueChange: (z) => x(g.key, z.value[0] || ""),
                size: "md",
                children: [
                  s.jsx(sl, {
                    children: s.jsx(Nn, {
                      children: s.jsx(Dn, {
                        placeholder: `Chọn ${g.label.toLowerCase()}`,
                      }),
                    }),
                  }),
                  s.jsx(nl, {
                    children: s.jsx(Ln, { children: g.options.map(im) }),
                  }),
                ],
              });
            }
            case "select": {
              if (!g.options) return null;
              const E = ds({ items: g.options });
              return s.jsxs(kn, {
                collection: E,
                value: p ? [p.toString()] : [""],
                onValueChange: (z) => w(g.key, z),
                size: "md",
                children: [
                  s.jsx(sl, {
                    children: s.jsx(Nn, {
                      children: s.jsx(Dn, {
                        placeholder: `Chọn ${g.label.toLowerCase()}`,
                      }),
                    }),
                  }),
                  s.jsx(nl, {
                    children: s.jsx(Ln, { children: g.options.map(lm) }),
                  }),
                ],
              });
            }
            default:
              return null;
          }
        }),
        (t[7] = n),
        (t[8] = x),
        (t[9] = b),
        (t[10] = w),
        (t[11] = T))
      : (T = t[11]);
    const S = T;
    let h;
    if (t[12] !== c || t[13] !== S) {
      let g;
      t[15] !== S
        ? ((g = (p) =>
            s.jsx(
              y,
              {
                display: {
                  base: p.hideOnMobile ? "none" : "block",
                  md: "block",
                },
                className: "flex flex-col",
                children: s.jsx(Ne, { label: p.label, children: S(p) }),
              },
              p.key
            )),
          (t[15] = S),
          (t[16] = g))
        : (g = t[16]),
        (h = c.map(g)),
        (t[12] = c),
        (t[13] = S),
        (t[14] = h);
    } else h = t[14];
    let C;
    t[17] !== l || t[18] !== _ || t[19] !== u
      ? ((C =
          u &&
          s.jsx(y, {
            className: "flex justify-end items-end",
            children: s.jsx(Y, {
              variant: "outline",
              onClick: l,
              size: "sm",
              children: _,
            }),
          })),
        (t[17] = l),
        (t[18] = _),
        (t[19] = u),
        (t[20] = C))
      : (C = t[20]);
    let A;
    t[21] !== h || t[22] !== C
      ? ((A = s.jsxs(y, {
          className: "grid grid-cols-2 lg:grid-cols-6 gap-4",
          children: [h, C],
        })),
        (t[21] = h),
        (t[22] = C),
        (t[23] = A))
      : (A = t[23]);
    let k;
    return (
      t[24] !== d || t[25] !== A
        ? ((k = s.jsx(y, {
            bg: "white",
            p: 4,
            borderRadius: "md",
            border: "1px",
            borderColor: "gray.200",
            mb: 4,
            className: d,
            children: A,
          })),
          (t[24] = d),
          (t[25] = A),
          (t[26] = k))
        : (k = t[26]),
      k
    );
  },
  ls = (e) => ({
    key: "search",
    label: "Tìm kiếm",
    type: "text",
    placeholder: e || "Tìm kiếm...",
    width: "300px",
  }),
  Rt = (e, t, n, a) => ({
    key: e,
    label: t,
    type: "select",
    options: n,
    placeholder: a,
  }),
  Ol = (e, t, n = "Có", a = "Không") => ({
    key: e,
    label: t,
    type: "boolean",
    options: [
      { value: "", label: "Tất cả" },
      { value: "true", label: n },
      { value: "false", label: a },
    ],
  }),
  wi = (e, t) => ({ key: e, label: t, type: "date" });
function im(e) {
  return s.jsx(
    Fn,
    { item: e, children: s.jsx(Rn, { children: e.label }) },
    e.value
  );
}
function lm(e) {
  return s.jsx(
    Fn,
    { item: e, children: s.jsx(Rn, { children: e.label }) },
    e.value
  );
}
const as = (e) => {
    const t = G.c(44),
      {
        data: n,
        isLoading: a,
        columns: l,
        actions: c,
        filterFields: m,
        currentFilters: r,
        onFiltersChange: o,
        onResetFilters: u,
        title: _,
        subtitle: d,
        emptyMessage: f,
        loadingMessage: b,
        showMobileCards: P,
        enableSorting: w,
        enablePagination: v,
        enablePageSizeSelector: x,
        pageSizeOptions: T,
        showFilter: S,
        showResetButton: h,
        resetButtonText: C,
        className: A,
        showHeader: k,
        headerActions: g,
        defaultPageSize: p,
        maxPageSize: E,
      } = e;
    let z;
    t[0] !== c
      ? ((z = c === void 0 ? [] : c), (t[0] = c), (t[1] = z))
      : (z = t[1]);
    const N = z,
      R = P === void 0 ? !0 : P,
      F = w === void 0 ? !0 : w,
      V = v === void 0 ? !0 : v,
      $ = x === void 0 ? !0 : x,
      Q = T === void 0 ? am : T,
      M = S === void 0 ? !0 : S,
      L = h === void 0 ? !0 : h,
      q = A === void 0 ? "" : A,
      D = k === void 0 ? !0 : k,
      K = p === void 0 ? 25 : p;
    let H;
    e: {
      if (r) {
        H = r;
        break e;
      }
      if (n && typeof n == "object" && "page" in n) {
        const I = n.page || 1,
          O = n.limit || K,
          U = n.search || "",
          re = n.sortBy || "createdAt:desc";
        let de;
        t[2] !== n || t[3] !== I || t[4] !== O || t[5] !== U || t[6] !== re
          ? ((de = { page: I, limit: O, search: U, sortBy: re, ...n }),
            (t[2] = n),
            (t[3] = I),
            (t[4] = O),
            (t[5] = U),
            (t[6] = re),
            (t[7] = de))
          : (de = t[7]),
          (H = de);
        break e;
      }
      let X;
      t[8] !== K
        ? ((X = { page: 1, limit: K, search: "", sortBy: "createdAt:desc" }),
          (t[8] = K),
          (t[9] = X))
        : (X = t[9]),
        (H = X);
    }
    const B = H;
    let Z;
    t[10] !== g || t[11] !== D || t[12] !== d || t[13] !== _
      ? ((Z =
          D &&
          (_ || d || g) &&
          s.jsx(y, {
            children: s.jsxs(y, {
              display: "flex",
              flexDirection: { base: "column", lg: "row" },
              justifyContent: "space-between",
              alignItems: { base: "stretch", lg: "center" },
              gap: 4,
              children: [
                s.jsxs(y, {
                  flex: 1,
                  children: [
                    _ &&
                      s.jsx(i, {
                        fontSize: { base: "xl", sm: "2xl" },
                        fontWeight: "bold",
                        mb: 2,
                        color: "gray.800",
                        children: _,
                      }),
                    d &&
                      s.jsx(i, {
                        color: "gray.600",
                        fontSize: "sm",
                        children: d,
                      }),
                  ],
                }),
                g && s.jsx(y, { children: g }),
              ],
            }),
          })),
        (t[10] = g),
        (t[11] = D),
        (t[12] = d),
        (t[13] = _),
        (t[14] = Z))
      : (Z = t[14]);
    let J;
    t[15] !== m ||
    t[16] !== B ||
    t[17] !== o ||
    t[18] !== u ||
    t[19] !== C ||
    t[20] !== M ||
    t[21] !== L
      ? ((J =
          M &&
          m.length > 0 &&
          s.jsx(nm, {
            filters: B,
            onFiltersChange: o,
            onReset: u,
            fields: m,
            showResetButton: L,
            resetButtonText: C,
          })),
        (t[15] = m),
        (t[16] = B),
        (t[17] = o),
        (t[18] = u),
        (t[19] = C),
        (t[20] = M),
        (t[21] = L),
        (t[22] = J))
      : (J = t[22]);
    let se;
    t[23] !== N ||
    t[24] !== l ||
    t[25] !== n ||
    t[26] !== f ||
    t[27] !== $ ||
    t[28] !== V ||
    t[29] !== F ||
    t[30] !== B ||
    t[31] !== a ||
    t[32] !== b ||
    t[33] !== o ||
    t[34] !== Q ||
    t[35] !== R
      ? ((se = s.jsx(Jh, {
          data: n,
          isLoading: a,
          filters: B,
          columns: l,
          actions: N,
          onFiltersChange: o,
          emptyMessage: f,
          loadingMessage: b,
          showMobileCards: R,
          enableSorting: F,
          enablePagination: V,
          enablePageSizeSelector: $,
          pageSizeOptions: Q,
        })),
        (t[23] = N),
        (t[24] = l),
        (t[25] = n),
        (t[26] = f),
        (t[27] = $),
        (t[28] = V),
        (t[29] = F),
        (t[30] = B),
        (t[31] = a),
        (t[32] = b),
        (t[33] = o),
        (t[34] = Q),
        (t[35] = R),
        (t[36] = se))
      : (se = t[36]);
    let ee;
    t[37] !== Z || t[38] !== J || t[39] !== se
      ? ((ee = s.jsxs(le, { gap: 6, align: "stretch", children: [Z, J, se] })),
        (t[37] = Z),
        (t[38] = J),
        (t[39] = se),
        (t[40] = ee))
      : (ee = t[40]);
    let te;
    return (
      t[41] !== q || t[42] !== ee
        ? ((te = s.jsx(y, { className: q, children: ee })),
          (t[41] = q),
          (t[42] = ee),
          (t[43] = te))
        : (te = t[43]),
      te
    );
  },
  am = [10, 25, 50, 100],
  rm = () => {
    const e = G.c(56),
      [t, n] = j.useState(!1),
      [a, l] = j.useState(null),
      [c, m] = j.useState(null),
      [r, o] = j.useState(null),
      [u, _] = j.useState();
    let d;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((d = {
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[0] = d))
      : (d = e[0]);
    const [f, b] = j.useState(d);
    let P;
    e[1] !== f.tier
      ? ((P = f.tier ? { tier: f.tier } : {}), (e[1] = f.tier), (e[2] = P))
      : (P = e[2]);
    let w;
    e[3] !== f.search
      ? ((w = f.search ? { search: f.search } : {}),
        (e[3] = f.search),
        (e[4] = w))
      : (w = e[4]);
    let v;
    e[5] !== f.sortBy
      ? ((v = f.sortBy ? { sortBy: f.sortBy } : {}),
        (e[5] = f.sortBy),
        (e[6] = v))
      : (v = e[6]);
    let x;
    e[7] !== f.sortOrder
      ? ((x = f.sortOrder ? { sortOrder: f.sortOrder } : {}),
        (e[7] = f.sortOrder),
        (e[8] = x))
      : (x = e[8]);
    let T;
    e[9] !== f.limit ||
    e[10] !== f.page ||
    e[11] !== P ||
    e[12] !== w ||
    e[13] !== v ||
    e[14] !== x
      ? ((T = { ...P, page: f.page, limit: f.limit, ...w, ...v, ...x }),
        (e[9] = f.limit),
        (e[10] = f.page),
        (e[11] = P),
        (e[12] = w),
        (e[13] = v),
        (e[14] = x),
        (e[15] = T))
      : (T = e[15]);
    const { data: S, isLoading: h } = jc(T),
      { mutate: C } = vc();
    let A, k;
    e[16] !== S
      ? ((A = () => {
          if (S) {
            const X = {
              data: S.data.map(om),
              total: S.total,
              page: S.page,
              limit: S.limit,
              totalPages: S.totalPages,
            };
            _(X);
          } else {
            const I = {
              data: Array.from({ length: 25 }, cm),
              total: 25,
              page: 1,
              limit: 10,
              totalPages: 3,
            };
            _(I);
          }
        }),
        (k = [S]),
        (e[16] = S),
        (e[17] = A),
        (e[18] = k))
      : ((A = e[17]), (k = e[18])),
      ps.useEffect(A, k);
    let g;
    e[19] === Symbol.for("react.memo_cache_sentinel")
      ? ((g = (X, I) => {
          o({ id: X, name: I });
        }),
        (e[19] = g))
      : (g = e[19]);
    const p = g;
    let E;
    e[20] === Symbol.for("react.memo_cache_sentinel")
      ? ((E = (X) => {
          l(X);
        }),
        (e[20] = E))
      : (E = e[20]);
    const z = E;
    let N;
    e[21] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = (X) => {
          b(X);
        }),
        (e[21] = N))
      : (N = e[21]);
    const R = N;
    let F;
    e[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = () => {
          b({
            page: 1,
            limit: 10,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
            tier: "",
          });
        }),
        (e[22] = F))
      : (F = e[22]);
    const V = F;
    let $;
    e[23] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = [
          ls("Tìm kiếm theo tên mẫu âm thanh..."),
          Rt("tier", "Tier", [
            { value: "", label: "Tất cả tier" },
            { value: "free", label: "Free" },
            { value: "pro", label: "Pro" },
            { value: "vip", label: "VIP" },
          ]),
        ]),
        (e[23] = $))
      : ($ = e[23]);
    const Q = $;
    let M, L;
    if (e[24] !== c) {
      let X, I;
      e[27] === Symbol.for("react.memo_cache_sentinel")
        ? ((X = {
            key: "fileUrl",
            label: "Đường dẫn",
            width: "300px",
            sortable: !1,
            render: dm,
          }),
          (I = {
            key: "createdAt",
            label: "Ngày tạo",
            width: "150px",
            sortable: !0,
            render: hm,
          }),
          (e[27] = X),
          (e[28] = I))
        : ((X = e[27]), (I = e[28])),
        (L = [
          {
            key: "name",
            label: "Tên",
            width: "200px",
            sortable: !0,
            render: (ae) =>
              s.jsxs("div", {
                className: "flex items-center gap-2",
                children: [
                  s.jsx("span", { children: ae.name }),
                  s.jsx("audio", {
                    id: `audio-${ae.id}`,
                    src: (ae.fileUrl.startsWith("http"), ae.fileUrl),
                    onEnded: () => he(ae.id),
                    preload: "none",
                  }),
                ],
              }),
          },
          {
            key: "tier",
            label: "Tier",
            width: "100px",
            sortable: !0,
            render: (ae) =>
              s.jsx(Be, {
                colorScheme: pe(ae.tier),
                children: ae.tier.toUpperCase(),
              }),
          },
          X,
          I,
        ]);
      let O;
      e[29] === Symbol.for("react.memo_cache_sentinel")
        ? ((O = s.jsx(vr, {})), (e[29] = O))
        : (O = e[29]);
      let U;
      e[30] === Symbol.for("react.memo_cache_sentinel")
        ? ((U = s.jsx(ma, {})), (e[30] = U))
        : (U = e[30]);
      let re;
      e[31] === Symbol.for("react.memo_cache_sentinel")
        ? ((re = tr((ae) => z(ae), "Chỉnh sửa")), (e[31] = re))
        : (re = e[31]);
      let de;
      e[32] === Symbol.for("react.memo_cache_sentinel")
        ? ((de = sr((ae) => p(ae.id, ae.name), "Xóa")), (e[32] = de))
        : (de = e[32]),
        (M = [
          {
            key: "play",
            label: c === null ? "Phát" : "Dừng",
            icon: O,
            colorScheme: c === null ? "blue" : "red",
            onClick: (ae) => ue(ae.id, ae.fileUrl),
          },
          {
            key: "download",
            label: "Tải xuống",
            icon: U,
            colorScheme: "green",
            onClick: (ae) => ne(ae.fileUrl, ae.fileName),
          },
          re,
          de,
        ]);
      const ue = (ae, ve) => {
          if (c === ae) {
            m(null);
            const je = document.getElementById(`audio-${ae}`);
            je && (je.pause(), (je.currentTime = 0));
          } else {
            if (c) {
              const ce = document.getElementById(`audio-${c}`);
              ce && (ce.pause(), (ce.currentTime = 0));
            }
            m(ae);
            const je = document.getElementById(`audio-${ae}`);
            je && je.play();
          }
        },
        he = (ae) => {
          c === ae && m(null);
        },
        ne = mm,
        pe = um;
      (e[24] = c), (e[25] = M), (e[26] = L);
    } else (M = e[25]), (L = e[26]);
    let q;
    e[33] === Symbol.for("react.memo_cache_sentinel")
      ? ((q = [5, 10, 20, 50]), (e[33] = q))
      : (q = e[33]);
    let D, K;
    e[34] === Symbol.for("react.memo_cache_sentinel")
      ? ((D = () => n(!0)),
        (K = { base: "sm", sm: "md" }),
        (e[34] = D),
        (e[35] = K))
      : ((D = e[34]), (K = e[35]));
    let H;
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((H = s.jsx(Y, {
          onClick: D,
          size: K,
          colorScheme: "red",
          children: s.jsxs("div", {
            className: "flex items-center gap-2",
            children: [
              s.jsx(hs, {}),
              s.jsx("span", {
                className: "hidden sm:inline",
                children: "Thêm mẫu âm thanh",
              }),
              s.jsx("span", { className: "sm:hidden", children: "Thêm mới" }),
            ],
          }),
        })),
        (e[36] = H))
      : (H = e[36]);
    let B;
    e[37] !== M || e[38] !== L || e[39] !== f || e[40] !== h || e[41] !== u
      ? ((B = s.jsx(as, {
          data: u,
          isLoading: h,
          columns: L,
          actions: M,
          filterFields: Q,
          currentFilters: f,
          onFiltersChange: R,
          onResetFilters: V,
          title: "Quản lý mẫu âm thanh",
          subtitle: "Quản lý và tùy chỉnh các mẫu âm thanh cho thiệp cưới",
          emptyMessage:
            "Chưa có audio template nào. Nhấn 'Thêm Audio Template' để bắt đầu.",
          loadingMessage: "Đang tải danh sách mẫu âm thanh...",
          showMobileCards: !0,
          enableSorting: !0,
          enablePagination: !0,
          enablePageSizeSelector: !0,
          pageSizeOptions: q,
          defaultPageSize: 10,
          showFilter: !0,
          showResetButton: !0,
          resetButtonText: "Đặt lại bộ lọc",
          headerActions: H,
        })),
        (e[37] = M),
        (e[38] = L),
        (e[39] = f),
        (e[40] = h),
        (e[41] = u),
        (e[42] = B))
      : (B = e[42]);
    let Z;
    e[43] === Symbol.for("react.memo_cache_sentinel")
      ? ((Z = () => n(!1)), (e[43] = Z))
      : (Z = e[43]);
    let J;
    e[44] !== t
      ? ((J = s.jsx(Qh, { isOpen: t, onClose: Z })), (e[44] = t), (e[45] = J))
      : (J = e[45]);
    let se;
    e[46] !== a
      ? ((se =
          a && s.jsx(Gh, { isOpen: !!a, onClose: () => l(null), template: a })),
        (e[46] = a),
        (e[47] = se))
      : (se = e[47]);
    let ee;
    e[48] !== C || e[49] !== r
      ? ((ee =
          r &&
          s.jsx(Gs, {
            isOpen: !!r,
            onClose: () => o(null),
            onConfirm: () => {
              r && C(r.id), o(null);
            },
            message: `Bạn có chắc chắn muốn xóa mẫu âm thanh "${
              r == null ? void 0 : r.name
            }"?`,
            confirmLabel: "Xóa",
            confirmColorScheme: "red",
            title: "Xóa mẫu âm thanh",
          })),
        (e[48] = C),
        (e[49] = r),
        (e[50] = ee))
      : (ee = e[50]);
    let te;
    return (
      e[51] !== B || e[52] !== J || e[53] !== se || e[54] !== ee
        ? ((te = s.jsxs("div", {
            className: "text-black flex flex-col gap-4",
            children: [B, J, se, ee],
          })),
          (e[51] = B),
          (e[52] = J),
          (e[53] = se),
          (e[54] = ee),
          (e[55] = te))
        : (te = e[55]),
      te
    );
  };
function om(e) {
  return { ...e, id: e.id };
}
function cm(e, t) {
  return {
    id: t + 1,
    name: `Template ${t + 1}`,
    tier: ["free", "pro", "vip"][t % 3],
    audioUrl: `https://example.com/audio${t + 1}.mp3`,
    fileName: `audio${t + 1}.mp3`,
    fileUrl: `https://example.com/audio${t + 1}.mp3`,
    duration: 30 + (t % 60),
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
  };
}
function dm(e) {
  return s.jsx(i, {
    fontSize: "sm",
    maxW: "250px",
    truncate: !0,
    title: e.fileUrl,
    children: e.fileUrl,
  });
}
function hm(e) {
  return s.jsx(i, {
    fontSize: "sm",
    children: new Date(e.createdAt).toLocaleDateString("vi-VN"),
  });
}
function mm(e, t) {
  const n = document.createElement("a");
  (n.href = (e.startsWith("http"), e)),
    (n.download = t),
    document.body.appendChild(n),
    n.click(),
    document.body.removeChild(n);
}
function um(e) {
  switch (e) {
    case "free":
      return "green";
    case "pro":
      return "purple";
    case "vip":
      return "orange";
    default:
      return "gray";
  }
}
const gm = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: rm },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  fm = [
    { value: "", label: "Tất cả tier" },
    { value: "free", label: "Free" },
    { value: "pro", label: "Pro" },
    { value: "vip", label: "VIP" },
  ],
  pm = [
    { value: "", label: "Tất cả danh mục" },
    { value: "wedding", label: "Đám cưới" },
    { value: "birthday", label: "Sinh nhật" },
    { value: "baby", label: "Em bé" },
  ],
  xm = [
    { value: "", label: "Tất cả" },
    { value: "true", label: "Hoạt động" },
    { value: "false", label: "Không hoạt động" },
  ],
  jm = [
    { value: "", label: "Tất cả" },
    { value: "true", label: "Đã xuất bản" },
    { value: "false", label: "Chưa xuất bản" },
  ],
  ym = [
    { value: "createdAt", label: "Ngày tạo" },
    { value: "updatedAt", label: "Ngày cập nhật" },
    { value: "name", label: "Tên template" },
    { value: "tier", label: "Tier" },
    { value: "category", label: "Danh mục" },
  ],
  bm = [
    { value: "DESC", label: "Giảm dần" },
    { value: "ASC", label: "Tăng dần" },
  ];
ds({ items: fm });
ds({ items: pm });
ds({ items: xm });
ds({ items: jm });
ds({ items: ym });
ds({ items: bm });
const vm = (e) => {
  const t = G.c(33),
    { filters: n, onFiltersChange: a, onReset: l } = e,
    { data: c } = Ha(n.category);
  let m, r;
  t[0] !== c
    ? ((m = [
        { value: "", label: "Tất cả private tag" },
        ...(c === void 0 ? [] : c).map(Sm),
      ]),
      (r = ds({ items: m })),
      (t[0] = c),
      (t[1] = m),
      (t[2] = r))
    : ((m = t[1]), (r = t[2]));
  const o = r;
  let u;
  t[3] !== n || t[4] !== a
    ? ((u = (g, p) => {
        a({ ...n, [g]: p === "" ? void 0 : p, page: 1 });
      }),
      (t[3] = n),
      (t[4] = a),
      (t[5] = u))
    : (u = t[5]);
  const _ = u;
  let d;
  t[6] !== _
    ? ((d = (g, p) => {
        const E = p.value[0] || "";
        g === "isActive" || g === "isPublished"
          ? _(g, E === "" ? void 0 : E === "true")
          : _(g, E);
      }),
      (t[6] = _),
      (t[7] = d))
    : (d = t[7]);
  const f = d,
    b = n.search || "";
  let P;
  t[8] !== _
    ? ((P = (g) => _("search", g.target.value)), (t[8] = _), (t[9] = P))
    : (P = t[9]);
  let w;
  t[10] !== b || t[11] !== P
    ? ((w = s.jsx(y, {
        flex: 1,
        minW: "200px",
        children: s.jsx(Ne, {
          label: "Tìm kiếm",
          children: s.jsx(Ee, {
            placeholder: "Tìm theo tên template hoặc mô tả...",
            value: b,
            onChange: P,
          }),
        }),
      })),
      (t[10] = b),
      (t[11] = P),
      (t[12] = w))
    : (w = t[12]);
  let v;
  t[13] !== n.privateTag
    ? ((v = n.privateTag ? [n.privateTag] : [""]),
      (t[13] = n.privateTag),
      (t[14] = v))
    : (v = t[14]);
  let x;
  t[15] !== f
    ? ((x = (g) => f("privateTag", g)), (t[15] = f), (t[16] = x))
    : (x = t[16]);
  let T;
  t[17] === Symbol.for("react.memo_cache_sentinel")
    ? ((T = s.jsx(sl, {
        children: s.jsx(Nn, {
          children: s.jsx(Dn, { placeholder: "Chọn private tag" }),
        }),
      })),
      (t[17] = T))
    : (T = t[17]);
  let S;
  t[18] !== m
    ? ((S = s.jsx(nl, { children: s.jsx(Ln, { children: m.map(_m) }) })),
      (t[18] = m),
      (t[19] = S))
    : (S = t[19]);
  let h;
  t[20] !== o || t[21] !== S || t[22] !== v || t[23] !== x
    ? ((h = s.jsx(y, {
        minW: "200px",
        children: s.jsx(Ne, {
          label: "Private Tag",
          children: s.jsxs(kn, {
            collection: o,
            value: v,
            onValueChange: x,
            size: "md",
            children: [T, S],
          }),
        }),
      })),
      (t[20] = o),
      (t[21] = S),
      (t[22] = v),
      (t[23] = x),
      (t[24] = h))
    : (h = t[24]);
  let C;
  t[25] !== h || t[26] !== w
    ? ((C = s.jsxs(W, { gap: 4, wrap: "wrap", children: [w, h] })),
      (t[25] = h),
      (t[26] = w),
      (t[27] = C))
    : (C = t[27]);
  let A;
  t[28] !== l
    ? ((A = s.jsx(W, {
        gap: 2,
        justify: "flex-end",
        children: s.jsx(Y, {
          variant: "outline",
          onClick: l,
          size: "sm",
          children: "Đặt lại",
        }),
      })),
      (t[28] = l),
      (t[29] = A))
    : (A = t[29]);
  let k;
  return (
    t[30] !== C || t[31] !== A
      ? ((k = s.jsx(y, {
          bg: "white",
          p: 4,
          borderRadius: "md",
          border: "1px",
          borderColor: "gray.200",
          mb: 4,
          children: s.jsxs(le, { gap: 4, align: "stretch", children: [C, A] }),
        })),
        (t[30] = C),
        (t[31] = A),
        (t[32] = k))
      : (k = t[32]),
    k
  );
};
function Sm(e) {
  return { value: e, label: e };
}
function _m(e) {
  return s.jsx(
    Fn,
    { item: e, children: s.jsx(Rn, { children: e.label }) },
    e.value
  );
}
const Il = (e) => {
    switch (e) {
      case "free":
        return "green";
      case "pro":
        return "purple";
      case "vip":
        return "orange";
      default:
        return "gray";
    }
  },
  Vl = (e) => {
    switch (e) {
      case "free":
        return "FREE";
      case "pro":
        return "PRO";
      case "vip":
        return "VIP";
      default:
        return (e == null ? void 0 : e.toUpperCase()) || "N/A";
    }
  },
  $l = (e) => {
    switch (e) {
      case "wedding":
        return "Đám cưới";
      case "birthday":
        return "Sinh nhật";
      case "baby":
        return "Thôi nôi";
      case "new_house":
        return "Tân gia";
      case "new_year":
        return "Năm mới";
      case "grand_opening":
        return "Khai trương";
      case "reunite":
        return "Hội lớp";
      case "event":
        return "Sự kiện";
      default:
        return e || "N/A";
    }
  },
  Cm = (e) => {
    const t = G.c(147),
      {
        data: n,
        isLoading: a,
        filters: l,
        onFiltersChange: c,
        onViewTemplate: m,
        onEditTemplate: r,
        onDeleteTemplate: o,
      } = e;
    let u;
    t[0] !== l || t[1] !== c
      ? ((u = (Re) => {
          c({ ...l, page: Re });
        }),
        (t[0] = l),
        (t[1] = c),
        (t[2] = u))
      : (u = t[2]);
    const _ = u;
    let d;
    t[3] !== l || t[4] !== c
      ? ((d = (Re) => {
          c({ ...l, limit: Re, page: 1 });
        }),
        (t[3] = l),
        (t[4] = c),
        (t[5] = d))
      : (d = t[5]);
    const f = d,
      b = Tm;
    if (a) {
      let Re;
      return (
        t[6] === Symbol.for("react.memo_cache_sentinel")
          ? ((Re = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              py: 8,
              children: s.jsx(Wt, { size: "lg" }),
            })),
            (t[6] = Re))
          : (Re = t[6]),
        Re
      );
    }
    if (!n || n.data.length === 0) {
      let Re;
      return (
        t[7] === Symbol.for("react.memo_cache_sentinel")
          ? ((Re = s.jsx(y, {
              textAlign: "center",
              py: 8,
              children: s.jsx(i, {
                fontSize: "lg",
                color: "gray.500",
                children: "Không tìm thấy template nào phù hợp với bộ lọc.",
              }),
            })),
            (t[7] = Re))
          : (Re = t[7]),
        Re
      );
    }
    const { data: P, total: w, page: v, limit: x, totalPages: T } = n;
    let S;
    t[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((S = { base: "none", lg: "block" }), (t[8] = S))
      : (S = t[8]);
    let h;
    t[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((h = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "Tên" }),
              s.jsx(Ce, { children: "Mô tả" }),
              s.jsx(Ce, { children: "Danh mục" }),
              s.jsx(Ce, { children: "Tier" }),
              s.jsx(Ce, { children: "Tag" }),
              s.jsx(Ce, { children: "Private Tag" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Xuất bản" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
            ],
          }),
        })),
        (t[9] = h))
      : (h = t[9]);
    let C;
    if (t[10] !== o || t[11] !== r || t[12] !== m || t[13] !== P) {
      let Re;
      t[15] !== o || t[16] !== r || t[17] !== m
        ? ((Re = (ge) =>
            s.jsxs(
              At,
              {
                children: [
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontWeight: "medium",
                      children: ge.id,
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontWeight: "medium",
                      maxW: "200px",
                      truncate: !0,
                      children: ge.name,
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      maxW: "200px",
                      truncate: !0,
                      color: "gray.600",
                      children: ge.description || "Chưa có mô tả",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: $l(ge.category || ""),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: Il(ge.tier || ""),
                      size: "sm",
                      children: Vl(ge.tier || ""),
                    }),
                  }),
                  s.jsx(_e, {
                    children:
                      ge.tags && ge.tags.length > 0
                        ? s.jsxs(W, {
                            gap: 1,
                            flexWrap: "wrap",
                            maxW: "120px",
                            children: [
                              ge.tags.slice(0, 3).map(wm),
                              ge.tags.length > 3 &&
                                s.jsxs(i, {
                                  fontSize: "xs",
                                  color: "gray.500",
                                  children: ["+", ge.tags.length - 3],
                                }),
                            ],
                          })
                        : s.jsx(i, {
                            fontSize: "sm",
                            color: "gray.400",
                            children: "-",
                          }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      maxW: "120px",
                      truncate: !0,
                      color: "purple.600",
                      children: ge.privateTag || "-",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: ge.isActive ? "green" : "red",
                      size: "sm",
                      children: ge.isActive ? "Hoạt động" : "Vô hiệu",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: ge.isPublished ? "blue" : "gray",
                      size: "sm",
                      children: ge.isPublished
                        ? "Đã xuất bản"
                        : "Chưa xuất bản",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: new Date(ge.createdAt || "").toLocaleDateString(
                        "vi-VN"
                      ),
                    }),
                  }),
                  s.jsx(_e, {
                    textAlign: "right",
                    children: s.jsxs(W, {
                      gap: 1,
                      justify: "flex-end",
                      children: [
                        s.jsx(wt, {
                          "aria-label": "Xem template",
                          size: "sm",
                          variant: "ghost",
                          onClick: () => m(ge.id),
                          children: s.jsx(Xt, {}),
                        }),
                        s.jsx(wt, {
                          "aria-label": "Chỉnh sửa thông tin",
                          size: "sm",
                          variant: "ghost",
                          onClick: () => r(ge),
                          children: s.jsx(Mt, {}),
                        }),
                        s.jsx(wt, {
                          "aria-label": "Mở editor trong tab mới",
                          size: "sm",
                          variant: "ghost",
                          onClick: () => b(ge.id),
                          children: s.jsx(ki, {}),
                        }),
                        s.jsx(wt, {
                          "aria-label": "Xóa template",
                          size: "sm",
                          variant: "ghost",
                          colorScheme: "red",
                          onClick: () => o(ge.id),
                          children: s.jsx(Ls, {}),
                        }),
                      ],
                    }),
                  }),
                ],
              },
              ge.id
            )),
          (t[15] = o),
          (t[16] = r),
          (t[17] = m),
          (t[18] = Re))
        : (Re = t[18]),
        (C = P.map(Re)),
        (t[10] = o),
        (t[11] = r),
        (t[12] = m),
        (t[13] = P),
        (t[14] = C);
    } else C = t[14];
    let A;
    t[19] !== C
      ? ((A = s.jsx(y, {
          display: S,
          overflowX: "auto",
          bg: "white",
          borderRadius: "md",
          border: "1px",
          borderColor: "gray.200",
          children: s.jsxs(vs, {
            size: "sm",
            children: [h, s.jsx(_s, { children: C })],
          }),
        })),
        (t[19] = C),
        (t[20] = A))
      : (A = t[20]);
    let k;
    t[21] === Symbol.for("react.memo_cache_sentinel")
      ? ((k = { base: "block", lg: "none" }), (t[21] = k))
      : (k = t[21]);
    let g;
    if (t[22] !== o || t[23] !== r || t[24] !== m || t[25] !== P) {
      let Re;
      t[27] !== o || t[28] !== r || t[29] !== m
        ? ((Re = (ge) =>
            s.jsxs(
              y,
              {
                bg: "white",
                borderRadius: "lg",
                border: "1px",
                borderColor: "gray.200",
                p: 4,
                mb: 4,
                shadow: "sm",
                children: [
                  s.jsxs(W, {
                    justify: "space-between",
                    align: "start",
                    mb: 3,
                    children: [
                      s.jsxs(y, {
                        children: [
                          s.jsxs(i, {
                            fontSize: "lg",
                            fontWeight: "bold",
                            color: "blue.600",
                            children: ["#", ge.id],
                          }),
                          s.jsxs(W, {
                            gap: 2,
                            mt: 1,
                            children: [
                              s.jsx(Be, {
                                colorScheme: Il(ge.tier || ""),
                                size: "sm",
                                children: Vl(ge.tier || ""),
                              }),
                              s.jsx(Be, {
                                colorScheme: ge.isActive ? "green" : "red",
                                size: "sm",
                                children: ge.isActive ? "Hoạt động" : "Vô hiệu",
                              }),
                            ],
                          }),
                        ],
                      }),
                      s.jsxs(W, {
                        gap: 1,
                        children: [
                          s.jsx(wt, {
                            "aria-label": "Xem template",
                            size: "sm",
                            variant: "ghost",
                            onClick: () => m(ge.id),
                            children: s.jsx(Xt, {}),
                          }),
                          s.jsx(wt, {
                            "aria-label": "Chỉnh sửa thông tin",
                            size: "sm",
                            variant: "ghost",
                            onClick: () => r(ge),
                            children: s.jsx(Mt, {}),
                          }),
                          s.jsx(wt, {
                            "aria-label": "Mở editor trong tab mới",
                            size: "sm",
                            variant: "ghost",
                            onClick: () => b(ge.id),
                            children: s.jsx(ki, {}),
                          }),
                          s.jsx(wt, {
                            "aria-label": "Xóa template",
                            size: "sm",
                            variant: "ghost",
                            colorScheme: "red",
                            onClick: () => o(ge.id),
                            children: s.jsx(Ls, {}),
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsx(i, {
                    fontSize: "md",
                    fontWeight: "semibold",
                    mb: 2,
                    className: "line-clamp-2",
                    children: ge.name,
                  }),
                  s.jsxs(y, {
                    mb: 3,
                    children: [
                      s.jsx(i, {
                        fontSize: "xs",
                        color: "gray.500",
                        mb: 1,
                        children: "Mô tả",
                      }),
                      s.jsx(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        className: "line-clamp-2",
                        children: ge.description || "Chưa có mô tả",
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    display: "grid",
                    gridTemplateColumns: "1fr 1fr",
                    gap: 3,
                    mb: 3,
                    children: [
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.500",
                            mb: 1,
                            children: "Danh mục",
                          }),
                          s.jsx(i, {
                            fontSize: "sm",
                            children: $l(ge.category || ""),
                          }),
                        ],
                      }),
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.500",
                            mb: 1,
                            children: "Trạng thái xuất bản",
                          }),
                          s.jsx(Be, {
                            colorScheme: ge.isPublished ? "blue" : "gray",
                            size: "sm",
                            children: ge.isPublished
                              ? "Đã xuất bản"
                              : "Chưa xuất bản",
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    display: "grid",
                    gridTemplateColumns: "1fr 1fr",
                    gap: 3,
                    mb: 3,
                    children: [
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.500",
                            mb: 1,
                            children: "Tag",
                          }),
                          s.jsx(i, {
                            fontSize: "sm",
                            color: "gray.600",
                            children: ge.tag || "-",
                          }),
                        ],
                      }),
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.500",
                            mb: 1,
                            children: "Private Tag",
                          }),
                          s.jsx(i, {
                            fontSize: "sm",
                            color: "purple.600",
                            children: ge.privateTag || "-",
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontSize: "xs",
                        color: "gray.500",
                        mb: 1,
                        children: "Ngày tạo",
                      }),
                      s.jsx(i, {
                        fontSize: "sm",
                        children: new Date(
                          ge.createdAt || ""
                        ).toLocaleDateString("vi-VN"),
                      }),
                    ],
                  }),
                ],
              },
              ge.id
            )),
          (t[27] = o),
          (t[28] = r),
          (t[29] = m),
          (t[30] = Re))
        : (Re = t[30]),
        (g = P.map(Re)),
        (t[22] = o),
        (t[23] = r),
        (t[24] = m),
        (t[25] = P),
        (t[26] = g);
    } else g = t[26];
    let p;
    t[31] !== g
      ? ((p = s.jsx(y, { display: k, gap: 4, children: g })),
        (t[31] = g),
        (t[32] = p))
      : (p = t[32]);
    let E;
    t[33] === Symbol.for("react.memo_cache_sentinel")
      ? ((E = { base: "none", md: "flex" }), (t[33] = E))
      : (E = t[33]);
    let z;
    t[34] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = s.jsx(i, {
          fontSize: "sm",
          color: "gray.600",
          children: "Hiển thị:",
        })),
        (t[34] = z))
      : (z = t[34]);
    const N = x === 10 ? "solid" : "outline";
    let R;
    t[35] !== f ? ((R = () => f(10)), (t[35] = f), (t[36] = R)) : (R = t[36]);
    let F;
    t[37] !== N || t[38] !== R
      ? ((F = s.jsx(Y, { size: "sm", variant: N, onClick: R, children: "10" })),
        (t[37] = N),
        (t[38] = R),
        (t[39] = F))
      : (F = t[39]);
    const V = x === 25 ? "solid" : "outline";
    let $;
    t[40] !== f ? (($ = () => f(25)), (t[40] = f), (t[41] = $)) : ($ = t[41]);
    let Q;
    t[42] !== V || t[43] !== $
      ? ((Q = s.jsx(Y, { size: "sm", variant: V, onClick: $, children: "25" })),
        (t[42] = V),
        (t[43] = $),
        (t[44] = Q))
      : (Q = t[44]);
    const M = x === 50 ? "solid" : "outline";
    let L;
    t[45] !== f ? ((L = () => f(50)), (t[45] = f), (t[46] = L)) : (L = t[46]);
    let q;
    t[47] !== M || t[48] !== L
      ? ((q = s.jsx(Y, { size: "sm", variant: M, onClick: L, children: "50" })),
        (t[47] = M),
        (t[48] = L),
        (t[49] = q))
      : (q = t[49]);
    const D = x === 100 ? "solid" : "outline";
    let K;
    t[50] !== f ? ((K = () => f(100)), (t[50] = f), (t[51] = K)) : (K = t[51]);
    let H;
    t[52] !== D || t[53] !== K
      ? ((H = s.jsx(Y, {
          size: "sm",
          variant: D,
          onClick: K,
          children: "100",
        })),
        (t[52] = D),
        (t[53] = K),
        (t[54] = H))
      : (H = t[54]);
    let B;
    t[55] !== F || t[56] !== Q || t[57] !== q || t[58] !== H
      ? ((B = s.jsxs(W, {
          gap: 2,
          align: "center",
          children: [z, F, Q, q, H],
        })),
        (t[55] = F),
        (t[56] = Q),
        (t[57] = q),
        (t[58] = H),
        (t[59] = B))
      : (B = t[59]);
    let Z;
    t[60] !== v || t[61] !== w || t[62] !== T
      ? ((Z = s.jsxs(i, {
          fontSize: "sm",
          color: "gray.600",
          children: ["Trang ", v, " / ", T, " (Tổng: ", w, " template)"],
        })),
        (t[60] = v),
        (t[61] = w),
        (t[62] = T),
        (t[63] = Z))
      : (Z = t[63]);
    let J;
    t[64] !== _ ? ((J = () => _(1)), (t[64] = _), (t[65] = J)) : (J = t[65]);
    const se = v === 1;
    let ee;
    t[66] !== J || t[67] !== se
      ? ((ee = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: J,
          disabled: se,
          children: "Đầu",
        })),
        (t[66] = J),
        (t[67] = se),
        (t[68] = ee))
      : (ee = t[68]);
    let te;
    t[69] !== _ || t[70] !== v
      ? ((te = () => _(Number(v) - 1)), (t[69] = _), (t[70] = v), (t[71] = te))
      : (te = t[71]);
    const X = v === 1;
    let I;
    t[72] !== te || t[73] !== X
      ? ((I = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: te,
          disabled: X,
          children: "Trước",
        })),
        (t[72] = te),
        (t[73] = X),
        (t[74] = I))
      : (I = t[74]);
    let O;
    t[75] !== _ || t[76] !== v
      ? ((O = () => _(Number(v) + 1)), (t[75] = _), (t[76] = v), (t[77] = O))
      : (O = t[77]);
    const U = v === T;
    let re;
    t[78] !== O || t[79] !== U
      ? ((re = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: O,
          disabled: U,
          children: "Sau",
        })),
        (t[78] = O),
        (t[79] = U),
        (t[80] = re))
      : (re = t[80]);
    let de;
    t[81] !== _ || t[82] !== T
      ? ((de = () => _(T)), (t[81] = _), (t[82] = T), (t[83] = de))
      : (de = t[83]);
    const ue = v === T;
    let he;
    t[84] !== de || t[85] !== ue
      ? ((he = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: de,
          disabled: ue,
          children: "Cuối",
        })),
        (t[84] = de),
        (t[85] = ue),
        (t[86] = he))
      : (he = t[86]);
    let ne;
    t[87] !== ee || t[88] !== I || t[89] !== re || t[90] !== he
      ? ((ne = s.jsxs(W, { gap: 1, children: [ee, I, re, he] })),
        (t[87] = ee),
        (t[88] = I),
        (t[89] = re),
        (t[90] = he),
        (t[91] = ne))
      : (ne = t[91]);
    let pe;
    t[92] !== B || t[93] !== Z || t[94] !== ne
      ? ((pe = s.jsxs(W, {
          justify: "space-between",
          align: "center",
          wrap: "wrap",
          gap: 4,
          display: E,
          children: [B, Z, ne],
        })),
        (t[92] = B),
        (t[93] = Z),
        (t[94] = ne),
        (t[95] = pe))
      : (pe = t[95]);
    let ae;
    t[96] === Symbol.for("react.memo_cache_sentinel")
      ? ((ae = { base: "block", md: "none" }), (t[96] = ae))
      : (ae = t[96]);
    let ve;
    t[97] !== v || t[98] !== w || t[99] !== T
      ? ((ve = s.jsxs(i, {
          fontSize: "sm",
          color: "gray.600",
          textAlign: "center",
          mb: 3,
          children: ["Trang ", v, " / ", T, " (Tổng: ", w, " template)"],
        })),
        (t[97] = v),
        (t[98] = w),
        (t[99] = T),
        (t[100] = ve))
      : (ve = t[100]);
    let je;
    t[101] === Symbol.for("react.memo_cache_sentinel")
      ? ((je = s.jsx(i, {
          fontSize: "xs",
          color: "gray.600",
          children: "Hiển thị:",
        })),
        (t[101] = je))
      : (je = t[101]);
    const ce = x === 10 ? "solid" : "outline";
    let xe;
    t[102] !== f
      ? ((xe = () => f(10)), (t[102] = f), (t[103] = xe))
      : (xe = t[103]);
    let Te;
    t[104] !== ce || t[105] !== xe
      ? ((Te = s.jsx(Y, {
          size: "xs",
          variant: ce,
          onClick: xe,
          children: "10",
        })),
        (t[104] = ce),
        (t[105] = xe),
        (t[106] = Te))
      : (Te = t[106]);
    const Pe = x === 25 ? "solid" : "outline";
    let Se;
    t[107] !== f
      ? ((Se = () => f(25)), (t[107] = f), (t[108] = Se))
      : (Se = t[108]);
    let ke;
    t[109] !== Pe || t[110] !== Se
      ? ((ke = s.jsx(Y, {
          size: "xs",
          variant: Pe,
          onClick: Se,
          children: "25",
        })),
        (t[109] = Pe),
        (t[110] = Se),
        (t[111] = ke))
      : (ke = t[111]);
    const Le = x === 50 ? "solid" : "outline";
    let De;
    t[112] !== f
      ? ((De = () => f(50)), (t[112] = f), (t[113] = De))
      : (De = t[113]);
    let me;
    t[114] !== Le || t[115] !== De
      ? ((me = s.jsx(Y, {
          size: "xs",
          variant: Le,
          onClick: De,
          children: "50",
        })),
        (t[114] = Le),
        (t[115] = De),
        (t[116] = me))
      : (me = t[116]);
    let Fe;
    t[117] !== Te || t[118] !== ke || t[119] !== me
      ? ((Fe = s.jsxs(W, {
          justify: "center",
          mb: 3,
          wrap: "wrap",
          gap: 2,
          children: [je, Te, ke, me],
        })),
        (t[117] = Te),
        (t[118] = ke),
        (t[119] = me),
        (t[120] = Fe))
      : (Fe = t[120]);
    let be;
    t[121] !== _ || t[122] !== v
      ? ((be = () => _(Number(v) - 1)),
        (t[121] = _),
        (t[122] = v),
        (t[123] = be))
      : (be = t[123]);
    const Me = v === 1;
    let Qe;
    t[124] !== be || t[125] !== Me
      ? ((Qe = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: be,
          disabled: Me,
          flex: 1,
          children: "Trước",
        })),
        (t[124] = be),
        (t[125] = Me),
        (t[126] = Qe))
      : (Qe = t[126]);
    let $e;
    t[127] !== _ || t[128] !== v
      ? (($e = () => _(Number(v) + 1)),
        (t[127] = _),
        (t[128] = v),
        (t[129] = $e))
      : ($e = t[129]);
    const Ye = v === T;
    let we;
    t[130] !== $e || t[131] !== Ye
      ? ((we = s.jsx(Y, {
          size: "sm",
          variant: "outline",
          onClick: $e,
          disabled: Ye,
          flex: 1,
          children: "Sau",
        })),
        (t[130] = $e),
        (t[131] = Ye),
        (t[132] = we))
      : (we = t[132]);
    let Ae;
    t[133] !== Qe || t[134] !== we
      ? ((Ae = s.jsxs(W, { justify: "center", gap: 2, children: [Qe, we] })),
        (t[133] = Qe),
        (t[134] = we),
        (t[135] = Ae))
      : (Ae = t[135]);
    let We;
    t[136] !== ve || t[137] !== Fe || t[138] !== Ae
      ? ((We = s.jsxs(y, { display: ae, children: [ve, Fe, Ae] })),
        (t[136] = ve),
        (t[137] = Fe),
        (t[138] = Ae),
        (t[139] = We))
      : (We = t[139]);
    let Ke;
    t[140] !== pe || t[141] !== We
      ? ((Ke = s.jsxs(y, {
          mt: 4,
          p: 4,
          bg: "white",
          borderRadius: "md",
          border: "1px",
          borderColor: "gray.200",
          children: [pe, We],
        })),
        (t[140] = pe),
        (t[141] = We),
        (t[142] = Ke))
      : (Ke = t[142]);
    let Ze;
    return (
      t[143] !== A || t[144] !== Ke || t[145] !== p
        ? ((Ze = s.jsxs(y, { children: [A, p, Ke] })),
          (t[143] = A),
          (t[144] = Ke),
          (t[145] = p),
          (t[146] = Ze))
        : (Ze = t[146]),
      Ze
    );
  };
function Tm(e) {
  const t = Hs.adminBuilderTemplate(e.toString());
  window.open(t, "_blank");
}
function wm(e, t) {
  return s.jsx(
    i,
    {
      fontSize: "xs",
      bg: "blue.100",
      color: "blue.700",
      px: 1,
      py: 0.5,
      borderRadius: "sm",
      className: "truncate",
      children: e,
    },
    t
  );
}
const Am = () => {
    const e = G.c(39),
      t = ln();
    let n;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((n = { page: 1, limit: 25, sortBy: "createdAt:desc", isCard: !0 }),
        (e[0] = n))
      : (n = e[0]);
    const [a, l] = j.useState(n),
      c = a,
      { data: m, isLoading: r } = Ba(c),
      { mutate: o } = Ka(),
      [u, _] = j.useState(!1),
      [d, f] = j.useState(!1),
      [b, P] = j.useState(null),
      [w, v] = j.useState(null);
    let x;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((x = (J) => {
          P(J), f(!0);
        }),
        (e[1] = x))
      : (x = e[1]);
    const T = x;
    let S;
    e[2] !== t
      ? ((S = (J) => {
          t(Hs.viewTemplate(J.toString()));
        }),
        (e[2] = t),
        (e[3] = S))
      : (S = e[3]);
    const h = S;
    let C;
    e[4] !== (m == null ? void 0 : m.data)
      ? ((C = (J) => {
          const se =
            (m == null ? void 0 : m.data.find((ee) => ee.id === J)) || null;
          v(se);
        }),
        (e[4] = m == null ? void 0 : m.data),
        (e[5] = C))
      : (C = e[5]);
    const A = C;
    let k;
    e[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((k = (J) => {
          l({ ...J, isCard: !0 });
        }),
        (e[6] = k))
      : (k = e[6]);
    const g = k;
    let p;
    e[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = () => {
          l({ page: 1, limit: 25, sortBy: "createdAt:desc", isCard: !0 });
        }),
        (e[7] = p))
      : (p = e[7]);
    const E = p;
    let z;
    e[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = { base: "column", lg: "row" }), (e[8] = z))
      : (z = e[8]);
    let N;
    e[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = { base: "stretch", lg: "center" }), (e[9] = N))
      : (N = e[9]);
    let R;
    e[10] === Symbol.for("react.memo_cache_sentinel")
      ? ((R = s.jsx(i, {
          fontSize: { base: "xl", sm: "2xl" },
          fontWeight: "bold",
          mb: 2,
          children: "Quản lý Card Templates",
        })),
        (e[10] = R))
      : (R = e[10]);
    let F;
    e[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = s.jsxs(y, {
          flex: 1,
          children: [
            R,
            s.jsx(i, {
              color: "gray.600",
              fontSize: { base: "sm", sm: "md" },
              display: { base: "none", sm: "block" },
              children: "Chỉ hiển thị các template có thuộc tính isCard = true",
            }),
          ],
        })),
        (e[11] = F))
      : (F = e[11]);
    let V;
    e[12] === Symbol.for("react.memo_cache_sentinel")
      ? ((V = { isCard: !0 }), (e[12] = V))
      : (V = e[12]);
    let $;
    e[13] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = () => _(!0)), (e[13] = $))
      : ($ = e[13]);
    let Q, M;
    e[14] === Symbol.for("react.memo_cache_sentinel")
      ? ((Q = { base: "sm", sm: "md" }),
        (M = { base: "full", lg: "auto" }),
        (e[14] = Q),
        (e[15] = M))
      : ((Q = e[14]), (M = e[15]));
    let L;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((L = s.jsx(Y, {
          onClick: $,
          colorScheme: "blue",
          size: Q,
          width: M,
          children: s.jsxs("div", {
            className: "flex items-center gap-2",
            children: [
              s.jsx(hs, {}),
              s.jsx("span", {
                className: "hidden sm:inline",
                children: "Tạo Card Template",
              }),
              s.jsx("span", { className: "sm:hidden", children: "Tạo mới" }),
            ],
          }),
        })),
        (e[16] = L))
      : (L = e[16]);
    let q;
    e[17] !== u
      ? ((q = s.jsx(y, {
          mb: 6,
          children: s.jsxs(y, {
            display: "flex",
            flexDirection: z,
            justifyContent: "space-between",
            alignItems: N,
            gap: 4,
            mb: 4,
            children: [
              F,
              s.jsx(Fa, { open: u, setOpen: _, extraData: V, children: L }),
            ],
          }),
        })),
        (e[17] = u),
        (e[18] = q))
      : (q = e[18]);
    let D;
    e[19] !== a
      ? ((D = s.jsx(vm, { filters: a, onFiltersChange: g, onReset: E })),
        (e[19] = a),
        (e[20] = D))
      : (D = e[20]);
    let K;
    e[21] !== m || e[22] !== a || e[23] !== A || e[24] !== h || e[25] !== r
      ? ((K = s.jsx(Cm, {
          data: m,
          isLoading: r,
          filters: a,
          onFiltersChange: g,
          onViewTemplate: h,
          onEditTemplate: T,
          onDeleteTemplate: A,
        })),
        (e[21] = m),
        (e[22] = a),
        (e[23] = A),
        (e[24] = h),
        (e[25] = r),
        (e[26] = K))
      : (K = e[26]);
    let H;
    e[27] !== b || e[28] !== d
      ? ((H = s.jsx(Ra, { open: d, setOpen: f, template: b })),
        (e[27] = b),
        (e[28] = d),
        (e[29] = H))
      : (H = e[29]);
    let B;
    e[30] !== o || e[31] !== w
      ? ((B =
          w &&
          s.jsx(Gs, {
            isOpen: !!w,
            onClose: () => v(null),
            onConfirm: () => {
              w != null && w.id && o(w.id), v(null);
            },
            message: `Bạn có chắc chắn muốn xóa template "${
              w == null ? void 0 : w.name
            }"?`,
            confirmLabel: "Xóa",
            confirmColorScheme: "red",
            title: "Xóa Template",
          })),
        (e[30] = o),
        (e[31] = w),
        (e[32] = B))
      : (B = e[32]);
    let Z;
    return (
      e[33] !== q || e[34] !== D || e[35] !== K || e[36] !== H || e[37] !== B
        ? ((Z = s.jsxs(y, {
            className: "text-black",
            children: [q, D, K, H, B],
          })),
          (e[33] = q),
          (e[34] = D),
          (e[35] = K),
          (e[36] = H),
          (e[37] = B),
          (e[38] = Z))
        : (Z = e[38]),
      Z
    );
  },
  Em = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Am },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  lr = (e) => {
    if (typeof e == "boolean") return e ? "green" : "red";
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "active":
      case "completed":
      case "published":
      case "approved":
      case "success":
        return "green";
      case "inactive":
      case "draft":
      case "pending":
      case "waiting":
        return "yellow";
      case "cancelled":
      case "rejected":
      case "failed":
      case "error":
        return "red";
      case "archived":
      case "deleted":
        return "gray";
      case "processing":
      case "in_progress":
        return "blue";
      default:
        return "gray";
    }
  },
  ar = (e) => {
    if (typeof e == "boolean") return e ? "Hoạt động" : "Không hoạt động";
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "active":
        return "Hoạt động";
      case "inactive":
        return "Không hoạt động";
      case "completed":
        return "Hoàn thành";
      case "draft":
        return "Nháp";
      case "published":
        return "Đã xuất bản";
      case "pending":
        return "Đang chờ";
      case "approved":
        return "Đã phê duyệt";
      case "rejected":
        return "Đã từ chối";
      case "cancelled":
        return "Đã hủy";
      case "processing":
        return "Đang xử lý";
      case "in_progress":
        return "Đang thực hiện";
      case "archived":
        return "Lưu trữ";
      case "deleted":
        return "Đã xóa";
      case "failed":
        return "Thất bại";
      case "success":
        return "Thành công";
      case "error":
        return "Lỗi";
      default:
        return e || "Không xác định";
    }
  },
  Ml = (e) => {
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "free":
        return "green";
      case "pro":
        return "purple";
      case "vip":
        return "orange";
      case "premium":
        return "blue";
      case "basic":
        return "gray";
      default:
        return "gray";
    }
  },
  Pm = (e) => {
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "free":
        return "FREE";
      case "pro":
        return "PRO";
      case "vip":
        return "VIP";
      case "premium":
        return "PREMIUM";
      case "basic":
        return "BASIC";
      default:
        return (e == null ? void 0 : e.toUpperCase()) || "N/A";
    }
  },
  km = (e) => {
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "wedding":
        return "Đám cưới";
      case "birthday":
        return "Sinh nhật";
      case "baby":
        return "Em bé";
      case "new_house":
        return "Tân gia";
      case "new_year":
        return "Năm mới";
      case "grand_opening":
        return "Khai trương";
      case "reunite":
        return "Hội lớp";
      case "event":
        return "Sự kiện";
      case "anniversary":
        return "Kỷ niệm";
      case "graduation":
        return "Tốt nghiệp";
      default:
        return e || "N/A";
    }
  },
  Nm = (e) => {
    switch (e == null ? void 0 : e.toLowerCase()) {
      case "main":
        return "Trang chính";
      case "sub":
        return "Trang phụ";
      case "page":
        return "Thiệp cưới";
      case "template":
        return "Mẫu thiệp";
      case "card":
        return "Thiệp mời";
      case "logo":
        return "Logo";
      default:
        return e || "N/A";
    }
  },
  Dm = [
    { value: "", label: "Tất cả trạng thái" },
    { value: "draft", label: "Nháp" },
    { value: "completed", label: "Hoàn thành" },
    { value: "archived", label: "Lưu trữ" },
  ],
  Lm = [
    { value: "", label: "Tất cả loại" },
    { value: "main", label: "Trang chính" },
    { value: "sub", label: "Trang phụ" },
  ],
  zm = [
    { value: "createdAt", label: "Ngày tạo" },
    { value: "updatedAt", label: "Ngày cập nhật" },
    { value: "title", label: "Tiêu đề" },
    { value: "status", label: "Trạng thái" },
    { value: "domain", label: "Domain" },
  ],
  Fm = [
    { value: "DESC", label: "Giảm dần" },
    { value: "ASC", label: "Tăng dần" },
  ];
ds({ items: Dm });
ds({ items: Lm });
ds({ items: zm });
ds({ items: Fm });
const Rm = () => {
  const e = G.c(84),
    t = ln(),
    [n, a] = j.useState("page");
  let l;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((l = []), (e[0] = l))
    : (l = e[0]);
  const [c, m] = j.useState(l);
  let r, o;
  e[1] === Symbol.for("react.memo_cache_sentinel")
    ? ((r = () => {
        (async () => {
          try {
            const it = await Ga();
            m(it);
          } catch {}
        })();
      }),
      (o = []),
      (e[1] = r),
      (e[2] = o))
    : ((r = e[1]), (o = e[2])),
    j.useEffect(r, o);
  let u;
  e[3] === Symbol.for("react.memo_cache_sentinel")
    ? ((u = {
        page: 1,
        limit: 10,
        search: void 0,
        tier: void 0,
        category: void 0,
        tag: void 0,
        privateTag: void 0,
        isActive: void 0,
        isPublished: void 0,
        createdAfter: void 0,
        createdBefore: void 0,
        updatedAfter: void 0,
        updatedBefore: void 0,
        isCard: void 0,
        isLogo: void 0,
        sortBy: "createdAt:desc",
      }),
      (e[3] = u))
    : (u = e[3]);
  const [_, d] = j.useState(u),
    { data: f } = Ha(_.category);
  let b;
  e[4] !== f
    ? ((b = f === void 0 ? [] : f), (e[4] = f), (e[5] = b))
    : (b = e[5]);
  const P = b;
  let w;
  if (e[6] !== n || e[7] !== _) {
    w = { ..._ };
    e: switch (n) {
      case "logo": {
        (w.isLogo = !0), (w.isCard = !1);
        break e;
      }
      case "card": {
        (w.isCard = !0), (w.isLogo = !1);
        break e;
      }
      case "page":
        (w.isLogo = !1), (w.isCard = !1);
    }
    (e[6] = n), (e[7] = _), (e[8] = w);
  } else w = e[8];
  const v = w,
    { data: x, isLoading: T } = Ba(v),
    { mutate: S } = Ka(),
    [h, C] = j.useState(!1),
    [A, k] = j.useState(!1),
    [g, p] = j.useState(!1),
    [E, z] = j.useState(null),
    [N, R] = j.useState(null),
    [F, V] = j.useState(null);
  let $;
  e[9] === Symbol.for("react.memo_cache_sentinel")
    ? (($ = (qe) => {
        z(qe), k(!0);
      }),
      (e[9] = $))
    : ($ = e[9]);
  const Q = $;
  let M;
  e[10] !== t
    ? ((M = (qe) => {
        t(Hs.viewTemplate(qe.toString()));
      }),
      (e[10] = t),
      (e[11] = M))
    : (M = e[11]);
  const L = M;
  let q;
  e[12] !== (x == null ? void 0 : x.data)
    ? ((q = (qe) => {
        const it =
          (x == null ? void 0 : x.data.find((ze) => ze.id === qe)) || null;
        V(it);
      }),
      (e[12] = x == null ? void 0 : x.data),
      (e[13] = q))
    : (q = e[13]);
  const D = q;
  let K;
  e[14] === Symbol.for("react.memo_cache_sentinel")
    ? ((K = (qe) => {
        R(qe), p(!0);
      }),
      (e[14] = K))
    : (K = e[14]);
  const H = K;
  let B;
  e[15] === Symbol.for("react.memo_cache_sentinel")
    ? ((B = (qe) => {
        d(qe);
      }),
      (e[15] = B))
    : (B = e[15]);
  const Z = B;
  let J;
  e[16] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = (qe) => {
        a(qe), d(Om);
      }),
      (e[16] = J))
    : (J = e[16]);
  const se = J;
  let ee;
  e[17] === Symbol.for("react.memo_cache_sentinel")
    ? ((ee = () => {
        d({
          page: 1,
          limit: 25,
          search: void 0,
          tier: void 0,
          category: void 0,
          tags: void 0,
          privateTag: void 0,
          isActive: void 0,
          isPublished: void 0,
          createdAfter: void 0,
          createdBefore: void 0,
          updatedAfter: void 0,
          updatedBefore: void 0,
          isCard: void 0,
          isLogo: void 0,
          sortBy: "createdAt:desc",
        }),
          a("page");
      }),
      (e[17] = ee))
    : (ee = e[17]);
  const te = ee;
  let X;
  e[18] === Symbol.for("react.memo_cache_sentinel")
    ? ((X = [
        ir(),
        { ...Fi("name", "Tên"), sortable: !0 },
        Fi("description", "Mô tả"),
        { key: "category", label: "Danh mục", sortable: !0, render: Im },
        { key: "tier", label: "Tier", sortable: !0, render: Vm },
        { key: "tags", label: "Tags", render: Mm },
        { key: "privateTag", label: "Private Tag", render: Wm },
        Oi("isActive", "Trạng thái", qm, Um),
        Oi("isPublished", "Xuất bản", Bm, Qm),
        { ...Ri("createdAt", "Ngày tạo"), sortable: !0 },
        { ...Ri("updatedAt", "Ngày cập nhật"), sortable: !0 },
      ]),
      (e[18] = X))
    : (X = e[18]);
  const I = X;
  let O;
  e[19] !== L
    ? ((O = er((qe) => L(qe.id), "Xem template")), (e[19] = L), (e[20] = O))
    : (O = e[20]);
  let U;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((U = tr((qe) => Q(qe), "Chỉnh sửa thông tin")), (e[21] = U))
    : (U = e[21]);
  let re, de;
  e[22] === Symbol.for("react.memo_cache_sentinel")
    ? ((re = Zh((qe) => H(qe), "Nhân bản template")),
      (de = nr(Km, "Mở editor trong tab mới")),
      (e[22] = re),
      (e[23] = de))
    : ((re = e[22]), (de = e[23]));
  let ue;
  e[24] !== D
    ? ((ue = sr((qe) => D(qe.id), "Xóa template")), (e[24] = D), (e[25] = ue))
    : (ue = e[25]);
  let he;
  e[26] !== O || e[27] !== ue
    ? ((he = [O, U, re, de, ue]), (e[26] = O), (e[27] = ue), (e[28] = he))
    : (he = e[28]);
  const ne = he;
  let pe, ae, ve, je, ce;
  if (e[29] !== P || e[30] !== c) {
    const qe = [
        { value: "", label: "Tất cả tier" },
        { value: "free", label: "Free" },
        { value: "pro", label: "Pro" },
        { value: "vip", label: "VIP" },
      ],
      it = [
        { value: "", label: "Tất cả danh mục" },
        { value: Os.WEDDING, label: "Thiệp cưới" },
        { value: Os.BIRTHDAY, label: "Thiệp sinh nhật" },
        { value: Os.BABY, label: "Thiệp thôi nôi" },
        { value: Os.NEW_HOUSE, label: "Thiệp tân gia" },
        { value: Os.NEW_YEAR, label: "Thiệp năm mới" },
        { value: Os.GRAND_OPENING, label: "Thiệp khai trương" },
        { value: Os.REUNITE, label: "Thiệp họp lớp" },
        { value: Os.EVENT, label: "Thiệp sự kiện" },
      ],
      ze = [{ value: "", label: "Tất cả tag" }, ...c.map(Gm)],
      ot = [{ value: "", label: "Tất cả private tag" }, ...P.map(Hm)];
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((pe = ls("Tìm theo tên template hoặc mô tả...")), (e[36] = pe))
      : (pe = e[36]),
      (ae = Rt("tier", "Tier", qe)),
      (ve = Rt("category", "Danh mục", it)),
      (je = Rt("tags", "Tags", ze)),
      (ce = Rt("privateTag", "Private Tag", ot)),
      (e[29] = P),
      (e[30] = c),
      (e[31] = pe),
      (e[32] = ae),
      (e[33] = ve),
      (e[34] = je),
      (e[35] = ce);
  } else (pe = e[31]), (ae = e[32]), (ve = e[33]), (je = e[34]), (ce = e[35]);
  let xe, Te, Pe, Se, ke, Le;
  e[37] === Symbol.for("react.memo_cache_sentinel")
    ? ((xe = Ol("isActive", "Trạng thái", "Hoạt động", "Vô hiệu")),
      (Te = Ol("isPublished", "Xuất bản", "Đã xuất bản", "Chưa xuất bản")),
      (Pe = wi("createdAfter", "Tạo từ ngày")),
      (Se = wi("createdBefore", "Tạo đến ngày")),
      (ke = wi("updatedAfter", "Cập nhật từ ngày")),
      (Le = wi("updatedBefore", "Cập nhật đến ngày")),
      (e[37] = xe),
      (e[38] = Te),
      (e[39] = Pe),
      (e[40] = Se),
      (e[41] = ke),
      (e[42] = Le))
    : ((xe = e[37]),
      (Te = e[38]),
      (Pe = e[39]),
      (Se = e[40]),
      (ke = e[41]),
      (Le = e[42]));
  let De;
  e[43] !== pe || e[44] !== ae || e[45] !== ve || e[46] !== je || e[47] !== ce
    ? ((De = [pe, ae, ve, je, ce, xe, Te, Pe, Se, ke, Le]),
      (e[43] = pe),
      (e[44] = ae),
      (e[45] = ve),
      (e[46] = je),
      (e[47] = ce),
      (e[48] = De))
    : (De = e[48]);
  const me = De;
  let Fe;
  e[49] !== n || e[50] !== h
    ? ((Fe = () =>
        s.jsx(Fa, {
          open: h,
          setOpen: C,
          activeTab: n,
          children: s.jsx(Y, {
            onClick: () => C(!0),
            colorScheme: "blue",
            size: { base: "sm", sm: "md" },
            width: { base: "full", lg: "auto" },
            children: s.jsxs("div", {
              className: "flex items-center gap-2",
              children: [
                s.jsx(hs, {}),
                s.jsxs("span", {
                  className: "hidden sm:inline",
                  children: [
                    n === "page" && "Tạo Thiệp cưới",
                    n === "card" && "Tạo thiệp mời",
                    n === "logo" && "Tạo logo",
                  ],
                }),
                s.jsxs("span", {
                  className: "sm:hidden",
                  children: [
                    n === "page" && "Tạo thiệp cưới",
                    n === "card" && "Tạo thiệp mời",
                    n === "logo" && "Tạo logo",
                  ],
                }),
              ],
            }),
          }),
        })),
      (e[49] = n),
      (e[50] = h),
      (e[51] = Fe))
    : (Fe = e[51]);
  const be = Fe;
  let Me;
  e[52] === Symbol.for("react.memo_cache_sentinel")
    ? ((Me = (qe) => se(qe.value)), (e[52] = Me))
    : (Me = e[52]);
  let Qe;
  e[53] === Symbol.for("react.memo_cache_sentinel")
    ? ((Qe = s.jsxs(Ii, {
        children: [
          s.jsx(Ds, { value: "page", children: "Thiệp cưới" }),
          s.jsx(Ds, { value: "card", children: "Thiệp mời" }),
          s.jsx(Ds, { value: "logo", children: "Logo" }),
        ],
      })),
      (e[53] = Qe))
    : (Qe = e[53]);
  let $e;
  e[54] !== n
    ? (($e = s.jsx(Vi, { value: n, onValueChange: Me, mb: 6, children: Qe })),
      (e[54] = n),
      (e[55] = $e))
    : ($e = e[55]);
  const Ye = ne,
    we = _.page || 1,
    Ae = _.limit || 10;
  let We;
  e[56] !== _ || e[57] !== we || e[58] !== Ae
    ? ((We = { page: we, limit: Ae, search: _.search, sortBy: _.sortBy, ..._ }),
      (e[56] = _),
      (e[57] = we),
      (e[58] = Ae),
      (e[59] = We))
    : (We = e[59]);
  let Ke;
  e[60] !== be ? ((Ke = be()), (e[60] = be), (e[61] = Ke)) : (Ke = e[61]);
  let Ze;
  e[62] !== x ||
  e[63] !== me ||
  e[64] !== T ||
  e[65] !== Ye ||
  e[66] !== We ||
  e[67] !== Ke
    ? ((Ze = s.jsx(as, {
        data: x,
        isLoading: T,
        columns: I,
        actions: Ye,
        filterFields: me,
        currentFilters: We,
        onFiltersChange: Z,
        onResetFilters: te,
        title: "Quản lý mẫu thiệp",
        headerActions: Ke,
        emptyMessage: "Không tìm thấy template nào phù hợp với bộ lọc.",
      })),
      (e[62] = x),
      (e[63] = me),
      (e[64] = T),
      (e[65] = Ye),
      (e[66] = We),
      (e[67] = Ke),
      (e[68] = Ze))
    : (Ze = e[68]);
  let Re;
  e[69] !== E || e[70] !== A
    ? ((Re = s.jsx(Ra, { open: A, setOpen: k, template: E })),
      (e[69] = E),
      (e[70] = A),
      (e[71] = Re))
    : (Re = e[71]);
  let ge;
  e[72] !== N || e[73] !== g
    ? ((ge = s.jsx(Ur, { open: g, setOpen: p, template: N })),
      (e[72] = N),
      (e[73] = g),
      (e[74] = ge))
    : (ge = e[74]);
  let et;
  e[75] !== S || e[76] !== F
    ? ((et =
        F &&
        s.jsx(Gs, {
          isOpen: !!F,
          onClose: () => V(null),
          onConfirm: () => {
            F != null && F.id && S(F.id), V(null);
          },
          message: `Bạn có chắc chắn muốn xóa template "${
            F == null ? void 0 : F.name
          }"?`,
          confirmLabel: "Xóa",
          confirmColorScheme: "red",
          title: "Xóa Template",
        })),
      (e[75] = S),
      (e[76] = F),
      (e[77] = et))
    : (et = e[77]);
  let lt;
  return (
    e[78] !== $e || e[79] !== Ze || e[80] !== Re || e[81] !== ge || e[82] !== et
      ? ((lt = s.jsxs(y, {
          className: "text-black pb-20",
          children: [$e, Ze, Re, ge, et],
        })),
        (e[78] = $e),
        (e[79] = Ze),
        (e[80] = Re),
        (e[81] = ge),
        (e[82] = et),
        (e[83] = lt))
      : (lt = e[83]),
    lt
  );
};
function Om(e) {
  return { ...e, page: 1 };
}
function Im(e) {
  return s.jsx("span", {
    className: "text-sm text-gray-700",
    children: km(e.category || ""),
  });
}
function Vm(e) {
  return s.jsx("span", {
    className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${Ml(
      e.tier || ""
    )}-100 text-${Ml(e.tier || "")}-800`,
    children: Pm(e.tier || ""),
  });
}
function $m(e, t) {
  return s.jsx(
    "span",
    {
      className:
        "inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-blue-100 text-blue-700 truncate",
      children: e,
    },
    t
  );
}
function Mm(e) {
  return s.jsx("div", {
    className: "max-w-32",
    children:
      e.tags && e.tags.length > 0
        ? s.jsxs("div", {
            className: "flex flex-wrap gap-1",
            children: [
              e.tags.slice(0, 3).map($m),
              e.tags.length > 3 &&
                s.jsxs("span", {
                  className: "text-xs text-gray-500",
                  children: ["+", e.tags.length - 3],
                }),
            ],
          })
        : s.jsx("span", { className: "text-sm text-gray-400", children: "-" }),
  });
}
function Wm(e) {
  return s.jsx("span", {
    className: "text-sm text-purple-600 max-w-32 truncate",
    children: e.privateTag || "-",
  });
}
function qm(e) {
  return e ? "green" : "red";
}
function Um(e) {
  return e ? "Hoạt động" : "Vô hiệu";
}
function Bm(e) {
  return e ? "blue" : "gray";
}
function Qm(e) {
  return e ? "Đã xuất bản" : "Chưa xuất bản";
}
function Km(e) {
  const t = Hs.adminBuilderTemplate(e.id.toString());
  window.open(t, "_blank");
}
function Gm(e) {
  return { value: e, label: e };
}
function Hm(e) {
  return { value: e, label: e };
}
const Ym = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Rm },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  sn = {
    all: ["admin-billing-orders"],
    lists: () => [...sn.all, "list"],
    list: (e) => [...sn.lists(), e],
    details: () => [...sn.all, "detail"],
    detail: (e) => [...sn.details(), e],
  },
  ml = {
    getOrders: async (e) => {
      const t = new URLSearchParams();
      e &&
        Object.entries(e).forEach(([a, l]) => {
          l != null && l !== "" && t.append(a, l.toString());
        });
      const n = await ie.get(`/admin/billing/orders?${t.toString()}`);
      return n.data.data || n.data;
    },
    getOrder: async (e) => {
      const t = await ie.get(`/admin/billing/orders/${e}`);
      return t.data.data || t.data;
    },
    testWebhook: async (e, t) => {
      await ie.post(`/admin/webhooks/payments/${e.toLowerCase()}/test`, t);
    },
  },
  Xm = (e) => {
    const t = G.c(7);
    let n;
    t[0] !== e ? ((n = sn.list(e)), (t[0] = e), (t[1] = n)) : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => ml.getOrders(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    let l;
    return (
      t[4] !== n || t[5] !== a
        ? ((l = { queryKey: n, queryFn: a, staleTime: 12e4 }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l))
        : (l = t[6]),
      nt(l)
    );
  },
  Jm = (e) => {
    const t = G.c(8);
    let n;
    t[0] !== e ? ((n = sn.detail(e)), (t[0] = e), (t[1] = n)) : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => ml.getOrder(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    const l = !!e;
    let c;
    return (
      t[4] !== n || t[5] !== a || t[6] !== l
        ? ((c = { queryKey: n, queryFn: a, enabled: l, staleTime: 12e4 }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l),
          (t[7] = c))
        : (c = t[7]),
      nt(c)
    );
  },
  Zm = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: eu,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: sn.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Webhook test đã được gửi thành công",
                  type: "success",
                });
            },
            onError: tu,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function eu(e) {
  const { provider: t, data: n } = e;
  return ml.testWebhook(t, n);
}
function tu(e) {
  var n, a;
  const t =
    ((a = (n = e.response) == null ? void 0 : n.data) == null
      ? void 0
      : a.message) || "Có lỗi xảy ra khi test webhook";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
const su = (e) => {
    switch (e) {
      case "paid":
        return "green";
      case "requires_payment":
        return "orange";
      case "failed":
        return "red";
      case "canceled":
        return "gray";
      case "created":
        return "blue";
      default:
        return "gray";
    }
  },
  nu = (e) => {
    switch (e) {
      case "created":
        return "Đã tạo";
      case "requires_payment":
        return "Chờ thanh toán";
      case "paid":
        return "Đã thanh toán";
      case "failed":
        return "Thất bại";
      case "canceled":
        return "Đã hủy";
      default:
        return e;
    }
  },
  iu = (e) => {
    switch (e) {
      case "page_plan":
        return "Gói trang";
      case "page_slot":
        return "Khe trang";
      default:
        return e;
    }
  },
  lu = (e) => {
    switch (e) {
      case "page_plan":
        return "blue";
      case "page_slot":
        return "purple";
      default:
        return "gray";
    }
  },
  au = (e) => {
    if (!e) return "N/A";
    switch (e) {
      case "stripe":
        return "Stripe";
      case "paypal":
        return "PayPal";
      case "vnpay":
        return "VNPay";
      case "momo":
        return "MoMo";
      case "sepay_qr":
        return "SePay QR";
      default:
        return e;
    }
  },
  Wl = (e) => `${e.toLocaleString()} VND`,
  ql = (e) => (e ? new Date(e).toLocaleString("vi-VN") : "N/A"),
  ru = (e) => {
    const t = G.c(10),
      { data: n, isLoading: a, onViewDetails: l } = e;
    if (a) {
      let o;
      return (
        t[0] === Symbol.for("react.memo_cache_sentinel")
          ? ((o = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              minH: "400px",
              children: s.jsxs(le, {
                gap: 4,
                children: [
                  s.jsx(Wt, { size: "xl", colorScheme: "blue" }),
                  s.jsx(i, { children: "Đang tải dữ liệu..." }),
                ],
              }),
            })),
            (t[0] = o))
          : (o = t[0]),
        o
      );
    }
    if (!n || n.length === 0) {
      let o;
      return (
        t[1] === Symbol.for("react.memo_cache_sentinel")
          ? ((o = s.jsx(y, {
              bg: "white",
              rounded: "lg",
              border: "1px",
              borderColor: "gray.200",
              p: 8,
              textAlign: "center",
              children: s.jsx(i, {
                fontSize: "lg",
                color: "gray.500",
                children: "Không tìm thấy đơn hàng nào",
              }),
            })),
            (t[1] = o))
          : (o = t[1]),
        o
      );
    }
    let c;
    t[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "Loại" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Tổng tiền" }),
              s.jsx(Ce, { children: "Người dùng" }),
              s.jsx(Ce, { children: "Page ID" }),
              s.jsx(Ce, { children: "Nhà cung cấp" }),
              s.jsx(Ce, { children: "Thời gian thanh toán" }),
              s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
            ],
          }),
        })),
        (t[2] = c))
      : (c = t[2]);
    let m;
    if (t[3] !== n || t[4] !== l) {
      let o;
      t[6] !== l
        ? ((o = (u) =>
            s.jsxs(
              At,
              {
                _hover: { bg: "gray.50" },
                cursor: "pointer",
                onClick: () => l(u),
                children: [
                  s.jsx(_e, {
                    children: s.jsxs(le, {
                      align: "start",
                      gap: 1,
                      children: [
                        s.jsxs(i, {
                          fontWeight: "bold",
                          color: "blue.600",
                          children: ["#", u.id],
                        }),
                        s.jsx(i, {
                          fontSize: "xs",
                          color: "gray.500",
                          children: ql(u.createdAt),
                        }),
                      ],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: lu(u.type),
                      variant: "subtle",
                      children: iu(u.type),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: su(u.status),
                      variant: "solid",
                      children: nu(u.status),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(le, {
                      align: "start",
                      gap: 1,
                      children: [
                        s.jsx(i, {
                          fontWeight: "bold",
                          children: Wl(u.totalCents),
                        }),
                        u.discountCents &&
                          u.discountCents > 0 &&
                          s.jsxs(i, {
                            fontSize: "xs",
                            color: "green.600",
                            children: ["Giảm: ", Wl(u.discountCents)],
                          }),
                      ],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(le, {
                      align: "start",
                      gap: 1,
                      children: [
                        s.jsxs(i, {
                          fontWeight: "medium",
                          children: ["#", u.userId],
                        }),
                        u.userEmail &&
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children: u.userEmail,
                          }),
                      ],
                    }),
                  }),
                  s.jsx(_e, {
                    children: u.targetPageId
                      ? s.jsxs(i, {
                          fontWeight: "medium",
                          color: "blue.600",
                          children: ["#", u.targetPageId],
                        })
                      : s.jsx(i, { color: "gray.500", children: "N/A" }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(le, {
                      align: "start",
                      gap: 1,
                      children: [
                        s.jsx(i, { fontSize: "sm", children: au(u.provider) }),
                        u.providerOrderId &&
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.500",
                            fontFamily: "mono",
                            children:
                              u.providerOrderId.length > 15
                                ? `${u.providerOrderId.substring(0, 15)}...`
                                : u.providerOrderId,
                          }),
                      ],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: ql(u.paidAt),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(W, {
                      gap: 2,
                      justify: "end",
                      children: [
                        s.jsx(wt, {
                          "aria-label": "Xem chi tiết",
                          size: "sm",
                          variant: "ghost",
                          colorScheme: "blue",
                          onClick: (_) => {
                            _.stopPropagation(), l(u);
                          },
                          children: s.jsx(Xt, {}),
                        }),
                        u.targetPageId &&
                          s.jsx(wt, {
                            "aria-label": "Xem trang",
                            size: "sm",
                            variant: "ghost",
                            colorScheme: "green",
                            onClick: (_) => {
                              _.stopPropagation(),
                                window.open(
                                  `/view/page/${u.targetPageId}`,
                                  "_blank"
                                );
                            },
                            children: s.jsx(ki, {}),
                          }),
                      ],
                    }),
                  }),
                ],
              },
              u.id
            )),
          (t[6] = l),
          (t[7] = o))
        : (o = t[7]),
        (m = n.map(o)),
        (t[3] = n),
        (t[4] = l),
        (t[5] = m);
    } else m = t[5];
    let r;
    return (
      t[8] !== m
        ? ((r = s.jsx(y, {
            bg: "white",
            rounded: "lg",
            border: "1px",
            borderColor: "gray.200",
            overflow: "hidden",
            children: s.jsxs(vs, {
              size: "sm",
              children: [c, s.jsx(_s, { children: m })],
            }),
          })),
          (t[8] = m),
          (t[9] = r))
        : (r = t[9]),
      r
    );
  },
  Tn = (e) => {
    switch (e) {
      case "created":
        return "Đã tạo";
      case "requires_payment":
        return "Chờ thanh toán";
      case "paid":
        return "Đã thanh toán";
      case "failed":
        return "Thanh toán thất bại";
      case "canceled":
        return "Đã hủy";
      default:
        return e;
    }
  },
  Ul = (e) => {
    switch (e) {
      case "page_plan":
        return "Gói trang";
      case "page_slot":
        return "Khe trang";
      default:
        return e;
    }
  },
  ou = (e) => {
    const t = G.c(61),
      { filters: n, onFiltersChange: a, onClearFilters: l } = e;
    let c;
    t[0] !== n || t[1] !== a
      ? ((c = (B, Z) => {
          a({ ...n, [B]: Z || void 0, page: 1 });
        }),
        (t[0] = n),
        (t[1] = a),
        (t[2] = c))
      : (c = t[2]);
    const m = c;
    let r;
    t[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((r = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          color: "gray.700",
          children: "Bộ lọc đơn hàng",
        })),
        (t[3] = r))
      : (r = t[3]);
    const o = n.status || "";
    let u;
    t[4] !== m
      ? ((u = (B) => m("status", B.target.value)), (t[4] = m), (t[5] = u))
      : (u = t[5]);
    let _;
    t[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = s.jsx("option", { value: "", children: "Tất cả trạng thái" })),
        (t[6] = _))
      : (_ = t[6]);
    let d;
    t[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((d = s.jsx("option", { value: "created", children: Tn("created") })),
        (t[7] = d))
      : (d = t[7]);
    let f;
    t[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((f = s.jsx("option", {
          value: "requires_payment",
          children: Tn("requires_payment"),
        })),
        (t[8] = f))
      : (f = t[8]);
    let b;
    t[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((b = s.jsx("option", { value: "paid", children: Tn("paid") })),
        (t[9] = b))
      : (b = t[9]);
    let P;
    t[10] === Symbol.for("react.memo_cache_sentinel")
      ? ((P = s.jsx("option", { value: "failed", children: Tn("failed") })),
        (t[10] = P))
      : (P = t[10]);
    let w;
    t[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = s.jsx("option", { value: "canceled", children: Tn("canceled") })),
        (t[11] = w))
      : (w = t[11]);
    let v;
    t[12] !== o || t[13] !== u
      ? ((v = s.jsxs(Jt, {
          value: o,
          onChange: u,
          children: [_, d, f, b, P, w],
        })),
        (t[12] = o),
        (t[13] = u),
        (t[14] = v))
      : (v = t[14]);
    let x;
    t[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((x = s.jsx(Zt, {})), (t[15] = x))
      : (x = t[15]);
    let T;
    t[16] !== v
      ? ((T = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs(es, {
            size: "sm",
            width: "200px",
            children: [v, x],
          }),
        })),
        (t[16] = v),
        (t[17] = T))
      : (T = t[17]);
    const S = n.type || "";
    let h;
    t[18] !== m
      ? ((h = (B) => m("type", B.target.value)), (t[18] = m), (t[19] = h))
      : (h = t[19]);
    let C;
    t[20] === Symbol.for("react.memo_cache_sentinel")
      ? ((C = s.jsx("option", { value: "", children: "Tất cả loại" })),
        (t[20] = C))
      : (C = t[20]);
    let A;
    t[21] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = s.jsx("option", {
          value: "page_plan",
          children: Ul("page_plan"),
        })),
        (t[21] = A))
      : (A = t[21]);
    let k;
    t[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((k = s.jsx("option", {
          value: "page_slot",
          children: Ul("page_slot"),
        })),
        (t[22] = k))
      : (k = t[22]);
    let g;
    t[23] !== S || t[24] !== h
      ? ((g = s.jsxs(Jt, { value: S, onChange: h, children: [C, A, k] })),
        (t[23] = S),
        (t[24] = h),
        (t[25] = g))
      : (g = t[25]);
    let p;
    t[26] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = s.jsx(Zt, {})), (t[26] = p))
      : (p = t[26]);
    let E;
    t[27] !== g
      ? ((E = s.jsx(Ne, {
          label: "Loại đơn hàng",
          children: s.jsxs(es, {
            size: "sm",
            width: "200px",
            children: [g, p],
          }),
        })),
        (t[27] = g),
        (t[28] = E))
      : (E = t[28]);
    const z = n.userId || "";
    let N;
    t[29] !== m
      ? ((N = (B) => m("userId", parseInt(B.target.value) || void 0)),
        (t[29] = m),
        (t[30] = N))
      : (N = t[30]);
    let R;
    t[31] !== z || t[32] !== N
      ? ((R = s.jsx(Ne, {
          label: "ID Người dùng",
          children: s.jsx(Ee, {
            type: "number",
            value: z,
            onChange: N,
            placeholder: "Nhập user ID",
            width: "150px",
            size: "sm",
          }),
        })),
        (t[31] = z),
        (t[32] = N),
        (t[33] = R))
      : (R = t[33]);
    let F;
    t[34] !== T || t[35] !== E || t[36] !== R
      ? ((F = s.jsxs(W, { gap: 4, wrap: "wrap", children: [T, E, R] })),
        (t[34] = T),
        (t[35] = E),
        (t[36] = R),
        (t[37] = F))
      : (F = t[37]);
    let V;
    t[38] !== n.from
      ? ((V = n.from ? n.from.split("T")[0] : ""),
        (t[38] = n.from),
        (t[39] = V))
      : (V = t[39]);
    let $;
    t[40] !== m
      ? (($ = (B) =>
          m(
            "from",
            B.target.value ? `${B.target.value}T00:00:00.000Z` : void 0
          )),
        (t[40] = m),
        (t[41] = $))
      : ($ = t[41]);
    let Q;
    t[42] !== V || t[43] !== $
      ? ((Q = s.jsx(Ne, {
          label: "Từ ngày",
          children: s.jsx(Ee, {
            type: "date",
            value: V,
            onChange: $,
            size: "sm",
            width: "200px",
          }),
        })),
        (t[42] = V),
        (t[43] = $),
        (t[44] = Q))
      : (Q = t[44]);
    let M;
    t[45] !== n.to
      ? ((M = n.to ? n.to.split("T")[0] : ""), (t[45] = n.to), (t[46] = M))
      : (M = t[46]);
    let L;
    t[47] !== m
      ? ((L = (B) =>
          m("to", B.target.value ? `${B.target.value}T23:59:59.999Z` : void 0)),
        (t[47] = m),
        (t[48] = L))
      : (L = t[48]);
    let q;
    t[49] !== M || t[50] !== L
      ? ((q = s.jsx(Ne, {
          label: "Đến ngày",
          children: s.jsx(Ee, {
            type: "date",
            value: M,
            onChange: L,
            size: "sm",
            width: "200px",
          }),
        })),
        (t[49] = M),
        (t[50] = L),
        (t[51] = q))
      : (q = t[51]);
    let D;
    t[52] !== l
      ? ((D = s.jsx(y, {
          pt: 6,
          children: s.jsx(Y, {
            variant: "outline",
            size: "sm",
            onClick: l,
            children: "Xóa bộ lọc",
          }),
        })),
        (t[52] = l),
        (t[53] = D))
      : (D = t[53]);
    let K;
    t[54] !== Q || t[55] !== q || t[56] !== D
      ? ((K = s.jsxs(W, { gap: 4, children: [Q, q, D] })),
        (t[54] = Q),
        (t[55] = q),
        (t[56] = D),
        (t[57] = K))
      : (K = t[57]);
    let H;
    return (
      t[58] !== F || t[59] !== K
        ? ((H = s.jsx(y, {
            p: 4,
            bg: "gray.50",
            rounded: "lg",
            border: "1px",
            borderColor: "gray.200",
            children: s.jsxs(le, {
              gap: 4,
              align: "stretch",
              children: [r, F, K],
            }),
          })),
          (t[58] = F),
          (t[59] = K),
          (t[60] = H))
        : (H = t[60]),
      H
    );
  },
  tn = (e) => `${e.toLocaleString()} VND`,
  Bl = (e) => (e ? new Date(e).toLocaleString("vi-VN") : "N/A"),
  cu = (e) => {
    switch (e) {
      case "PAID":
        return "green";
      case "PENDING":
        return "orange";
      case "FAILED":
        return "red";
      case "CANCELLED":
        return "gray";
      case "REFUNDED":
        return "purple";
      default:
        return "gray";
    }
  },
  du = (e) => {
    switch (e) {
      case "PENDING":
        return "Chờ thanh toán";
      case "PAID":
        return "Đã thanh toán";
      case "FAILED":
        return "Thất bại";
      case "CANCELLED":
        return "Đã hủy";
      case "REFUNDED":
        return "Đã hoàn tiền";
      default:
        return e;
    }
  },
  rr = (e) => {
    switch (e) {
      case "PAGE_PLAN":
        return "Gói trang";
      case "DESIGN_SERVICE":
        return "Dịch vụ thiết kế";
      case "SUBSCRIPTION":
        return "Đăng ký";
      case "PRODUCT":
        return "Sản phẩm";
      default:
        return e;
    }
  },
  hu = (e) => {
    const t = G.c(23),
      { open: n, setOpen: a, orderId: l } = e,
      [c, m] = j.useState("stripe"),
      [r, o] = j.useState("success"),
      [u, _] = j.useState(""),
      { data: d, isLoading: f, refetch: b } = Jm(l || 0),
      { mutate: P, isPending: w } = Zm();
    let v;
    t[0] !== a
      ? ((v = () => {
          a(!1);
        }),
        (t[0] = a),
        (t[1] = v))
      : (v = t[1]);
    const x = v;
    let T;
    t[2] !== d ||
    t[3] !== b ||
    t[4] !== P ||
    t[5] !== c ||
    t[6] !== r ||
    t[7] !== u
      ? ((T = () => {
          if (!d) return;
          const k = {
            orderId: d.id,
            status: r,
            amount: d.totalCents,
            transactionId: u || void 0,
          };
          P(
            { provider: c, data: k },
            {
              onSuccess: () => {
                b();
              },
            }
          );
        }),
        (t[2] = d),
        (t[3] = b),
        (t[4] = P),
        (t[5] = c),
        (t[6] = r),
        (t[7] = u),
        (t[8] = T))
      : (T = t[8]);
    const S = T;
    if (!l) return null;
    const h = `Chi tiết đơn hàng #${l}`;
    let C;
    t[9] !== x ||
    t[10] !== S ||
    t[11] !== f ||
    t[12] !== w ||
    t[13] !== d ||
    t[14] !== c ||
    t[15] !== r ||
    t[16] !== u
      ? ((C = s.jsx(le, {
          gap: 4,
          align: "stretch",
          children: f
            ? s.jsx(y, {
                display: "flex",
                justifyContent: "center",
                alignItems: "center",
                minH: "200px",
                children: s.jsxs(le, {
                  gap: 4,
                  children: [
                    s.jsx(Wt, { size: "lg", colorScheme: "blue" }),
                    s.jsx(i, { children: "Đang tải chi tiết đơn hàng..." }),
                  ],
                }),
              })
            : d
            ? s.jsxs(s.Fragment, {
                children: [
                  s.jsx(y, {
                    p: 4,
                    bg: "gray.50",
                    rounded: "md",
                    children: s.jsxs(le, {
                      gap: 3,
                      align: "stretch",
                      children: [
                        s.jsxs(W, {
                          justify: "space-between",
                          children: [
                            s.jsxs(i, {
                              fontSize: "lg",
                              fontWeight: "bold",
                              children: ["Đơn hàng #", d.id],
                            }),
                            s.jsx(Be, {
                              colorScheme: cu(d.status),
                              variant: "solid",
                              px: 3,
                              py: 1,
                              children: du(d.status),
                            }),
                          ],
                        }),
                        s.jsxs(W, {
                          gap: 6,
                          wrap: "wrap",
                          children: [
                            s.jsxs(i, {
                              fontSize: "sm",
                              children: [
                                s.jsx(i, {
                                  as: "span",
                                  fontWeight: "medium",
                                  children: "Loại:",
                                }),
                                " ",
                                rr(d.type),
                              ],
                            }),
                            s.jsxs(i, {
                              fontSize: "sm",
                              children: [
                                s.jsx(i, {
                                  as: "span",
                                  fontWeight: "medium",
                                  children: "Người dùng:",
                                }),
                                " #",
                                d.userId,
                                d.userEmail && ` (${d.userEmail})`,
                              ],
                            }),
                            d.targetPageId &&
                              s.jsxs(i, {
                                fontSize: "sm",
                                children: [
                                  s.jsx(i, {
                                    as: "span",
                                    fontWeight: "medium",
                                    children: "Trang:",
                                  }),
                                  " #",
                                  d.targetPageId,
                                ],
                              }),
                          ],
                        }),
                        s.jsxs(W, {
                          gap: 6,
                          wrap: "wrap",
                          children: [
                            s.jsxs(i, {
                              fontSize: "sm",
                              children: [
                                s.jsx(i, {
                                  as: "span",
                                  fontWeight: "medium",
                                  children: "Tạo lúc:",
                                }),
                                " ",
                                Bl(d.createdAt),
                              ],
                            }),
                            s.jsxs(i, {
                              fontSize: "sm",
                              children: [
                                s.jsx(i, {
                                  as: "span",
                                  fontWeight: "medium",
                                  children: "Thanh toán lúc:",
                                }),
                                " ",
                                Bl(d.paidAt),
                              ],
                            }),
                            d.provider &&
                              s.jsxs(i, {
                                fontSize: "sm",
                                children: [
                                  s.jsx(i, {
                                    as: "span",
                                    fontWeight: "medium",
                                    children: "Nhà cung cấp:",
                                  }),
                                  " ",
                                  d.provider,
                                ],
                              }),
                          ],
                        }),
                        d.providerOrderId &&
                          s.jsxs(i, {
                            fontSize: "sm",
                            children: [
                              s.jsx(i, {
                                as: "span",
                                fontWeight: "medium",
                                children: "Provider Order ID:",
                              }),
                              " ",
                              s.jsx(i, {
                                as: "span",
                                fontFamily: "mono",
                                fontSize: "xs",
                                children: d.providerOrderId,
                              }),
                            ],
                          }),
                      ],
                    }),
                  }),
                  s.jsxs(y, {
                    p: 4,
                    border: "1px",
                    borderColor: "gray.200",
                    rounded: "md",
                    children: [
                      s.jsx(i, {
                        fontSize: "md",
                        fontWeight: "medium",
                        mb: 3,
                        children: "Chi tiết giá",
                      }),
                      s.jsxs(le, {
                        gap: 2,
                        align: "stretch",
                        children: [
                          s.jsxs(W, {
                            justify: "space-between",
                            children: [
                              s.jsx(i, { children: "Tạm tính:" }),
                              s.jsx(i, {
                                fontWeight: "medium",
                                children: tn(d.subtotalCents),
                              }),
                            ],
                          }),
                          d.discountCents &&
                            d.discountCents > 0 &&
                            s.jsxs(W, {
                              justify: "space-between",
                              children: [
                                s.jsx(i, {
                                  color: "green.600",
                                  children: "Giảm giá:",
                                }),
                                s.jsxs(i, {
                                  color: "green.600",
                                  fontWeight: "medium",
                                  children: ["-", tn(d.discountCents)],
                                }),
                              ],
                            }),
                          d.taxCents &&
                            d.taxCents > 0 &&
                            s.jsxs(W, {
                              justify: "space-between",
                              children: [
                                s.jsx(i, { children: "Thuế:" }),
                                s.jsx(i, {
                                  fontWeight: "medium",
                                  children: tn(d.taxCents),
                                }),
                              ],
                            }),
                          s.jsx(y, { h: "1px", bg: "gray.200" }),
                          s.jsxs(W, {
                            justify: "space-between",
                            children: [
                              s.jsx(i, {
                                fontSize: "lg",
                                fontWeight: "bold",
                                children: "Tổng cộng:",
                              }),
                              s.jsx(i, {
                                fontSize: "lg",
                                fontWeight: "bold",
                                color: "blue.600",
                                children: tn(d.totalCents),
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  d.promotion &&
                    s.jsxs(y, {
                      p: 4,
                      bg: "green.50",
                      border: "1px",
                      borderColor: "green.200",
                      rounded: "md",
                      children: [
                        s.jsx(i, {
                          fontSize: "md",
                          fontWeight: "medium",
                          mb: 2,
                          color: "green.700",
                          children: "Mã giảm giá đã áp dụng",
                        }),
                        s.jsxs(W, {
                          gap: 4,
                          children: [
                            s.jsx(Be, {
                              colorScheme: "green",
                              variant: "solid",
                              px: 3,
                              py: 1,
                              children: d.promotion.code,
                            }),
                            s.jsx(i, {
                              fontSize: "sm",
                              color: "green.700",
                              children:
                                d.promotion.discountType === "percentage"
                                  ? `Giảm ${d.promotion.discountAmount}%`
                                  : `Giảm ${tn(d.promotion.discountAmount)}`,
                            }),
                          ],
                        }),
                      ],
                    }),
                  s.jsxs(y, {
                    children: [
                      s.jsxs(i, {
                        fontSize: "md",
                        fontWeight: "medium",
                        mb: 3,
                        children: ["Sản phẩm (", d.items.length, ")"],
                      }),
                      s.jsx(y, {
                        border: "1px",
                        borderColor: "gray.200",
                        rounded: "md",
                        overflow: "hidden",
                        children: s.jsxs(vs, {
                          size: "sm",
                          children: [
                            s.jsx(Ss, {
                              children: s.jsxs(At, {
                                children: [
                                  s.jsx(Ce, { children: "Tên" }),
                                  s.jsx(Ce, { children: "Loại" }),
                                  s.jsx(Ce, { children: "Số lượng" }),
                                  s.jsx(Ce, { children: "Đơn giá" }),
                                  s.jsx(Ce, { children: "Thành tiền" }),
                                ],
                              }),
                            }),
                            s.jsx(_s, { children: d.items.map(mu) }),
                          ],
                        }),
                      }),
                    ],
                  }),
                  !1,
                  s.jsx(y, {
                    pt: 4,
                    children: s.jsx(Y, {
                      onClick: x,
                      width: "100%",
                      children: "Đóng",
                    }),
                  }),
                ],
              })
            : s.jsx(y, {
                p: 8,
                textAlign: "center",
                children: s.jsx(i, {
                  fontSize: "lg",
                  color: "red.500",
                  children: "Không tìm thấy đơn hàng",
                }),
              }),
        })),
        (t[9] = x),
        (t[10] = S),
        (t[11] = f),
        (t[12] = w),
        (t[13] = d),
        (t[14] = c),
        (t[15] = r),
        (t[16] = u),
        (t[17] = C))
      : (C = t[17]);
    let A;
    return (
      t[18] !== x || t[19] !== n || t[20] !== h || t[21] !== C
        ? ((A = s.jsx(Ot, { title: h, isOpen: n, onClose: x, children: C })),
          (t[18] = x),
          (t[19] = n),
          (t[20] = h),
          (t[21] = C),
          (t[22] = A))
        : (A = t[22]),
      A
    );
  };
function mu(e) {
  return s.jsxs(
    At,
    {
      children: [
        s.jsx(_e, {
          children: s.jsxs(le, {
            align: "start",
            gap: 1,
            children: [
              s.jsx(i, { fontWeight: "medium", children: e.name }),
              e.description &&
                s.jsx(i, {
                  fontSize: "xs",
                  color: "gray.500",
                  children: e.description,
                }),
            ],
          }),
        }),
        s.jsx(_e, {
          children: s.jsx(Be, {
            variant: "subtle",
            colorScheme: "blue",
            children: rr(e.type),
          }),
        }),
        s.jsx(_e, { children: s.jsx(i, { children: e.quantity }) }),
        s.jsx(_e, { children: s.jsx(i, { children: tn(e.unitPriceCents) }) }),
        s.jsx(_e, {
          children: s.jsx(i, {
            fontWeight: "medium",
            children: tn(e.totalPriceCents),
          }),
        }),
      ],
    },
    e.id
  );
}
const uu = () => {
  const e = G.c(105);
  let t;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((t = { page: 1, limit: 25 }), (e[0] = t))
    : (t = e[0]);
  const [n, a] = j.useState(t),
    [l, c] = j.useState(null),
    [m, r] = j.useState(!1),
    o = n,
    { data: u, isLoading: _, refetch: d } = Xm(o);
  let f,
    b,
    P,
    w,
    v,
    x,
    T,
    S,
    h,
    C,
    A,
    k,
    g,
    p,
    E,
    z,
    N,
    R,
    F,
    V,
    $,
    Q,
    M,
    L,
    q,
    D,
    K,
    H,
    B,
    Z;
  if (
    e[1] !== _ ||
    e[2] !== (u == null ? void 0 : u.data) ||
    e[3] !== (u == null ? void 0 : u.total) ||
    e[4] !== d
  ) {
    h = (u == null ? void 0 : u.data) || [];
    let de;
    e[35] === Symbol.for("react.memo_cache_sentinel")
      ? ((de = (De) => {
          c(De.id), r(!0);
        }),
        (e[35] = de))
      : (de = e[35]),
      (S = de);
    let ue;
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((ue = (De) => {
          a(De);
        }),
        (e[36] = ue))
      : (ue = e[36]),
      (T = ue);
    let he;
    e[37] === Symbol.for("react.memo_cache_sentinel")
      ? ((he = () => {
          a({ page: 1, limit: 25 });
        }),
        (e[37] = he))
      : (he = e[37]),
      (x = he);
    const ne = (u == null ? void 0 : u.total) || 0,
      pe = h.filter(gu).length,
      ae = h.filter(fu).length,
      ve = h.filter(pu).length,
      je = h.filter(xu).reduce(ju, 0);
    (v = y), (M = 6), (w = le), (F = 6), (V = "stretch");
    let ce;
    e[38] === Symbol.for("react.memo_cache_sentinel")
      ? ((ce = s.jsxs(le, {
          align: "start",
          gap: 1,
          children: [
            s.jsxs(W, {
              children: [
                s.jsx(ol, { size: 24, color: "#3182CE" }),
                s.jsx(i, {
                  fontSize: "2xl",
                  fontWeight: "bold",
                  color: "gray.800",
                  children: "Quản lý Đơn hàng",
                }),
              ],
            }),
            s.jsx(i, {
              color: "gray.600",
              children: "Theo dõi và quản lý đơn hàng từ người dùng",
            }),
          ],
        })),
        (e[38] = ce))
      : (ce = e[38]);
    let xe;
    e[39] !== d ? ((xe = () => d()), (e[39] = d), (e[40] = xe)) : (xe = e[40]);
    let Te;
    e[41] === Symbol.for("react.memo_cache_sentinel")
      ? ((Te = s.jsx(Ni, {})), (e[41] = Te))
      : (Te = e[41]),
      e[42] !== _ || e[43] !== xe
        ? ((Q = s.jsxs(W, {
            justify: "space-between",
            align: "center",
            children: [
              ce,
              s.jsxs(Y, {
                colorScheme: "blue",
                variant: "outline",
                onClick: xe,
                loading: _,
                children: [Te, "Làm mới"],
              }),
            ],
          })),
          (e[42] = _),
          (e[43] = xe),
          (e[44] = Q))
        : (Q = e[44]),
      (P = W),
      (g = 6),
      (p = "wrap");
    let Pe;
    e[45] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pe = s.jsx(i, {
          fontSize: "sm",
          color: "blue.600",
          fontWeight: "medium",
          children: "Tổng đơn hàng",
        })),
        (e[45] = Pe))
      : (Pe = e[45]),
      e[46] !== ne
        ? ((E = s.jsxs(y, {
            p: 4,
            bg: "blue.50",
            border: "1px",
            borderColor: "blue.200",
            rounded: "lg",
            minW: "150px",
            children: [
              Pe,
              s.jsx(i, {
                fontSize: "2xl",
                fontWeight: "bold",
                color: "blue.700",
                children: ne,
              }),
            ],
          })),
          (e[46] = ne),
          (e[47] = E))
        : (E = e[47]);
    let Se;
    e[48] === Symbol.for("react.memo_cache_sentinel")
      ? ((Se = s.jsx(i, {
          fontSize: "sm",
          color: "green.600",
          fontWeight: "medium",
          children: "Đã thanh toán",
        })),
        (e[48] = Se))
      : (Se = e[48]),
      (z = s.jsxs(y, {
        p: 4,
        bg: "green.50",
        border: "1px",
        borderColor: "green.200",
        rounded: "lg",
        minW: "150px",
        children: [
          Se,
          s.jsx(i, {
            fontSize: "2xl",
            fontWeight: "bold",
            color: "green.700",
            children: pe,
          }),
        ],
      }));
    let ke;
    e[49] === Symbol.for("react.memo_cache_sentinel")
      ? ((ke = s.jsx(i, {
          fontSize: "sm",
          color: "orange.600",
          fontWeight: "medium",
          children: "Chờ thanh toán",
        })),
        (e[49] = ke))
      : (ke = e[49]),
      (N = s.jsxs(y, {
        p: 4,
        bg: "orange.50",
        border: "1px",
        borderColor: "orange.200",
        rounded: "lg",
        minW: "150px",
        children: [
          ke,
          s.jsx(i, {
            fontSize: "2xl",
            fontWeight: "bold",
            color: "orange.700",
            children: ae,
          }),
        ],
      }));
    let Le;
    e[50] === Symbol.for("react.memo_cache_sentinel")
      ? ((Le = s.jsx(i, {
          fontSize: "sm",
          color: "red.600",
          fontWeight: "medium",
          children: "Thất bại",
        })),
        (e[50] = Le))
      : (Le = e[50]),
      (R = s.jsxs(y, {
        p: 4,
        bg: "red.50",
        border: "1px",
        borderColor: "red.200",
        rounded: "lg",
        minW: "150px",
        children: [
          Le,
          s.jsx(i, {
            fontSize: "2xl",
            fontWeight: "bold",
            color: "red.700",
            children: ve,
          }),
        ],
      })),
      (b = y),
      (D = 4),
      (K = "purple.50"),
      (H = "1px"),
      (B = "purple.200"),
      (Z = "lg"),
      (A = "200px"),
      e[51] === Symbol.for("react.memo_cache_sentinel")
        ? ((k = s.jsx(i, {
            fontSize: "sm",
            color: "purple.600",
            fontWeight: "medium",
            children: "Doanh thu (đã thanh toán)",
          })),
          (e[51] = k))
        : (k = e[51]),
      (f = i),
      (C = "xl"),
      ($ = "bold"),
      (L = "purple.700"),
      (q = je.toLocaleString()),
      (e[1] = _),
      (e[2] = u == null ? void 0 : u.data),
      (e[3] = u == null ? void 0 : u.total),
      (e[4] = d),
      (e[5] = f),
      (e[6] = b),
      (e[7] = P),
      (e[8] = w),
      (e[9] = v),
      (e[10] = x),
      (e[11] = T),
      (e[12] = S),
      (e[13] = h),
      (e[14] = C),
      (e[15] = A),
      (e[16] = k),
      (e[17] = g),
      (e[18] = p),
      (e[19] = E),
      (e[20] = z),
      (e[21] = N),
      (e[22] = R),
      (e[23] = F),
      (e[24] = V),
      (e[25] = $),
      (e[26] = Q),
      (e[27] = M),
      (e[28] = L),
      (e[29] = q),
      (e[30] = D),
      (e[31] = K),
      (e[32] = H),
      (e[33] = B),
      (e[34] = Z);
  } else
    (f = e[5]),
      (b = e[6]),
      (P = e[7]),
      (w = e[8]),
      (v = e[9]),
      (x = e[10]),
      (T = e[11]),
      (S = e[12]),
      (h = e[13]),
      (C = e[14]),
      (A = e[15]),
      (k = e[16]),
      (g = e[17]),
      (p = e[18]),
      (E = e[19]),
      (z = e[20]),
      (N = e[21]),
      (R = e[22]),
      (F = e[23]),
      (V = e[24]),
      ($ = e[25]),
      (Q = e[26]),
      (M = e[27]),
      (L = e[28]),
      (q = e[29]),
      (D = e[30]),
      (K = e[31]),
      (H = e[32]),
      (B = e[33]),
      (Z = e[34]);
  let J;
  e[52] !== f || e[53] !== C || e[54] !== $ || e[55] !== L || e[56] !== q
    ? ((J = s.jsxs(f, {
        fontSize: C,
        fontWeight: $,
        color: L,
        children: [q, " VND"],
      })),
      (e[52] = f),
      (e[53] = C),
      (e[54] = $),
      (e[55] = L),
      (e[56] = q),
      (e[57] = J))
    : (J = e[57]);
  let se;
  e[58] !== b ||
  e[59] !== A ||
  e[60] !== k ||
  e[61] !== J ||
  e[62] !== D ||
  e[63] !== K ||
  e[64] !== H ||
  e[65] !== B ||
  e[66] !== Z
    ? ((se = s.jsxs(b, {
        p: D,
        bg: K,
        border: H,
        borderColor: B,
        rounded: Z,
        minW: A,
        children: [k, J],
      })),
      (e[58] = b),
      (e[59] = A),
      (e[60] = k),
      (e[61] = J),
      (e[62] = D),
      (e[63] = K),
      (e[64] = H),
      (e[65] = B),
      (e[66] = Z),
      (e[67] = se))
    : (se = e[67]);
  let ee;
  e[68] !== P ||
  e[69] !== g ||
  e[70] !== p ||
  e[71] !== E ||
  e[72] !== z ||
  e[73] !== N ||
  e[74] !== R ||
  e[75] !== se
    ? ((ee = s.jsxs(P, { gap: g, wrap: p, children: [E, z, N, R, se] })),
      (e[68] = P),
      (e[69] = g),
      (e[70] = p),
      (e[71] = E),
      (e[72] = z),
      (e[73] = N),
      (e[74] = R),
      (e[75] = se),
      (e[76] = ee))
    : (ee = e[76]);
  let te;
  e[77] !== n || e[78] !== x || e[79] !== T
    ? ((te = s.jsx(ou, { filters: n, onFiltersChange: T, onClearFilters: x })),
      (e[77] = n),
      (e[78] = x),
      (e[79] = T),
      (e[80] = te))
    : (te = e[80]);
  let X;
  e[81] !== S || e[82] !== _ || e[83] !== h
    ? ((X = s.jsx(ru, { data: h, isLoading: _, onViewDetails: S })),
      (e[81] = S),
      (e[82] = _),
      (e[83] = h),
      (e[84] = X))
    : (X = e[84]);
  let I;
  e[85] !== h || e[86] !== u
    ? ((I =
        u &&
        s.jsx(y, {
          p: 4,
          bg: "gray.50",
          rounded: "md",
          children: s.jsxs(W, {
            justify: "space-between",
            align: "center",
            children: [
              s.jsxs(i, {
                fontSize: "sm",
                color: "gray.600",
                children: [
                  "Hiển thị ",
                  h.length,
                  " / ",
                  u.total,
                  " đơn hàng",
                  u.totalPages > 1 &&
                    s.jsxs(s.Fragment, {
                      children: [" (Trang ", u.page, " / ", u.totalPages, ")"],
                    }),
                ],
              }),
              u.totalPages > 1 &&
                s.jsxs(W, {
                  gap: 2,
                  children: [
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      onClick: () => a(yu),
                      disabled: u.page <= 1,
                      children: "Trang trước",
                    }),
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      onClick: () => a(bu),
                      disabled: u.page >= u.totalPages,
                      children: "Trang sau",
                    }),
                  ],
                }),
            ],
          }),
        })),
      (e[85] = h),
      (e[86] = u),
      (e[87] = I))
    : (I = e[87]);
  let O;
  e[88] !== m || e[89] !== l
    ? ((O = s.jsx(hu, { open: m, setOpen: r, orderId: l })),
      (e[88] = m),
      (e[89] = l),
      (e[90] = O))
    : (O = e[90]);
  let U;
  e[91] !== w ||
  e[92] !== F ||
  e[93] !== V ||
  e[94] !== Q ||
  e[95] !== ee ||
  e[96] !== te ||
  e[97] !== X ||
  e[98] !== I ||
  e[99] !== O
    ? ((U = s.jsxs(w, { gap: F, align: V, children: [Q, ee, te, X, I, O] })),
      (e[91] = w),
      (e[92] = F),
      (e[93] = V),
      (e[94] = Q),
      (e[95] = ee),
      (e[96] = te),
      (e[97] = X),
      (e[98] = I),
      (e[99] = O),
      (e[100] = U))
    : (U = e[100]);
  let re;
  return (
    e[101] !== v || e[102] !== M || e[103] !== U
      ? ((re = s.jsx(v, { p: M, children: U })),
        (e[101] = v),
        (e[102] = M),
        (e[103] = U),
        (e[104] = re))
      : (re = e[104]),
    re
  );
};
function gu(e) {
  return e.status === "paid";
}
function fu(e) {
  return e.status === "requires_payment";
}
function pu(e) {
  return e.status === "failed";
}
function xu(e) {
  return e.status === "paid";
}
function ju(e, t) {
  return e + t.totalCents;
}
function yu(e) {
  return { ...e, page: Math.max(1, (e.page || 1) - 1) };
}
function bu(e) {
  return { ...e, page: (e.page || 1) + 1 };
}
const vu = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: uu },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Su = () => {
    const e = G.c(27),
      t = ln(),
      [n, a] = j.useState("page");
    let l;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((l = { page: 1, limit: 25, sortBy: "createdAt", sortOrder: "DESC" }),
        (e[0] = l))
      : (l = e[0]);
    const [c, m] = j.useState(l);
    let r;
    if (e[1] !== n || e[2] !== c) {
      r = { ...c };
      e: switch (n) {
        case "logo": {
          r.type = Qi.LOGO;
          break e;
        }
        case "card": {
          r.type = Qi.CARD;
          break e;
        }
        case "page":
          r.type = Qi.NORMAL;
      }
      (e[1] = n), (e[2] = c), (e[3] = r);
    } else r = e[3];
    const o = r,
      { data: u, isLoading: _ } = Yr(o);
    let d;
    e[4] !== t
      ? ((d = (Q) => {
          t(Hs.viewPage(Q.toString()));
        }),
        (e[4] = t),
        (e[5] = d))
      : (d = e[5]);
    const f = d;
    let b;
    e[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((b = (Q) => {
          m(Q);
        }),
        (e[6] = b))
      : (b = e[6]);
    const P = b;
    let w;
    e[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = (Q) => {
          a(Q), m(_u);
        }),
        (e[7] = w))
      : (w = e[7]);
    const v = w;
    let x;
    e[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((x = () => {
          m({ page: 1, limit: 25, sortBy: "createdAt", sortOrder: "DESC" }),
            a("page");
        }),
        (e[8] = x))
      : (x = e[8]);
    const T = x;
    let S;
    e[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((S = [
          ir(),
          Fi("title", "Tiêu đề"),
          { key: "couple", label: "Cô dâu & Chú rể", render: Cu },
          { key: "user", label: "Người dùng", render: Tu },
          Oi("status", "Trạng thái", lr, ar),
          { key: "type", label: "Loại", render: wu },
          Fi("domain", "Domain"),
          { key: "template", label: "Template", render: Au },
          Ri("createdAt", "Ngày tạo"),
        ]),
        (e[9] = S))
      : (S = e[9]);
    const h = S;
    let C;
    e[10] !== f
      ? ((C = er((Q) => f(Q.id), "Xem trang")), (e[10] = f), (e[11] = C))
      : (C = e[11]);
    let A;
    e[12] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = nr(Eu, "Mở trong tab mới")), (e[12] = A))
      : (A = e[12]);
    let k;
    e[13] !== C ? ((k = [C, A]), (e[13] = C), (e[14] = k)) : (k = e[14]);
    const g = k;
    let p;
    e[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = [ls("Tìm theo tiêu đề, cô dâu, chú rể, domain, email...")]),
        (e[15] = p))
      : (p = e[15]);
    const E = p;
    let z;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = (Q) => v(Q.value)), (e[16] = z))
      : (z = e[16]);
    let N;
    e[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = s.jsxs(Ii, {
          children: [
            s.jsx(Ds, { value: "page", children: "Thiệp cưới" }),
            s.jsx(Ds, { value: "card", children: "Thiệp mời" }),
            s.jsx(Ds, { value: "logo", children: "Logo" }),
          ],
        })),
        (e[17] = N))
      : (N = e[17]);
    let R;
    e[18] !== n
      ? ((R = s.jsx(Vi, { value: n, onValueChange: z, mb: 6, children: N })),
        (e[18] = n),
        (e[19] = R))
      : (R = e[19]);
    const F = g;
    let V;
    e[20] !== u || e[21] !== _ || e[22] !== F
      ? ((V = s.jsx(as, {
          data: u,
          isLoading: _,
          columns: h,
          actions: F,
          filterFields: E,
          onFiltersChange: P,
          onResetFilters: T,
          title: "Quản lý trang thiệp",
          emptyMessage: "Không tìm thấy trang nào phù hợp với bộ lọc.",
        })),
        (e[20] = u),
        (e[21] = _),
        (e[22] = F),
        (e[23] = V))
      : (V = e[23]);
    let $;
    return (
      e[24] !== R || e[25] !== V
        ? (($ = s.jsxs(y, { className: "text-black", children: [R, V] })),
          (e[24] = R),
          (e[25] = V),
          (e[26] = $))
        : ($ = e[26]),
      $
    );
  };
function _u(e) {
  return { ...e, page: 1 };
}
function Cu(e) {
  return s.jsxs(y, {
    children: [
      e.groom &&
        s.jsx(i, { fontSize: "sm", fontWeight: "medium", children: e.groom }),
      e.bride &&
        s.jsx(i, { fontSize: "sm", color: "gray.600", children: e.bride }),
      !e.groom &&
        !e.bride &&
        s.jsx(i, {
          fontSize: "sm",
          color: "gray.400",
          children: "Chưa cập nhật",
        }),
    ],
  });
}
function Tu(e) {
  var t;
  return s.jsxs(y, {
    children: [
      s.jsxs(i, {
        fontSize: "sm",
        fontWeight: "medium",
        children: ["ID: ", e.userId],
      }),
      ((t = e.user) == null ? void 0 : t.email) &&
        s.jsx(i, {
          fontSize: "xs",
          color: "gray.600",
          maxW: "150px",
          truncate: !0,
          children: e.user.email,
        }),
    ],
  });
}
function wu(e) {
  return s.jsx(i, { fontSize: "sm", children: Nm(e.type) });
}
function Au(e) {
  var t;
  return s.jsxs(y, {
    children: [
      s.jsxs(i, {
        fontSize: "sm",
        fontWeight: "medium",
        children: ["ID: ", e.templateId],
      }),
      ((t = e.template) == null ? void 0 : t.name) &&
        s.jsx(i, {
          fontSize: "xs",
          color: "gray.600",
          maxW: "100px",
          truncate: !0,
          children: e.template.name,
        }),
    ],
  });
}
function Eu(e) {
  const t = Hs.adminBuilderPage(e.id.toString());
  window.open(t, "_blank");
}
const Pu = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Su },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  It = {
    catalogs: () => ["video-catalogs"],
    catalog: (e) => ["video-catalog", e],
    orders: () => ["video-orders"],
    order: (e) => ["video-order", e],
    myOrders: () => ["my-video-orders"],
    adminCatalogs: () => ["admin-video-catalogs"],
    adminOrders: () => ["admin-video-orders"],
  },
  Es = {
    getVideoCatalogs: async (e = {}) => {
      const t = new URLSearchParams();
      Object.entries(e).forEach(([a, l]) => {
        l != null && t.append(a, l.toString());
      });
      const n = await ie.get(`/videos?${t.toString()}`);
      return n.data.data || n.data;
    },
    getVideoCatalog: async (e) => {
      const t = await ie.get(`/videos/${e}`);
      return t.data.data || t.data;
    },
    createVideoOrder: async (e) => {
      const t = await ie.post("/videos/orders", e);
      return t.data.data || t.data;
    },
    getMyVideoOrders: async (e = {}) => {
      const t = new URLSearchParams();
      Object.entries(e).forEach(([a, l]) => {
        l != null && t.append(a, l.toString());
      });
      const n = await ie.get(`/videos/orders/my?${t.toString()}`);
      return n.data.data || n.data;
    },
    getVideoOrder: async (e) => {
      const t = await ie.get(`/videos/orders/${e}`);
      return t.data.data || t.data;
    },
    requestRevision: async (e, t) => {
      await ie.post(`/videos/orders/${e}/revisions`, t);
    },
    createVideoCatalog: async (e) => {
      const t = await ie.post("/admin/videos/catalog", e);
      return t.data.data || t.data;
    },
    getAdminVideoCatalogs: async (e = {}) => {
      const t = new URLSearchParams();
      Object.entries(e).forEach(([a, l]) => {
        l != null && t.append(a, l.toString());
      });
      const n = await ie.get(`/admin/videos/catalog?${t.toString()}`);
      return n.data.data || n.data;
    },
    getAdminVideoCatalog: async (e) => {
      const t = await ie.get(`/admin/videos/catalog/${e}`);
      return t.data.data || t.data;
    },
    updateVideoCatalog: async (e, t) => {
      const n = await ie.put(`/admin/videos/catalog/${e}`, t);
      return n.data.data || n.data;
    },
    deleteVideoCatalog: async (e) => {
      await ie.delete(`/admin/videos/catalog/${e}`);
    },
    getAdminVideoOrders: async (e = {}) => {
      const t = new URLSearchParams();
      Object.entries(e).forEach(([a, l]) => {
        l != null && t.append(a, l.toString());
      });
      const n = await ie.get(`/admin/videos/orders?${t.toString()}`);
      return n.data.data || n.data;
    },
    getAdminVideoOrder: async (e) => {
      const t = await ie.get(`/admin/videos/orders/${e}`);
      return t.data.data || t.data;
    },
    updateVideoOrder: async (e, t) => {
      const n = await ie.patch(`/admin/videos/orders/${e}`, t);
      return n.data.data || n.data;
    },
    deliverVideo: async (e, t) => {
      const n = await ie.post(`/admin/videos/orders/${e}/deliveries`, t);
      return n.data.data || n.data;
    },
    completeVideoOrder: async (e) => {
      await ie.post(`/admin/videos/orders/${e}/complete`);
    },
  },
  H0 = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...It.catalogs(), a],
            queryFn: () => Es.getVideoCatalogs(a),
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Y0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Es.createVideoOrder,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: It.myOrders() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  X0 = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...It.myOrders(), a],
            queryFn: () => Es.getMyVideoOrders(a),
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  J0 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Ou,
            onSuccess: (a, l) => {
              const { id: c } = l;
              t.invalidateQueries({ queryKey: It.order(c) }),
                t.invalidateQueries({ queryKey: It.myOrders() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  ku = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Es.createVideoCatalog,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: It.adminCatalogs() }),
                t.invalidateQueries({ queryKey: It.catalogs() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Nu = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...It.adminCatalogs(), a],
            queryFn: () => Es.getAdminVideoCatalogs(a),
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Du = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Iu,
            onSuccess: (a, l) => {
              const { id: c } = l;
              t.invalidateQueries({ queryKey: It.adminCatalogs() }),
                t.invalidateQueries({ queryKey: It.catalog(c) }),
                t.invalidateQueries({ queryKey: It.catalogs() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Lu = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Es.deleteVideoCatalog,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: It.adminCatalogs() }),
                t.invalidateQueries({ queryKey: It.catalogs() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  zu = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...It.adminOrders(), a],
            queryFn: () => Es.getAdminVideoOrders(a),
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Fu = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Vu,
            onSuccess: (a, l) => {
              const { id: c } = l;
              t.invalidateQueries({ queryKey: It.adminOrders() }),
                t.invalidateQueries({ queryKey: [...It.adminOrders(), c] }),
                t.invalidateQueries({ queryKey: It.myOrders() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Ru = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: $u,
            onSuccess: (a, l) => {
              const { id: c } = l;
              t.invalidateQueries({ queryKey: It.adminOrders() }),
                t.invalidateQueries({ queryKey: [...It.adminOrders(), c] }),
                t.invalidateQueries({ queryKey: It.myOrders() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function Ou(e) {
  const { id: t, data: n } = e;
  return Es.requestRevision(t, n);
}
function Iu(e) {
  const { id: t, data: n } = e;
  return Es.updateVideoCatalog(t, n);
}
function Vu(e) {
  const { id: t, data: n } = e;
  return Es.updateVideoOrder(t, n);
}
function $u(e) {
  const { id: t, data: n } = e;
  return Es.deliverVideo(t, n);
}
const jn = (e, t = "VND") =>
    new Intl.NumberFormat("vi-VN", { style: "currency", currency: t }).format(
      e
    ),
  Mu = (e) => {
    const t = G.c(38),
      {
        data: n,
        isLoading: a,
        filters: l,
        onFiltersChange: c,
        onViewCatalog: m,
        onEditCatalog: r,
        onDeleteCatalog: o,
      } = e;
    let u;
    t[0] !== l || t[1] !== c
      ? ((u = (g) => {
          c({ ...l, offset: (g - 1) * (l.limit || 20) });
        }),
        (t[0] = l),
        (t[1] = c),
        (t[2] = u))
      : (u = t[2]);
    const _ = u;
    if (a) {
      let g;
      return (
        t[3] === Symbol.for("react.memo_cache_sentinel")
          ? ((g = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              py: 8,
              children: s.jsx(Wt, { size: "lg" }),
            })),
            (t[3] = g))
          : (g = t[3]),
        g
      );
    }
    if (!n || n.catalogs.length === 0) {
      let g;
      return (
        t[4] === Symbol.for("react.memo_cache_sentinel")
          ? ((g = s.jsx(y, {
              textAlign: "center",
              py: 8,
              children: s.jsx(i, {
                fontSize: "lg",
                color: "gray.500",
                children:
                  "Không tìm thấy video catalog nào phù hợp với bộ lọc.",
              }),
            })),
            (t[4] = g))
          : (g = t[4]),
        g
      );
    }
    const { catalogs: d, total: f } = n,
      b = Math.floor((l.offset || 0) / (l.limit || 20)) + 1,
      P = Math.ceil(f / (l.limit || 20));
    let w;
    t[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = { base: "none", lg: "block" }), (t[5] = w))
      : (w = t[5]);
    let v;
    t[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((v = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "Tiêu đề" }),
              s.jsx(Ce, { children: "Mô tả" }),
              s.jsx(Ce, { children: "Giá Basic" }),
              s.jsx(Ce, { children: "Giá Pro" }),
              s.jsx(Ce, { children: "Giá VIP" }),
              s.jsx(Ce, { children: "ETA (ngày)" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
            ],
          }),
        })),
        (t[6] = v))
      : (v = t[6]);
    let x;
    if (t[7] !== d || t[8] !== o || t[9] !== r || t[10] !== m) {
      let g;
      t[12] !== o || t[13] !== r || t[14] !== m
        ? ((g = (p) =>
            s.jsxs(
              At,
              {
                children: [
                  s.jsx(_e, {
                    children: s.jsxs(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: ["#", p.id],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      maxW: "200px",
                      truncate: !0,
                      children: p.title,
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      color: "gray.600",
                      maxW: "200px",
                      truncate: !0,
                      children: p.description || "Không có mô tả",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: p.allowBasic
                        ? jn(p.priceBasicCents, p.currency)
                        : "N/A",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: p.allowPro
                        ? jn(p.priceProCents, p.currency)
                        : "N/A",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      children: p.allowVip
                        ? jn(p.priceVipCents, p.currency)
                        : "N/A",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(i, {
                      fontSize: "sm",
                      children: [p.etaDays, " ngày"],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: p.isActive ? "green" : "gray",
                      size: "sm",
                      children: p.isActive ? "Hoạt động" : "Không hoạt động",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      color: "gray.600",
                      children: p.createdAt
                        ? new Date(p.createdAt).toLocaleDateString("vi-VN")
                        : "N/A",
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(W, {
                      justify: "flex-end",
                      gap: 2,
                      children: [
                        s.jsx(wt, {
                          size: "sm",
                          variant: "ghost",
                          onClick: () => m(p.id),
                          title: "Xem chi tiết",
                          children: s.jsx(Xt, {}),
                        }),
                        s.jsx(wt, {
                          size: "sm",
                          variant: "ghost",
                          onClick: () => r(p),
                          title: "Chỉnh sửa",
                          children: s.jsx(Mt, {}),
                        }),
                        s.jsx(wt, {
                          size: "sm",
                          variant: "ghost",
                          colorScheme: "red",
                          onClick: () => o(p.id),
                          title: "Xóa",
                          children: s.jsx(Ls, {}),
                        }),
                      ],
                    }),
                  }),
                ],
              },
              p.id
            )),
          (t[12] = o),
          (t[13] = r),
          (t[14] = m),
          (t[15] = g))
        : (g = t[15]),
        (x = d.map(g)),
        (t[7] = d),
        (t[8] = o),
        (t[9] = r),
        (t[10] = m),
        (t[11] = x);
    } else x = t[11];
    let T;
    t[16] !== x
      ? ((T = s.jsx(y, {
          display: w,
          overflowX: "auto",
          bg: "white",
          borderRadius: "md",
          border: "1px",
          borderColor: "gray.200",
          children: s.jsxs(vs, {
            size: "sm",
            children: [v, s.jsx(_s, { children: x })],
          }),
        })),
        (t[16] = x),
        (t[17] = T))
      : (T = t[17]);
    let S;
    t[18] === Symbol.for("react.memo_cache_sentinel")
      ? ((S = { base: "block", lg: "none" }), (t[18] = S))
      : (S = t[18]);
    let h;
    if (t[19] !== d || t[20] !== o || t[21] !== r || t[22] !== m) {
      let g;
      t[24] !== o || t[25] !== r || t[26] !== m
        ? ((g = (p) =>
            s.jsxs(
              y,
              {
                p: 4,
                bg: "white",
                borderRadius: "md",
                border: "1px",
                borderColor: "gray.200",
                shadow: "sm",
                children: [
                  s.jsxs(W, {
                    justify: "space-between",
                    mb: 3,
                    children: [
                      s.jsxs(i, {
                        fontSize: "sm",
                        fontWeight: "bold",
                        color: "blue.600",
                        children: ["#", p.id],
                      }),
                      s.jsx(Be, {
                        colorScheme: p.isActive ? "green" : "gray",
                        size: "sm",
                        children: p.isActive ? "Hoạt động" : "Không hoạt động",
                      }),
                    ],
                  }),
                  s.jsx(i, {
                    fontSize: "lg",
                    fontWeight: "semibold",
                    mb: 2,
                    children: p.title,
                  }),
                  s.jsx(i, {
                    fontSize: "sm",
                    color: "gray.600",
                    mb: 3,
                    children: p.description || "Không có mô tả",
                  }),
                  s.jsxs(y, {
                    mb: 3,
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        fontWeight: "medium",
                        mb: 2,
                        children: "Giá các gói:",
                      }),
                      s.jsxs(W, {
                        gap: 4,
                        wrap: "wrap",
                        children: [
                          p.allowBasic &&
                            s.jsxs(Be, {
                              colorScheme: "gray",
                              size: "sm",
                              children: [
                                "Basic: ",
                                jn(p.priceBasicCents, p.currency),
                              ],
                            }),
                          p.allowPro &&
                            s.jsxs(Be, {
                              colorScheme: "blue",
                              size: "sm",
                              children: [
                                "Pro: ",
                                jn(p.priceProCents, p.currency),
                              ],
                            }),
                          p.allowVip &&
                            s.jsxs(Be, {
                              colorScheme: "purple",
                              size: "sm",
                              children: [
                                "VIP: ",
                                jn(p.priceVipCents, p.currency),
                              ],
                            }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(W, {
                    justify: "space-between",
                    mb: 3,
                    children: [
                      s.jsxs(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: ["ETA: ", p.etaDays, " ngày"],
                      }),
                      s.jsx(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: p.createdAt
                          ? new Date(p.createdAt).toLocaleDateString("vi-VN")
                          : "N/A",
                      }),
                    ],
                  }),
                  s.jsxs(W, {
                    justify: "flex-end",
                    gap: 2,
                    children: [
                      s.jsx(Y, {
                        size: "sm",
                        variant: "outline",
                        onClick: () => m(p.id),
                        children: s.jsx(Xt, {}),
                      }),
                      s.jsx(Y, {
                        size: "sm",
                        variant: "outline",
                        onClick: () => r(p),
                        children: s.jsx(Mt, {}),
                      }),
                      s.jsx(Y, {
                        size: "sm",
                        variant: "outline",
                        colorScheme: "red",
                        onClick: () => o(p.id),
                        children: s.jsx(Ls, {}),
                      }),
                    ],
                  }),
                ],
              },
              p.id
            )),
          (t[24] = o),
          (t[25] = r),
          (t[26] = m),
          (t[27] = g))
        : (g = t[27]),
        (h = d.map(g)),
        (t[19] = d),
        (t[20] = o),
        (t[21] = r),
        (t[22] = m),
        (t[23] = h);
    } else h = t[23];
    let C;
    t[28] !== h
      ? ((C = s.jsx(y, { display: S, spaceY: 4, children: h })),
        (t[28] = h),
        (t[29] = C))
      : (C = t[29]);
    let A;
    t[30] !== b || t[31] !== _ || t[32] !== P
      ? ((A =
          P > 1 &&
          s.jsxs(y, {
            mt: 6,
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            gap: 4,
            children: [
              s.jsx(Y, {
                size: "sm",
                variant: "outline",
                onClick: () => _(b - 1),
                disabled: b === 1,
                children: "Trước",
              }),
              s.jsxs(i, {
                fontSize: "sm",
                color: "gray.600",
                children: ["Trang ", b, " / ", P],
              }),
              s.jsx(Y, {
                size: "sm",
                variant: "outline",
                onClick: () => _(b + 1),
                disabled: b === P,
                children: "Sau",
              }),
            ],
          })),
        (t[30] = b),
        (t[31] = _),
        (t[32] = P),
        (t[33] = A))
      : (A = t[33]);
    let k;
    return (
      t[34] !== T || t[35] !== C || t[36] !== A
        ? ((k = s.jsxs(y, { children: [T, C, A] })),
          (t[34] = T),
          (t[35] = C),
          (t[36] = A),
          (t[37] = k))
        : (k = t[37]),
      k
    );
  },
  Wu = (e) => {
    const t = G.c(48),
      { filters: n, onFiltersChange: a } = e;
    let l;
    t[0] !== n || t[1] !== a
      ? ((l = (K, H) => {
          a({ ...n, [K]: H, offset: 0 });
        }),
        (t[0] = n),
        (t[1] = a),
        (t[2] = l))
      : (l = t[2]);
    const c = l;
    let m;
    t[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Tìm kiếm",
        })),
        (t[3] = m))
      : (m = t[3]);
    const r = n.q || "";
    let o;
    t[4] !== c
      ? ((o = (K) => c("q", K.target.value)), (t[4] = c), (t[5] = o))
      : (o = t[5]);
    let u;
    t[6] !== r || t[7] !== o
      ? ((u = s.jsx(Ee, {
          placeholder: "Tìm kiếm theo tiêu đề, mô tả...",
          value: r,
          onChange: o,
          className: "pl-8",
          bg: "white",
        })),
        (t[6] = r),
        (t[7] = o),
        (t[8] = u))
      : (u = t[8]);
    let _;
    t[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = s.jsx(On, {
          className:
            "absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",
          size: 16,
        })),
        (t[9] = _))
      : (_ = t[9]);
    let d;
    t[10] !== u
      ? ((d = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            m,
            s.jsxs("div", { className: "relative", children: [u, _] }),
          ],
        })),
        (t[10] = u),
        (t[11] = d))
      : (d = t[11]);
    let f;
    t[12] === Symbol.for("react.memo_cache_sentinel")
      ? ((f = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Loại video",
        })),
        (t[12] = f))
      : (f = t[12]);
    const b = n.category || "";
    let P;
    t[13] !== c
      ? ((P = (K) => c("category", K.target.value || void 0)),
        (t[13] = c),
        (t[14] = P))
      : (P = t[14]);
    let w, v, x, T, S;
    t[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = s.jsx("option", { value: "", children: "Tất cả loại" })),
        (v = s.jsx("option", { value: ks.WEDDING, children: "Video" })),
        (x = s.jsx("option", { value: ks.EVENT, children: "Video sự kiện" })),
        (T = s.jsx("option", {
          value: ks.BIRTHDAY,
          children: "Video sinh nhật",
        })),
        (S = s.jsx("option", {
          value: ks.ANNIVERSARY,
          children: "Video kỷ niệm",
        })),
        (t[15] = w),
        (t[16] = v),
        (t[17] = x),
        (t[18] = T),
        (t[19] = S))
      : ((w = t[15]), (v = t[16]), (x = t[17]), (T = t[18]), (S = t[19]));
    let h;
    t[20] !== P || t[21] !== b
      ? ((h = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            f,
            s.jsxs("select", {
              value: b,
              onChange: P,
              className:
                "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
              children: [w, v, x, T, S],
            }),
          ],
        })),
        (t[20] = P),
        (t[21] = b),
        (t[22] = h))
      : (h = t[22]);
    let C;
    t[23] === Symbol.for("react.memo_cache_sentinel")
      ? ((C = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Tier có sẵn",
        })),
        (t[23] = C))
      : (C = t[23]);
    const A = n.tierAvailable || "";
    let k;
    t[24] !== c
      ? ((k = (K) => c("tierAvailable", K.target.value || void 0)),
        (t[24] = c),
        (t[25] = k))
      : (k = t[25]);
    let g, p, E, z;
    t[26] === Symbol.for("react.memo_cache_sentinel")
      ? ((g = s.jsx("option", { value: "", children: "Tất cả tier" })),
        (p = s.jsx("option", { value: cs.BASIC, children: "Basic" })),
        (E = s.jsx("option", { value: cs.PRO, children: "Pro" })),
        (z = s.jsx("option", { value: cs.VIP, children: "VIP" })),
        (t[26] = g),
        (t[27] = p),
        (t[28] = E),
        (t[29] = z))
      : ((g = t[26]), (p = t[27]), (E = t[28]), (z = t[29]));
    let N;
    t[30] !== A || t[31] !== k
      ? ((N = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            C,
            s.jsxs("select", {
              value: A,
              onChange: k,
              className:
                "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
              children: [g, p, E, z],
            }),
          ],
        })),
        (t[30] = A),
        (t[31] = k),
        (t[32] = N))
      : (N = t[32]);
    let R;
    t[33] === Symbol.for("react.memo_cache_sentinel")
      ? ((R = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Số lượng hiển thị",
        })),
        (t[33] = R))
      : (R = t[33]);
    const F = n.limit || 20;
    let V;
    t[34] !== c
      ? ((V = (K) => c("limit", parseInt(K.target.value))),
        (t[34] = c),
        (t[35] = V))
      : (V = t[35]);
    let $, Q, M, L;
    t[36] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = s.jsx("option", { value: 10, children: "10" })),
        (Q = s.jsx("option", { value: 20, children: "20" })),
        (M = s.jsx("option", { value: 50, children: "50" })),
        (L = s.jsx("option", { value: 100, children: "100" })),
        (t[36] = $),
        (t[37] = Q),
        (t[38] = M),
        (t[39] = L))
      : (($ = t[36]), (Q = t[37]), (M = t[38]), (L = t[39]));
    let q;
    t[40] !== F || t[41] !== V
      ? ((q = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            R,
            s.jsxs("select", {
              value: F,
              onChange: V,
              className:
                "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
              children: [$, Q, M, L],
            }),
          ],
        })),
        (t[40] = F),
        (t[41] = V),
        (t[42] = q))
      : (q = t[42]);
    let D;
    return (
      t[43] !== h || t[44] !== N || t[45] !== q || t[46] !== d
        ? ((D = s.jsx(y, {
            p: 4,
            bg: "gray.50",
            borderRadius: "lg",
            mb: 6,
            children: s.jsxs("div", {
              className: "grid grid-cols-1 md:grid-cols-4 gap-4",
              children: [d, h, N, q],
            }),
          })),
          (t[43] = h),
          (t[44] = N),
          (t[45] = q),
          (t[46] = d),
          (t[47] = D))
        : (D = t[47]),
      D
    );
  },
  qu = ({ isOpen: e, onClose: t, catalog: n }) => {
    const a = !!n,
      l = ku(),
      c = Du(),
      [m, r] = j.useState(!1),
      [o, u] = j.useState(null),
      [_, d] = j.useState("thumbnail"),
      [f, b] = j.useState({
        title: "",
        description: "",
        category: ks.WEDDING,
        previewUrl: "",
        thumbnailUrl: "",
        priceBasicCents: 0,
        priceProCents: 0,
        priceVipCents: 0,
        currency: "VND",
        allowBasic: !0,
        allowPro: !0,
        allowVip: !0,
        etaDays: 3,
        features: {
          revisions: { basic: 0, pro: 1, vip: 2 },
          quality: { basic: "720p", pro: "1080p", vip: "4K" },
        },
      }),
      [P, w] = j.useState(!1),
      v = (h) => {
        if (h.length > 0) {
          const C = h[0];
          u(C), x(_ === "preview" ? "previewUrl" : "thumbnailUrl", C.filePath);
        }
        r(!1);
      };
    j.useEffect(() => {
      b(
        n
          ? {
              title: n.title,
              description: n.description || "",
              category: n.category,
              previewUrl: n.previewUrl || "",
              thumbnailUrl: n.thumbnailUrl || "",
              priceBasicCents: n.priceBasicCents,
              priceProCents: n.priceProCents,
              priceVipCents: n.priceVipCents,
              currency: n.currency,
              allowBasic: n.allowBasic,
              allowPro: n.allowPro,
              allowVip: n.allowVip,
              etaDays: n.etaDays,
              features: n.features || {
                revisions: { basic: 0, pro: 1, vip: 2 },
                quality: { basic: "720p", pro: "1080p", vip: "4K" },
              },
            }
          : {
              title: "",
              description: "",
              category: ks.WEDDING,
              previewUrl: "",
              thumbnailUrl: "",
              priceBasicCents: 0,
              priceProCents: 0,
              priceVipCents: 0,
              currency: "VND",
              allowBasic: !0,
              allowPro: !0,
              allowVip: !0,
              etaDays: 3,
              features: {
                revisions: { basic: 0, pro: 1, vip: 2 },
                quality: { basic: "720p", pro: "1080p", vip: "4K" },
              },
            }
      );
    }, [n, e]);
    const x = (h, C) => {
        b((A) => ({ ...A, [h]: C }));
      },
      T = (h, C, A) => {
        b((k) => ({
          ...k,
          features: { ...k.features, [C]: { ...k.features[C], [h]: A } },
        }));
      },
      S = async () => {
        try {
          if ((w(!0), !f.title.trim())) {
            ye.create({
              title: "Lỗi",
              description: "Vui lòng điền tiêu đề video catalog",
              type: "error",
            });
            return;
          }
          if (!f.description.trim()) {
            ye.create({
              title: "Lỗi",
              description: "Vui lòng điền mô tả video catalog",
              type: "error",
            });
            return;
          }
          if (
            f.priceBasicCents <= 0 &&
            f.priceProCents <= 0 &&
            f.priceVipCents <= 0
          ) {
            ye.create({
              title: "Lỗi",
              description: "Vui lòng đặt giá cho ít nhất một tier",
              type: "error",
            });
            return;
          }
          const h = {
            title: f.title,
            description: f.description,
            previewUrl: f.previewUrl || void 0,
            thumbnailUrl: f.thumbnailUrl || void 0,
            priceBasicCents: f.priceBasicCents,
            priceProCents: f.priceProCents,
            priceVipCents: f.priceVipCents,
            currency: f.currency,
            allowBasic: f.allowBasic,
            allowPro: f.allowPro,
            allowVip: f.allowVip,
            etaDays: f.etaDays,
            features: f.features,
          };
          n
            ? (await c.mutateAsync({ id: n.id, data: h }),
              ye.create({
                title: "Thành công",
                description: "Cập nhật video catalog thành công!",
                type: "success",
              }))
            : (await l.mutateAsync(h),
              ye.create({
                title: "Thành công",
                description: "Tạo video catalog thành công!",
                type: "success",
              })),
            t();
        } catch {
          ye.create({
            title: "Lỗi",
            description: n
              ? "Không thể cập nhật video catalog"
              : "Không thể tạo video catalog",
            type: "error",
          });
        } finally {
          w(!1);
        }
      };
    return s.jsxs(s.Fragment, {
      children: [
        s.jsxs(Ot, {
          isOpen: e,
          onClose: t,
          title: a ? "Chỉnh sửa video catalog" : "Tạo video catalog mới",
          maxWidth: "800px",
          children: [
            s.jsxs("div", {
              className: "flex flex-col gap-6 max-h-96 overflow-y-auto",
              children: [
                s.jsxs("div", {
                  className: "flex flex-col gap-4",
                  children: [
                    s.jsx(i, {
                      fontSize: "md",
                      fontWeight: "semibold",
                      color: "blue.600",
                      children: "Thông tin cơ bản",
                    }),
                    s.jsxs("div", {
                      className: "flex flex-col gap-2",
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children: "Tiêu đề *",
                        }),
                        s.jsx(Ee, {
                          value: f.title,
                          onChange: (h) => x("title", h.target.value),
                          placeholder: "Nhập tiêu đề video catalog",
                        }),
                      ],
                    }),
                    s.jsxs("div", {
                      className: "flex flex-col gap-2",
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children: "Mô tả *",
                        }),
                        s.jsx(Qt, {
                          value: f.description,
                          onChange: (h) => x("description", h.target.value),
                          placeholder: "Nhập mô tả video catalog",
                          rows: 3,
                        }),
                      ],
                    }),
                    s.jsxs("div", {
                      className: "flex flex-col gap-2",
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children: "Loại video *",
                        }),
                        s.jsxs("select", {
                          value: f.category,
                          onChange: (h) => x("category", h.target.value),
                          className:
                            "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
                          children: [
                            s.jsx("option", {
                              value: ks.WEDDING,
                              children: "Video",
                            }),
                            s.jsx("option", {
                              value: ks.EVENT,
                              children: "Video sự kiện",
                            }),
                            s.jsx("option", {
                              value: ks.BIRTHDAY,
                              children: "Video sinh nhật",
                            }),
                            s.jsx("option", {
                              value: ks.ANNIVERSARY,
                              children: "Video kỷ niệm",
                            }),
                          ],
                        }),
                      ],
                    }),
                    s.jsxs("div", {
                      className: "flex flex-col gap-2",
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children: "Số ngày dự kiến hoàn thành",
                        }),
                        s.jsx(Ee, {
                          type: "number",
                          value: f.etaDays,
                          onChange: (h) =>
                            x("etaDays", parseInt(h.target.value) || 3),
                          min: 1,
                          max: 30,
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-4",
                  children: [
                    s.jsx(i, {
                      fontSize: "md",
                      fontWeight: "semibold",
                      color: "blue.600",
                      children: "Media",
                    }),
                    s.jsxs("div", {
                      className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                      children: [
                        s.jsxs("div", {
                          className: "flex flex-col gap-2",
                          children: [
                            s.jsx(i, {
                              fontSize: "sm",
                              fontWeight: "medium",
                              children: "Thumbnail",
                            }),
                            s.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                f.thumbnailUrl &&
                                  s.jsxs("div", {
                                    className: "relative inline-block",
                                    children: [
                                      s.jsx(ua, {
                                        src: f.thumbnailUrl,
                                        alt: "Thumbnail preview",
                                        maxW: "150px",
                                        maxH: "100px",
                                        objectFit: "cover",
                                        borderRadius: "md",
                                        border: "1px solid",
                                        borderColor: "gray.200",
                                      }),
                                      s.jsx(Y, {
                                        size: "sm",
                                        colorScheme: "red",
                                        variant: "solid",
                                        position: "absolute",
                                        top: "-8px",
                                        right: "-8px",
                                        borderRadius: "full",
                                        minW: "auto",
                                        h: "20px",
                                        w: "20px",
                                        p: 0,
                                        onClick: () => x("thumbnailUrl", ""),
                                        children: "×",
                                      }),
                                    ],
                                  }),
                                s.jsxs(Y, {
                                  variant: "outline",
                                  colorScheme: "blue",
                                  size: "sm",
                                  className: "flex items-center gap-2",
                                  onClick: () => {
                                    d("thumbnail"), r(!0);
                                  },
                                  children: [
                                    s.jsx(il, { size: 14 }),
                                    f.thumbnailUrl
                                      ? "Thay đổi"
                                      : "Chọn thumbnail",
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                        s.jsxs("div", {
                          className: "flex flex-col gap-2",
                          children: [
                            s.jsx(i, {
                              fontSize: "sm",
                              fontWeight: "medium",
                              children: "Preview Video",
                            }),
                            s.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                f.previewUrl &&
                                  s.jsxs("div", {
                                    className: "relative inline-block",
                                    children: [
                                      s.jsx("video", {
                                        src: f.previewUrl,
                                        controls: !0,
                                        style: {
                                          maxWidth: "150px",
                                          maxHeight: "100px",
                                        },
                                        className:
                                          "rounded-md border border-gray-200",
                                      }),
                                      s.jsx(Y, {
                                        size: "sm",
                                        colorScheme: "red",
                                        variant: "solid",
                                        position: "absolute",
                                        top: "-8px",
                                        right: "-8px",
                                        borderRadius: "full",
                                        minW: "auto",
                                        h: "20px",
                                        w: "20px",
                                        p: 0,
                                        onClick: () => x("previewUrl", ""),
                                        children: "×",
                                      }),
                                    ],
                                  }),
                                s.jsxs(Y, {
                                  variant: "outline",
                                  colorScheme: "blue",
                                  size: "sm",
                                  className: "flex items-center gap-2",
                                  onClick: () => {
                                    d("preview"), r(!0);
                                  },
                                  children: [
                                    s.jsx(il, { size: 14 }),
                                    f.previewUrl ? "Thay đổi" : "Chọn preview",
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-4",
                  children: [
                    s.jsx(i, {
                      fontSize: "md",
                      fontWeight: "semibold",
                      color: "blue.600",
                      children: "Giá và Tier",
                    }),
                    s.jsxs("div", {
                      className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                      children: [
                        s.jsx("div", {
                          className: "border border-gray-200 rounded-lg p-4",
                          children: s.jsxs(le, {
                            align: "stretch",
                            gap: 3,
                            children: [
                              s.jsxs(W, {
                                justify: "space-between",
                                children: [
                                  s.jsx(Be, {
                                    colorScheme: "gray",
                                    size: "sm",
                                    children: "Basic",
                                  }),
                                  s.jsx("input", {
                                    type: "checkbox",
                                    checked: f.allowBasic,
                                    onChange: (h) =>
                                      x("allowBasic", h.target.checked),
                                  }),
                                ],
                              }),
                              f.allowBasic &&
                                s.jsxs(s.Fragment, {
                                  children: [
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Giá (VND)",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.priceBasicCents,
                                          onChange: (h) =>
                                            x(
                                              "priceBasicCents",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Số lần chỉnh sửa",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.features.revisions.basic,
                                          onChange: (h) =>
                                            T(
                                              cs.BASIC,
                                              "revisions",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                          max: 10,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Chất lượng",
                                        }),
                                        s.jsx(Ee, {
                                          value: f.features.quality.basic,
                                          onChange: (h) =>
                                            T(
                                              cs.BASIC,
                                              "quality",
                                              h.target.value
                                            ),
                                          placeholder: "720p",
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                            ],
                          }),
                        }),
                        s.jsx("div", {
                          className: "border border-gray-200 rounded-lg p-4",
                          children: s.jsxs(le, {
                            align: "stretch",
                            gap: 3,
                            children: [
                              s.jsxs(W, {
                                justify: "space-between",
                                children: [
                                  s.jsx(Be, {
                                    colorScheme: "blue",
                                    size: "sm",
                                    children: "Pro",
                                  }),
                                  s.jsx("input", {
                                    type: "checkbox",
                                    checked: f.allowPro,
                                    onChange: (h) =>
                                      x("allowPro", h.target.checked),
                                  }),
                                ],
                              }),
                              f.allowPro &&
                                s.jsxs(s.Fragment, {
                                  children: [
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Giá (VND)",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.priceProCents,
                                          onChange: (h) =>
                                            x(
                                              "priceProCents",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Số lần chỉnh sửa",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.features.revisions.pro,
                                          onChange: (h) =>
                                            T(
                                              cs.PRO,
                                              "revisions",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                          max: 10,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Chất lượng",
                                        }),
                                        s.jsx(Ee, {
                                          value: f.features.quality.pro,
                                          onChange: (h) =>
                                            T(
                                              cs.PRO,
                                              "quality",
                                              h.target.value
                                            ),
                                          placeholder: "1080p",
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                            ],
                          }),
                        }),
                        s.jsx("div", {
                          className: "border border-gray-200 rounded-lg p-4",
                          children: s.jsxs(le, {
                            align: "stretch",
                            gap: 3,
                            children: [
                              s.jsxs(W, {
                                justify: "space-between",
                                children: [
                                  s.jsx(Be, {
                                    colorScheme: "purple",
                                    size: "sm",
                                    children: "VIP",
                                  }),
                                  s.jsx("input", {
                                    type: "checkbox",
                                    checked: f.allowVip,
                                    onChange: (h) =>
                                      x("allowVip", h.target.checked),
                                  }),
                                ],
                              }),
                              f.allowVip &&
                                s.jsxs(s.Fragment, {
                                  children: [
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Giá (VND)",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.priceVipCents,
                                          onChange: (h) =>
                                            x(
                                              "priceVipCents",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Số lần chỉnh sửa",
                                        }),
                                        s.jsx(Ee, {
                                          type: "number",
                                          value: f.features.revisions.vip,
                                          onChange: (h) =>
                                            T(
                                              cs.VIP,
                                              "revisions",
                                              parseInt(h.target.value) || 0
                                            ),
                                          min: 0,
                                          max: 10,
                                        }),
                                      ],
                                    }),
                                    s.jsxs("div", {
                                      className: "flex flex-col gap-1",
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          children: "Chất lượng",
                                        }),
                                        s.jsx(Ee, {
                                          value: f.features.quality.vip,
                                          onChange: (h) =>
                                            T(
                                              cs.VIP,
                                              "quality",
                                              h.target.value
                                            ),
                                          placeholder: "4K",
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            s.jsxs(rt, {
              justify: "flex-end",
              gap: 2,
              className: "mt-6 pt-4 border-t",
              children: [
                s.jsx(Y, { variant: "outline", onClick: t, children: "Hủy" }),
                s.jsx(Y, {
                  colorScheme: "blue",
                  onClick: S,
                  disabled: P,
                  children: P ? "Đang lưu..." : a ? "Cập nhật" : "Tạo mới",
                }),
              ],
            }),
          ],
        }),
        s.jsx(Oa, {
          isOpen: m,
          onClose: () => r(!1),
          onSelect: v,
          allowMultiple: !1,
          fileTypes:
            _ === "preview"
              ? ["video/mp4", "video/webm", "video/ogg"]
              : ["image/jpeg", "image/png", "image/gif", "image/webp"],
          title: `Chọn ${_ === "preview" ? "video preview" : "thumbnail"}`,
        }),
      ],
    });
  },
  Uu = () => {
    const e = G.c(34);
    let t;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((t = { limit: 20, offset: 0 }), (e[0] = t))
      : (t = e[0]);
    const [n, a] = j.useState(t),
      [l, c] = j.useState(null),
      [m, r] = j.useState(!1),
      [o, u] = j.useState(null),
      [_, d] = j.useState(!1),
      { data: f, isLoading: b, error: P } = Nu(n),
      w = Lu();
    let v;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((v = (D) => {
          a(D);
        }),
        (e[1] = v))
      : (v = e[1]);
    const x = v;
    let T;
    e[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((T = () => {
          c(null), r(!0);
        }),
        (e[2] = T))
      : (T = e[2]);
    const S = T;
    let h;
    e[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((h = (D) => {
          c(D), r(!0);
        }),
        (e[3] = h))
      : (h = e[3]);
    const C = h,
      A = Bu;
    let k;
    e[4] !== (f == null ? void 0 : f.catalogs)
      ? ((k = (D) => {
          const K = f == null ? void 0 : f.catalogs.find((H) => H.id === D);
          K && (u(K), d(!0));
        }),
        (e[4] = f == null ? void 0 : f.catalogs),
        (e[5] = k))
      : (k = e[5]);
    const g = k;
    let p;
    e[6] !== o || e[7] !== w
      ? ((p = async () => {
          if (o)
            try {
              await w.mutateAsync(o.id),
                ye.create({
                  title: "Thành công",
                  description: "Đã xóa video catalog thành công",
                  type: "success",
                }),
                d(!1),
                u(null);
            } catch {
              ye.create({
                title: "Lỗi",
                description: "Có lỗi xảy ra khi xóa video catalog",
                type: "error",
              });
            }
        }),
        (e[6] = o),
        (e[7] = w),
        (e[8] = p))
      : (p = e[8]);
    const E = p;
    if (P) {
      let D;
      return (
        e[9] === Symbol.for("react.memo_cache_sentinel")
          ? ((D = s.jsx(y, {
              p: 8,
              textAlign: "center",
              children: s.jsx(i, {
                color: "red.500",
                fontSize: "lg",
                children: "Có lỗi xảy ra khi tải danh sách video catalog",
              }),
            })),
            (e[9] = D))
          : (D = e[9]),
        D
      );
    }
    let z;
    e[10] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = s.jsxs(y, {
          children: [
            s.jsx(i, {
              fontSize: "2xl",
              fontWeight: "bold",
              children: "Quản lý Video Catalog",
            }),
            s.jsx(i, {
              color: "gray.600",
              children: "Quản lý danh sách video catalog và giá cả",
            }),
          ],
        })),
        (e[10] = z))
      : (z = e[10]);
    let N;
    e[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = s.jsxs(rt, {
          justify: "space-between",
          align: "center",
          className: "mb-6",
          children: [
            z,
            s.jsxs(Y, {
              className: "flex items-center gap-2",
              colorScheme: "blue",
              onClick: S,
              children: [s.jsx(hs, { size: 16 }), "Thêm video catalog"],
            }),
          ],
        })),
        (e[11] = N))
      : (N = e[11]);
    let R;
    e[12] !== n
      ? ((R = s.jsx(Wu, { filters: n, onFiltersChange: x })),
        (e[12] = n),
        (e[13] = R))
      : (R = e[13]);
    let F;
    e[14] !== f || e[15] !== n || e[16] !== g || e[17] !== b
      ? ((F = s.jsx(Mu, {
          data: f,
          isLoading: b,
          filters: n,
          onFiltersChange: x,
          onViewCatalog: A,
          onEditCatalog: C,
          onDeleteCatalog: g,
        })),
        (e[14] = f),
        (e[15] = n),
        (e[16] = g),
        (e[17] = b),
        (e[18] = F))
      : (F = e[18]);
    let V;
    e[19] === Symbol.for("react.memo_cache_sentinel")
      ? ((V = () => {
          r(!1), c(null);
        }),
        (e[19] = V))
      : (V = e[19]);
    let $;
    e[20] !== m || e[21] !== l
      ? (($ = s.jsx(qu, { isOpen: m, onClose: V, catalog: l })),
        (e[20] = m),
        (e[21] = l),
        (e[22] = $))
      : ($ = e[22]);
    let Q;
    e[23] === Symbol.for("react.memo_cache_sentinel")
      ? ((Q = () => {
          d(!1), u(null);
        }),
        (e[23] = Q))
      : (Q = e[23]);
    const M = `Bạn có chắc chắn muốn xóa video catalog "${
      o == null ? void 0 : o.title
    }"? Hành động này không thể hoàn tác.`;
    let L;
    e[24] !== E || e[25] !== w.isPending || e[26] !== _ || e[27] !== M
      ? ((L = s.jsx(Gs, {
          isOpen: _,
          onClose: Q,
          onConfirm: E,
          title: "Xác nhận xóa video catalog",
          message: M,
          isLoading: w.isPending,
        })),
        (e[24] = E),
        (e[25] = w.isPending),
        (e[26] = _),
        (e[27] = M),
        (e[28] = L))
      : (L = e[28]);
    let q;
    return (
      e[29] !== $ || e[30] !== L || e[31] !== R || e[32] !== F
        ? ((q = s.jsxs(y, { p: 6, children: [N, R, F, $, L] })),
          (e[29] = $),
          (e[30] = L),
          (e[31] = R),
          (e[32] = F),
          (e[33] = q))
        : (q = e[33]),
      q
    );
  };
function Bu(e) {}
const Qu = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Uu },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Ql = (e) => {
    switch (e) {
      case yt.CREATED:
        return "gray";
      case yt.PENDING_PAYMENT:
        return "yellow";
      case yt.PAID:
        return "blue";
      case yt.IN_PROGRESS:
        return "orange";
      case yt.DELIVERED:
        return "green";
      case yt.COMPLETED:
        return "green";
      case yt.CANCELED:
        return "red";
      case yt.REFUNDED:
        return "red";
      default:
        return "gray";
    }
  },
  Kl = (e) => {
    switch (e) {
      case yt.CREATED:
        return "Đã tạo";
      case yt.PENDING_PAYMENT:
        return "Chờ thanh toán";
      case yt.PAID:
        return "Đã thanh toán";
      case yt.IN_PROGRESS:
        return "Đang xử lý";
      case yt.DELIVERED:
        return "Đã bàn giao";
      case yt.COMPLETED:
        return "Hoàn thành";
      case yt.CANCELED:
        return "Đã hủy";
      case yt.REFUNDED:
        return "Đã hoàn tiền";
      default:
        return e;
    }
  },
  Gl = (e) => {
    switch (e) {
      case cs.BASIC:
        return "gray";
      case cs.PRO:
        return "blue";
      case cs.VIP:
        return "purple";
      default:
        return "gray";
    }
  },
  Hl = (e) => {
    switch (e) {
      case cs.BASIC:
        return "Basic";
      case cs.PRO:
        return "Pro";
      case cs.VIP:
        return "VIP";
      default:
        return e;
    }
  },
  Yl = (e, t = "VND") =>
    new Intl.NumberFormat("vi-VN", { style: "currency", currency: t }).format(
      e
    ),
  Ji = (e) => (e ? new Date(e).toLocaleDateString("vi-VN") : "N/A"),
  Ku = (e) => {
    const t = G.c(38),
      {
        data: n,
        isLoading: a,
        filters: l,
        onFiltersChange: c,
        onViewOrder: m,
        onEditOrder: r,
        onDeliverOrder: o,
      } = e;
    let u;
    t[0] !== l || t[1] !== c
      ? ((u = (g) => {
          c({ ...l, offset: (g - 1) * (l.limit || 20) });
        }),
        (t[0] = l),
        (t[1] = c),
        (t[2] = u))
      : (u = t[2]);
    const _ = u;
    if (a) {
      let g;
      return (
        t[3] === Symbol.for("react.memo_cache_sentinel")
          ? ((g = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              py: 8,
              children: s.jsx(Wt, { size: "lg" }),
            })),
            (t[3] = g))
          : (g = t[3]),
        g
      );
    }
    if (!n || n.orders.length === 0) {
      let g;
      return (
        t[4] === Symbol.for("react.memo_cache_sentinel")
          ? ((g = s.jsx(y, {
              textAlign: "center",
              py: 8,
              children: s.jsx(i, {
                fontSize: "lg",
                color: "gray.500",
                children:
                  "Không tìm thấy đơn hàng video nào phù hợp với bộ lọc.",
              }),
            })),
            (t[4] = g))
          : (g = t[4]),
        g
      );
    }
    const { orders: d, total: f } = n,
      b = Math.floor((l.offset || 0) / (l.limit || 20)) + 1,
      P = Math.ceil(f / (l.limit || 20));
    let w;
    t[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = { base: "none", lg: "block" }), (t[5] = w))
      : (w = t[5]);
    let v;
    t[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((v = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "User" }),
              s.jsx(Ce, { children: "Video" }),
              s.jsx(Ce, { children: "Tier" }),
              s.jsx(Ce, { children: "Giá" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Revisions" }),
              s.jsx(Ce, { children: "Due Date" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
            ],
          }),
        })),
        (t[6] = v))
      : (v = t[6]);
    let x;
    if (t[7] !== o || t[8] !== r || t[9] !== m || t[10] !== d) {
      let g;
      t[12] !== o || t[13] !== r || t[14] !== m
        ? ((g = (p) => {
            var E, z, N, R;
            return s.jsxs(
              At,
              {
                children: [
                  s.jsx(_e, {
                    children: s.jsxs(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: ["#", p.id],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs("div", {
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children:
                            ((E = p.user) == null ? void 0 : E.email) ||
                            `User #${p.userId}`,
                        }),
                        ((z = p.user) == null ? void 0 : z.firstName) &&
                          ((N = p.user) == null ? void 0 : N.lastName) &&
                          s.jsxs(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children: [p.user.firstName, " ", p.user.lastName],
                          }),
                      ],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      maxW: "200px",
                      truncate: !0,
                      children:
                        ((R = p.video) == null ? void 0 : R.title) ||
                        `Video #${p.videoId}`,
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: Gl(p.tier),
                      size: "sm",
                      children: Hl(p.tier),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: Yl(p.priceCents, p.currency),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(Be, {
                      colorScheme: Ql(p.status),
                      size: "sm",
                      children: Kl(p.status),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(i, {
                      fontSize: "sm",
                      children: [p.usedRevisions, "/", p.allowRevisions],
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      color: "gray.600",
                      children: Ji(p.dueAt),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsx(i, {
                      fontSize: "sm",
                      color: "gray.600",
                      children: Ji(p.createdAt),
                    }),
                  }),
                  s.jsx(_e, {
                    children: s.jsxs(W, {
                      justify: "flex-end",
                      gap: 2,
                      children: [
                        s.jsx(wt, {
                          size: "sm",
                          variant: "ghost",
                          onClick: () => m(p.id),
                          title: "Xem chi tiết",
                          children: s.jsx(Xt, {}),
                        }),
                        s.jsx(wt, {
                          size: "sm",
                          variant: "ghost",
                          onClick: () => r(p),
                          title: "Chỉnh sửa",
                          children: s.jsx(Mt, {}),
                        }),
                        (p.status === yt.PAID || p.status === yt.IN_PROGRESS) &&
                          s.jsx(wt, {
                            size: "sm",
                            variant: "ghost",
                            colorScheme: "green",
                            onClick: () => o(p.id),
                            title: "Bàn giao",
                            children: s.jsx(xl, {}),
                          }),
                      ],
                    }),
                  }),
                ],
              },
              p.id
            );
          }),
          (t[12] = o),
          (t[13] = r),
          (t[14] = m),
          (t[15] = g))
        : (g = t[15]),
        (x = d.map(g)),
        (t[7] = o),
        (t[8] = r),
        (t[9] = m),
        (t[10] = d),
        (t[11] = x);
    } else x = t[11];
    let T;
    t[16] !== x
      ? ((T = s.jsx(y, {
          display: w,
          overflowX: "auto",
          bg: "white",
          borderRadius: "md",
          border: "1px",
          borderColor: "gray.200",
          children: s.jsxs(vs, {
            size: "sm",
            children: [v, s.jsx(_s, { children: x })],
          }),
        })),
        (t[16] = x),
        (t[17] = T))
      : (T = t[17]);
    let S;
    t[18] === Symbol.for("react.memo_cache_sentinel")
      ? ((S = { base: "block", lg: "none" }), (t[18] = S))
      : (S = t[18]);
    let h;
    if (t[19] !== o || t[20] !== r || t[21] !== m || t[22] !== d) {
      let g;
      t[24] !== o || t[25] !== r || t[26] !== m
        ? ((g = (p) => {
            var E, z;
            return s.jsxs(
              y,
              {
                p: 4,
                bg: "white",
                borderRadius: "md",
                border: "1px",
                borderColor: "gray.200",
                shadow: "sm",
                children: [
                  s.jsxs(W, {
                    justify: "space-between",
                    mb: 3,
                    children: [
                      s.jsxs(i, {
                        fontSize: "sm",
                        fontWeight: "bold",
                        color: "blue.600",
                        children: ["#", p.id],
                      }),
                      s.jsx(Be, {
                        colorScheme: Ql(p.status),
                        size: "sm",
                        children: Kl(p.status),
                      }),
                    ],
                  }),
                  s.jsxs("div", {
                    className: "space-y-2 mb-3",
                    children: [
                      s.jsxs("div", {
                        children: [
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            children:
                              ((E = p.video) == null ? void 0 : E.title) ||
                              `Video #${p.videoId}`,
                          }),
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children:
                              ((z = p.user) == null ? void 0 : z.email) ||
                              `User #${p.userId}`,
                          }),
                        ],
                      }),
                      s.jsxs(W, {
                        gap: 4,
                        children: [
                          s.jsx(Be, {
                            colorScheme: Gl(p.tier),
                            size: "sm",
                            children: Hl(p.tier),
                          }),
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            children: Yl(p.priceCents, p.currency),
                          }),
                        ],
                      }),
                      s.jsxs(W, {
                        justify: "space-between",
                        children: [
                          s.jsxs(i, {
                            fontSize: "sm",
                            color: "gray.600",
                            children: [
                              "Revisions: ",
                              p.usedRevisions,
                              "/",
                              p.allowRevisions,
                            ],
                          }),
                          s.jsxs(i, {
                            fontSize: "sm",
                            color: "gray.600",
                            children: ["Due: ", Ji(p.dueAt)],
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(W, {
                    justify: "flex-end",
                    gap: 2,
                    children: [
                      s.jsx(Y, {
                        size: "sm",
                        variant: "outline",
                        onClick: () => m(p.id),
                        children: s.jsx(Xt, {}),
                      }),
                      s.jsx(Y, {
                        size: "sm",
                        variant: "outline",
                        onClick: () => r(p),
                        children: s.jsx(Mt, {}),
                      }),
                      (p.status === yt.PAID || p.status === yt.IN_PROGRESS) &&
                        s.jsx(Y, {
                          size: "sm",
                          variant: "outline",
                          colorScheme: "green",
                          onClick: () => o(p.id),
                          children: s.jsx(xl, {}),
                        }),
                    ],
                  }),
                ],
              },
              p.id
            );
          }),
          (t[24] = o),
          (t[25] = r),
          (t[26] = m),
          (t[27] = g))
        : (g = t[27]),
        (h = d.map(g)),
        (t[19] = o),
        (t[20] = r),
        (t[21] = m),
        (t[22] = d),
        (t[23] = h);
    } else h = t[23];
    let C;
    t[28] !== h
      ? ((C = s.jsx(y, { display: S, spaceY: 4, children: h })),
        (t[28] = h),
        (t[29] = C))
      : (C = t[29]);
    let A;
    t[30] !== b || t[31] !== _ || t[32] !== P
      ? ((A =
          P > 1 &&
          s.jsxs(y, {
            mt: 6,
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            gap: 4,
            children: [
              s.jsx(Y, {
                size: "sm",
                variant: "outline",
                onClick: () => _(b - 1),
                disabled: b === 1,
                children: "Trước",
              }),
              s.jsxs(i, {
                fontSize: "sm",
                color: "gray.600",
                children: ["Trang ", b, " / ", P],
              }),
              s.jsx(Y, {
                size: "sm",
                variant: "outline",
                onClick: () => _(b + 1),
                disabled: b === P,
                children: "Sau",
              }),
            ],
          })),
        (t[30] = b),
        (t[31] = _),
        (t[32] = P),
        (t[33] = A))
      : (A = t[33]);
    let k;
    return (
      t[34] !== T || t[35] !== C || t[36] !== A
        ? ((k = s.jsxs(y, { children: [T, C, A] })),
          (t[34] = T),
          (t[35] = C),
          (t[36] = A),
          (t[37] = k))
        : (k = t[37]),
      k
    );
  },
  Gu = (e) => {
    const t = G.c(66),
      { filters: n, onFiltersChange: a } = e;
    let l;
    t[0] !== n || t[1] !== a
      ? ((l = (O, U) => {
          a({ ...n, [O]: U, offset: 0 });
        }),
        (t[0] = n),
        (t[1] = a),
        (t[2] = l))
      : (l = t[2]);
    const c = l;
    let m;
    t[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Tìm kiếm",
        })),
        (t[3] = m))
      : (m = t[3]);
    const r = n.userId ? `User #${n.userId}` : "";
    let o;
    t[4] !== c
      ? ((o = (O) => {
          const U = O.target.value;
          if (U.startsWith("User #")) {
            const re = parseInt(U.replace("User #", ""));
            c("userId", isNaN(re) ? void 0 : re);
          } else c("userId", void 0);
        }),
        (t[4] = c),
        (t[5] = o))
      : (o = t[5]);
    let u;
    t[6] !== r || t[7] !== o
      ? ((u = s.jsx(Ee, {
          placeholder: "Tìm kiếm theo email user...",
          value: r,
          onChange: o,
          className: "pl-8",
          bg: "white",
        })),
        (t[6] = r),
        (t[7] = o),
        (t[8] = u))
      : (u = t[8]);
    let _;
    t[9] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = s.jsx(On, {
          className:
            "absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",
          size: 16,
        })),
        (t[9] = _))
      : (_ = t[9]);
    let d;
    t[10] !== u
      ? ((d = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            m,
            s.jsxs("div", { className: "relative", children: [u, _] }),
          ],
        })),
        (t[10] = u),
        (t[11] = d))
      : (d = t[11]);
    let f;
    t[12] === Symbol.for("react.memo_cache_sentinel")
      ? ((f = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Trạng thái",
        })),
        (t[12] = f))
      : (f = t[12]);
    const b = n.status || "";
    let P;
    t[13] !== c
      ? ((P = (O) => c("status", O.target.value || void 0)),
        (t[13] = c),
        (t[14] = P))
      : (P = t[14]);
    let w, v, x, T, S, h, C, A, k;
    t[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = s.jsx("option", { value: "", children: "Tất cả trạng thái" })),
        (v = s.jsx("option", { value: yt.CREATED, children: "Đã tạo" })),
        (x = s.jsx("option", {
          value: yt.PENDING_PAYMENT,
          children: "Chờ thanh toán",
        })),
        (T = s.jsx("option", { value: yt.PAID, children: "Đã thanh toán" })),
        (S = s.jsx("option", {
          value: yt.IN_PROGRESS,
          children: "Đang xử lý",
        })),
        (h = s.jsx("option", { value: yt.DELIVERED, children: "Đã bàn giao" })),
        (C = s.jsx("option", { value: yt.COMPLETED, children: "Hoàn thành" })),
        (A = s.jsx("option", { value: yt.CANCELED, children: "Đã hủy" })),
        (k = s.jsx("option", { value: yt.REFUNDED, children: "Đã hoàn tiền" })),
        (t[15] = w),
        (t[16] = v),
        (t[17] = x),
        (t[18] = T),
        (t[19] = S),
        (t[20] = h),
        (t[21] = C),
        (t[22] = A),
        (t[23] = k))
      : ((w = t[15]),
        (v = t[16]),
        (x = t[17]),
        (T = t[18]),
        (S = t[19]),
        (h = t[20]),
        (C = t[21]),
        (A = t[22]),
        (k = t[23]));
    let g;
    t[24] !== P || t[25] !== b
      ? ((g = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            f,
            s.jsxs("select", {
              value: b,
              onChange: P,
              className:
                "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
              children: [w, v, x, T, S, h, C, A, k],
            }),
          ],
        })),
        (t[24] = P),
        (t[25] = b),
        (t[26] = g))
      : (g = t[26]);
    let p;
    t[27] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Từ ngày",
        })),
        (t[27] = p))
      : (p = t[27]);
    const E = n.from || "";
    let z;
    t[28] !== c
      ? ((z = (O) => c("from", O.target.value || void 0)),
        (t[28] = c),
        (t[29] = z))
      : (z = t[29]);
    let N;
    t[30] !== E || t[31] !== z
      ? ((N = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            p,
            s.jsx(Ee, { type: "date", value: E, onChange: z, bg: "white" }),
          ],
        })),
        (t[30] = E),
        (t[31] = z),
        (t[32] = N))
      : (N = t[32]);
    let R;
    t[33] === Symbol.for("react.memo_cache_sentinel")
      ? ((R = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Đến ngày",
        })),
        (t[33] = R))
      : (R = t[33]);
    const F = n.to || "";
    let V;
    t[34] !== c
      ? ((V = (O) => c("to", O.target.value || void 0)),
        (t[34] = c),
        (t[35] = V))
      : (V = t[35]);
    let $;
    t[36] !== F || t[37] !== V
      ? (($ = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            R,
            s.jsx(Ee, { type: "date", value: F, onChange: V, bg: "white" }),
          ],
        })),
        (t[36] = F),
        (t[37] = V),
        (t[38] = $))
      : ($ = t[38]);
    let Q;
    t[39] !== g || t[40] !== N || t[41] !== $ || t[42] !== d
      ? ((Q = s.jsxs("div", {
          className: "grid grid-cols-1 md:grid-cols-4 gap-4",
          children: [d, g, N, $],
        })),
        (t[39] = g),
        (t[40] = N),
        (t[41] = $),
        (t[42] = d),
        (t[43] = Q))
      : (Q = t[43]);
    let M;
    t[44] === Symbol.for("react.memo_cache_sentinel")
      ? ((M = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Video ID",
        })),
        (t[44] = M))
      : (M = t[44]);
    const L = n.videoId || "";
    let q;
    t[45] !== c
      ? ((q = (O) =>
          c("videoId", O.target.value ? parseInt(O.target.value) : void 0)),
        (t[45] = c),
        (t[46] = q))
      : (q = t[46]);
    let D;
    t[47] !== L || t[48] !== q
      ? ((D = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            M,
            s.jsx(Ee, {
              type: "number",
              placeholder: "Nhập ID video...",
              value: L,
              onChange: q,
              bg: "white",
            }),
          ],
        })),
        (t[47] = L),
        (t[48] = q),
        (t[49] = D))
      : (D = t[49]);
    let K;
    t[50] === Symbol.for("react.memo_cache_sentinel")
      ? ((K = s.jsx(i, {
          fontSize: "sm",
          fontWeight: "medium",
          children: "Số lượng hiển thị",
        })),
        (t[50] = K))
      : (K = t[50]);
    const H = n.limit || 20;
    let B;
    t[51] !== c
      ? ((B = (O) => c("limit", parseInt(O.target.value))),
        (t[51] = c),
        (t[52] = B))
      : (B = t[52]);
    let Z, J, se, ee;
    t[53] === Symbol.for("react.memo_cache_sentinel")
      ? ((Z = s.jsx("option", { value: 10, children: "10" })),
        (J = s.jsx("option", { value: 20, children: "20" })),
        (se = s.jsx("option", { value: 50, children: "50" })),
        (ee = s.jsx("option", { value: 100, children: "100" })),
        (t[53] = Z),
        (t[54] = J),
        (t[55] = se),
        (t[56] = ee))
      : ((Z = t[53]), (J = t[54]), (se = t[55]), (ee = t[56]));
    let te;
    t[57] !== H || t[58] !== B
      ? ((te = s.jsxs("div", {
          className: "flex flex-col gap-1",
          children: [
            K,
            s.jsxs("select", {
              value: H,
              onChange: B,
              className:
                "px-3 py-2 border border-gray-300 rounded-md text-sm bg-white",
              children: [Z, J, se, ee],
            }),
          ],
        })),
        (t[57] = H),
        (t[58] = B),
        (t[59] = te))
      : (te = t[59]);
    let X;
    t[60] !== D || t[61] !== te
      ? ((X = s.jsxs("div", {
          className: "grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",
          children: [D, te],
        })),
        (t[60] = D),
        (t[61] = te),
        (t[62] = X))
      : (X = t[62]);
    let I;
    return (
      t[63] !== Q || t[64] !== X
        ? ((I = s.jsxs(y, {
            p: 4,
            bg: "gray.50",
            borderRadius: "lg",
            mb: 6,
            children: [Q, X],
          })),
          (t[63] = Q),
          (t[64] = X),
          (t[65] = I))
        : (I = t[65]),
      I
    );
  },
  Hu = ({ isOpen: e, onClose: t, order: n }) => {
    var d, f;
    const a = Fu(),
      [l, c] = j.useState({
        status: void 0,
        allowRevisions: void 0,
        dueAt: void 0,
        note: void 0,
        meta: void 0,
      }),
      [m, r] = j.useState(!1);
    j.useEffect(() => {
      var b;
      c(
        n
          ? {
              status: n.status,
              allowRevisions: n.allowRevisions,
              dueAt: n.dueAt
                ? new Date(n.dueAt).toISOString().split("T")[0]
                : void 0,
              note: ((b = n.meta) == null ? void 0 : b.note) || "",
              meta: n.meta,
            }
          : {
              status: void 0,
              allowRevisions: void 0,
              dueAt: void 0,
              note: void 0,
              meta: void 0,
            }
      );
    }, [n, e]);
    const o = (b, P) => {
        c((w) => ({ ...w, [b]: P }));
      },
      u = async () => {
        if (n)
          try {
            r(!0);
            const b = {
              status: l.status,
              allowRevisions: l.allowRevisions,
              dueAt: l.dueAt ? new Date(l.dueAt).toISOString() : void 0,
              note: l.note,
              meta: { ...l.meta, note: l.note },
            };
            await a.mutateAsync({ id: n.id, data: b }),
              ye.create({
                title: "Thành công",
                description: "Cập nhật đơn hàng thành công!",
                type: "success",
              }),
              t();
          } catch {
            ye.create({
              title: "Lỗi",
              description: "Không thể cập nhật đơn hàng",
              type: "error",
            });
          } finally {
            r(!1);
          }
      },
      _ = [
        { value: yt.CREATED, label: "Đã tạo" },
        { value: yt.PENDING_PAYMENT, label: "Chờ thanh toán" },
        { value: yt.PAID, label: "Đã thanh toán" },
        { value: yt.IN_PROGRESS, label: "Đang xử lý" },
        { value: yt.DELIVERED, label: "Đã bàn giao" },
        { value: yt.COMPLETED, label: "Hoàn thành" },
        { value: yt.CANCELED, label: "Đã hủy" },
        { value: yt.REFUNDED, label: "Đã hoàn tiền" },
      ];
    return n
      ? s.jsxs(Ot, {
          isOpen: e,
          onClose: t,
          title: `Chỉnh sửa đơn hàng #${n.id}`,
          maxWidth: "600px",
          children: [
            s.jsxs("div", {
              className: "flex flex-col gap-4",
              children: [
                s.jsxs(y, {
                  p: 4,
                  bg: "gray.50",
                  borderRadius: "md",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      mb: 2,
                      children: "Thông tin đơn hàng",
                    }),
                    s.jsxs("div", {
                      className: "grid grid-cols-2 gap-2 text-sm",
                      children: [
                        s.jsxs("div", {
                          children: [
                            s.jsx(i, { color: "gray.600", children: "Video:" }),
                            s.jsx(i, {
                              fontWeight: "medium",
                              children:
                                ((d = n.video) == null ? void 0 : d.title) ||
                                `Video #${n.videoId}`,
                            }),
                          ],
                        }),
                        s.jsxs("div", {
                          children: [
                            s.jsx(i, { color: "gray.600", children: "User:" }),
                            s.jsx(i, {
                              fontWeight: "medium",
                              children:
                                ((f = n.user) == null ? void 0 : f.email) ||
                                `User #${n.userId}`,
                            }),
                          ],
                        }),
                        s.jsxs("div", {
                          children: [
                            s.jsx(i, { color: "gray.600", children: "Tier:" }),
                            s.jsx(i, {
                              fontWeight: "medium",
                              children: n.tier.toUpperCase(),
                            }),
                          ],
                        }),
                        s.jsxs("div", {
                          children: [
                            s.jsx(i, { color: "gray.600", children: "Giá:" }),
                            s.jsx(i, {
                              fontWeight: "medium",
                              children: new Intl.NumberFormat("vi-VN", {
                                style: "currency",
                                currency: n.currency,
                              }).format(n.priceCents),
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "Trạng thái *",
                    }),
                    s.jsx("select", {
                      value: l.status || "",
                      onChange: (b) => o("status", b.target.value),
                      className:
                        "px-3 py-2 border border-gray-300 rounded-md text-sm",
                      children: _.map((b) =>
                        s.jsx(
                          "option",
                          { value: b.value, children: b.label },
                          b.value
                        )
                      ),
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "Số lần chỉnh sửa cho phép",
                    }),
                    s.jsx(Ee, {
                      type: "number",
                      value: l.allowRevisions || 0,
                      onChange: (b) =>
                        o("allowRevisions", parseInt(b.target.value) || 0),
                      min: 0,
                      max: 10,
                    }),
                    s.jsxs(i, {
                      fontSize: "xs",
                      color: "gray.600",
                      children: [
                        "Hiện tại đã sử dụng: ",
                        n.usedRevisions,
                        "/",
                        n.allowRevisions,
                      ],
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "Ngày dự kiến hoàn thành",
                    }),
                    s.jsx(Ee, {
                      type: "date",
                      value: l.dueAt || "",
                      onChange: (b) => o("dueAt", b.target.value || void 0),
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "Ghi chú",
                    }),
                    s.jsx(Qt, {
                      value: l.note || "",
                      onChange: (b) => o("note", b.target.value),
                      placeholder: "Nhập ghi chú cho đơn hàng...",
                      rows: 3,
                    }),
                  ],
                }),
                n.requirements &&
                  Object.keys(n.requirements).length > 0 &&
                  s.jsxs("div", {
                    className: "flex flex-col gap-2",
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        fontWeight: "medium",
                        children: "Yêu cầu từ khách hàng",
                      }),
                      s.jsx(y, {
                        p: 3,
                        bg: "blue.50",
                        borderRadius: "md",
                        border: "1px",
                        borderColor: "blue.200",
                        children: s.jsx("pre", {
                          className: "text-sm whitespace-pre-wrap",
                          children: JSON.stringify(n.requirements, null, 2),
                        }),
                      }),
                    ],
                  }),
                n.deliveries &&
                  n.deliveries.length > 0 &&
                  s.jsxs("div", {
                    className: "flex flex-col gap-2",
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        fontWeight: "medium",
                        children: "Lịch sử bàn giao",
                      }),
                      s.jsx(y, {
                        maxH: "200px",
                        overflowY: "auto",
                        children: n.deliveries.map((b, P) =>
                          s.jsxs(
                            y,
                            {
                              p: 3,
                              bg: "gray.50",
                              borderRadius: "md",
                              mb: 2,
                              children: [
                                s.jsxs("div", {
                                  className:
                                    "flex justify-between items-start mb-2",
                                  children: [
                                    s.jsxs(i, {
                                      fontSize: "sm",
                                      fontWeight: "medium",
                                      children: ["Lần bàn giao ", P + 1],
                                    }),
                                    s.jsx(i, {
                                      fontSize: "xs",
                                      color: "gray.600",
                                      children: new Date(
                                        b.createdAt
                                      ).toLocaleString("vi-VN"),
                                    }),
                                  ],
                                }),
                                b.note &&
                                  s.jsx(i, {
                                    fontSize: "sm",
                                    color: "gray.600",
                                    mb: 2,
                                    children: b.note,
                                  }),
                                s.jsxs("div", {
                                  className: "flex gap-2",
                                  children: [
                                    s.jsx("a", {
                                      href: b.fileUrl,
                                      target: "_blank",
                                      rel: "noopener noreferrer",
                                      className:
                                        "text-blue-600 hover:text-blue-800 text-sm",
                                      children: "Tải file",
                                    }),
                                    b.previewUrl &&
                                      s.jsx("a", {
                                        href: b.previewUrl,
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className:
                                          "text-green-600 hover:text-green-800 text-sm",
                                        children: "Xem preview",
                                      }),
                                  ],
                                }),
                              ],
                            },
                            b.id
                          )
                        ),
                      }),
                    ],
                  }),
              ],
            }),
            s.jsxs(rt, {
              justify: "flex-end",
              gap: 2,
              className: "mt-6 pt-4 border-t",
              children: [
                s.jsx(Y, { variant: "outline", onClick: t, children: "Hủy" }),
                s.jsx(Y, {
                  colorScheme: "blue",
                  onClick: u,
                  disabled: m,
                  children: m ? "Đang lưu..." : "Cập nhật",
                }),
              ],
            }),
          ],
        })
      : null;
  },
  Yu = ({ isOpen: e, onClose: t, orderId: n }) => {
    const a = Ru(),
      [l, c] = j.useState(!1),
      [m, r] = j.useState(null),
      [o, u] = j.useState({
        fileUrl: "",
        previewUrl: "",
        note: "",
        isFinal: !1,
      }),
      [_, d] = j.useState(!1),
      f = (v) => {
        if (v.length > 0) {
          const x = v[0];
          r(x), u((T) => ({ ...T, fileUrl: x.filePath }));
        }
        c(!1);
      },
      b = (v, x) => {
        u((T) => ({ ...T, [v]: x }));
      },
      P = async () => {
        try {
          if ((d(!0), !o.fileUrl.trim())) {
            ye.create({
              title: "Lỗi",
              description: "Vui lòng chọn file video để bàn giao",
              type: "error",
            });
            return;
          }
          await a.mutateAsync({ id: n, data: o }),
            ye.create({
              title: "Thành công",
              description: "Bàn giao video thành công!",
              type: "success",
            }),
            t(),
            u({ fileUrl: "", previewUrl: "", note: "", isFinal: !1 }),
            r(null);
        } catch {
          ye.create({
            title: "Lỗi",
            description: "Không thể bàn giao video",
            type: "error",
          });
        } finally {
          d(!1);
        }
      },
      w = () => {
        t(), u({ fileUrl: "", previewUrl: "", note: "", isFinal: !1 }), r(null);
      };
    return s.jsxs(s.Fragment, {
      children: [
        s.jsxs(Ot, {
          isOpen: e,
          onClose: w,
          title: `Bàn giao video cho đơn hàng #${n}`,
          maxWidth: "600px",
          children: [
            s.jsxs("div", {
              className: "flex flex-col gap-4",
              children: [
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "File video *",
                    }),
                    s.jsxs("div", {
                      className: "space-y-3",
                      children: [
                        o.fileUrl &&
                          s.jsxs(y, {
                            p: 3,
                            bg: "green.50",
                            borderRadius: "md",
                            border: "1px",
                            borderColor: "green.200",
                            children: [
                              s.jsxs(i, {
                                fontSize: "sm",
                                color: "green.700",
                                children: [
                                  "File đã chọn: ",
                                  (m == null ? void 0 : m.fileName) ||
                                    "Video file",
                                ],
                              }),
                              s.jsx(i, {
                                fontSize: "xs",
                                color: "green.600",
                                mt: 1,
                                children: o.fileUrl,
                              }),
                            ],
                          }),
                        s.jsxs(Y, {
                          variant: "outline",
                          colorScheme: "blue",
                          className: "flex items-center gap-2",
                          onClick: () => c(!0),
                          children: [
                            s.jsx(rl, { size: 16 }),
                            o.fileUrl ? "Thay đổi file" : "Chọn file video",
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "URL Preview (tùy chọn)",
                    }),
                    s.jsx(Ee, {
                      value: o.previewUrl || "",
                      onChange: (v) => b("previewUrl", v.target.value),
                      placeholder: "Nhập URL preview video...",
                    }),
                    s.jsx(i, {
                      fontSize: "xs",
                      color: "gray.600",
                      children:
                        "URL để khách hàng xem trước video trước khi tải về",
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex flex-col gap-2",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      children: "Ghi chú bàn giao",
                    }),
                    s.jsx(Qt, {
                      value: o.note || "",
                      onChange: (v) => b("note", v.target.value),
                      placeholder: "Nhập ghi chú cho lần bàn giao này...",
                      rows: 3,
                    }),
                  ],
                }),
                s.jsxs("div", {
                  className: "flex items-center gap-3",
                  children: [
                    s.jsx("input", {
                      type: "checkbox",
                      checked: o.isFinal,
                      onChange: (v) => b("isFinal", v.target.checked),
                    }),
                    s.jsxs("div", {
                      children: [
                        s.jsx(i, {
                          fontSize: "sm",
                          fontWeight: "medium",
                          children: "Đánh dấu bản giao cuối",
                        }),
                        s.jsx(i, {
                          fontSize: "xs",
                          color: "gray.600",
                          children:
                            "Đánh dấu đây là bản giao cuối cùng của đơn hàng",
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs(y, {
                  p: 4,
                  bg: "blue.50",
                  borderRadius: "md",
                  border: "1px",
                  borderColor: "blue.200",
                  children: [
                    s.jsx(i, {
                      fontSize: "sm",
                      fontWeight: "medium",
                      color: "blue.700",
                      mb: 2,
                      children: "Hướng dẫn bàn giao:",
                    }),
                    s.jsxs("ul", {
                      className: "text-sm text-blue.600 space-y-1",
                      children: [
                        s.jsx("li", {
                          children:
                            "• Chọn file video chất lượng cao đã hoàn thiện",
                        }),
                        s.jsx("li", {
                          children:
                            "• Thêm URL preview để khách hàng xem trước",
                        }),
                        s.jsx("li", {
                          children:
                            "• Ghi chú rõ ràng về nội dung và đặc điểm của video",
                        }),
                        s.jsx("li", {
                          children:
                            '• Đánh dấu "bản giao cuối" khi hoàn thành đơn hàng',
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            s.jsxs(rt, {
              justify: "flex-end",
              gap: 2,
              className: "mt-6 pt-4 border-t",
              children: [
                s.jsx(Y, { variant: "outline", onClick: w, children: "Hủy" }),
                s.jsx(Y, {
                  colorScheme: "green",
                  onClick: P,
                  disabled: _ || !o.fileUrl,
                  children: _ ? "Đang bàn giao..." : "Bàn giao video",
                }),
              ],
            }),
          ],
        }),
        s.jsx(Oa, {
          isOpen: l,
          onClose: () => c(!1),
          onSelect: f,
          allowMultiple: !1,
          fileTypes: [
            "video/mp4",
            "video/webm",
            "video/ogg",
            "video/avi",
            "video/mov",
          ],
          title: "Chọn file video để bàn giao",
        }),
      ],
    });
  },
  Xu = () => {
    const e = G.c(25);
    let t;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((t = { limit: 20, offset: 0 }), (e[0] = t))
      : (t = e[0]);
    const [n, a] = j.useState(t),
      [l, c] = j.useState(null),
      [m, r] = j.useState(!1),
      [o, u] = j.useState(!1),
      [_, d] = j.useState(null),
      { data: f, isLoading: b, error: P } = zu(n);
    let w;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = (V) => {
          a(V);
        }),
        (e[1] = w))
      : (w = e[1]);
    const v = w;
    let x;
    e[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((x = (V) => {
          c(V), r(!0);
        }),
        (e[2] = x))
      : (x = e[2]);
    const T = x,
      S = Ju;
    let h;
    e[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((h = (V) => {
          d(V), u(!0);
        }),
        (e[3] = h))
      : (h = e[3]);
    const C = h;
    if (P) {
      let V;
      return (
        e[4] === Symbol.for("react.memo_cache_sentinel")
          ? ((V = s.jsx(y, {
              p: 8,
              textAlign: "center",
              children: s.jsx(i, {
                color: "red.500",
                fontSize: "lg",
                children: "Có lỗi xảy ra khi tải danh sách đơn hàng video",
              }),
            })),
            (e[4] = V))
          : (V = e[4]),
        V
      );
    }
    let A;
    e[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = s.jsxs(y, {
          className: "mb-6",
          children: [
            s.jsx(i, {
              fontSize: "2xl",
              fontWeight: "bold",
              children: "Quản lý đơn hàng Video",
            }),
            s.jsx(i, {
              color: "gray.600",
              children: "Quản lý và xử lý các đơn hàng video từ khách hàng",
            }),
          ],
        })),
        (e[5] = A))
      : (A = e[5]);
    let k;
    e[6] !== n
      ? ((k = s.jsx(Gu, { filters: n, onFiltersChange: v })),
        (e[6] = n),
        (e[7] = k))
      : (k = e[7]);
    let g;
    e[8] !== n || e[9] !== b || e[10] !== f
      ? ((g = s.jsx(Ku, {
          data: f,
          isLoading: b,
          filters: n,
          onFiltersChange: v,
          onViewOrder: S,
          onEditOrder: T,
          onDeliverOrder: C,
        })),
        (e[8] = n),
        (e[9] = b),
        (e[10] = f),
        (e[11] = g))
      : (g = e[11]);
    let p;
    e[12] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = () => {
          r(!1), c(null);
        }),
        (e[12] = p))
      : (p = e[12]);
    let E;
    e[13] !== m || e[14] !== l
      ? ((E = s.jsx(Hu, { isOpen: m, onClose: p, order: l })),
        (e[13] = m),
        (e[14] = l),
        (e[15] = E))
      : (E = e[15]);
    let z;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = () => {
          u(!1), d(null);
        }),
        (e[16] = z))
      : (z = e[16]);
    const N = _ || 0;
    let R;
    e[17] !== o || e[18] !== N
      ? ((R = s.jsx(Yu, { isOpen: o, onClose: z, orderId: N })),
        (e[17] = o),
        (e[18] = N),
        (e[19] = R))
      : (R = e[19]);
    let F;
    return (
      e[20] !== R || e[21] !== k || e[22] !== g || e[23] !== E
        ? ((F = s.jsxs(y, { p: 6, children: [A, k, g, E, R] })),
          (e[20] = R),
          (e[21] = k),
          (e[22] = g),
          (e[23] = E),
          (e[24] = F))
        : (F = e[24]),
      F
    );
  };
function Ju(e) {}
const Zu = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Xu },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Xl = (e) => {
    const n = {
      pending: { color: "yellow", text: "Đang chờ" },
      in_progress: { color: "blue", text: "Đang xử lý" },
      completed: { color: "green", text: "Hoàn thành" },
      cancelled: { color: "red", text: "Đã hủy" },
    }[e] || { color: "gray", text: "Không xác định" };
    return s.jsx(Be, { colorPalette: n.color, children: n.text });
  },
  Jl = (e) => {
    const n = {
      low: { color: "green", text: "Thấp" },
      medium: { color: "yellow", text: "Trung bình" },
      high: { color: "orange", text: "Cao" },
      urgent: { color: "red", text: "Khẩn cấp" },
    }[e] || { color: "gray", text: "Không xác định" };
    return s.jsx(Be, { colorPalette: n.color, children: n.text });
  },
  Ai = (e) => new Date(e).toLocaleDateString("vi-VN"),
  Zl = (e) => (e === "page" ? "Thiệp cưới" : "Mẫu thiệp"),
  eg = (e) => JSON.stringify(e, null, 2),
  tg = async (e) => {
    const t = e ? { email: e } : {},
      n = await ie.get("/admin/users", { params: t });
    return n.data.data || n.data;
  },
  sg = async () => {
    const e = await ie.get("/admin/users/stats");
    return e.data.data || e.data;
  },
  ng = async (e, t) => {
    const n = await ie.post(`/admin/users/${e}/photos-limit`, t);
    return n.data.data || n.data;
  },
  ig = async (e) => {
    await ie.delete(`/admin/users/${e}/photos-limit`);
  },
  lg = () => {
    const e = G.c(132),
      [t, n] = j.useState(null),
      [a, l] = j.useState(!1),
      [c, m] = j.useState(!1);
    let r;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((r = {
          page: 1,
          limit: 10,
          search: "",
          status: "",
          type: "",
          priority: "",
        }),
        (e[0] = r))
      : (r = e[0]);
    const [o, u] = j.useState(r);
    let _;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = {
          status: "",
          priority: "",
          adminNotes: "",
          assignedToAdminId: "",
        }),
        (e[1] = _))
      : (_ = e[1]);
    const [d, f] = j.useState(_),
      { data: b, isLoading: P } = Fh(o),
      w = Rh(),
      v = Oh();
    let x;
    e[2] !== (b == null ? void 0 : b.data)
      ? ((x = (b == null ? void 0 : b.data) || []),
        (e[2] = b == null ? void 0 : b.data),
        (e[3] = x))
      : (x = e[3]);
    const T = x,
      S = (b == null ? void 0 : b.total) || 0;
    let h;
    e[4] === Symbol.for("react.memo_cache_sentinel")
      ? ((h = (oe) => {
          n(oe), l(!0);
        }),
        (e[4] = h))
      : (h = e[4]);
    const C = h;
    let A;
    e[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = (oe) => {
          var Ie;
          n(oe),
            f({
              status: oe.status,
              priority: oe.priority,
              adminNotes: oe.adminNotes || "",
              assignedToAdminId:
                ((Ie = oe.assignedToAdminId) == null
                  ? void 0
                  : Ie.toString()) || "",
            }),
            m(!0);
        }),
        (e[5] = A))
      : (A = e[5]);
    const k = A;
    let g;
    e[6] !== d.adminNotes ||
    e[7] !== d.assignedToAdminId ||
    e[8] !== d.priority ||
    e[9] !== d.status ||
    e[10] !== t ||
    e[11] !== w
      ? ((g = async () => {
          if (t)
            try {
              const oe = {
                status: d.status,
                priority: d.priority,
                adminNotes: d.adminNotes,
              };
              d.assignedToAdminId &&
                (oe.assignedToAdminId = parseInt(d.assignedToAdminId)),
                await w.mutateAsync({ id: t.id, data: oe }),
                m(!1);
            } catch {}
        }),
        (e[6] = d.adminNotes),
        (e[7] = d.assignedToAdminId),
        (e[8] = d.priority),
        (e[9] = d.status),
        (e[10] = t),
        (e[11] = w),
        (e[12] = g))
      : (g = e[12]);
    const p = g;
    let E;
    e[13] !== v
      ? ((E = async (oe) => {
          if (confirm("Bạn có chắc chắn muốn xóa yêu cầu này?"))
            try {
              await v.mutateAsync(oe);
            } catch {}
        }),
        (e[13] = v),
        (e[14] = E))
      : (E = e[14]);
    const z = E;
    let N;
    e[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = s.jsxs(y, {
          children: [
            s.jsx(i, {
              fontSize: "2xl",
              fontWeight: "bold",
              color: "gray.800",
              mb: 2,
              children: "🎨 Quản lý Yêu cầu Thiết kế",
            }),
            s.jsx(i, {
              color: "gray.600",
              children:
                "Quản lý và theo dõi tất cả yêu cầu thiết kế từ người dùng",
            }),
          ],
        })),
        (e[15] = N))
      : (N = e[15]);
    let R;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((R = { base: "1fr", md: "repeat(2, 1fr)", lg: "repeat(4, 1fr)" }),
        (e[16] = R))
      : (R = e[16]);
    let F;
    e[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = (oe) => u((Ie) => ({ ...Ie, search: oe.target.value, page: 1 }))),
        (e[17] = F))
      : (F = e[17]);
    let V;
    e[18] !== o.search
      ? ((V = s.jsx(Ne, {
          label: "Tìm kiếm",
          children: s.jsx(Ee, {
            placeholder: "Tìm theo tiêu đề hoặc mô tả...",
            value: o.search,
            onChange: F,
          }),
        })),
        (e[18] = o.search),
        (e[19] = V))
      : (V = e[19]);
    let $, Q, M, L, q, D, K;
    e[20] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = (oe) => u((Ie) => ({ ...Ie, status: oe.target.value, page: 1 }))),
        (Q = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (M = s.jsx("option", { value: "", children: "Tất cả" })),
        (L = s.jsx("option", { value: "pending", children: "Đang chờ" })),
        (q = s.jsx("option", { value: "in_progress", children: "Đang xử lý" })),
        (D = s.jsx("option", { value: "completed", children: "Hoàn thành" })),
        (K = s.jsx("option", { value: "cancelled", children: "Đã hủy" })),
        (e[20] = $),
        (e[21] = Q),
        (e[22] = M),
        (e[23] = L),
        (e[24] = q),
        (e[25] = D),
        (e[26] = K))
      : (($ = e[20]),
        (Q = e[21]),
        (M = e[22]),
        (L = e[23]),
        (q = e[24]),
        (D = e[25]),
        (K = e[26]));
    let H;
    e[27] !== o.status
      ? ((H = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs("select", {
            value: o.status,
            onChange: $,
            style: Q,
            children: [M, L, q, D, K],
          }),
        })),
        (e[27] = o.status),
        (e[28] = H))
      : (H = e[28]);
    let B, Z, J, se, ee;
    e[29] === Symbol.for("react.memo_cache_sentinel")
      ? ((B = (oe) => u((Ie) => ({ ...Ie, type: oe.target.value, page: 1 }))),
        (Z = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (J = s.jsx("option", { value: "", children: "Tất cả" })),
        (se = s.jsx("option", { value: "page", children: "Thiệp cưới" })),
        (ee = s.jsx("option", { value: "template", children: "Mẫu thiệp" })),
        (e[29] = B),
        (e[30] = Z),
        (e[31] = J),
        (e[32] = se),
        (e[33] = ee))
      : ((B = e[29]), (Z = e[30]), (J = e[31]), (se = e[32]), (ee = e[33]));
    let te;
    e[34] !== o.type
      ? ((te = s.jsx(Ne, {
          label: "Loại",
          children: s.jsxs("select", {
            value: o.type,
            onChange: B,
            style: Z,
            children: [J, se, ee],
          }),
        })),
        (e[34] = o.type),
        (e[35] = te))
      : (te = e[35]);
    let X, I, O, U, re, de, ue;
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((X = (oe) =>
          u((Ie) => ({ ...Ie, priority: oe.target.value, page: 1 }))),
        (I = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (O = s.jsx("option", { value: "", children: "Tất cả" })),
        (U = s.jsx("option", { value: "low", children: "Thấp" })),
        (re = s.jsx("option", { value: "medium", children: "Trung bình" })),
        (de = s.jsx("option", { value: "high", children: "Cao" })),
        (ue = s.jsx("option", { value: "urgent", children: "Khẩn cấp" })),
        (e[36] = X),
        (e[37] = I),
        (e[38] = O),
        (e[39] = U),
        (e[40] = re),
        (e[41] = de),
        (e[42] = ue))
      : ((X = e[36]),
        (I = e[37]),
        (O = e[38]),
        (U = e[39]),
        (re = e[40]),
        (de = e[41]),
        (ue = e[42]));
    let he;
    e[43] !== o.priority
      ? ((he = s.jsx(Ne, {
          label: "Ưu tiên",
          children: s.jsxs("select", {
            value: o.priority,
            onChange: X,
            style: I,
            children: [O, U, re, de, ue],
          }),
        })),
        (e[43] = o.priority),
        (e[44] = he))
      : (he = e[44]);
    let ne;
    e[45] !== V || e[46] !== H || e[47] !== te || e[48] !== he
      ? ((ne = s.jsxs(Kt, {
          templateColumns: R,
          gap: 4,
          children: [V, H, te, he],
        })),
        (e[45] = V),
        (e[46] = H),
        (e[47] = te),
        (e[48] = he),
        (e[49] = ne))
      : (ne = e[49]);
    let pe;
    e[50] === Symbol.for("react.memo_cache_sentinel")
      ? ((pe = { base: "1fr", md: "repeat(3, 1fr)" }), (e[50] = pe))
      : (pe = e[50]);
    const ae = o.dateFrom || "";
    let ve;
    e[51] === Symbol.for("react.memo_cache_sentinel")
      ? ((ve = (oe) =>
          u((Ie) => ({ ...Ie, dateFrom: oe.target.value, page: 1 }))),
        (e[51] = ve))
      : (ve = e[51]);
    let je;
    e[52] !== ae
      ? ((je = s.jsx(Ne, {
          label: "Từ ngày",
          children: s.jsx(Ee, { type: "date", value: ae, onChange: ve }),
        })),
        (e[52] = ae),
        (e[53] = je))
      : (je = e[53]);
    const ce = o.dateTo || "";
    let xe;
    e[54] === Symbol.for("react.memo_cache_sentinel")
      ? ((xe = (oe) =>
          u((Ie) => ({ ...Ie, dateTo: oe.target.value, page: 1 }))),
        (e[54] = xe))
      : (xe = e[54]);
    let Te;
    e[55] !== ce
      ? ((Te = s.jsx(Ne, {
          label: "Đến ngày",
          children: s.jsx(Ee, { type: "date", value: ce, onChange: xe }),
        })),
        (e[55] = ce),
        (e[56] = Te))
      : (Te = e[56]);
    let Pe;
    e[57] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pe = s.jsx(y, {
          display: "flex",
          alignItems: "end",
          children: s.jsx(Y, {
            onClick: () =>
              u({
                page: 1,
                limit: 10,
                search: "",
                status: "",
                type: "",
                priority: "",
              }),
            variant: "outline",
            size: "sm",
            children: "Xóa bộ lọc",
          }),
        })),
        (e[57] = Pe))
      : (Pe = e[57]);
    let Se;
    e[58] !== je || e[59] !== Te
      ? ((Se = s.jsxs(Kt, {
          templateColumns: pe,
          gap: 4,
          mt: 4,
          children: [je, Te, Pe],
        })),
        (e[58] = je),
        (e[59] = Te),
        (e[60] = Se))
      : (Se = e[60]);
    let ke;
    e[61] !== ne || e[62] !== Se
      ? ((ke = s.jsxs(y, {
          bg: "white",
          p: 4,
          rounded: "lg",
          shadow: "sm",
          borderWidth: 1,
          borderColor: "gray.200",
          children: [ne, Se],
        })),
        (e[61] = ne),
        (e[62] = Se),
        (e[63] = ke))
      : (ke = e[63]);
    let Le;
    e[64] === Symbol.for("react.memo_cache_sentinel")
      ? ((Le = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "Tiêu đề" }),
              s.jsx(Ce, { children: "Người yêu cầu" }),
              s.jsx(Ce, { children: "Trang/Mẫu" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Ưu tiên" }),
              s.jsx(Ce, { children: "Được giao" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { children: "Thao tác" }),
            ],
          }),
        })),
        (e[64] = Le))
      : (Le = e[64]);
    let De;
    e[65] !== z || e[66] !== P || e[67] !== T
      ? ((De = P
          ? s.jsx(At, {
              children: s.jsx(_e, {
                colSpan: 9,
                textAlign: "center",
                children: "Đang tải...",
              }),
            })
          : T.length === 0
          ? s.jsx(At, {
              children: s.jsx(_e, {
                colSpan: 9,
                textAlign: "center",
                children: "Không có yêu cầu nào",
              }),
            })
          : T.map((oe) => {
              var Ie, Lt;
              return s.jsxs(
                At,
                {
                  children: [
                    s.jsxs(_e, { children: ["#", oe.id] }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontWeight: "medium",
                        truncate: !0,
                        maxW: "200px",
                        children: oe.title,
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsxs(kt, {
                        gap: 1,
                        align: "start",
                        children: [
                          s.jsxs(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            children: [
                              oe.user.firstName,
                              " ",
                              oe.user.lastName,
                            ],
                          }),
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children: oe.user.email,
                          }),
                        ],
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsxs(kt, {
                        gap: 1,
                        align: "start",
                        children: [
                          s.jsx(Be, {
                            variant: "outline",
                            children: Zl(oe.type),
                          }),
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children:
                              ((Ie = oe.page) == null ? void 0 : Ie.title) ||
                              ((Lt = oe.template) == null
                                ? void 0
                                : Lt.title) ||
                              "N/A",
                          }),
                        ],
                      }),
                    }),
                    s.jsx(_e, { children: Xl(oe.status) }),
                    s.jsx(_e, { children: Jl(oe.priority) }),
                    s.jsx(_e, {
                      children: oe.assignedToAdmin
                        ? s.jsxs(kt, {
                            gap: 1,
                            align: "start",
                            children: [
                              s.jsxs(i, {
                                fontSize: "sm",
                                fontWeight: "medium",
                                children: [
                                  oe.assignedToAdmin.firstName,
                                  " ",
                                  oe.assignedToAdmin.lastName,
                                ],
                              }),
                              s.jsx(i, {
                                fontSize: "xs",
                                color: "gray.600",
                                children: oe.assignedToAdmin.email,
                              }),
                            ],
                          })
                        : s.jsx(i, {
                            fontSize: "sm",
                            color: "gray.500",
                            children: "Chưa giao",
                          }),
                    }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontSize: "sm",
                        children: Ai(oe.createdAt),
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsxs(W, {
                        gap: 2,
                        children: [
                          s.jsx(Y, {
                            size: "sm",
                            variant: "ghost",
                            onClick: () => C(oe),
                            children: s.jsx(Xt, {}),
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "ghost",
                            onClick: () => k(oe),
                            children: s.jsx(Mt, {}),
                          }),
                          oe.status === "pending" &&
                            s.jsx(Y, {
                              size: "sm",
                              variant: "ghost",
                              colorPalette: "red",
                              onClick: () => z(oe.id),
                              children: s.jsx(vn, {}),
                            }),
                        ],
                      }),
                    }),
                  ],
                },
                oe.id
              );
            })),
        (e[65] = z),
        (e[66] = P),
        (e[67] = T),
        (e[68] = De))
      : (De = e[68]);
    let me;
    e[69] !== De
      ? ((me = s.jsx(y, {
          overflowX: "auto",
          children: s.jsxs(vs, { children: [Le, s.jsx(_s, { children: De })] }),
        })),
        (e[69] = De),
        (e[70] = me))
      : (me = e[70]);
    let Fe;
    e[71] !== o.limit || e[72] !== o.page || e[73] !== S
      ? ((Fe =
          S > o.limit &&
          s.jsx(y, {
            p: 4,
            borderTopWidth: 1,
            borderColor: "gray.200",
            children: s.jsxs(W, {
              justify: "space-between",
              children: [
                s.jsxs(i, {
                  fontSize: "sm",
                  color: "gray.600",
                  children: [
                    "Hiển thị ",
                    (o.page - 1) * o.limit + 1,
                    " - ",
                    Math.min(o.page * o.limit, S),
                    " của ",
                    S,
                    " yêu cầu",
                  ],
                }),
                s.jsxs(W, {
                  gap: 2,
                  children: [
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      disabled: o.page <= 1,
                      onClick: () => u(ag),
                      children: "Trước",
                    }),
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      disabled: o.page >= Math.ceil(S / o.limit),
                      onClick: () => u(rg),
                      children: "Sau",
                    }),
                  ],
                }),
              ],
            }),
          })),
        (e[71] = o.limit),
        (e[72] = o.page),
        (e[73] = S),
        (e[74] = Fe))
      : (Fe = e[74]);
    let be;
    e[75] !== me || e[76] !== Fe
      ? ((be = s.jsxs(y, {
          bg: "white",
          rounded: "lg",
          shadow: "sm",
          borderWidth: 1,
          borderColor: "gray.200",
          children: [me, Fe],
        })),
        (e[75] = me),
        (e[76] = Fe),
        (e[77] = be))
      : (be = e[77]);
    let Me;
    e[78] !== ke || e[79] !== be
      ? ((Me = s.jsxs(kt, { gap: 6, align: "stretch", children: [N, ke, be] })),
        (e[78] = ke),
        (e[79] = be),
        (e[80] = Me))
      : (Me = e[80]);
    let Qe;
    e[81] === Symbol.for("react.memo_cache_sentinel")
      ? ((Qe = (oe) => l(oe.open)), (e[81] = Qe))
      : (Qe = e[81]);
    let $e;
    e[82] === Symbol.for("react.memo_cache_sentinel")
      ? (($e = s.jsxs(Us, {
          children: [
            s.jsx(Bs, { children: "Chi tiết Yêu cầu Thiết kế" }),
            s.jsx(Qs, {}),
          ],
        })),
        (e[82] = $e))
      : ($e = e[82]);
    let Ye;
    e[83] !== t
      ? ((Ye =
          t &&
          s.jsxs(kt, {
            gap: 6,
            align: "stretch",
            children: [
              s.jsxs(Kt, {
                templateColumns: { base: "1fr", md: "repeat(2, 1fr)" },
                gap: 6,
                children: [
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        mb: 2,
                        children: "Thông tin cơ bản",
                      }),
                      s.jsxs(kt, {
                        align: "start",
                        gap: 2,
                        children: [
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "ID:" }),
                              " #",
                              t.id,
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Tiêu đề:" }),
                              " ",
                              t.title,
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Loại:" }),
                              " ",
                              Zl(t.type),
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Trạng thái:" }),
                              " ",
                              Xl(t.status),
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Ưu tiên:" }),
                              " ",
                              Jl(t.priority),
                            ],
                          }),
                          t.page &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Trang:" }),
                                " ",
                                t.page.title,
                              ],
                            }),
                          t.template &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Mẫu:" }),
                                " ",
                                t.template.title,
                              ],
                            }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        mb: 2,
                        children: "Thông tin liên hệ",
                      }),
                      s.jsxs(kt, {
                        align: "start",
                        gap: 2,
                        children: [
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Người yêu cầu:" }),
                              " ",
                              t.user.firstName,
                              " ",
                              t.user.lastName,
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Email:" }),
                              " ",
                              t.user.email,
                            ],
                          }),
                          t.contactEmail &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Email liên hệ:" }),
                                " ",
                                t.contactEmail,
                              ],
                            }),
                          t.contactPhone &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Số điện thoại:" }),
                                " ",
                                t.contactPhone,
                              ],
                            }),
                          t.budgetRange &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Ngân sách:" }),
                                " ",
                                t.budgetRange,
                              ],
                            }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              s.jsxs(y, {
                children: [
                  s.jsx(i, {
                    fontWeight: "semibold",
                    mb: 2,
                    children: "Mô tả yêu cầu",
                  }),
                  s.jsx(i, {
                    p: 3,
                    bg: "gray.50",
                    rounded: "md",
                    children: t.description,
                  }),
                ],
              }),
              t.additionalRequirements &&
                s.jsxs(y, {
                  children: [
                    s.jsx(i, {
                      fontWeight: "semibold",
                      mb: 2,
                      children: "Yêu cầu bổ sung",
                    }),
                    s.jsx(y, {
                      p: 3,
                      bg: "gray.50",
                      rounded: "md",
                      children: s.jsx("pre", {
                        style: { whiteSpace: "pre-wrap", fontSize: "14px" },
                        children: eg(t.additionalRequirements),
                      }),
                    }),
                  ],
                }),
              t.adminNotes &&
                s.jsxs(y, {
                  children: [
                    s.jsx(i, {
                      fontWeight: "semibold",
                      mb: 2,
                      children: "Ghi chú admin",
                    }),
                    s.jsx(i, {
                      p: 3,
                      bg: "blue.50",
                      rounded: "md",
                      children: t.adminNotes,
                    }),
                  ],
                }),
              s.jsxs(Kt, {
                templateColumns: { base: "1fr", md: "repeat(3, 1fr)" },
                gap: 4,
                children: [
                  t.expectedCompletionDate &&
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          fontWeight: "semibold",
                          children: "Ngày hoàn thành mong muốn",
                        }),
                        s.jsx(i, { children: Ai(t.expectedCompletionDate) }),
                      ],
                    }),
                  t.assignedToAdmin &&
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          fontWeight: "semibold",
                          children: "Được giao cho",
                        }),
                        s.jsxs(i, {
                          children: [
                            t.assignedToAdmin.firstName,
                            " ",
                            t.assignedToAdmin.lastName,
                          ],
                        }),
                        s.jsx(i, {
                          fontSize: "xs",
                          color: "gray.600",
                          children: t.assignedToAdmin.email,
                        }),
                      ],
                    }),
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        children: "Ngày tạo",
                      }),
                      s.jsx(i, { children: Ai(t.createdAt) }),
                    ],
                  }),
                  t.completedAt &&
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          fontWeight: "semibold",
                          children: "Ngày hoàn thành",
                        }),
                        s.jsx(i, { children: Ai(t.completedAt) }),
                      ],
                    }),
                ],
              }),
            ],
          })),
        (e[83] = t),
        (e[84] = Ye))
      : (Ye = e[84]);
    let we;
    e[85] !== Ye
      ? ((we = s.jsxs(qs, {
          maxW: "4xl",
          maxH: "90vh",
          overflowY: "auto",
          children: [$e, s.jsx(Ks, { p: 6, children: Ye })],
        })),
        (e[85] = Ye),
        (e[86] = we))
      : (we = e[86]);
    let Ae;
    e[87] !== a || e[88] !== we
      ? ((Ae = s.jsx(Ws, {
          open: a,
          onOpenChange: Qe,
          placement: "center",
          children: we,
        })),
        (e[87] = a),
        (e[88] = we),
        (e[89] = Ae))
      : (Ae = e[89]);
    let We;
    e[90] === Symbol.for("react.memo_cache_sentinel")
      ? ((We = (oe) => m(oe.open)), (e[90] = We))
      : (We = e[90]);
    let Ke;
    e[91] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ke = s.jsxs(Us, {
          children: [
            s.jsx(Bs, { children: "Cập nhật Yêu cầu Thiết kế" }),
            s.jsx(Qs, {}),
          ],
        })),
        (e[91] = Ke))
      : (Ke = e[91]);
    let Ze, Re, ge, et, lt, qe;
    e[92] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ze = (oe) => f((Ie) => ({ ...Ie, status: oe.target.value }))),
        (Re = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (ge = s.jsx("option", { value: "pending", children: "Đang chờ" })),
        (et = s.jsx("option", {
          value: "in_progress",
          children: "Đang xử lý",
        })),
        (lt = s.jsx("option", { value: "completed", children: "Hoàn thành" })),
        (qe = s.jsx("option", { value: "cancelled", children: "Đã hủy" })),
        (e[92] = Ze),
        (e[93] = Re),
        (e[94] = ge),
        (e[95] = et),
        (e[96] = lt),
        (e[97] = qe))
      : ((Ze = e[92]),
        (Re = e[93]),
        (ge = e[94]),
        (et = e[95]),
        (lt = e[96]),
        (qe = e[97]));
    let it;
    e[98] !== d.status
      ? ((it = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs("select", {
            value: d.status,
            onChange: Ze,
            style: Re,
            children: [ge, et, lt, qe],
          }),
        })),
        (e[98] = d.status),
        (e[99] = it))
      : (it = e[99]);
    let ze, ot, dt, ct, bt, _t;
    e[100] === Symbol.for("react.memo_cache_sentinel")
      ? ((ze = (oe) => f((Ie) => ({ ...Ie, priority: oe.target.value }))),
        (ot = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (dt = s.jsx("option", { value: "low", children: "Thấp" })),
        (ct = s.jsx("option", { value: "medium", children: "Trung bình" })),
        (bt = s.jsx("option", { value: "high", children: "Cao" })),
        (_t = s.jsx("option", { value: "urgent", children: "Khẩn cấp" })),
        (e[100] = ze),
        (e[101] = ot),
        (e[102] = dt),
        (e[103] = ct),
        (e[104] = bt),
        (e[105] = _t))
      : ((ze = e[100]),
        (ot = e[101]),
        (dt = e[102]),
        (ct = e[103]),
        (bt = e[104]),
        (_t = e[105]));
    let gt;
    e[106] !== d.priority
      ? ((gt = s.jsx(Ne, {
          label: "Ưu tiên",
          children: s.jsxs("select", {
            value: d.priority,
            onChange: ze,
            style: ot,
            children: [dt, ct, bt, _t],
          }),
        })),
        (e[106] = d.priority),
        (e[107] = gt))
      : (gt = e[107]);
    let ft;
    e[108] === Symbol.for("react.memo_cache_sentinel")
      ? ((ft = (oe) => f((Ie) => ({ ...Ie, adminNotes: oe.target.value }))),
        (e[108] = ft))
      : (ft = e[108]);
    let St;
    e[109] !== d.adminNotes
      ? ((St = s.jsx(Ne, {
          label: "Ghi chú admin",
          children: s.jsx(Qt, {
            value: d.adminNotes,
            onChange: ft,
            placeholder: "Thêm ghi chú về tiến độ xử lý...",
            rows: 4,
          }),
        })),
        (e[109] = d.adminNotes),
        (e[110] = St))
      : (St = e[110]);
    let ht;
    e[111] === Symbol.for("react.memo_cache_sentinel")
      ? ((ht = () => m(!1)), (e[111] = ht))
      : (ht = e[111]);
    let pt;
    e[112] !== w.isPending
      ? ((pt = s.jsx(Y, {
          variant: "outline",
          onClick: ht,
          disabled: w.isPending,
          children: "Hủy",
        })),
        (e[112] = w.isPending),
        (e[113] = pt))
      : (pt = e[113]);
    let xt;
    e[114] !== p || e[115] !== w.isPending
      ? ((xt = s.jsx(Y, {
          colorPalette: "blue",
          onClick: p,
          loading: w.isPending,
          children: "Cập nhật",
        })),
        (e[114] = p),
        (e[115] = w.isPending),
        (e[116] = xt))
      : (xt = e[116]);
    let jt;
    e[117] !== pt || e[118] !== xt
      ? ((jt = s.jsxs(W, { gap: 3, justify: "end", children: [pt, xt] })),
        (e[117] = pt),
        (e[118] = xt),
        (e[119] = jt))
      : (jt = e[119]);
    let Ct;
    e[120] !== it || e[121] !== gt || e[122] !== St || e[123] !== jt
      ? ((Ct = s.jsxs(qs, {
          maxW: "2xl",
          children: [
            Ke,
            s.jsx(Ks, {
              p: 6,
              children: s.jsxs(kt, {
                gap: 4,
                align: "stretch",
                children: [it, gt, St, jt],
              }),
            }),
          ],
        })),
        (e[120] = it),
        (e[121] = gt),
        (e[122] = St),
        (e[123] = jt),
        (e[124] = Ct))
      : (Ct = e[124]);
    let Tt;
    e[125] !== c || e[126] !== Ct
      ? ((Tt = s.jsx(Ws, {
          open: c,
          onOpenChange: We,
          placement: "center",
          children: Ct,
        })),
        (e[125] = c),
        (e[126] = Ct),
        (e[127] = Tt))
      : (Tt = e[127]);
    let Et;
    return (
      e[128] !== Me || e[129] !== Ae || e[130] !== Tt
        ? ((Et = s.jsxs(y, { p: 6, children: [Me, Ae, Tt] })),
          (e[128] = Me),
          (e[129] = Ae),
          (e[130] = Tt),
          (e[131] = Et))
        : (Et = e[131]),
      Et
    );
  };
function ag(e) {
  return { ...e, page: e.page - 1 };
}
function rg(e) {
  return { ...e, page: e.page + 1 };
}
const og = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: lg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  cg = () => {
    var Ct, Tt, Et;
    const e = G.c(125),
      [t, n] = j.useState(null),
      [a, l] = j.useState(!1),
      [c, m] = j.useState(!1);
    let r;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((r = { page: 1, limit: 10, search: "", status: "", priority: "" }),
        (e[0] = r))
      : (r = e[0]);
    const [o, u] = j.useState(r);
    let _;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = {
          status: "",
          priority: "",
          adminNotes: "",
          assignedToAdminId: "",
        }),
        (e[1] = _))
      : (_ = e[1]);
    const [d, f] = j.useState(_),
      { data: b, isLoading: P } = Zr(o),
      w = eo(),
      v = to();
    let x;
    e[2] !== (b == null ? void 0 : b.data)
      ? ((x = (b == null ? void 0 : b.data) || []),
        (e[2] = b == null ? void 0 : b.data),
        (e[3] = x))
      : (x = e[3]);
    const T = x,
      S = (b == null ? void 0 : b.total) || 0;
    let h;
    e[4] === Symbol.for("react.memo_cache_sentinel")
      ? ((h = (oe) => {
          n(oe), l(!0);
        }),
        (e[4] = h))
      : (h = e[4]);
    const C = h;
    let A;
    e[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = (oe) => {
          var Ie;
          n(oe),
            f({
              status: oe.status,
              priority: oe.priority,
              adminNotes: oe.adminNotes || "",
              assignedToAdminId:
                ((Ie = oe.assignedToAdminId) == null
                  ? void 0
                  : Ie.toString()) || "",
            }),
            m(!0);
        }),
        (e[5] = A))
      : (A = e[5]);
    const k = A,
      g = dg;
    let p;
    e[6] !== d.adminNotes ||
    e[7] !== d.assignedToAdminId ||
    e[8] !== d.priority ||
    e[9] !== d.status ||
    e[10] !== t ||
    e[11] !== w
      ? ((p = async () => {
          if (!t) return;
          const oe = {
            status: d.status,
            priority: d.priority,
            adminNotes: d.adminNotes,
          };
          d.assignedToAdminId &&
            (oe.assignedToAdminId = parseInt(d.assignedToAdminId, 10));
          try {
            await w.mutateAsync({ id: t.id, data: oe }), m(!1), n(null);
          } catch {}
        }),
        (e[6] = d.adminNotes),
        (e[7] = d.assignedToAdminId),
        (e[8] = d.priority),
        (e[9] = d.status),
        (e[10] = t),
        (e[11] = w),
        (e[12] = p))
      : (p = e[12]);
    const E = p;
    let z;
    e[13] !== v
      ? ((z = async (oe) => {
          if (window.confirm("Bạn có chắc chắn muốn xóa yêu cầu này?"))
            try {
              await v.mutateAsync(oe);
            } catch {}
        }),
        (e[13] = v),
        (e[14] = z))
      : (z = e[14]);
    const N = z;
    let R;
    e[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((R = s.jsxs(y, {
          children: [
            s.jsx(i, {
              fontSize: "2xl",
              fontWeight: "bold",
              color: "gray.800",
              mb: 2,
              children: "🎨 Quản lý Yêu cầu Thiết kế Agent",
            }),
            s.jsx(i, {
              color: "gray.600",
              children:
                "Quản lý và theo dõi tất cả yêu cầu thiết kế từ các agents",
            }),
          ],
        })),
        (e[15] = R))
      : (R = e[15]);
    let F;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = { base: "1fr", md: "repeat(2, 1fr)", lg: "repeat(4, 1fr)" }),
        (e[16] = F))
      : (F = e[16]);
    let V;
    e[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((V = (oe) => u((Ie) => ({ ...Ie, search: oe.target.value, page: 1 }))),
        (e[17] = V))
      : (V = e[17]);
    let $;
    e[18] !== o.search
      ? (($ = s.jsx(Ne, {
          label: "Tìm kiếm",
          children: s.jsx(Ee, {
            placeholder: "Tìm theo tiêu đề hoặc mô tả...",
            value: o.search,
            onChange: V,
          }),
        })),
        (e[18] = o.search),
        (e[19] = $))
      : ($ = e[19]);
    let Q, M, L, q, D, K, H, B;
    e[20] === Symbol.for("react.memo_cache_sentinel")
      ? ((Q = (oe) => u((Ie) => ({ ...Ie, status: oe.target.value, page: 1 }))),
        (M = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (L = s.jsx("option", { value: "", children: "Tất cả" })),
        (q = s.jsx("option", { value: "pending", children: "Đang chờ" })),
        (D = s.jsx("option", { value: "in_progress", children: "Đang xử lý" })),
        (K = s.jsx("option", { value: "completed", children: "Hoàn thành" })),
        (H = s.jsx("option", { value: "cancelled", children: "Đã hủy" })),
        (B = s.jsx("option", { value: "refunded", children: "Đã hoàn tiền" })),
        (e[20] = Q),
        (e[21] = M),
        (e[22] = L),
        (e[23] = q),
        (e[24] = D),
        (e[25] = K),
        (e[26] = H),
        (e[27] = B))
      : ((Q = e[20]),
        (M = e[21]),
        (L = e[22]),
        (q = e[23]),
        (D = e[24]),
        (K = e[25]),
        (H = e[26]),
        (B = e[27]));
    let Z;
    e[28] !== o.status
      ? ((Z = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs("select", {
            value: o.status,
            onChange: Q,
            style: M,
            children: [L, q, D, K, H, B],
          }),
        })),
        (e[28] = o.status),
        (e[29] = Z))
      : (Z = e[29]);
    let J, se, ee, te, X, I, O;
    e[30] === Symbol.for("react.memo_cache_sentinel")
      ? ((J = (oe) =>
          u((Ie) => ({ ...Ie, priority: oe.target.value, page: 1 }))),
        (se = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (ee = s.jsx("option", { value: "", children: "Tất cả" })),
        (te = s.jsx("option", { value: "low", children: "Thấp" })),
        (X = s.jsx("option", { value: "medium", children: "Trung bình" })),
        (I = s.jsx("option", { value: "high", children: "Cao" })),
        (O = s.jsx("option", { value: "urgent", children: "Khẩn cấp" })),
        (e[30] = J),
        (e[31] = se),
        (e[32] = ee),
        (e[33] = te),
        (e[34] = X),
        (e[35] = I),
        (e[36] = O))
      : ((J = e[30]),
        (se = e[31]),
        (ee = e[32]),
        (te = e[33]),
        (X = e[34]),
        (I = e[35]),
        (O = e[36]));
    let U;
    e[37] !== o.priority
      ? ((U = s.jsx(Ne, {
          label: "Ưu tiên",
          children: s.jsxs("select", {
            value: o.priority,
            onChange: J,
            style: se,
            children: [ee, te, X, I, O],
          }),
        })),
        (e[37] = o.priority),
        (e[38] = U))
      : (U = e[38]);
    let re;
    e[39] !== $ || e[40] !== Z || e[41] !== U
      ? ((re = s.jsxs(Kt, { templateColumns: F, gap: 4, children: [$, Z, U] })),
        (e[39] = $),
        (e[40] = Z),
        (e[41] = U),
        (e[42] = re))
      : (re = e[42]);
    let de;
    e[43] === Symbol.for("react.memo_cache_sentinel")
      ? ((de = { base: "1fr", md: "repeat(3, 1fr)" }), (e[43] = de))
      : (de = e[43]);
    const ue = o.dateFrom || "";
    let he;
    e[44] === Symbol.for("react.memo_cache_sentinel")
      ? ((he = (oe) =>
          u((Ie) => ({ ...Ie, dateFrom: oe.target.value, page: 1 }))),
        (e[44] = he))
      : (he = e[44]);
    let ne;
    e[45] !== ue
      ? ((ne = s.jsx(Ne, {
          label: "Từ ngày",
          children: s.jsx(Ee, { type: "date", value: ue, onChange: he }),
        })),
        (e[45] = ue),
        (e[46] = ne))
      : (ne = e[46]);
    const pe = o.dateTo || "";
    let ae;
    e[47] === Symbol.for("react.memo_cache_sentinel")
      ? ((ae = (oe) =>
          u((Ie) => ({ ...Ie, dateTo: oe.target.value, page: 1 }))),
        (e[47] = ae))
      : (ae = e[47]);
    let ve;
    e[48] !== pe
      ? ((ve = s.jsx(Ne, {
          label: "Đến ngày",
          children: s.jsx(Ee, { type: "date", value: pe, onChange: ae }),
        })),
        (e[48] = pe),
        (e[49] = ve))
      : (ve = e[49]);
    let je;
    e[50] === Symbol.for("react.memo_cache_sentinel")
      ? ((je = s.jsx(y, {
          display: "flex",
          alignItems: "end",
          children: s.jsx(Y, {
            onClick: () =>
              u({ page: 1, limit: 10, search: "", status: "", priority: "" }),
            variant: "outline",
            size: "sm",
            children: "Xóa bộ lọc",
          }),
        })),
        (e[50] = je))
      : (je = e[50]);
    let ce;
    e[51] !== ne || e[52] !== ve
      ? ((ce = s.jsxs(Kt, {
          templateColumns: de,
          gap: 4,
          mt: 4,
          children: [ne, ve, je],
        })),
        (e[51] = ne),
        (e[52] = ve),
        (e[53] = ce))
      : (ce = e[53]);
    let xe;
    e[54] !== re || e[55] !== ce
      ? ((xe = s.jsxs(y, {
          bg: "white",
          p: 4,
          rounded: "lg",
          shadow: "sm",
          borderWidth: 1,
          borderColor: "gray.200",
          children: [re, ce],
        })),
        (e[54] = re),
        (e[55] = ce),
        (e[56] = xe))
      : (xe = e[56]);
    let Te;
    e[57] === Symbol.for("react.memo_cache_sentinel")
      ? ((Te = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "ID" }),
              s.jsx(Ce, { children: "Tiêu đề" }),
              s.jsx(Ce, { children: "Agent" }),
              s.jsx(Ce, { children: "Trang Dealer" }),
              s.jsx(Ce, { children: "Phí" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Ưu tiên" }),
              s.jsx(Ce, { children: "Được giao" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { children: "Thao tác" }),
            ],
          }),
        })),
        (e[57] = Te))
      : (Te = e[57]);
    let Pe;
    e[58] !== N || e[59] !== P || e[60] !== T
      ? ((Pe = P
          ? s.jsx(At, {
              children: s.jsx(_e, {
                colSpan: 10,
                textAlign: "center",
                children: "Đang tải...",
              }),
            })
          : T.length === 0
          ? s.jsx(At, {
              children: s.jsx(_e, {
                colSpan: 10,
                textAlign: "center",
                children: "Không có yêu cầu nào",
              }),
            })
          : T.map((oe) => {
              var Ie, Lt, Dt;
              return s.jsxs(
                At,
                {
                  children: [
                    s.jsxs(_e, { children: ["#", oe.id] }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontWeight: "medium",
                        truncate: !0,
                        maxW: "200px",
                        children: oe.title,
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsxs(kt, {
                        gap: 1,
                        align: "start",
                        children: [
                          s.jsxs(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            children: [
                              (Ie = oe.agent) == null ? void 0 : Ie.firstName,
                              " ",
                              (Lt = oe.agent) == null ? void 0 : Lt.lastName,
                            ],
                          }),
                          s.jsx(i, {
                            fontSize: "xs",
                            color: "gray.600",
                            children:
                              (Dt = oe.agent) == null ? void 0 : Dt.email,
                          }),
                        ],
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontSize: "xs",
                        color: "gray.600",
                        children: oe.dealerPageId || "N/A",
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontSize: "sm",
                        fontWeight: "medium",
                        children: El(oe.chargeAmountCents),
                      }),
                    }),
                    s.jsx(_e, { children: Ki(oe.status) }),
                    s.jsx(_e, { children: Gi(oe.priority) }),
                    s.jsx(_e, {
                      children: oe.assignedToAdmin
                        ? s.jsxs(kt, {
                            gap: 1,
                            align: "start",
                            children: [
                              s.jsxs(i, {
                                fontSize: "sm",
                                fontWeight: "medium",
                                children: [
                                  oe.assignedToAdmin.firstName,
                                  " ",
                                  oe.assignedToAdmin.lastName,
                                ],
                              }),
                              s.jsx(i, {
                                fontSize: "xs",
                                color: "gray.600",
                                children: oe.assignedToAdmin.email,
                              }),
                            ],
                          })
                        : s.jsx(i, {
                            fontSize: "sm",
                            color: "gray.500",
                            children: "Chưa giao",
                          }),
                    }),
                    s.jsx(_e, {
                      children: s.jsx(i, {
                        fontSize: "sm",
                        children: Hi(oe.createdAt),
                      }),
                    }),
                    s.jsx(_e, {
                      children: s.jsxs(W, {
                        gap: 2,
                        children: [
                          s.jsx(Y, {
                            size: "sm",
                            variant: "ghost",
                            onClick: () => C(oe),
                            children: s.jsx(Xt, {}),
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "ghost",
                            onClick: () => k(oe),
                            children: s.jsx(Sr, {}),
                          }),
                          s.jsx(Y, {
                            size: "sm",
                            variant: "ghost",
                            onClick: () => g(oe),
                            children: s.jsx(Mt, {}),
                          }),
                          oe.status === "pending" &&
                            s.jsx(Y, {
                              size: "sm",
                              variant: "ghost",
                              colorPalette: "red",
                              onClick: () => N(oe.id),
                              children: s.jsx(vn, {}),
                            }),
                        ],
                      }),
                    }),
                  ],
                },
                oe.id
              );
            })),
        (e[58] = N),
        (e[59] = P),
        (e[60] = T),
        (e[61] = Pe))
      : (Pe = e[61]);
    let Se;
    e[62] !== Pe
      ? ((Se = s.jsx(y, {
          overflowX: "auto",
          children: s.jsxs(vs, { children: [Te, s.jsx(_s, { children: Pe })] }),
        })),
        (e[62] = Pe),
        (e[63] = Se))
      : (Se = e[63]);
    let ke;
    e[64] !== o.limit || e[65] !== o.page || e[66] !== S
      ? ((ke =
          S > o.limit &&
          s.jsx(y, {
            p: 4,
            borderTopWidth: 1,
            borderColor: "gray.200",
            children: s.jsxs(W, {
              justify: "space-between",
              children: [
                s.jsxs(i, {
                  fontSize: "sm",
                  color: "gray.600",
                  children: [
                    "Hiển thị ",
                    (o.page - 1) * o.limit + 1,
                    " -",
                    " ",
                    Math.min(o.page * o.limit, S),
                    " của",
                    " ",
                    S,
                    " yêu cầu",
                  ],
                }),
                s.jsxs(W, {
                  gap: 2,
                  children: [
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      disabled: o.page <= 1,
                      onClick: () => u(hg),
                      children: "Trước",
                    }),
                    s.jsx(Y, {
                      size: "sm",
                      variant: "outline",
                      disabled: o.page >= Math.ceil(S / o.limit),
                      onClick: () => u(mg),
                      children: "Sau",
                    }),
                  ],
                }),
              ],
            }),
          })),
        (e[64] = o.limit),
        (e[65] = o.page),
        (e[66] = S),
        (e[67] = ke))
      : (ke = e[67]);
    let Le;
    e[68] !== Se || e[69] !== ke
      ? ((Le = s.jsxs(y, {
          bg: "white",
          rounded: "lg",
          shadow: "sm",
          borderWidth: 1,
          borderColor: "gray.200",
          children: [Se, ke],
        })),
        (e[68] = Se),
        (e[69] = ke),
        (e[70] = Le))
      : (Le = e[70]);
    let De;
    e[71] !== xe || e[72] !== Le
      ? ((De = s.jsxs(kt, { gap: 6, align: "stretch", children: [R, xe, Le] })),
        (e[71] = xe),
        (e[72] = Le),
        (e[73] = De))
      : (De = e[73]);
    let me;
    e[74] === Symbol.for("react.memo_cache_sentinel")
      ? ((me = (oe) => {
          const { open: Ie } = oe;
          return !Ie && l(!1);
        }),
        (e[74] = me))
      : (me = e[74]);
    let Fe;
    e[75] === Symbol.for("react.memo_cache_sentinel")
      ? ((Fe = s.jsxs(Us, {
          children: [
            s.jsx(Bs, { children: "Chi tiết Yêu cầu Thiết kế Agent" }),
            s.jsx(Qs, {}),
          ],
        })),
        (e[75] = Fe))
      : (Fe = e[75]);
    let be;
    e[76] !== t
      ? ((be =
          t &&
          s.jsxs(kt, {
            gap: 6,
            children: [
              s.jsxs(y, {
                children: [
                  s.jsx(i, {
                    fontSize: "2xl",
                    fontWeight: "bold",
                    mb: 2,
                    children: t.title,
                  }),
                  s.jsxs(W, {
                    gap: 2,
                    mb: 4,
                    children: [Ki(t.status), Gi(t.priority)],
                  }),
                ],
              }),
              s.jsxs(Kt, {
                templateColumns: { base: "1fr", md: "1fr 1fr" },
                gap: 6,
                children: [
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        mb: 2,
                        children: "Thông tin cơ bản",
                      }),
                      s.jsxs(kt, {
                        align: "start",
                        gap: 2,
                        children: [
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "ID:" }),
                              " #",
                              t.id,
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Trạng thái:" }),
                              " ",
                              Ki(t.status),
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Ưu tiên:" }),
                              " ",
                              Gi(t.priority),
                            ],
                          }),
                          t.dealerPage &&
                            s.jsxs(i, {
                              children: [
                                s.jsx("strong", { children: "Trang Dealer:" }),
                                " ",
                                t.dealerPage.pageTitle,
                              ],
                            }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Phí:" }),
                              " ",
                              El(t.chargeAmountCents),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        mb: 2,
                        children: "Thông tin Agent",
                      }),
                      s.jsxs(kt, {
                        align: "start",
                        gap: 2,
                        children: [
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Agent:" }),
                              " ",
                              (Ct = t.agent) == null ? void 0 : Ct.firstName,
                              " ",
                              (Tt = t.agent) == null ? void 0 : Tt.lastName,
                            ],
                          }),
                          s.jsxs(i, {
                            children: [
                              s.jsx("strong", { children: "Email:" }),
                              " ",
                              (Et = t.agent) == null ? void 0 : Et.email,
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              s.jsxs(y, {
                children: [
                  s.jsx(i, {
                    fontWeight: "semibold",
                    mb: 2,
                    children: "Mô tả yêu cầu",
                  }),
                  s.jsx(i, {
                    p: 3,
                    bg: "gray.50",
                    rounded: "md",
                    whiteSpace: "pre-wrap",
                    children: t.description,
                  }),
                ],
              }),
              t.referenceUrls &&
                t.referenceUrls.length > 0 &&
                s.jsxs(y, {
                  children: [
                    s.jsx(i, {
                      fontWeight: "semibold",
                      mb: 2,
                      children: "URLs tham khảo",
                    }),
                    s.jsx(kt, { gap: 1, children: t.referenceUrls.map(ug) }),
                  ],
                }),
              t.adminNotes &&
                s.jsxs(y, {
                  children: [
                    s.jsx(i, {
                      fontWeight: "semibold",
                      mb: 2,
                      children: "Ghi chú admin",
                    }),
                    s.jsx(i, {
                      p: 3,
                      bg: "blue.50",
                      rounded: "md",
                      children: t.adminNotes,
                    }),
                  ],
                }),
              s.jsxs(Kt, {
                templateColumns: { base: "1fr", md: "repeat(3, 1fr)" },
                gap: 4,
                children: [
                  t.assignedToAdmin &&
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          fontWeight: "semibold",
                          children: "Được giao cho",
                        }),
                        s.jsxs(i, {
                          children: [
                            t.assignedToAdmin.firstName,
                            " ",
                            t.assignedToAdmin.lastName,
                          ],
                        }),
                        s.jsx(i, {
                          fontSize: "xs",
                          color: "gray.600",
                          children: t.assignedToAdmin.email,
                        }),
                      ],
                    }),
                  s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        fontWeight: "semibold",
                        children: "Ngày tạo",
                      }),
                      s.jsx(i, { children: Hi(t.createdAt) }),
                    ],
                  }),
                  t.completedAt &&
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          fontWeight: "semibold",
                          children: "Ngày hoàn thành",
                        }),
                        s.jsx(i, {
                          color: "green.600",
                          children: Hi(t.completedAt),
                        }),
                      ],
                    }),
                ],
              }),
            ],
          })),
        (e[76] = t),
        (e[77] = be))
      : (be = e[77]);
    let Me;
    e[78] !== be
      ? ((Me = s.jsxs(qs, {
          maxW: "3xl",
          children: [Fe, s.jsx(Ks, { children: be })],
        })),
        (e[78] = be),
        (e[79] = Me))
      : (Me = e[79]);
    let Qe;
    e[80] !== a || e[81] !== Me
      ? ((Qe = s.jsx(Ws, {
          open: a,
          onOpenChange: me,
          size: "xl",
          children: Me,
        })),
        (e[80] = a),
        (e[81] = Me),
        (e[82] = Qe))
      : (Qe = e[82]);
    let $e;
    e[83] === Symbol.for("react.memo_cache_sentinel")
      ? (($e = (oe) => {
          const { open: Ie } = oe;
          return !Ie && m(!1);
        }),
        (e[83] = $e))
      : ($e = e[83]);
    let Ye;
    e[84] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ye = s.jsxs(Us, {
          children: [
            s.jsx(Bs, { children: "Cập nhật Yêu cầu Thiết kế" }),
            s.jsx(Qs, {}),
          ],
        })),
        (e[84] = Ye))
      : (Ye = e[84]);
    let we, Ae, We, Ke, Ze, Re, ge;
    e[85] === Symbol.for("react.memo_cache_sentinel")
      ? ((we = (oe) => f((Ie) => ({ ...Ie, status: oe.target.value }))),
        (Ae = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (We = s.jsx("option", { value: "pending", children: "Đang chờ" })),
        (Ke = s.jsx("option", {
          value: "in_progress",
          children: "Đang xử lý",
        })),
        (Ze = s.jsx("option", { value: "completed", children: "Hoàn thành" })),
        (Re = s.jsx("option", { value: "cancelled", children: "Đã hủy" })),
        (ge = s.jsx("option", { value: "refunded", children: "Đã hoàn tiền" })),
        (e[85] = we),
        (e[86] = Ae),
        (e[87] = We),
        (e[88] = Ke),
        (e[89] = Ze),
        (e[90] = Re),
        (e[91] = ge))
      : ((we = e[85]),
        (Ae = e[86]),
        (We = e[87]),
        (Ke = e[88]),
        (Ze = e[89]),
        (Re = e[90]),
        (ge = e[91]));
    let et;
    e[92] !== d.status
      ? ((et = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs("select", {
            value: d.status,
            onChange: we,
            style: Ae,
            children: [We, Ke, Ze, Re, ge],
          }),
        })),
        (e[92] = d.status),
        (e[93] = et))
      : (et = e[93]);
    let lt, qe, it, ze, ot, dt;
    e[94] === Symbol.for("react.memo_cache_sentinel")
      ? ((lt = (oe) => f((Ie) => ({ ...Ie, priority: oe.target.value }))),
        (qe = {
          width: "100%",
          padding: "8px",
          border: "1px solid #D1D5DB",
          borderRadius: "6px",
        }),
        (it = s.jsx("option", { value: "low", children: "Thấp" })),
        (ze = s.jsx("option", { value: "medium", children: "Trung bình" })),
        (ot = s.jsx("option", { value: "high", children: "Cao" })),
        (dt = s.jsx("option", { value: "urgent", children: "Khẩn cấp" })),
        (e[94] = lt),
        (e[95] = qe),
        (e[96] = it),
        (e[97] = ze),
        (e[98] = ot),
        (e[99] = dt))
      : ((lt = e[94]),
        (qe = e[95]),
        (it = e[96]),
        (ze = e[97]),
        (ot = e[98]),
        (dt = e[99]));
    let ct;
    e[100] !== d.priority
      ? ((ct = s.jsx(Ne, {
          label: "Ưu tiên",
          children: s.jsxs("select", {
            value: d.priority,
            onChange: lt,
            style: qe,
            children: [it, ze, ot, dt],
          }),
        })),
        (e[100] = d.priority),
        (e[101] = ct))
      : (ct = e[101]);
    let bt;
    e[102] === Symbol.for("react.memo_cache_sentinel")
      ? ((bt = (oe) => f((Ie) => ({ ...Ie, adminNotes: oe.target.value }))),
        (e[102] = bt))
      : (bt = e[102]);
    let _t;
    e[103] !== d.adminNotes
      ? ((_t = s.jsx(Ne, {
          label: "Ghi chú Admin",
          children: s.jsx(Qt, {
            value: d.adminNotes,
            onChange: bt,
            placeholder: "Thêm ghi chú cho yêu cầu này...",
            minH: "100px",
          }),
        })),
        (e[103] = d.adminNotes),
        (e[104] = _t))
      : (_t = e[104]);
    let gt;
    e[105] === Symbol.for("react.memo_cache_sentinel")
      ? ((gt = (oe) =>
          f((Ie) => ({ ...Ie, assignedToAdminId: oe.target.value }))),
        (e[105] = gt))
      : (gt = e[105]);
    let ft;
    e[106] !== d.assignedToAdminId
      ? ((ft = s.jsx(Ne, {
          label: "Giao cho Admin (ID)",
          children: s.jsx(Ee, {
            type: "number",
            value: d.assignedToAdminId,
            onChange: gt,
            placeholder: "Nhập ID của admin",
          }),
        })),
        (e[106] = d.assignedToAdminId),
        (e[107] = ft))
      : (ft = e[107]);
    let St;
    e[108] === Symbol.for("react.memo_cache_sentinel")
      ? ((St = s.jsx(Y, {
          variant: "outline",
          onClick: () => m(!1),
          children: "Hủy",
        })),
        (e[108] = St))
      : (St = e[108]);
    let ht;
    e[109] !== E || e[110] !== w.isPending
      ? ((ht = s.jsxs(W, {
          justify: "flex-end",
          gap: 3,
          children: [
            St,
            s.jsx(Y, {
              colorPalette: "blue",
              onClick: E,
              loading: w.isPending,
              children: "Lưu thay đổi",
            }),
          ],
        })),
        (e[109] = E),
        (e[110] = w.isPending),
        (e[111] = ht))
      : (ht = e[111]);
    let pt;
    e[112] !== et ||
    e[113] !== ct ||
    e[114] !== _t ||
    e[115] !== ft ||
    e[116] !== ht
      ? ((pt = s.jsxs(qs, {
          children: [
            Ye,
            s.jsx(Ks, {
              children: s.jsxs(kt, { gap: 4, children: [et, ct, _t, ft, ht] }),
            }),
          ],
        })),
        (e[112] = et),
        (e[113] = ct),
        (e[114] = _t),
        (e[115] = ft),
        (e[116] = ht),
        (e[117] = pt))
      : (pt = e[117]);
    let xt;
    e[118] !== c || e[119] !== pt
      ? ((xt = s.jsx(Ws, { open: c, onOpenChange: $e, children: pt })),
        (e[118] = c),
        (e[119] = pt),
        (e[120] = xt))
      : (xt = e[120]);
    let jt;
    return (
      e[121] !== De || e[122] !== Qe || e[123] !== xt
        ? ((jt = s.jsxs(y, { p: 6, children: [De, Qe, xt] })),
          (e[121] = De),
          (e[122] = Qe),
          (e[123] = xt),
          (e[124] = jt))
        : (jt = e[124]),
      jt
    );
  };
function dg(e) {
  var n;
  const t = Hs.adminBuilderPage(
    (n = e.dealerPage) == null ? void 0 : n.pageId.toString()
  );
  window.open(t, "_blank");
}
function hg(e) {
  return { ...e, page: e.page - 1 };
}
function mg(e) {
  return { ...e, page: e.page + 1 };
}
function ug(e, t) {
  return s.jsx(
    "a",
    {
      href: e,
      target: "_blank",
      rel: "noopener noreferrer",
      style: { fontSize: "14px", color: "#3182ce" },
      children: e,
    },
    t
  );
}
const gg = Object.freeze(
  Object.defineProperty({ __proto__: null, default: cg }, Symbol.toStringTag, {
    value: "Module",
  })
);
function fg() {
  var k;
  const e = G.c(23),
    { id: t } = ga(),
    n = t ? parseInt(t, 10) : NaN,
    a = !isNaN(n) && n > 0,
    { data: l, isLoading: c, error: m, refetch: r } = Qa(a ? n : 0);
  if (!a) {
    let g;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((g = s.jsx(jl, { to: at.PUBLIC.NOT_FOUND, replace: !0 })),
          (e[0] = g))
        : (g = e[0]),
      g
    );
  }
  if (m || (!c && !l)) {
    let g;
    return (
      e[1] === Symbol.for("react.memo_cache_sentinel")
        ? ((g = s.jsx(jl, { to: at.PUBLIC.NOT_FOUND, replace: !0 })),
          (e[1] = g))
        : (g = e[1]),
      g
    );
  }
  if (c) {
    let g;
    return (
      e[2] === Symbol.for("react.memo_cache_sentinel")
        ? ((g = s.jsx(Da, {
            message: "Đang tải mẫu thiệp...",
            submessage: "Đang chuẩn bị trình chỉnh sửa cho bạn",
          })),
          (e[2] = g))
        : (g = e[2]),
      g
    );
  }
  const o = l == null ? void 0 : l.content,
    u = l == null ? void 0 : l.contentMobile;
  let _;
  e[3] !== (l == null ? void 0 : l.id)
    ? ((_ = (k = l == null ? void 0 : l.id) == null ? void 0 : k.toString()),
      (e[3] = l == null ? void 0 : l.id),
      (e[4] = _))
    : (_ = e[4]);
  const d = l == null ? void 0 : l.isCard,
    f = l == null ? void 0 : l.isLogo,
    b = l == null ? void 0 : l.effects,
    P = l == null ? void 0 : l.audioSettings,
    w = l == null ? void 0 : l.customHtml,
    v = l == null ? void 0 : l.seoSettings,
    x = l == null ? void 0 : l.notificationSettings,
    T = l == null ? void 0 : l.customEffects,
    S = l == null ? void 0 : l.fontMap;
  let h;
  e[5] === Symbol.for("react.memo_cache_sentinel")
    ? ((h = s.jsx(fa, {})), (e[5] = h))
    : (h = e[5]);
  let C;
  e[6] !== r ||
  e[7] !== o ||
  e[8] !== u ||
  e[9] !== T ||
  e[10] !== S ||
  e[11] !== _ ||
  e[12] !== d ||
  e[13] !== f ||
  e[14] !== b ||
  e[15] !== P ||
  e[16] !== w ||
  e[17] !== v ||
  e[18] !== x
    ? ((C = s.jsx(pa, {
        resolver: Va,
        enabled: !1,
        onRender: Xr,
        children: s.jsx($a, {
          data: o,
          mobileData: u,
          id: _,
          isEditor: !0,
          isCardEditor: d,
          isLogoEditor: f,
          effects: b,
          audioSettings: P,
          customHtmlSettings: w,
          seoSettings: v,
          notificationSettings: x,
          customEffects: T,
          refetchData: r,
          fontMap: S,
          children: h,
        }),
      })),
      (e[6] = r),
      (e[7] = o),
      (e[8] = u),
      (e[9] = T),
      (e[10] = S),
      (e[11] = _),
      (e[12] = d),
      (e[13] = f),
      (e[14] = b),
      (e[15] = P),
      (e[16] = w),
      (e[17] = v),
      (e[18] = x),
      (e[19] = C))
    : (C = e[19]);
  let A;
  return (
    e[20] !== l || e[21] !== C
      ? ((A = s.jsx("div", {
          className: "editor",
          children: s.jsx(Jr, { templateData: l, children: C }),
        })),
        (e[20] = l),
        (e[21] = C),
        (e[22] = A))
      : (A = e[22]),
    A
  );
}
const pg = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: fg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  xg = () => {
    var T;
    const e = G.c(21),
      { id: t } = ga(),
      n = ln(),
      [a, l] = j.useState(!0),
      { data: c, isLoading: m, error: r, refetch: o } = Qa(Number(t) || 0);
    let u, _;
    e[0] !== n || e[1] !== r
      ? ((u = () => {
          r && (yl.error("Không thể tải template"), n("/admin/templates"));
        }),
        (_ = [r, n]),
        (e[0] = n),
        (e[1] = r),
        (e[2] = u),
        (e[3] = _))
      : ((u = e[2]), (_ = e[3])),
      j.useEffect(u, _);
    let d, f;
    e[4] !== m
      ? ((d = () => {
          m || l(!1);
        }),
        (f = [m]),
        (e[4] = m),
        (e[5] = d),
        (e[6] = f))
      : ((d = e[5]), (f = e[6])),
      j.useEffect(d, f);
    let b, P;
    if (
      (e[7] !== n || e[8] !== c
        ? ((b = () => {
            c &&
              !c.isLogo &&
              (yl.error("Template này không phải là logo template"),
              n("/admin/templates"));
          }),
          (P = [c, n]),
          (e[7] = n),
          (e[8] = c),
          (e[9] = b),
          (e[10] = P))
        : ((b = e[9]), (P = e[10])),
      j.useEffect(b, P),
      a || m)
    ) {
      let S;
      return (
        e[11] === Symbol.for("react.memo_cache_sentinel")
          ? ((S = s.jsxs(y, {
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              height: "100vh",
              flexDirection: "column",
              gap: 4,
              children: [
                s.jsx(Wt, { size: "xl", color: "blue.500" }),
                s.jsx(i, { children: "Đang tải logo template..." }),
              ],
            })),
            (e[11] = S))
          : (S = e[11]),
        S
      );
    }
    if (!c) {
      let S;
      return (
        e[12] === Symbol.for("react.memo_cache_sentinel")
          ? ((S = s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              height: "100vh",
              flexDirection: "column",
              gap: 4,
              children: s.jsx(i, {
                fontSize: "lg",
                color: "red.500",
                children: "Không tìm thấy template",
              }),
            })),
            (e[12] = S))
          : (S = e[12]),
        S
      );
    }
    let w;
    e[13] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = { ...Va }), (e[13] = w))
      : (w = e[13]);
    let v;
    e[14] !== c.id
      ? ((v = (T = c.id) == null ? void 0 : T.toString()),
        (e[14] = c.id),
        (e[15] = v))
      : (v = e[15]);
    let x;
    return (
      e[16] !== o ||
      e[17] !== v ||
      e[18] !== c.content ||
      e[19] !== c.contentMobile
        ? ((x = s.jsx("div", {
            className: "h-screen w-full overflow-hidden editor",
            children: s.jsx(pa, {
              resolver: w,
              enabled: !0,
              children: s.jsx(fa, {
                children: s.jsx(_r, {
                  canvas: !0,
                  is: $a,
                  data: c.content,
                  mobileData: c.contentMobile,
                  id: v,
                  isEditor: !0,
                  isLogoEditor: !0,
                  refetchData: o,
                }),
              }),
            }),
          })),
          (e[16] = o),
          (e[17] = v),
          (e[18] = c.content),
          (e[19] = c.contentMobile),
          (e[20] = x))
        : (x = e[20]),
      x
    );
  },
  jg = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: xg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  yg = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = s.jsx(y, {
            minH: "100vh",
            bg: "gray.50",
            children: s.jsx(Br, {}),
          })),
          (e[0] = t))
        : (t = e[0]),
      t
    );
  },
  bg = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: yg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  vg = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = s.jsx(Qr, {})), (e[0] = t))
        : (t = e[0]),
      t
    );
  },
  Sg = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: vg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  _g = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: ["paymentEvents", a],
            queryFn: async () => {
              const c = new URLSearchParams();
              Object.entries(a).forEach((r) => {
                const [o, u] = r;
                u != null && u !== "" && c.append(o, u.toString());
              });
              const m = await ie.get(
                `/admin/billing/payment-events?${c.toString()}`
              );
              return m.data.data || m.data;
            },
            staleTime: 3e5,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Cg = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: ["paymentTransactions", a],
            queryFn: async () => {
              const c = new URLSearchParams();
              Object.entries(a).forEach((r) => {
                const [o, u] = r;
                u != null && u !== "" && c.append(o, u.toString());
              });
              const m = await ie.get(
                `/admin/billing/transactions?${c.toString()}`
              );
              return m.data.data || m.data;
            },
            staleTime: 3e5,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Tg = () => ({
    mutateAsync: async (e) =>
      (await ie.post("/admin/billing/reconcile-payment", e)).data,
  }),
  Zi = (e) =>
    new Intl.DateTimeFormat("vi-VN", {
      dateStyle: "full",
      timeStyle: "long",
    }).format(new Date(e)),
  wg = (e) =>
    new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: "VND",
    }).format(e),
  Ag = (e) => {
    const t = G.c(69),
      { event: n, onClose: a, onReconcile: l } = e;
    let c;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = s.jsx(xa, {
          children: s.jsx(ja, { children: "Payment Event Details" }),
        })),
        (t[0] = c))
      : (c = t[0]);
    let m;
    t[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = s.jsx(Yt, {
          children: s.jsx(i, {
            fontWeight: "bold",
            children: "Basic Information",
          }),
        })),
        (t[1] = m))
      : (m = t[1]);
    let r;
    t[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((r = s.jsx(i, { children: "Event ID:" })), (t[2] = r))
      : (r = t[2]);
    let o;
    t[3] !== n.id
      ? ((o = s.jsxs(W, {
          justify: "space-between",
          children: [r, s.jsx(i, { fontFamily: "mono", children: n.id })],
        })),
        (t[3] = n.id),
        (t[4] = o))
      : (o = t[4]);
    let u;
    t[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((u = s.jsx(i, { children: "Provider:" })), (t[5] = u))
      : (u = t[5]);
    let _;
    t[6] !== n.provider
      ? ((_ = s.jsxs(W, {
          justify: "space-between",
          children: [
            u,
            s.jsx(Be, { colorScheme: "purple", children: n.provider }),
          ],
        })),
        (t[6] = n.provider),
        (t[7] = _))
      : (_ = t[7]);
    let d;
    t[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((d = s.jsx(i, { children: "External Event ID:" })), (t[8] = d))
      : (d = t[8]);
    let f;
    t[9] !== n.externalEventId
      ? ((f = s.jsxs(W, {
          justify: "space-between",
          children: [
            d,
            s.jsx(i, { fontFamily: "mono", children: n.externalEventId }),
          ],
        })),
        (t[9] = n.externalEventId),
        (t[10] = f))
      : (f = t[10]);
    let b;
    t[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((b = s.jsx(i, { children: "Event Type:" })), (t[11] = b))
      : (b = t[11]);
    let P;
    t[12] !== n.eventType
      ? ((P = s.jsxs(W, {
          justify: "space-between",
          children: [
            b,
            s.jsx(Be, { colorScheme: "blue", children: n.eventType }),
          ],
        })),
        (t[12] = n.eventType),
        (t[13] = P))
      : (P = t[13]);
    let w;
    t[14] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = s.jsx(i, { children: "Order ID:" })), (t[14] = w))
      : (w = t[14]);
    const v = n.orderId ? `#${n.orderId}` : "N/A";
    let x;
    t[15] !== v
      ? ((x = s.jsxs(W, {
          justify: "space-between",
          children: [w, s.jsx(i, { children: v })],
        })),
        (t[15] = v),
        (t[16] = x))
      : (x = t[16]);
    let T;
    t[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((T = s.jsx(i, { children: "Amount:" })), (t[17] = T))
      : (T = t[17]);
    let S;
    t[18] !== n.amountCents
      ? ((S = wg(n.amountCents)), (t[18] = n.amountCents), (t[19] = S))
      : (S = t[19]);
    let h;
    t[20] !== S
      ? ((h = s.jsxs(W, {
          justify: "space-between",
          children: [T, s.jsx(i, { fontWeight: "bold", children: S })],
        })),
        (t[20] = S),
        (t[21] = h))
      : (h = t[21]);
    let C;
    t[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((C = s.jsx(i, { children: "Signature Valid:" })), (t[22] = C))
      : (C = t[22]);
    const A = n.signatureOk ? "green" : "red",
      k = n.signatureOk ? "Valid" : "Invalid";
    let g;
    t[23] !== A || t[24] !== k
      ? ((g = s.jsxs(W, {
          justify: "space-between",
          children: [C, s.jsx(Be, { colorScheme: A, children: k })],
        })),
        (t[23] = A),
        (t[24] = k),
        (t[25] = g))
      : (g = t[25]);
    let p;
    t[26] !== P ||
    t[27] !== x ||
    t[28] !== h ||
    t[29] !== g ||
    t[30] !== o ||
    t[31] !== _ ||
    t[32] !== f
      ? ((p = s.jsxs(tt, {
          p: 4,
          children: [
            m,
            s.jsx(st, {
              children: s.jsxs(le, {
                gap: 2,
                align: "stretch",
                children: [o, _, f, P, x, h, g],
              }),
            }),
          ],
        })),
        (t[26] = P),
        (t[27] = x),
        (t[28] = h),
        (t[29] = g),
        (t[30] = o),
        (t[31] = _),
        (t[32] = f),
        (t[33] = p))
      : (p = t[33]);
    let E;
    t[34] === Symbol.for("react.memo_cache_sentinel")
      ? ((E = s.jsx(Yt, {
          children: s.jsx(i, { fontWeight: "bold", children: "Timestamps" }),
        })),
        (t[34] = E))
      : (E = t[34]);
    let z;
    t[35] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = s.jsx(i, { children: "Created At:" })), (t[35] = z))
      : (z = t[35]);
    let N;
    t[36] !== n.createdAt
      ? ((N = Zi(n.createdAt)), (t[36] = n.createdAt), (t[37] = N))
      : (N = t[37]);
    let R;
    t[38] !== N
      ? ((R = s.jsxs(W, {
          justify: "space-between",
          children: [z, s.jsx(i, { fontSize: "sm", children: N })],
        })),
        (t[38] = N),
        (t[39] = R))
      : (R = t[39]);
    let F;
    t[40] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = s.jsx(i, { children: "Updated At:" })), (t[40] = F))
      : (F = t[40]);
    let V;
    t[41] !== n.updatedAt
      ? ((V = Zi(n.updatedAt)), (t[41] = n.updatedAt), (t[42] = V))
      : (V = t[42]);
    let $;
    t[43] !== V
      ? (($ = s.jsxs(W, {
          justify: "space-between",
          children: [F, s.jsx(i, { fontSize: "sm", children: V })],
        })),
        (t[43] = V),
        (t[44] = $))
      : ($ = t[44]);
    let Q;
    t[45] !== n.processedAt
      ? ((Q =
          n.processedAt &&
          s.jsxs(W, {
            justify: "space-between",
            children: [
              s.jsx(i, { children: "Processed At:" }),
              s.jsx(i, { fontSize: "sm", children: Zi(n.processedAt) }),
            ],
          })),
        (t[45] = n.processedAt),
        (t[46] = Q))
      : (Q = t[46]);
    let M;
    t[47] !== R || t[48] !== $ || t[49] !== Q
      ? ((M = s.jsxs(tt, {
          p: 4,
          children: [
            E,
            s.jsx(st, {
              children: s.jsxs(le, {
                gap: 2,
                align: "stretch",
                children: [R, $, Q],
              }),
            }),
          ],
        })),
        (t[47] = R),
        (t[48] = $),
        (t[49] = Q),
        (t[50] = M))
      : (M = t[50]);
    let L;
    t[51] !== n.errorMessage
      ? ((L =
          n.errorMessage &&
          s.jsxs(tt, {
            p: 4,
            borderColor: "red.200",
            children: [
              s.jsx(Yt, {
                children: s.jsx(i, {
                  fontWeight: "bold",
                  color: "red.600",
                  children: "Error Message",
                }),
              }),
              s.jsx(st, {
                children: s.jsx(i, {
                  color: "red.600",
                  fontSize: "sm",
                  children: n.errorMessage,
                }),
              }),
            ],
          })),
        (t[51] = n.errorMessage),
        (t[52] = L))
      : (L = t[52]);
    let q;
    t[53] !== n.rawData
      ? ((q =
          n.rawData &&
          s.jsxs(tt, {
            p: 4,
            children: [
              s.jsx(Yt, {
                children: s.jsx(i, {
                  fontWeight: "bold",
                  children: "Raw Data",
                }),
              }),
              s.jsx(st, {
                children: s.jsx(y, {
                  bg: "gray.50",
                  p: 3,
                  borderRadius: "md",
                  fontSize: "sm",
                  fontFamily: "mono",
                  maxH: "200px",
                  overflowY: "auto",
                  children: s.jsx("pre", {
                    children: JSON.stringify(n.rawData, null, 2),
                  }),
                }),
              }),
            ],
          })),
        (t[53] = n.rawData),
        (t[54] = q))
      : (q = t[54]);
    let D;
    t[55] !== a
      ? ((D = s.jsx(Y, { variant: "outline", onClick: a, children: "Close" })),
        (t[55] = a),
        (t[56] = D))
      : (D = t[56]);
    let K;
    t[57] !== n || t[58] !== l
      ? ((K =
          l &&
          n.orderId &&
          !n.processedAt &&
          s.jsx(Y, {
            colorScheme: "blue",
            onClick: () => l(n),
            children: "Manual Reconcile",
          })),
        (t[57] = n),
        (t[58] = l),
        (t[59] = K))
      : (K = t[59]);
    let H;
    t[60] !== D || t[61] !== K
      ? ((H = s.jsxs(W, { justify: "space-between", children: [D, K] })),
        (t[60] = D),
        (t[61] = K),
        (t[62] = H))
      : (H = t[62]);
    let B;
    return (
      t[63] !== p || t[64] !== M || t[65] !== L || t[66] !== q || t[67] !== H
        ? ((B = s.jsxs(ya, {
            children: [
              c,
              s.jsx(ba, {
                children: s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [p, M, L, q, H],
                }),
              }),
            ],
          })),
          (t[63] = p),
          (t[64] = M),
          (t[65] = L),
          (t[66] = q),
          (t[67] = H),
          (t[68] = B))
        : (B = t[68]),
      B
    );
  },
  Ei = (e) =>
    e
      ? new Intl.DateTimeFormat("vi-VN", {
          dateStyle: "full",
          timeStyle: "long",
        }).format(new Date(e))
      : "N/A",
  Eg = (e) =>
    new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: "VND",
    }).format(e),
  Pg = (e) => {
    const t = G.c(62),
      { transaction: n, onClose: a } = e;
    let l;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((l = s.jsx(xa, {
          children: s.jsx(ja, { children: "Payment Transaction Details" }),
        })),
        (t[0] = l))
      : (l = t[0]);
    let c;
    t[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = s.jsx(Yt, {
          children: s.jsx(i, {
            fontWeight: "bold",
            children: "Basic Information",
          }),
        })),
        (t[1] = c))
      : (c = t[1]);
    let m;
    t[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = s.jsx(i, { children: "Transaction ID:" })), (t[2] = m))
      : (m = t[2]);
    let r;
    t[3] !== n.id
      ? ((r = s.jsxs(W, {
          justify: "space-between",
          children: [m, s.jsx(i, { fontFamily: "mono", children: n.id })],
        })),
        (t[3] = n.id),
        (t[4] = r))
      : (r = t[4]);
    let o;
    t[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((o = s.jsx(i, { children: "Provider:" })), (t[5] = o))
      : (o = t[5]);
    let u;
    t[6] !== n.provider
      ? ((u = s.jsxs(W, {
          justify: "space-between",
          children: [
            o,
            s.jsx(Be, { colorScheme: "purple", children: n.provider }),
          ],
        })),
        (t[6] = n.provider),
        (t[7] = u))
      : (u = t[7]);
    let _;
    t[8] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = s.jsx(i, { children: "Provider Payment ID:" })), (t[8] = _))
      : (_ = t[8]);
    let d;
    t[9] !== n.providerPaymentId
      ? ((d = s.jsxs(W, {
          justify: "space-between",
          children: [
            _,
            s.jsx(i, { fontFamily: "mono", children: n.providerPaymentId }),
          ],
        })),
        (t[9] = n.providerPaymentId),
        (t[10] = d))
      : (d = t[10]);
    let f;
    t[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((f = s.jsx(i, { children: "Order ID:" })), (t[11] = f))
      : (f = t[11]);
    const b = n.orderId ? `#${n.orderId}` : "N/A";
    let P;
    t[12] !== b
      ? ((P = s.jsxs(W, {
          justify: "space-between",
          children: [f, s.jsx(i, { children: b })],
        })),
        (t[12] = b),
        (t[13] = P))
      : (P = t[13]);
    let w;
    t[14] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = s.jsx(i, { children: "Status:" })), (t[14] = w))
      : (w = t[14]);
    let v;
    t[15] !== n.status
      ? ((v = s.jsxs(W, {
          justify: "space-between",
          children: [
            w,
            s.jsx(Be, { colorScheme: "green", children: n.status }),
          ],
        })),
        (t[15] = n.status),
        (t[16] = v))
      : (v = t[16]);
    let x;
    t[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((x = s.jsx(i, { children: "Amount:" })), (t[17] = x))
      : (x = t[17]);
    let T;
    t[18] !== n.amountCents
      ? ((T = Eg(n.amountCents)), (t[18] = n.amountCents), (t[19] = T))
      : (T = t[19]);
    let S;
    t[20] !== T || t[21] !== n.currency
      ? ((S = s.jsxs(W, {
          justify: "space-between",
          children: [
            x,
            s.jsxs(i, { fontWeight: "bold", children: [T, " ", n.currency] }),
          ],
        })),
        (t[20] = T),
        (t[21] = n.currency),
        (t[22] = S))
      : (S = t[22]);
    let h;
    t[23] !== P ||
    t[24] !== v ||
    t[25] !== S ||
    t[26] !== r ||
    t[27] !== u ||
    t[28] !== d
      ? ((h = s.jsxs(tt, {
          p: 4,
          children: [
            c,
            s.jsx(st, {
              children: s.jsxs(le, {
                gap: 2,
                align: "stretch",
                children: [r, u, d, P, v, S],
              }),
            }),
          ],
        })),
        (t[23] = P),
        (t[24] = v),
        (t[25] = S),
        (t[26] = r),
        (t[27] = u),
        (t[28] = d),
        (t[29] = h))
      : (h = t[29]);
    let C;
    t[30] === Symbol.for("react.memo_cache_sentinel")
      ? ((C = s.jsx(Yt, {
          children: s.jsx(i, { fontWeight: "bold", children: "Timestamps" }),
        })),
        (t[30] = C))
      : (C = t[30]);
    let A;
    t[31] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = s.jsx(i, { children: "Created At:" })), (t[31] = A))
      : (A = t[31]);
    let k;
    t[32] !== n.createdAt
      ? ((k = Ei(n.createdAt)), (t[32] = n.createdAt), (t[33] = k))
      : (k = t[33]);
    let g;
    t[34] !== k
      ? ((g = s.jsxs(W, {
          justify: "space-between",
          children: [A, s.jsx(i, { fontSize: "sm", children: k })],
        })),
        (t[34] = k),
        (t[35] = g))
      : (g = t[35]);
    let p;
    t[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = s.jsx(i, { children: "Updated At:" })), (t[36] = p))
      : (p = t[36]);
    let E;
    t[37] !== n.updatedAt
      ? ((E = Ei(n.updatedAt)), (t[37] = n.updatedAt), (t[38] = E))
      : (E = t[38]);
    let z;
    t[39] !== E
      ? ((z = s.jsxs(W, {
          justify: "space-between",
          children: [p, s.jsx(i, { fontSize: "sm", children: E })],
        })),
        (t[39] = E),
        (t[40] = z))
      : (z = t[40]);
    let N;
    t[41] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = s.jsx(i, { children: "Paid At:" })), (t[41] = N))
      : (N = t[41]);
    let R;
    t[42] !== n.paidAt
      ? ((R = Ei(n.paidAt)), (t[42] = n.paidAt), (t[43] = R))
      : (R = t[43]);
    let F;
    t[44] !== R
      ? ((F = s.jsxs(W, {
          justify: "space-between",
          children: [N, s.jsx(i, { fontSize: "sm", children: R })],
        })),
        (t[44] = R),
        (t[45] = F))
      : (F = t[45]);
    let V;
    t[46] !== n.refundedAt
      ? ((V =
          n.refundedAt &&
          s.jsxs(W, {
            justify: "space-between",
            children: [
              s.jsx(i, { children: "Refunded At:" }),
              s.jsx(i, {
                fontSize: "sm",
                color: "blue.600",
                children: Ei(n.refundedAt),
              }),
            ],
          })),
        (t[46] = n.refundedAt),
        (t[47] = V))
      : (V = t[47]);
    let $;
    t[48] !== g || t[49] !== z || t[50] !== F || t[51] !== V
      ? (($ = s.jsxs(tt, {
          p: 4,
          children: [
            C,
            s.jsx(st, {
              children: s.jsxs(le, {
                gap: 2,
                align: "stretch",
                children: [g, z, F, V],
              }),
            }),
          ],
        })),
        (t[48] = g),
        (t[49] = z),
        (t[50] = F),
        (t[51] = V),
        (t[52] = $))
      : ($ = t[52]);
    let Q;
    t[53] !== n.metadata
      ? ((Q =
          n.metadata &&
          s.jsxs(tt, {
            p: 4,
            children: [
              s.jsx(Yt, {
                children: s.jsx(i, {
                  fontWeight: "bold",
                  children: "Metadata",
                }),
              }),
              s.jsx(st, {
                children: s.jsx(y, {
                  bg: "gray.50",
                  p: 3,
                  borderRadius: "md",
                  fontSize: "sm",
                  fontFamily: "mono",
                  maxH: "200px",
                  overflowY: "auto",
                  children: s.jsx("pre", {
                    children: JSON.stringify(n.metadata, null, 2),
                  }),
                }),
              }),
            ],
          })),
        (t[53] = n.metadata),
        (t[54] = Q))
      : (Q = t[54]);
    let M;
    t[55] !== a
      ? ((M = s.jsx(W, {
          justify: "flex-end",
          children: s.jsx(Y, {
            variant: "outline",
            onClick: a,
            children: "Close",
          }),
        })),
        (t[55] = a),
        (t[56] = M))
      : (M = t[56]);
    let L;
    return (
      t[57] !== h || t[58] !== $ || t[59] !== Q || t[60] !== M
        ? ((L = s.jsxs(ya, {
            children: [
              l,
              s.jsx(ba, {
                children: s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [h, $, Q, M],
                }),
              }),
            ],
          })),
          (t[57] = h),
          (t[58] = $),
          (t[59] = Q),
          (t[60] = M),
          (t[61] = L))
        : (L = t[61]),
      L
    );
  },
  kg = () => {
    var oe, Ie, Lt, Dt, Gt, Vt;
    const e = G.c(138),
      [t, n] = j.useState("events"),
      [a, l] = j.useState(null),
      [c, m] = j.useState(null),
      [r, o] = j.useState();
    let u;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((u = {
          page: 1,
          limit: 20,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[0] = u))
      : (u = e[0]);
    const [_, d] = j.useState(u),
      [f, b] = j.useState();
    let P;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((P = {
          page: 1,
          limit: 20,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[1] = P))
      : (P = e[1]);
    const [w, v] = j.useState(P);
    let x;
    e[2] !== _.search
      ? ((x = _.search ? { search: _.search } : {}),
        (e[2] = _.search),
        (e[3] = x))
      : (x = e[3]);
    let T;
    e[4] !== _.sortBy
      ? ((T = _.sortBy ? { sortBy: _.sortBy } : {}),
        (e[4] = _.sortBy),
        (e[5] = T))
      : (T = e[5]);
    let S;
    e[6] !== _.sortOrder
      ? ((S = _.sortOrder ? { sortOrder: _.sortOrder } : {}),
        (e[6] = _.sortOrder),
        (e[7] = S))
      : (S = e[7]);
    let h;
    e[8] !== _.limit ||
    e[9] !== _.page ||
    e[10] !== x ||
    e[11] !== T ||
    e[12] !== S
      ? ((h = { page: _.page, limit: _.limit, ...x, ...T, ...S }),
        (e[8] = _.limit),
        (e[9] = _.page),
        (e[10] = x),
        (e[11] = T),
        (e[12] = S),
        (e[13] = h))
      : (h = e[13]);
    const { data: C, isLoading: A, refetch: k } = _g(h);
    let g;
    e[14] !== w.search
      ? ((g = w.search ? { search: w.search } : {}),
        (e[14] = w.search),
        (e[15] = g))
      : (g = e[15]);
    let p;
    e[16] !== w.sortBy
      ? ((p = w.sortBy ? { sortBy: w.sortBy } : {}),
        (e[16] = w.sortBy),
        (e[17] = p))
      : (p = e[17]);
    let E;
    e[18] !== w.sortOrder
      ? ((E = w.sortOrder ? { sortOrder: w.sortOrder } : {}),
        (e[18] = w.sortOrder),
        (e[19] = E))
      : (E = e[19]);
    let z;
    e[20] !== g ||
    e[21] !== p ||
    e[22] !== E ||
    e[23] !== w.limit ||
    e[24] !== w.page
      ? ((z = { page: w.page, limit: w.limit, ...g, ...p, ...E }),
        (e[20] = g),
        (e[21] = p),
        (e[22] = E),
        (e[23] = w.limit),
        (e[24] = w.page),
        (e[25] = z))
      : (z = e[25]);
    const { data: N, isLoading: R, refetch: F } = Cg(z);
    let V, $;
    e[26] !== C
      ? ((V = () => {
          if (C) {
            const mt = {
              data: C.data.map(Ng),
              total: C.total,
              page: C.page,
              limit: C.limit,
              totalPages: C.totalPages,
            };
            o(mt);
          }
        }),
        ($ = [C]),
        (e[26] = C),
        (e[27] = V),
        (e[28] = $))
      : ((V = e[27]), ($ = e[28])),
      ps.useEffect(V, $);
    let Q, M;
    e[29] !== N
      ? ((Q = () => {
          if (N) {
            const mt = {
              data: N.data.map(Dg),
              total: N.total,
              page: N.page,
              limit: N.limit,
              totalPages: N.totalPages,
            };
            b(mt);
          }
        }),
        (M = [N]),
        (e[29] = N),
        (e[30] = Q),
        (e[31] = M))
      : ((Q = e[30]), (M = e[31])),
      ps.useEffect(Q, M);
    const L = Tg();
    let q;
    e[32] !== L || e[33] !== k || e[34] !== F
      ? ((q = async (mt) => {
          if (!mt.orderId) {
            ye.create({
              title: "Error",
              description: "Cannot reconcile event without order ID",
              type: "error",
            });
            return;
          }
          try {
            await L.mutateAsync({ eventId: mt.id, orderId: mt.orderId }),
              ye.create({
                title: "Success",
                description: "Payment reconciled successfully",
                type: "success",
              }),
              k(),
              F();
          } catch {
            ye.create({
              title: "Error",
              description: "Failed to reconcile payment",
              type: "error",
            });
          }
        }),
        (e[32] = L),
        (e[33] = k),
        (e[34] = F),
        (e[35] = q))
      : (q = e[35]);
    const D = q;
    let K;
    e[36] !== t || e[37] !== k || e[38] !== F
      ? ((K = () => {
          t === "events" ? k() : F();
        }),
        (e[36] = t),
        (e[37] = k),
        (e[38] = F),
        (e[39] = K))
      : (K = e[39]);
    const H = K;
    let B;
    e[40] === Symbol.for("react.memo_cache_sentinel")
      ? ((B = (mt) => {
          d(mt);
        }),
        (e[40] = B))
      : (B = e[40]);
    const Z = B;
    let J;
    e[41] === Symbol.for("react.memo_cache_sentinel")
      ? ((J = (mt) => {
          v(mt);
        }),
        (e[41] = J))
      : (J = e[41]);
    const se = J;
    let ee;
    e[42] === Symbol.for("react.memo_cache_sentinel")
      ? ((ee = () => {
          d({
            page: 1,
            limit: 20,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
          });
        }),
        (e[42] = ee))
      : (ee = e[42]);
    const te = ee;
    let X;
    e[43] === Symbol.for("react.memo_cache_sentinel")
      ? ((X = () => {
          v({
            page: 1,
            limit: 20,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
          });
        }),
        (e[43] = X))
      : (X = e[43]);
    const I = X,
      O = (C == null ? void 0 : C.total) || 0;
    let U;
    e[44] !== (C == null ? void 0 : C.data)
      ? ((U =
          ((oe = C == null ? void 0 : C.data) == null
            ? void 0
            : oe.filter(Lg).length) || 0),
        (e[44] = C == null ? void 0 : C.data),
        (e[45] = U))
      : (U = e[45]);
    let re;
    e[46] !== (C == null ? void 0 : C.data)
      ? ((re =
          ((Ie = C == null ? void 0 : C.data) == null
            ? void 0
            : Ie.filter(zg).length) || 0),
        (e[46] = C == null ? void 0 : C.data),
        (e[47] = re))
      : (re = e[47]);
    let de;
    e[48] !== (C == null ? void 0 : C.data)
      ? ((de =
          ((Lt = C == null ? void 0 : C.data) == null
            ? void 0
            : Lt.filter(Fg).length) || 0),
        (e[48] = C == null ? void 0 : C.data),
        (e[49] = de))
      : (de = e[49]);
    let ue;
    e[50] !== O || e[51] !== U || e[52] !== re || e[53] !== de
      ? ((ue = { total: O, signatureValid: U, withOrderId: re, processed: de }),
        (e[50] = O),
        (e[51] = U),
        (e[52] = re),
        (e[53] = de),
        (e[54] = ue))
      : (ue = e[54]);
    const he = ue,
      ne = (N == null ? void 0 : N.total) || 0;
    let pe;
    e[55] !== (N == null ? void 0 : N.data)
      ? ((pe =
          ((Dt = N == null ? void 0 : N.data) == null
            ? void 0
            : Dt.filter(Rg).length) || 0),
        (e[55] = N == null ? void 0 : N.data),
        (e[56] = pe))
      : (pe = e[56]);
    let ae;
    e[57] !== (N == null ? void 0 : N.data)
      ? ((ae =
          ((Gt = N == null ? void 0 : N.data) == null
            ? void 0
            : Gt.filter(Og).length) || 0),
        (e[57] = N == null ? void 0 : N.data),
        (e[58] = ae))
      : (ae = e[58]);
    let ve;
    e[59] !== (N == null ? void 0 : N.data)
      ? ((ve =
          ((Vt = N == null ? void 0 : N.data) == null
            ? void 0
            : Vt.filter(Ig).length) || 0),
        (e[59] = N == null ? void 0 : N.data),
        (e[60] = ve))
      : (ve = e[60]);
    let je;
    e[61] !== ne || e[62] !== pe || e[63] !== ae || e[64] !== ve
      ? ((je = { total: ne, completed: pe, pending: ae, withOrderId: ve }),
        (e[61] = ne),
        (e[62] = pe),
        (e[63] = ae),
        (e[64] = ve),
        (e[65] = je))
      : (je = e[65]);
    const ce = je;
    let xe;
    e[66] === Symbol.for("react.memo_cache_sentinel")
      ? ((xe = [
          { key: "id", label: "ID", sortable: !0, render: Vg },
          { key: "orderId", label: "Order ID", sortable: !0, render: $g },
          { key: "amountCents", label: "Amount", sortable: !0, render: Mg },
          { key: "signatureOk", label: "Signature", sortable: !0, render: Wg },
          { key: "processedAt", label: "Xử lý", sortable: !0, render: qg },
          { key: "createdAt", label: "Created", sortable: !0, render: Ug },
        ]),
        (e[66] = xe))
      : (xe = e[66]);
    const Te = xe;
    let Pe;
    e[67] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pe = [
          { key: "id", label: "ID", sortable: !0, render: Bg },
          { key: "orderId", label: "Order ID", sortable: !0, render: Qg },
          { key: "amountCents", label: "Amount", sortable: !0, render: Kg },
          { key: "status", label: "Status", sortable: !0, render: Hg },
          { key: "createdAt", label: "Created", sortable: !0, render: Yg },
        ]),
        (e[67] = Pe))
      : (Pe = e[67]);
    const Se = Pe;
    let ke;
    e[68] === Symbol.for("react.memo_cache_sentinel")
      ? ((ke = s.jsx(Xt, {})), (e[68] = ke))
      : (ke = e[68]);
    let Le;
    e[69] === Symbol.for("react.memo_cache_sentinel")
      ? ((Le = {
          key: "view",
          label: "View Details",
          icon: ke,
          variant: "ghost",
          colorScheme: "blue",
          onClick: (mt) => l(mt),
        }),
        (e[69] = Le))
      : (Le = e[69]);
    let De;
    e[70] === Symbol.for("react.memo_cache_sentinel")
      ? ((De = s.jsx(va, {})), (e[70] = De))
      : (De = e[70]);
    let me;
    e[71] !== D
      ? ((me = [
          Le,
          {
            key: "reconcile",
            label: "Reconcile",
            icon: De,
            variant: "ghost",
            colorScheme: "green",
            onClick: (mt) => D(mt),
            show: Xg,
          },
        ]),
        (e[71] = D),
        (e[72] = me))
      : (me = e[72]);
    const Fe = me;
    let be;
    e[73] === Symbol.for("react.memo_cache_sentinel")
      ? ((be = s.jsx(Xt, {})), (e[73] = be))
      : (be = e[73]);
    let Me;
    e[74] === Symbol.for("react.memo_cache_sentinel")
      ? ((Me = [
          {
            key: "view",
            label: "View Details",
            icon: be,
            variant: "ghost",
            colorScheme: "blue",
            onClick: (mt) => m(mt),
          },
        ]),
        (e[74] = Me))
      : (Me = e[74]);
    const Qe = Me;
    let $e;
    e[75] === Symbol.for("react.memo_cache_sentinel")
      ? (($e = [
          ls("Tìm kiếm theo Order ID hoặc Amount..."),
          Rt("signatureOk", "Signature Status", [
            { value: "", label: "Tất cả" },
            { value: "true", label: "Valid" },
            { value: "false", label: "Invalid" },
          ]),
          Rt("processedAt", "Processed Status", [
            { value: "", label: "Tất cả" },
            { value: "processed", label: "Đã xử lý" },
            { value: "unprocessed", label: "Chưa xử lý" },
          ]),
        ]),
        (e[75] = $e))
      : ($e = e[75]);
    const Ye = $e;
    let we;
    e[76] === Symbol.for("react.memo_cache_sentinel")
      ? ((we = [
          ls("Tìm kiếm theo Order ID hoặc Amount..."),
          Rt("status", "Status", [
            { value: "", label: "Tất cả" },
            { value: "COMPLETED", label: "Completed" },
            { value: "PENDING", label: "Pending" },
            { value: "FAILED", label: "Failed" },
          ]),
        ]),
        (e[76] = we))
      : (we = e[76]);
    const Ae = we;
    let We;
    e[77] === Symbol.for("react.memo_cache_sentinel")
      ? ((We = s.jsxs(y, {
          className: "mb-6",
          children: [
            s.jsx(i, {
              className:
                "text-3xl font-bold font-[Quicksand,sans-serif] text-gray-800 mb-2",
              children: "Quản lý thanh toán",
            }),
            s.jsx(i, {
              className: "text-gray-600 font-[Quicksand,sans-serif]",
              children: "Debug và đối soát thanh toán",
            }),
          ],
        })),
        (e[77] = We))
      : (We = e[77]);
    let Ke;
    e[78] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ke = (mt) => n(mt.value)), (e[78] = Ke))
      : (Ke = e[78]);
    let Ze, Re;
    e[79] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ze = s.jsx(On, {})),
        (Re = s.jsx(i, { children: "Payment Events" })),
        (e[79] = Ze),
        (e[80] = Re))
      : ((Ze = e[79]), (Re = e[80]));
    let ge;
    e[81] !== he.total
      ? ((ge = s.jsxs(Ds, {
          value: "events",
          gap: 2,
          children: [
            Ze,
            Re,
            s.jsx(Be, {
              colorScheme: "blue",
              variant: "subtle",
              size: "sm",
              children: he.total,
            }),
          ],
        })),
        (e[81] = he.total),
        (e[82] = ge))
      : (ge = e[82]);
    let et, lt;
    e[83] === Symbol.for("react.memo_cache_sentinel")
      ? ((et = s.jsx(ol, {})),
        (lt = s.jsx(i, { children: "Transactions" })),
        (e[83] = et),
        (e[84] = lt))
      : ((et = e[83]), (lt = e[84]));
    let qe;
    e[85] !== ce.total
      ? ((qe = s.jsxs(Ds, {
          value: "transactions",
          gap: 2,
          children: [
            et,
            lt,
            s.jsx(Be, {
              colorScheme: "green",
              variant: "subtle",
              size: "sm",
              children: ce.total,
            }),
          ],
        })),
        (e[85] = ce.total),
        (e[86] = qe))
      : (qe = e[86]);
    let it, ze;
    e[87] === Symbol.for("react.memo_cache_sentinel")
      ? ((it = s.jsx(Ni, {})),
        (ze = s.jsx(i, { ml: 2, children: "Refresh" })),
        (e[87] = it),
        (e[88] = ze))
      : ((it = e[87]), (ze = e[88]));
    let ot;
    e[89] !== H
      ? ((ot = s.jsx(y, {
          ml: "auto",
          display: "flex",
          alignItems: "center",
          children: s.jsxs(Y, {
            onClick: H,
            variant: "outline",
            colorScheme: "gray",
            size: "sm",
            children: [it, ze],
          }),
        })),
        (e[89] = H),
        (e[90] = ot))
      : (ot = e[90]);
    let dt;
    e[91] !== ge || e[92] !== qe || e[93] !== ot
      ? ((dt = s.jsxs(Ii, { children: [ge, qe, ot] })),
        (e[91] = ge),
        (e[92] = qe),
        (e[93] = ot),
        (e[94] = dt))
      : (dt = e[94]);
    let ct;
    e[95] !== t || e[96] !== dt
      ? ((ct = s.jsx(tt, {
          bg: "white",
          borderRadius: "lg",
          shadow: "sm",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          children: s.jsx(st, {
            p: 4,
            children: s.jsx(Vi, {
              value: t,
              onValueChange: Ke,
              variant: "enclosed",
              size: "md",
              children: dt,
            }),
          }),
        })),
        (e[95] = t),
        (e[96] = dt),
        (e[97] = ct))
      : (ct = e[97]);
    let bt;
    e[98] === Symbol.for("react.memo_cache_sentinel")
      ? ((bt = { base: "sm", md: "md" }), (e[98] = bt))
      : (bt = e[98]);
    const _t = t === "events" ? "Payment Events" : "Transactions";
    let gt;
    e[99] !== _t
      ? ((gt = s.jsx(Yt, {
          bg: "blue.50",
          borderBottom: "1px solid",
          borderColor: "blue.200",
          py: 4,
          px: 6,
          children: s.jsxs(i, {
            fontSize: bt,
            fontWeight: "bold",
            color: "blue.600",
            children: ["📊 Thống kê ", _t],
          }),
        })),
        (e[99] = _t),
        (e[100] = gt))
      : (gt = e[100]);
    let ft, St;
    e[101] === Symbol.for("react.memo_cache_sentinel")
      ? ((ft = {
          base: "repeat(2, 1fr)",
          sm: "repeat(2, 1fr)",
          lg: "repeat(4, 1fr)",
        }),
        (St = { base: 4, md: 6 }),
        (e[101] = ft),
        (e[102] = St))
      : ((ft = e[101]), (St = e[102]));
    let ht;
    e[103] !== t ||
    e[104] !== he.processed ||
    e[105] !== he.signatureValid ||
    e[106] !== he.total ||
    e[107] !== he.withOrderId ||
    e[108] !== ce.completed ||
    e[109] !== ce.pending ||
    e[110] !== ce.total ||
    e[111] !== ce.withOrderId
      ? ((ht = s.jsx(st, {
          p: 6,
          children: s.jsx(Kt, {
            templateColumns: ft,
            gap: St,
            children:
              t === "events"
                ? s.jsxs(s.Fragment, {
                    children: [
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "TỔNG EVENTS",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: he.total,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: wn,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "SIGNATURE VALID",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: he.signatureValid,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: Ts,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "CÓ ORDER ID",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: he.withOrderId,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: wn,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "ĐÃ XỬ LÝ",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: he.processed,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: Ts,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                    ],
                  })
                : s.jsxs(s.Fragment, {
                    children: [
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "TỔNG TRANSACTIONS",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: ce.total,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: wn,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "COMPLETED",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: ce.completed,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: Ts,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "PENDING",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: ce.pending,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: $i,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                      s.jsx(tt, {
                        bg: "linear-gradient(135deg, #6B7280 0%, #4B5563 100%)",
                        color: "white",
                        borderRadius: "xl",
                        shadow: "lg",
                        overflow: "hidden",
                        _hover: { shadow: "xl", transform: "translateY(-2px)" },
                        transition: "all 0.3s ease",
                        children: s.jsx(st, {
                          p: { base: 4, md: 6 },
                          children: s.jsxs(rt, {
                            justify: "space-between",
                            align: "start",
                            children: [
                              s.jsxs(le, {
                                align: "start",
                                gap: 1,
                                children: [
                                  s.jsx(i, {
                                    fontSize: { base: "xs", md: "sm" },
                                    opacity: 0.9,
                                    fontWeight: "medium",
                                    textTransform: "uppercase",
                                    letterSpacing: "wide",
                                    children: "CÓ ORDER ID",
                                  }),
                                  s.jsx(i, {
                                    fontSize: { base: "xl", md: "2xl" },
                                    fontWeight: "bold",
                                    lineHeight: "shorter",
                                    children: ce.withOrderId,
                                  }),
                                ],
                              }),
                              s.jsx(vt, {
                                as: wn,
                                boxSize: { base: 6, md: 8 },
                                opacity: 0.8,
                              }),
                            ],
                          }),
                        }),
                      }),
                    ],
                  }),
          }),
        })),
        (e[103] = t),
        (e[104] = he.processed),
        (e[105] = he.signatureValid),
        (e[106] = he.total),
        (e[107] = he.withOrderId),
        (e[108] = ce.completed),
        (e[109] = ce.pending),
        (e[110] = ce.total),
        (e[111] = ce.withOrderId),
        (e[112] = ht))
      : (ht = e[112]);
    let pt;
    e[113] !== gt || e[114] !== ht
      ? ((pt = s.jsxs(tt, {
          bg: "white",
          borderRadius: "xl",
          shadow: "lg",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          overflow: "hidden",
          children: [gt, ht],
        })),
        (e[113] = gt),
        (e[114] = ht),
        (e[115] = pt))
      : (pt = e[115]);
    let xt;
    e[116] !== t ||
    e[117] !== Fe ||
    e[118] !== _ ||
    e[119] !== r ||
    e[120] !== A ||
    e[121] !== w ||
    e[122] !== f ||
    e[123] !== R
      ? ((xt =
          t === "events"
            ? s.jsx(as, {
                data: r,
                isLoading: A,
                columns: Te,
                actions: Fe,
                filterFields: Ye,
                currentFilters: _,
                onFiltersChange: Z,
                onResetFilters: te,
                title: "Payment Events",
                subtitle: "Danh sách các sự kiện thanh toán",
                emptyMessage: "Không có payment events nào.",
                loadingMessage: "Đang tải danh sách payment events...",
                showMobileCards: !0,
                enableSorting: !0,
                enablePagination: !0,
                enablePageSizeSelector: !0,
                pageSizeOptions: [10, 20, 50, 100],
                defaultPageSize: 20,
                showFilter: !0,
                showResetButton: !0,
                resetButtonText: "Đặt lại bộ lọc",
              })
            : s.jsx(as, {
                data: f,
                isLoading: R,
                columns: Se,
                actions: Qe,
                filterFields: Ae,
                currentFilters: w,
                onFiltersChange: se,
                onResetFilters: I,
                title: "Payment Transactions",
                subtitle: "Danh sách các giao dịch thanh toán",
                emptyMessage: "Không có payment transactions nào.",
                loadingMessage: "Đang tải danh sách payment transactions...",
                showMobileCards: !0,
                enableSorting: !0,
                enablePagination: !0,
                enablePageSizeSelector: !0,
                pageSizeOptions: [10, 20, 50, 100],
                defaultPageSize: 20,
                showFilter: !0,
                showResetButton: !0,
                resetButtonText: "Đặt lại bộ lọc",
              })),
        (e[116] = t),
        (e[117] = Fe),
        (e[118] = _),
        (e[119] = r),
        (e[120] = A),
        (e[121] = w),
        (e[122] = f),
        (e[123] = R),
        (e[124] = xt))
      : (xt = e[124]);
    let jt;
    e[125] !== ct || e[126] !== pt || e[127] !== xt
      ? ((jt = s.jsxs(y, {
          className: "max-w-7xl mx-auto",
          children: [We, ct, pt, xt],
        })),
        (e[125] = ct),
        (e[126] = pt),
        (e[127] = xt),
        (e[128] = jt))
      : (jt = e[128]);
    let Ct;
    e[129] !== D || e[130] !== a
      ? ((Ct =
          a &&
          s.jsx(bl, {
            open: !!a,
            onOpenChange: () => l(null),
            children: s.jsx(Ag, {
              event: a,
              onClose: () => l(null),
              onReconcile: D,
            }),
          })),
        (e[129] = D),
        (e[130] = a),
        (e[131] = Ct))
      : (Ct = e[131]);
    let Tt;
    e[132] !== c
      ? ((Tt =
          c &&
          s.jsx(bl, {
            open: !!c,
            onOpenChange: () => m(null),
            children: s.jsx(Pg, { transaction: c, onClose: () => m(null) }),
          })),
        (e[132] = c),
        (e[133] = Tt))
      : (Tt = e[133]);
    let Et;
    return (
      e[134] !== jt || e[135] !== Ct || e[136] !== Tt
        ? ((Et = s.jsxs(y, {
            className: "p-6 bg-gray-50 min-h-screen",
            children: [jt, Ct, Tt],
          })),
          (e[134] = jt),
          (e[135] = Ct),
          (e[136] = Tt),
          (e[137] = Et))
        : (Et = e[137]),
      Et
    );
  };
function Ng(e) {
  return { ...e, id: e.id };
}
function Dg(e) {
  return { ...e, id: e.id };
}
function Lg(e) {
  return e.signatureOk;
}
function zg(e) {
  return e.orderId;
}
function Fg(e) {
  return e.processedAt;
}
function Rg(e) {
  return e.status === "COMPLETED";
}
function Og(e) {
  return e.status === "PENDING";
}
function Ig(e) {
  return e.orderId;
}
function Vg(e) {
  return s.jsxs(i, {
    fontSize: "sm",
    fontWeight: "medium",
    fontFamily: "Quicksand, sans-serif",
    children: ["#", e.id],
  });
}
function $g(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: e.orderId || "-",
  });
}
function Mg(e) {
  return s.jsx(i, {
    fontSize: "sm",
    fontWeight: "medium",
    color: "green.600",
    fontFamily: "Quicksand, sans-serif",
    children: new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: e.currency || "VND",
    }).format(e.amountCents || 0),
  });
}
function Wg(e) {
  return s.jsx(Be, {
    colorScheme: e.signatureOk ? "green" : "red",
    variant: "subtle",
    children: e.signatureOk ? "Hợp lệ" : "Không hợp lệ",
  });
}
function qg(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: e.processedAt
      ? new Date(e.processedAt).toLocaleDateString("vi-VN")
      : "-",
  });
}
function Ug(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: new Date(e.createdAt).toLocaleDateString("vi-VN"),
  });
}
function Bg(e) {
  return s.jsxs(i, {
    fontSize: "sm",
    fontWeight: "medium",
    fontFamily: "Quicksand, sans-serif",
    children: ["#", e.id],
  });
}
function Qg(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: e.orderId || "-",
  });
}
function Kg(e) {
  return s.jsx(i, {
    fontSize: "sm",
    fontWeight: "medium",
    color: "green.600",
    fontFamily: "Quicksand, sans-serif",
    children: new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: e.currency || "VND",
    }).format(e.amountCents || 0),
  });
}
function Gg(e) {
  switch (e) {
    case "COMPLETED":
      return "green";
    case "PENDING":
      return "yellow";
    case "FAILED":
      return "red";
    default:
      return "gray";
  }
}
function Hg(e) {
  const t = Gg;
  return s.jsx(Be, {
    colorScheme: t(e.status),
    variant: "subtle",
    children: e.status,
  });
}
function Yg(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: new Date(e.createdAt).toLocaleDateString("vi-VN"),
  });
}
function Xg(e) {
  return !e.processedAt && !!e.orderId;
}
const Jg = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: kg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  is = {
    all: ["plan-features"],
    lists: () => [...is.all, "list"],
    list: (e) => [...is.lists(), e],
    active: () => [...is.all, "active"],
    available: () => ["billing-features", "available"],
    details: () => [...is.all, "detail"],
    detail: (e) => [...is.details(), e],
  },
  an = {
    getPlanFeatures: async () => {
      const e = await ie.get("/admin/plan-features");
      return e.data.data || e.data;
    },
    getActivePlanFeatures: async () => {
      const e = await ie.get("/admin/plan-features/active");
      return e.data.data || e.data;
    },
    getAvailableFeatures: async () => {
      const e = await ie.get("/billing/features/available");
      return e.data.data.features || e.data.features;
    },
    createPlanFeature: async (e) => {
      const t = await ie.post("/admin/plan-features", e);
      return t.data.data || t.data;
    },
    updatePlanFeature: async (e, t) => {
      const n = await ie.patch(`/admin/plan-features/${e}`, t);
      return n.data.data || n.data;
    },
    togglePlanFeatureActive: async (e) => {
      const t = await ie.patch(`/admin/plan-features/${e}/toggle-active`);
      return t.data.data || t.data;
    },
    deletePlanFeature: async (e) => {
      await ie.delete(`/admin/plan-features/${e}`);
    },
  },
  Zg = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: is.list(),
            queryFn: an.getPlanFeatures,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  ul = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: is.active(),
            queryFn: an.getActivePlanFeatures,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  Z0 = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: is.available(),
            queryFn: an.getAvailableFeatures,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  ef = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: an.createPlanFeature,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: is.lists() }),
                t.invalidateQueries({ queryKey: is.active() }),
                ye.create({
                  title: "Thành công",
                  description: "Tạo tính năng thành công",
                  type: "success",
                });
            },
            onError: lf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  tf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: af,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: is.lists() }),
                t.invalidateQueries({ queryKey: is.active() }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật tính năng thành công",
                  type: "success",
                });
            },
            onError: rf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  sf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: an.togglePlanFeatureActive,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: is.lists() }),
                t.invalidateQueries({ queryKey: is.active() }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật trạng thái tính năng thành công",
                  type: "success",
                });
            },
            onError: of,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  nf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: an.deletePlanFeature,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: is.lists() }),
                t.invalidateQueries({ queryKey: is.active() }),
                ye.create({
                  title: "Thành công",
                  description: "Xóa tính năng thành công",
                  type: "success",
                });
            },
            onError: cf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function lf(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Tính năng này đã tồn tại. Vui lòng kiểm tra lại key."
      : "Có lỗi xảy ra khi tạo tính năng";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
function af(e) {
  const { id: t, data: n } = e;
  return an.updatePlanFeature(t, n);
}
function rf(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Tính năng này đã tồn tại. Vui lòng kiểm tra lại key."
      : "Có lỗi xảy ra khi cập nhật tính năng";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
function of() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi cập nhật trạng thái tính năng",
    type: "error",
  });
}
function cf() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi xóa tính năng",
    type: "error",
  });
}
const df = (e) => {
    const t = G.c(78),
      { isOpen: n, onClose: a, editingFeature: l, onSave: c } = e;
    let m;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = {
          key: "",
          description: "",
          isActive: !0,
          sortOrder: 0,
          priceCents: 0,
          currency: "VND",
        }),
        (t[0] = m))
      : (m = t[0]);
    const [r, o] = j.useState(m),
      [u, _] = j.useState(""),
      d = !!l;
    let f;
    t[1] !== l
      ? ((f = () => {
          o(
            l
              ? {
                  key: l.key,
                  description: l.description,
                  isActive: l.isActive,
                  sortOrder: l.sortOrder,
                  priceCents: l.priceCents,
                  currency: l.currency,
                }
              : {
                  key: "",
                  description: "",
                  isActive: !0,
                  sortOrder: 0,
                  priceCents: 0,
                  currency: "VND",
                }
          ),
            _("");
        }),
        (t[1] = l),
        (t[2] = f))
      : (f = t[2]);
    let b;
    t[3] !== l || t[4] !== n
      ? ((b = [l, n]), (t[3] = l), (t[4] = n), (t[5] = b))
      : (b = t[5]),
      j.useEffect(f, b);
    let P;
    t[6] !== r.currency ||
    t[7] !== r.description ||
    t[8] !== r.isActive ||
    t[9] !== r.key ||
    t[10] !== r.priceCents ||
    t[11] !== r.sortOrder ||
    t[12] !== c
      ? ((P = () => {
          if (!r.key.trim()) {
            _("Vui lòng nhập key tính năng");
            return;
          }
          if (!r.description.trim()) {
            _("Vui lòng nhập mô tả tính năng");
            return;
          }
          if (r.priceCents < 0) {
            _("Giá không thể âm");
            return;
          }
          if (r.sortOrder < 0) {
            _("Thứ tự không thể âm");
            return;
          }
          _("");
          const se = {
            key: r.key.trim(),
            description: r.description.trim(),
            isActive: r.isActive,
            sortOrder: r.sortOrder,
            priceCents: r.priceCents,
            currency: r.currency,
          };
          c(se);
        }),
        (t[6] = r.currency),
        (t[7] = r.description),
        (t[8] = r.isActive),
        (t[9] = r.key),
        (t[10] = r.priceCents),
        (t[11] = r.sortOrder),
        (t[12] = c),
        (t[13] = P))
      : (P = t[13]);
    const w = P;
    let v;
    t[14] !== a
      ? ((v = () => {
          a(), _("");
        }),
        (t[14] = a),
        (t[15] = v))
      : (v = t[15]);
    const x = v,
      T = d ? "Chỉnh sửa tính năng" : "Thêm tính năng mới";
    let S;
    t[16] !== u
      ? ((S =
          u &&
          s.jsx(y, {
            p: 3,
            bg: "red.50",
            border: "1px",
            borderColor: "red.200",
            rounded: "md",
            children: s.jsx(i, {
              color: "red.600",
              fontSize: "sm",
              children: u,
            }),
          })),
        (t[16] = u),
        (t[17] = S))
      : (S = t[17]);
    let h;
    t[18] !== r
      ? ((h = (se) => o({ ...r, key: se.target.value })),
        (t[18] = r),
        (t[19] = h))
      : (h = t[19]);
    let C;
    t[20] !== r.key || t[21] !== d || t[22] !== h
      ? ((C = s.jsx(Ee, {
          value: r.key,
          onChange: h,
          placeholder: "Nhập key tính năng (ví dụ: design_full_service)",
          disabled: d,
        })),
        (t[20] = r.key),
        (t[21] = d),
        (t[22] = h),
        (t[23] = C))
      : (C = t[23]);
    let A;
    t[24] !== d
      ? ((A =
          d &&
          s.jsx(i, {
            fontSize: "xs",
            color: "gray.500",
            mt: 1,
            children: "Key không thể thay đổi khi chỉnh sửa",
          })),
        (t[24] = d),
        (t[25] = A))
      : (A = t[25]);
    let k;
    t[26] !== A || t[27] !== C
      ? ((k = s.jsxs(Ne, {
          label: "Key tính năng",
          required: !0,
          children: [C, A],
        })),
        (t[26] = A),
        (t[27] = C),
        (t[28] = k))
      : (k = t[28]);
    let g;
    t[29] !== r
      ? ((g = (se) => o({ ...r, description: se.target.value })),
        (t[29] = r),
        (t[30] = g))
      : (g = t[30]);
    let p;
    t[31] !== r.description || t[32] !== g
      ? ((p = s.jsx(Ne, {
          label: "Mô tả tính năng",
          required: !0,
          children: s.jsx(Qt, {
            value: r.description,
            onChange: g,
            placeholder: "Nhập mô tả chi tiết tính năng",
            rows: 3,
          }),
        })),
        (t[31] = r.description),
        (t[32] = g),
        (t[33] = p))
      : (p = t[33]);
    let E;
    t[34] !== r
      ? ((E = (se) => o({ ...r, sortOrder: parseInt(se.target.value) || 0 })),
        (t[34] = r),
        (t[35] = E))
      : (E = t[35]);
    let z;
    t[36] !== r.sortOrder || t[37] !== E
      ? ((z = s.jsx(Ne, {
          label: "Thứ tự hiển thị",
          required: !0,
          children: s.jsx(Ee, {
            type: "number",
            value: r.sortOrder,
            onChange: E,
            placeholder: "0",
            min: 0,
          }),
        })),
        (t[36] = r.sortOrder),
        (t[37] = E),
        (t[38] = z))
      : (z = t[38]);
    let N;
    t[39] !== r
      ? ((N = (se) => o({ ...r, priceCents: parseInt(se.target.value) || 0 })),
        (t[39] = r),
        (t[40] = N))
      : (N = t[40]);
    let R;
    t[41] !== r.priceCents || t[42] !== N
      ? ((R = s.jsx(Ne, {
          label: "Giá (VND)",
          required: !0,
          children: s.jsx(Ee, {
            type: "number",
            value: r.priceCents,
            onChange: N,
            placeholder: "0",
            min: 0,
          }),
        })),
        (t[41] = r.priceCents),
        (t[42] = N),
        (t[43] = R))
      : (R = t[43]);
    let F;
    t[44] !== z || t[45] !== R
      ? ((F = s.jsxs(W, { gap: 4, children: [z, R] })),
        (t[44] = z),
        (t[45] = R),
        (t[46] = F))
      : (F = t[46]);
    let V;
    t[47] !== r
      ? ((V = (se) => o({ ...r, isActive: se })), (t[47] = r), (t[48] = V))
      : (V = t[48]);
    let $;
    t[49] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = s.jsx(Ms, {})), (t[49] = $))
      : ($ = t[49]);
    let Q;
    t[50] !== r.isActive || t[51] !== V
      ? ((Q = s.jsx($s, {
          checked: r.isActive,
          onCheckedChange: V,
          children: $,
        })),
        (t[50] = r.isActive),
        (t[51] = V),
        (t[52] = Q))
      : (Q = t[52]);
    const M = r.isActive ? "Hoạt động" : "Tạm dừng";
    let L;
    t[53] !== M
      ? ((L = s.jsx(i, { fontSize: "sm", color: "gray.600", children: M })),
        (t[53] = M),
        (t[54] = L))
      : (L = t[54]);
    let q;
    t[55] !== Q || t[56] !== L
      ? ((q = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs(y, { display: "flex", gap: 3, children: [Q, L] }),
        })),
        (t[55] = Q),
        (t[56] = L),
        (t[57] = q))
      : (q = t[57]);
    let D;
    t[58] !== x
      ? ((D = s.jsx(Y, {
          variant: "outline",
          onClick: x,
          flex: 1,
          children: "Hủy",
        })),
        (t[58] = x),
        (t[59] = D))
      : (D = t[59]);
    const K = d ? "Cập nhật" : "Tạo tính năng";
    let H;
    t[60] !== w || t[61] !== K
      ? ((H = s.jsx(Y, {
          colorScheme: "blue",
          onClick: w,
          flex: 1,
          children: K,
        })),
        (t[60] = w),
        (t[61] = K),
        (t[62] = H))
      : (H = t[62]);
    let B;
    t[63] !== D || t[64] !== H
      ? ((B = s.jsxs(W, { gap: 3, pt: 4, children: [D, H] })),
        (t[63] = D),
        (t[64] = H),
        (t[65] = B))
      : (B = t[65]);
    let Z;
    t[66] !== k ||
    t[67] !== p ||
    t[68] !== F ||
    t[69] !== q ||
    t[70] !== B ||
    t[71] !== S
      ? ((Z = s.jsxs(le, {
          gap: 4,
          align: "stretch",
          children: [S, k, p, F, q, B],
        })),
        (t[66] = k),
        (t[67] = p),
        (t[68] = F),
        (t[69] = q),
        (t[70] = B),
        (t[71] = S),
        (t[72] = Z))
      : (Z = t[72]);
    let J;
    return (
      t[73] !== x || t[74] !== n || t[75] !== Z || t[76] !== T
        ? ((J = s.jsx(Ot, { title: T, isOpen: n, onClose: x, children: Z })),
          (t[73] = x),
          (t[74] = n),
          (t[75] = Z),
          (t[76] = T),
          (t[77] = J))
        : (J = t[77]),
      J
    );
  },
  hf = () => {
    const e = G.c(65),
      [t, n] = j.useState(!1),
      [a, l] = j.useState(null),
      [c, m] = j.useState(""),
      [r, o] = j.useState("sortOrder"),
      [u, _] = j.useState("asc");
    let d;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((d = { isOpen: !1, featureId: null }), (e[0] = d))
      : (d = e[0]);
    const [f, b] = j.useState(d),
      { data: P, isLoading: w, refetch: v } = Zg(),
      x = P === void 0 ? [] : P,
      T = ef(),
      S = tf(),
      h = nf(),
      C = sf();
    let A;
    e[1] !== c
      ? ((A = (me) =>
          me.key.toLowerCase().includes(c.toLowerCase()) ||
          me.description.toLowerCase().includes(c.toLowerCase())),
        (e[1] = c),
        (e[2] = A))
      : (A = e[2]);
    let k;
    e[3] !== r || e[4] !== u
      ? ((k = (me, Fe) => {
          let be = me[r],
            Me = Fe[r];
          return (
            r === "sortOrder" && ((be = me.sortOrder), (Me = Fe.sortOrder)),
            u === "asc" ? (be > Me ? 1 : -1) : be < Me ? 1 : -1
          );
        }),
        (e[3] = r),
        (e[4] = u),
        (e[5] = k))
      : (k = e[5]);
    const g = x.filter(A).sort(k);
    let p;
    e[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((p = (me) => {
          l(me), n(!0);
        }),
        (e[6] = p))
      : (p = e[6]);
    const E = p;
    let z;
    e[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((z = (me) => {
          b({ isOpen: !0, featureId: me });
        }),
        (e[7] = z))
      : (z = e[7]);
    const N = z;
    let R;
    e[8] !== f.featureId || e[9] !== h || e[10] !== v
      ? ((R = async () => {
          if (f.featureId)
            try {
              await h.mutateAsync(f.featureId),
                v(),
                b({ isOpen: !1, featureId: null });
            } catch {}
        }),
        (e[8] = f.featureId),
        (e[9] = h),
        (e[10] = v),
        (e[11] = R))
      : (R = e[11]);
    const F = R;
    let V;
    e[12] !== v || e[13] !== C
      ? ((V = async (me) => {
          try {
            await C.mutateAsync(me), v();
          } catch {}
        }),
        (e[12] = v),
        (e[13] = C),
        (e[14] = V))
      : (V = e[14]);
    const $ = V;
    let Q;
    e[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((Q = () => {
          n(!1), l(null);
        }),
        (e[15] = Q))
      : (Q = e[15]);
    const M = Q;
    let L;
    e[16] !== T || e[17] !== a || e[18] !== M || e[19] !== v || e[20] !== S
      ? ((L = async (me) => {
          try {
            a
              ? await S.mutateAsync({ id: a.id, data: me })
              : await T.mutateAsync(me),
              v(),
              M();
          } catch {}
        }),
        (e[16] = T),
        (e[17] = a),
        (e[18] = M),
        (e[19] = v),
        (e[20] = S),
        (e[21] = L))
      : (L = e[21]);
    const q = L;
    if (w) {
      let me;
      return (
        e[22] === Symbol.for("react.memo_cache_sentinel")
          ? ((me = s.jsx(y, {
              p: 6,
              children: s.jsx(i, {
                children: "Đang tải danh sách tính năng...",
              }),
            })),
            (e[22] = me))
          : (me = e[22]),
        me
      );
    }
    let D;
    e[23] === Symbol.for("react.memo_cache_sentinel")
      ? ((D = s.jsx(W, {
          justify: "space-between",
          children: s.jsxs(le, {
            align: "start",
            gap: 1,
            children: [
              s.jsx(i, {
                fontSize: "2xl",
                fontWeight: "bold",
                children: "Quản lý tính năng gói",
              }),
              s.jsx(i, {
                color: "gray.600",
                children:
                  "Quản lý danh sách tính năng và giá cho từng tính năng",
              }),
            ],
          }),
        })),
        (e[23] = D))
      : (D = e[23]);
    let K;
    e[24] === Symbol.for("react.memo_cache_sentinel")
      ? ((K = (me) => m(me.target.value)), (e[24] = K))
      : (K = e[24]);
    let H;
    e[25] !== c
      ? ((H = s.jsx(Ee, {
          placeholder: "Tìm kiếm theo key hoặc mô tả...",
          value: c,
          onChange: K,
          maxWidth: "300px",
        })),
        (e[25] = c),
        (e[26] = H))
      : (H = e[26]);
    let B, Z, J, se;
    e[27] === Symbol.for("react.memo_cache_sentinel")
      ? ((B = (me) => o(me.target.value)),
        (Z = s.jsx("option", {
          value: "sortOrder",
          children: "Sắp xếp theo thứ tự",
        })),
        (J = s.jsx("option", { value: "key", children: "Sắp xếp theo key" })),
        (se = s.jsx("option", {
          value: "description",
          children: "Sắp xếp theo mô tả",
        })),
        (e[27] = B),
        (e[28] = Z),
        (e[29] = J),
        (e[30] = se))
      : ((B = e[27]), (Z = e[28]), (J = e[29]), (se = e[30]));
    let ee;
    e[31] !== r
      ? ((ee = s.jsxs(Jt, { value: r, onChange: B, children: [Z, J, se] })),
        (e[31] = r),
        (e[32] = ee))
      : (ee = e[32]);
    let te;
    e[33] === Symbol.for("react.memo_cache_sentinel")
      ? ((te = s.jsx(Zt, {})), (e[33] = te))
      : (te = e[33]);
    let X;
    e[34] !== ee
      ? ((X = s.jsxs(es, { size: "sm", width: "150px", children: [ee, te] })),
        (e[34] = ee),
        (e[35] = X))
      : (X = e[35]);
    let I, O, U;
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((I = (me) => _(me.target.value)),
        (O = s.jsx("option", { value: "asc", children: "Tăng dần" })),
        (U = s.jsx("option", { value: "desc", children: "Giảm dần" })),
        (e[36] = I),
        (e[37] = O),
        (e[38] = U))
      : ((I = e[36]), (O = e[37]), (U = e[38]));
    let re;
    e[39] !== u
      ? ((re = s.jsxs(Jt, { value: u, onChange: I, children: [O, U] })),
        (e[39] = u),
        (e[40] = re))
      : (re = e[40]);
    let de;
    e[41] === Symbol.for("react.memo_cache_sentinel")
      ? ((de = s.jsx(Zt, {})), (e[41] = de))
      : (de = e[41]);
    let ue;
    e[42] !== re
      ? ((ue = s.jsxs(es, { size: "sm", width: "120px", children: [re, de] })),
        (e[42] = re),
        (e[43] = ue))
      : (ue = e[43]);
    let he;
    e[44] !== H || e[45] !== X || e[46] !== ue
      ? ((he = s.jsxs(W, { gap: 4, wrap: "wrap", children: [H, X, ue] })),
        (e[44] = H),
        (e[45] = X),
        (e[46] = ue),
        (e[47] = he))
      : (he = e[47]);
    let ne;
    e[48] === Symbol.for("react.memo_cache_sentinel")
      ? ((ne = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "Thứ tự" }),
              s.jsx(Ce, { children: "Key" }),
              s.jsx(Ce, { children: "Mô tả" }),
              s.jsx(Ce, { children: "Giá (VND)" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
            ],
          }),
        })),
        (e[48] = ne))
      : (ne = e[48]);
    let pe;
    e[49] !== $
      ? ((pe = (me) =>
          s.jsxs(
            At,
            {
              children: [
                s.jsx(_e, {
                  children: s.jsx(i, {
                    fontWeight: "medium",
                    children: me.sortOrder,
                  }),
                }),
                s.jsx(_e, {
                  children: s.jsx(i, {
                    fontFamily: "mono",
                    fontSize: "sm",
                    color: "blue.600",
                    children: me.key,
                  }),
                }),
                s.jsx(_e, {
                  children: s.jsx(i, {
                    maxWidth: "400px",
                    style: {
                      display: "-webkit-box",
                      WebkitLineClamp: 2,
                      WebkitBoxOrient: "vertical",
                      overflow: "hidden",
                    },
                    children: me.description,
                  }),
                }),
                s.jsx(_e, {
                  children: s.jsx(i, {
                    fontWeight: "medium",
                    children: me.priceCents.toLocaleString(),
                  }),
                }),
                s.jsx(_e, {
                  children: s.jsx(Be, {
                    colorScheme: me.isActive ? "green" : "red",
                    variant: "subtle",
                    children: me.isActive ? "Hoạt động" : "Tạm dừng",
                  }),
                }),
                s.jsx(_e, {
                  children: s.jsxs(W, {
                    gap: 1,
                    justify: "flex-end",
                    children: [
                      s.jsx(wt, {
                        "aria-label": "Chỉnh sửa",
                        size: "sm",
                        variant: "ghost",
                        onClick: () => E(me),
                        children: s.jsx(Mt, {}),
                      }),
                      s.jsx(wt, {
                        "aria-label": me.isActive ? "Tạm dừng" : "Kích hoạt",
                        size: "sm",
                        variant: "ghost",
                        colorScheme: me.isActive ? "red" : "green",
                        onClick: () => $(me.id),
                        children: me.isActive ? s.jsx(Mi, {}) : s.jsx(Sa, {}),
                      }),
                      s.jsx(wt, {
                        "aria-label": "Xóa",
                        size: "sm",
                        variant: "ghost",
                        colorScheme: "red",
                        onClick: () => N(me.id),
                        children: s.jsx(vn, {}),
                      }),
                    ],
                  }),
                }),
              ],
            },
            me.id
          )),
        (e[49] = $),
        (e[50] = pe))
      : (pe = e[50]);
    const ae = i,
      ve = "gray.600",
      je = "Hoạt động: ",
      ce = g.filter(mf),
      xe = ce.length,
      Te = " | Tạm dừng: ",
      Pe = g.filter(uf);
    let Se;
    e[51] !== ae || e[52] !== ce || e[53] !== Pe.length
      ? ((Se = s.jsxs(ae, { color: ve, children: [je, xe, Te, Pe.length] })),
        (e[51] = ae),
        (e[52] = ce),
        (e[53] = Pe.length),
        (e[54] = Se))
      : (Se = e[54]);
    let ke;
    e[55] !== a || e[56] !== M || e[57] !== q || e[58] !== t
      ? ((ke = s.jsx(df, {
          isOpen: t,
          onClose: M,
          editingFeature: a,
          onSave: q,
        })),
        (e[55] = a),
        (e[56] = M),
        (e[57] = q),
        (e[58] = t),
        (e[59] = ke))
      : (ke = e[59]);
    let Le;
    e[60] === Symbol.for("react.memo_cache_sentinel")
      ? ((Le = () => b({ isOpen: !1, featureId: null })), (e[60] = Le))
      : (Le = e[60]);
    let De;
    return (
      e[61] !== F || e[62] !== f.isOpen || e[63] !== h.isPending
        ? ((De = s.jsx(Gs, {
            isOpen: f.isOpen,
            title: "Xác nhận xóa",
            message: "Bạn có chắc chắn muốn xóa tính năng này?",
            confirmLabel: "Xóa",
            cancelLabel: "Hủy",
            onConfirm: F,
            onClose: Le,
            confirmColorScheme: "red",
            isLoading: h.isPending,
          })),
          (e[61] = F),
          (e[62] = f.isOpen),
          (e[63] = h.isPending),
          (e[64] = De))
        : (De = e[64]),
      s.jsxs(y, {
        p: 6,
        children: [
          s.jsxs(le, {
            gap: 6,
            align: "stretch",
            children: [
              D,
              he,
              s.jsx(y, {
                border: "1px",
                borderColor: "gray.200",
                borderRadius: "md",
                overflow: "hidden",
                children: s.jsxs(vs, {
                  size: "sm",
                  children: [ne, s.jsx(_s, { children: g.map(pe) })],
                }),
              }),
              g.length === 0 &&
                s.jsx(y, {
                  textAlign: "center",
                  py: 8,
                  children: s.jsx(i, {
                    color: "gray.500",
                    children: c
                      ? "Không tìm thấy tính năng nào phù hợp"
                      : "Chưa có tính năng nào",
                  }),
                }),
              s.jsxs(W, {
                justify: "space-between",
                pt: 4,
                borderTop: "1px",
                borderColor: "gray.200",
                children: [
                  s.jsxs(i, {
                    color: "gray.600",
                    children: ["Tổng cộng: ", g.length, " tính năng"],
                  }),
                  Se,
                ],
              }),
            ],
          }),
          ke,
          De,
        ],
      })
    );
  };
function mf(e) {
  return e.isActive;
}
function uf(e) {
  return !e.isActive;
}
const gf = Object.freeze(
    Object.defineProperty(
      { __proto__: null, PlanFeaturesManager: hf },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Is = {
    all: ["plans"],
    lists: () => [...Is.all, "list"],
    list: (e) => [...Is.lists(), e],
    details: () => [...Is.all, "detail"],
    detail: (e) => [...Is.details(), e],
  },
  $n = {
    getPlans: async () => {
      const e = await ie.get("/admin/billing/catalog/plan");
      return e.data.data || e.data;
    },
    getPublicPlans: async () => {
      const e = await ie.get("/billing/catalog/plan");
      return e.data.data || e.data;
    },
    getPlan: async (e) => {
      const t = await ie.get(`/admin/billing/catalog/plan/${e}`);
      return t.data.data || t.data;
    },
    createPlan: async (e) => {
      const t = await ie.post("/admin/billing/catalog/plan", e);
      return t.data.data || t.data;
    },
    updatePlan: async (e, t) => {
      const n = await ie.patch(`/admin/billing/catalog/plan/${e}`, t);
      return n.data.data || n.data;
    },
    toggleActive: async (e) => {
      const t = await ie.patch(
        `/admin/billing/catalog/plan/${e}/toggle-active`
      );
      return t.data.data || t.data;
    },
    deletePlan: async (e) => {
      await ie.delete(`/admin/billing/catalog/plan/${e}`);
    },
  },
  ff = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = { queryKey: Is.list(), queryFn: $n.getPlans, staleTime: 3e5 }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  ej = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: ["plans", "public"],
            queryFn: $n.getPublicPlans,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  pf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: $n.createPlan,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Is.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Tạo gói thành công",
                  type: "success",
                });
            },
            onError: jf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  or = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: yf,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Is.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật gói thành công",
                  type: "success",
                });
            },
            onError: bf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  xf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: $n.toggleActive,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Is.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật trạng thái gói thành công",
                  type: "success",
                });
            },
            onError: vf,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function jf(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Gói này đã tồn tại. Vui lòng kiểm tra lại tier và period."
      : "Có lỗi xảy ra khi tạo gói";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
function yf(e) {
  const { id: t, data: n } = e;
  return $n.updatePlan(t, n);
}
function bf(e) {
  var n;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Gói này đã tồn tại. Vui lòng kiểm tra lại tier và period."
      : "Có lỗi xảy ra khi cập nhật gói";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
function vf() {
  ye.create({
    title: "Lỗi",
    description: "Có lỗi xảy ra khi cập nhật trạng thái gói",
    type: "error",
  });
}
const ea = (e) => {
  const t = G.c(102),
    { open: n, setOpen: a, editingPlan: l, children: c } = e;
  let m;
  t[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((m = {
        name: "",
        description: "",
        tier: "basic",
        period: "6m",
        priceCents: 0,
        currency: "VND",
        designPriceCents: 0,
        isActive: !0,
      }),
      (t[0] = m))
    : (m = t[0]);
  const [r, o] = j.useState(m);
  let u;
  t[1] === Symbol.for("react.memo_cache_sentinel")
    ? ((u = {}), (t[1] = u))
    : (u = t[1]);
  const [_, d] = j.useState(u),
    [f, b] = j.useState(""),
    { mutate: P, isPending: w } = pf(),
    { mutate: v, isPending: x } = or(),
    { data: T, isLoading: S } = ul(),
    h = T === void 0 ? [] : T,
    C = w || x,
    A = !!l;
  let k;
  t[2] !== l
    ? ((k = () => {
        l
          ? (o({
              name: l.name,
              description: l.description,
              tier: l.tier,
              period: l.period,
              priceCents: l.priceCents,
              currency: l.currency,
              designPriceCents: l.designPriceCents || 0,
              isActive: l.isActive,
            }),
            d(l.features || {}))
          : (o({
              name: "",
              description: "",
              tier: "basic",
              period: "6m",
              priceCents: 0,
              currency: "VND",
              designPriceCents: 0,
              isActive: !0,
            }),
            d({})),
          b("");
      }),
      (t[2] = l),
      (t[3] = k))
    : (k = t[3]);
  let g;
  t[4] !== l || t[5] !== n
    ? ((g = [l, n]), (t[4] = l), (t[5] = n), (t[6] = g))
    : (g = t[6]),
    j.useEffect(k, g);
  let p;
  t[7] !== P ||
  t[8] !== l ||
  t[9] !== r.currency ||
  t[10] !== r.description ||
  t[11] !== r.designPriceCents ||
  t[12] !== r.isActive ||
  t[13] !== r.name ||
  t[14] !== r.period ||
  t[15] !== r.priceCents ||
  t[16] !== r.tier ||
  t[17] !== A ||
  t[18] !== _ ||
  t[19] !== a ||
  t[20] !== v
    ? ((p = () => {
        if (!r.name.trim()) {
          b("Vui lòng nhập tên gói");
          return;
        }
        if (!r.description.trim()) {
          b("Vui lòng nhập mô tả");
          return;
        }
        if (r.priceCents < 0) {
          b("Giá không thể âm");
          return;
        }
        b("");
        const Ae = {
          name: r.name.trim(),
          description: r.description.trim(),
          tier: r.tier,
          period: r.period,
          priceCents: r.priceCents,
          currency: r.currency,
          designPriceCents: r.designPriceCents || void 0,
          isActive: r.isActive,
          features: _,
        };
        A && l
          ? v(
              { id: l.id, data: Ae },
              {
                onSuccess: () => {
                  a(!1);
                },
              }
            )
          : P(Ae, {
              onSuccess: () => {
                a(!1);
              },
            });
      }),
      (t[7] = P),
      (t[8] = l),
      (t[9] = r.currency),
      (t[10] = r.description),
      (t[11] = r.designPriceCents),
      (t[12] = r.isActive),
      (t[13] = r.name),
      (t[14] = r.period),
      (t[15] = r.priceCents),
      (t[16] = r.tier),
      (t[17] = A),
      (t[18] = _),
      (t[19] = a),
      (t[20] = v),
      (t[21] = p))
    : (p = t[21]);
  const E = p;
  let z;
  t[22] !== a
    ? ((z = () => {
        a(!1), b("");
      }),
      (t[22] = a),
      (t[23] = z))
    : (z = t[23]);
  const N = z;
  let R;
  t[24] === Symbol.for("react.memo_cache_sentinel")
    ? ((R = (Ae, We) => {
        d((Ke) => ({ ...Ke, [Ae]: We }));
      }),
      (t[24] = R))
    : (R = t[24]);
  const F = R,
    V = () => {
      const Ae = {};
      h.forEach((We) => {
        Ae[We.key] = !0;
      }),
        d(Ae);
    };
  let $;
  t[25] === Symbol.for("react.memo_cache_sentinel")
    ? (($ = () => {
        d({});
      }),
      (t[25] = $))
    : ($ = t[25]);
  const Q = $;
  let M;
  t[26] !== _
    ? ((M = Object.values(_).filter(Boolean)), (t[26] = _), (t[27] = M))
    : (M = t[27]);
  const L = M.length;
  let q;
  t[28] !== f
    ? ((q =
        f &&
        s.jsx(y, {
          p: 3,
          bg: "red.50",
          border: "1px",
          borderColor: "red.200",
          rounded: "md",
          children: s.jsx(i, { color: "red.600", fontSize: "sm", children: f }),
        })),
      (t[28] = f),
      (t[29] = q))
    : (q = t[29]);
  let D;
  t[30] !== r
    ? ((D = (Ae) => o({ ...r, name: Ae.target.value })),
      (t[30] = r),
      (t[31] = D))
    : (D = t[31]);
  let K;
  t[32] !== r.name || t[33] !== D
    ? ((K = s.jsx(Ne, {
        label: "Tên gói",
        required: !0,
        children: s.jsx(Ee, {
          value: r.name,
          onChange: D,
          placeholder: "Nhập tên gói",
        }),
      })),
      (t[32] = r.name),
      (t[33] = D),
      (t[34] = K))
    : (K = t[34]);
  let H;
  t[35] !== r
    ? ((H = (Ae) => o({ ...r, description: Ae.target.value })),
      (t[35] = r),
      (t[36] = H))
    : (H = t[36]);
  let B;
  t[37] !== r.description || t[38] !== H
    ? ((B = s.jsx(Ne, {
        label: "Mô tả",
        required: !0,
        children: s.jsx(Qt, {
          value: r.description,
          onChange: H,
          placeholder: "Nhập mô tả gói",
          rows: 3,
        }),
      })),
      (t[37] = r.description),
      (t[38] = H),
      (t[39] = B))
    : (B = t[39]);
  let Z;
  t[40] !== r
    ? ((Z = (Ae) => o({ ...r, tier: Ae.target.value })),
      (t[40] = r),
      (t[41] = Z))
    : (Z = t[41]);
  let J, se, ee;
  t[42] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = s.jsx("option", { value: "basic", children: "Basic" })),
      (se = s.jsx("option", { value: "pro", children: "Pro" })),
      (ee = s.jsx("option", { value: "vip", children: "VIP" })),
      (t[42] = J),
      (t[43] = se),
      (t[44] = ee))
    : ((J = t[42]), (se = t[43]), (ee = t[44]));
  let te;
  t[45] !== r.tier || t[46] !== Z
    ? ((te = s.jsxs(Jt, { value: r.tier, onChange: Z, children: [J, se, ee] })),
      (t[45] = r.tier),
      (t[46] = Z),
      (t[47] = te))
    : (te = t[47]);
  let X;
  t[48] === Symbol.for("react.memo_cache_sentinel")
    ? ((X = s.jsx(Zt, {})), (t[48] = X))
    : (X = t[48]);
  let I;
  t[49] !== te
    ? ((I = s.jsx(Ne, {
        label: "Tier",
        required: !0,
        children: s.jsxs(es, { size: "sm", width: "100%", children: [te, X] }),
      })),
      (t[49] = te),
      (t[50] = I))
    : (I = t[50]);
  let O;
  t[51] !== r
    ? ((O = (Ae) => o({ ...r, period: Ae.target.value })),
      (t[51] = r),
      (t[52] = O))
    : (O = t[52]);
  let U, re, de, ue, he, ne, pe;
  t[53] === Symbol.for("react.memo_cache_sentinel")
    ? ((U = s.jsx("option", { value: "monthly", children: "1 tháng" })),
      (re = s.jsx("option", { value: "yearly", children: "12 tháng" })),
      (de = s.jsx("option", { value: "lifetime", children: "Trọn đời" })),
      (ue = s.jsx("option", { value: "3m", children: "3 tháng" })),
      (he = s.jsx("option", { value: "6m", children: "6 tháng" })),
      (ne = s.jsx("option", { value: "12m", children: "12 tháng" })),
      (pe = s.jsx("option", { value: "24m", children: "24 tháng" })),
      (t[53] = U),
      (t[54] = re),
      (t[55] = de),
      (t[56] = ue),
      (t[57] = he),
      (t[58] = ne),
      (t[59] = pe))
    : ((U = t[53]),
      (re = t[54]),
      (de = t[55]),
      (ue = t[56]),
      (he = t[57]),
      (ne = t[58]),
      (pe = t[59]));
  let ae;
  t[60] !== r.period || t[61] !== O
    ? ((ae = s.jsxs(Jt, {
        value: r.period,
        onChange: O,
        children: [U, re, de, ue, he, ne, pe],
      })),
      (t[60] = r.period),
      (t[61] = O),
      (t[62] = ae))
    : (ae = t[62]);
  let ve;
  t[63] === Symbol.for("react.memo_cache_sentinel")
    ? ((ve = s.jsx(Zt, {})), (t[63] = ve))
    : (ve = t[63]);
  let je;
  t[64] !== ae
    ? ((je = s.jsx(Ne, {
        label: "Thời hạn",
        required: !0,
        children: s.jsxs(es, { size: "sm", width: "100%", children: [ae, ve] }),
      })),
      (t[64] = ae),
      (t[65] = je))
    : (je = t[65]);
  let ce;
  t[66] !== I || t[67] !== je
    ? ((ce = s.jsxs(W, { gap: 4, children: [I, je] })),
      (t[66] = I),
      (t[67] = je),
      (t[68] = ce))
    : (ce = t[68]);
  let xe;
  t[69] !== r
    ? ((xe = (Ae) => o({ ...r, priceCents: parseInt(Ae.target.value) || 0 })),
      (t[69] = r),
      (t[70] = xe))
    : (xe = t[70]);
  let Te;
  t[71] !== r.priceCents || t[72] !== xe
    ? ((Te = s.jsx(Ne, {
        label: "Giá (VND)",
        required: !0,
        children: s.jsx(Ee, {
          type: "number",
          value: r.priceCents,
          onChange: xe,
          placeholder: "0",
          min: 0,
        }),
      })),
      (t[71] = r.priceCents),
      (t[72] = xe),
      (t[73] = Te))
    : (Te = t[73]);
  let Pe;
  t[74] !== r
    ? ((Pe = (Ae) =>
        o({ ...r, designPriceCents: parseInt(Ae.target.value) || 0 })),
      (t[74] = r),
      (t[75] = Pe))
    : (Pe = t[75]);
  let Se;
  t[76] !== r.designPriceCents || t[77] !== Pe
    ? ((Se = s.jsx(Ne, {
        label: "Giá thiết kế (VND)",
        children: s.jsx(Ee, {
          type: "number",
          value: r.designPriceCents,
          onChange: Pe,
          placeholder: "0",
          min: 0,
        }),
      })),
      (t[76] = r.designPriceCents),
      (t[77] = Pe),
      (t[78] = Se))
    : (Se = t[78]);
  let ke;
  t[79] !== Te || t[80] !== Se
    ? ((ke = s.jsxs(W, { gap: 4, children: [Te, Se] })),
      (t[79] = Te),
      (t[80] = Se),
      (t[81] = ke))
    : (ke = t[81]);
  let Le;
  t[82] !== V
    ? ((Le = s.jsx(Y, {
        size: "xs",
        variant: "outline",
        onClick: V,
        children: "Chọn tất cả",
      })),
      (t[82] = V),
      (t[83] = Le))
    : (Le = t[83]);
  let De;
  t[84] === Symbol.for("react.memo_cache_sentinel")
    ? ((De = s.jsx(Y, {
        size: "xs",
        variant: "outline",
        onClick: Q,
        children: "Bỏ chọn tất cả",
      })),
      (t[84] = De))
    : (De = t[84]);
  let me;
  t[85] !== Le
    ? ((me = s.jsxs(W, { gap: 2, children: [Le, De] })),
      (t[85] = Le),
      (t[86] = me))
    : (me = t[86]);
  let Fe;
  t[87] !== r
    ? ((Fe = (Ae) => o({ ...r, isActive: Ae })), (t[87] = r), (t[88] = Fe))
    : (Fe = t[88]);
  let be;
  t[89] === Symbol.for("react.memo_cache_sentinel")
    ? ((be = s.jsx(Ms, {})), (t[89] = be))
    : (be = t[89]);
  let Me;
  t[90] !== r.isActive || t[91] !== Fe
    ? ((Me = s.jsx(Ne, {
        label: "Trạng thái",
        children: s.jsx(y, {
          display: "flex",
          gap: 3,
          children: s.jsx($s, {
            checked: r.isActive,
            onCheckedChange: Fe,
            children: be,
          }),
        }),
      })),
      (t[90] = r.isActive),
      (t[91] = Fe),
      (t[92] = Me))
    : (Me = t[92]);
  let Qe;
  t[93] !== N
    ? ((Qe = s.jsx(Y, {
        variant: "outline",
        onClick: N,
        flex: 1,
        children: "Hủy",
      })),
      (t[93] = N),
      (t[94] = Qe))
    : (Qe = t[94]);
  const $e = A ? "Cập nhật" : "Tạo gói";
  let Ye;
  t[95] !== E || t[96] !== C || t[97] !== $e
    ? ((Ye = s.jsx(Y, {
        colorScheme: "blue",
        onClick: E,
        loading: C,
        flex: 1,
        children: $e,
      })),
      (t[95] = E),
      (t[96] = C),
      (t[97] = $e),
      (t[98] = Ye))
    : (Ye = t[98]);
  let we;
  return (
    t[99] !== Qe || t[100] !== Ye
      ? ((we = s.jsxs(W, { gap: 3, pt: 4, children: [Qe, Ye] })),
        (t[99] = Qe),
        (t[100] = Ye),
        (t[101] = we))
      : (we = t[101]),
    s.jsxs(Ot, {
      title: A ? "Chỉnh sửa gói" : "Thêm gói mới",
      isOpen: n,
      onClose: N,
      children: [
        s.jsxs(le, {
          gap: 4,
          align: "stretch",
          children: [
            q,
            K,
            B,
            ce,
            ke,
            s.jsx(Ne, {
              label: "Tính năng",
              required: !0,
              children: s.jsxs(le, {
                gap: 3,
                align: "stretch",
                children: [
                  s.jsxs(W, {
                    gap: 2,
                    justify: "space-between",
                    children: [
                      s.jsxs(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: ["Đã chọn: ", L, "/", h.length, " tính năng"],
                      }),
                      me,
                    ],
                  }),
                  S
                    ? s.jsx(y, {
                        p: 4,
                        textAlign: "center",
                        children: s.jsx(i, {
                          color: "gray.500",
                          children: "Đang tải danh sách tính năng...",
                        }),
                      })
                    : s.jsx(y, {
                        maxHeight: "300px",
                        overflowY: "auto",
                        children: s.jsx(le, {
                          gap: 2,
                          align: "stretch",
                          p: 2,
                          children: h.sort(Sf).map((Ae) => {
                            const We = _[Ae.key] || !1;
                            return s.jsx(
                              y,
                              {
                                p: 3,
                                border: "1px",
                                borderColor: We ? "blue.200" : "gray.200",
                                borderRadius: "md",
                                bg: We ? "blue.50" : "white",
                                transition: "all 0.2s",
                                children: s.jsxs(W, {
                                  gap: 3,
                                  align: "start",
                                  children: [
                                    s.jsx(Ia, {
                                      checked: We,
                                      onCheckedChange: (Ke) =>
                                        F(Ae.key, !!Ke.checked),
                                    }),
                                    s.jsxs(le, {
                                      align: "stretch",
                                      gap: 1,
                                      flex: 1,
                                      children: [
                                        s.jsx(i, {
                                          fontSize: "sm",
                                          fontWeight: "medium",
                                          children: Ae.description,
                                        }),
                                        s.jsxs(W, {
                                          gap: 2,
                                          fontSize: "xs",
                                          color: "gray.500",
                                          children: [
                                            s.jsxs(i, {
                                              children: ["Key: ", Ae.key],
                                            }),
                                            Ae.priceCents > 0 &&
                                              s.jsxs(i, {
                                                children: [
                                                  "Giá: ",
                                                  Ae.priceCents.toLocaleString(),
                                                  " VND",
                                                ],
                                              }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              },
                              Ae.key
                            );
                          }),
                        }),
                      }),
                ],
              }),
            }),
            Me,
            we,
          ],
        }),
        c,
      ],
    })
  );
};
function Sf(e, t) {
  return e.sortOrder - t.sortOrder;
}
const _f = () => {
  const e = G.c(43),
    [t, n] = j.useState(!1),
    [a, l] = j.useState(!1),
    [c, m] = j.useState(null),
    [r, o] = j.useState();
  let u;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((u = {
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      (e[0] = u))
    : (u = e[0]);
  const [_, d] = j.useState(u),
    { data: f, isLoading: b } = ff();
  or();
  const { mutate: P } = xf();
  let w, v;
  e[1] !== f
    ? ((w = () => {
        if (f) {
          const ne = {
            data: f.map(Cf),
            total: f.length,
            page: 1,
            limit: f.length,
            totalPages: 1,
          };
          o(ne);
        }
      }),
      (v = [f]),
      (e[1] = f),
      (e[2] = w),
      (e[3] = v))
    : ((w = e[2]), (v = e[3])),
    ps.useEffect(w, v);
  let x;
  e[4] === Symbol.for("react.memo_cache_sentinel")
    ? ((x = (ne) => {
        m(ne), l(!0);
      }),
      (e[4] = x))
    : (x = e[4]);
  const T = x;
  let S;
  e[5] !== P
    ? ((S = (ne) => {
        P(ne);
      }),
      (e[5] = P),
      (e[6] = S))
    : (S = e[6]);
  const h = S;
  let C;
  e[7] === Symbol.for("react.memo_cache_sentinel")
    ? ((C = () => {
        l(!1), m(null);
      }),
      (e[7] = C))
    : (C = e[7]);
  const A = C;
  let k;
  e[8] === Symbol.for("react.memo_cache_sentinel")
    ? ((k = (ne) => {
        d(ne);
      }),
      (e[8] = k))
    : (k = e[8]);
  const g = k;
  let p;
  e[9] === Symbol.for("react.memo_cache_sentinel")
    ? ((p = () => {
        d({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      }),
      (e[9] = p))
    : (p = e[9]);
  const E = p,
    z = Tf,
    N = wf,
    R = Af,
    F = Ef;
  let V;
  e[10] === Symbol.for("react.memo_cache_sentinel")
    ? ((V = { key: "name", label: "Tên gói", sortable: !0, render: Pf }),
      (e[10] = V))
    : (V = e[10]);
  let $;
  e[11] === Symbol.for("react.memo_cache_sentinel")
    ? (($ = {
        key: "tier",
        label: "Tier",
        sortable: !0,
        render: (ne) =>
          s.jsx(Be, {
            colorScheme: z(ne.tier),
            variant: "solid",
            rounded: "full",
            px: 3,
            py: 1,
            children: N(ne.tier),
          }),
      }),
      (e[11] = $))
    : ($ = e[11]);
  let Q;
  e[12] === Symbol.for("react.memo_cache_sentinel")
    ? ((Q = {
        key: "period",
        label: "Thời hạn",
        sortable: !0,
        render: (ne) =>
          s.jsx(i, {
            fontSize: "sm",
            fontFamily: "Quicksand, sans-serif",
            children: R(ne.period),
          }),
      }),
      (e[12] = Q))
    : (Q = e[12]);
  let M;
  e[13] === Symbol.for("react.memo_cache_sentinel")
    ? ((M = {
        key: "priceCents",
        label: "Giá",
        sortable: !0,
        render: (ne) =>
          s.jsx(i, {
            fontWeight: "medium",
            fontFamily: "Quicksand, sans-serif",
            children: F(ne.priceCents, ne.currency),
          }),
      }),
      (e[13] = M))
    : (M = e[13]);
  let L;
  e[14] === Symbol.for("react.memo_cache_sentinel")
    ? ((L = [
        V,
        $,
        Q,
        M,
        {
          key: "designPriceCents",
          label: "Giá thiết kế",
          sortable: !0,
          render: (ne) =>
            s.jsx(i, {
              fontSize: "sm",
              fontFamily: "Quicksand, sans-serif",
              children: ne.designPriceCents
                ? F(ne.designPriceCents, ne.currency)
                : "N/A",
            }),
        },
        { key: "isActive", label: "Trạng thái", sortable: !0, render: kf },
      ]),
      (e[14] = L))
    : (L = e[14]);
  const q = L;
  let D;
  e[15] === Symbol.for("react.memo_cache_sentinel")
    ? ((D = s.jsx(Mt, {})), (e[15] = D))
    : (D = e[15]);
  let K;
  e[16] === Symbol.for("react.memo_cache_sentinel")
    ? ((K = {
        key: "edit",
        label: "Chỉnh sửa",
        icon: D,
        variant: "ghost",
        colorScheme: "blue",
        onClick: (ne) => T(ne),
      }),
      (e[16] = K))
    : (K = e[16]);
  let H;
  e[17] === Symbol.for("react.memo_cache_sentinel")
    ? ((H = s.jsx(Mi, {})), (e[17] = H))
    : (H = e[17]);
  let B;
  e[18] !== h
    ? ((B = [
        K,
        {
          key: "toggle",
          label: "Kích hoạt/Tạm dừng",
          icon: H,
          variant: "ghost",
          colorScheme: "green",
          onClick: (ne) => h(ne.id),
        },
      ]),
      (e[18] = h),
      (e[19] = B))
    : (B = e[19]);
  const Z = B;
  let J;
  e[20] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = [
        ls("Tìm kiếm theo tên gói..."),
        Rt("tier", "Tier", [
          { value: "", label: "Tất cả" },
          { value: "basic", label: "Basic" },
          { value: "pro", label: "Pro" },
          { value: "vip", label: "VIP" },
        ]),
        Rt("isActive", "Trạng thái", [
          { value: "", label: "Tất cả" },
          { value: "true", label: "Hoạt động" },
          { value: "false", label: "Tạm dừng" },
        ]),
      ]),
      (e[20] = J))
    : (J = e[20]);
  const se = J;
  let ee;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((ee = s.jsxs(y, {
        className: "mb-6",
        children: [
          s.jsx(i, {
            className:
              "text-3xl font-bold font-[Quicksand,sans-serif] text-gray-800 mb-2",
            children: "Quản lý gói dịch vụ",
          }),
          s.jsx(i, {
            className: "text-gray-600 font-[Quicksand,sans-serif]",
            children: "Tạo và quản lý các gói dịch vụ cho người dùng",
          }),
        ],
      })),
      (e[21] = ee))
    : (ee = e[21]);
  let te;
  e[22] !== f
    ? ((te =
        f &&
        s.jsxs(tt, {
          bg: "white",
          borderRadius: "xl",
          shadow: "lg",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          overflow: "hidden",
          children: [
            s.jsx(Yt, {
              bg: "blue.50",
              borderBottom: "1px solid",
              borderColor: "blue.200",
              py: 4,
              px: 6,
              children: s.jsx(i, {
                fontSize: { base: "sm", md: "md" },
                fontWeight: "bold",
                color: "blue.600",
                children: "📊 Thống kê gói dịch vụ",
              }),
            }),
            s.jsx(st, {
              p: 6,
              children: s.jsxs(Kt, {
                templateColumns: {
                  base: "repeat(1, 1fr)",
                  sm: "repeat(2, 1fr)",
                  lg: "repeat(3, 1fr)",
                },
                gap: { base: 4, md: 6 },
                children: [
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "TỔNG SỐ GÓI",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: f.length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: _a,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "GÓI HOẠT ĐỘNG",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: f.filter(Nf).length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ts,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "GÓI TẠM DỪNG",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: f.filter(Df).length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ca,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                ],
              }),
            }),
          ],
        })),
      (e[22] = f),
      (e[23] = te))
    : (te = e[23]);
  let X;
  e[24] === Symbol.for("react.memo_cache_sentinel")
    ? ((X = [10, 25, 50, 100]), (e[24] = X))
    : (X = e[24]);
  let I;
  e[25] === Symbol.for("react.memo_cache_sentinel")
    ? ((I = s.jsxs(Y, {
        colorScheme: "blue",
        onClick: () => n(!0),
        children: [s.jsx(hs, {}), s.jsx(i, { ml: 2, children: "Thêm gói" })],
      })),
      (e[25] = I))
    : (I = e[25]);
  let O;
  e[26] !== Z || e[27] !== _ || e[28] !== b || e[29] !== r
    ? ((O = s.jsx(as, {
        data: r,
        isLoading: b,
        columns: q,
        actions: Z,
        filterFields: se,
        currentFilters: _,
        onFiltersChange: g,
        onResetFilters: E,
        title: "Danh sách gói dịch vụ",
        subtitle: "Quản lý và cấu hình các gói dịch vụ",
        emptyMessage: "Chưa có gói nào được tạo",
        loadingMessage: "Đang tải danh sách gói dịch vụ...",
        showMobileCards: !0,
        enableSorting: !0,
        enablePagination: !0,
        enablePageSizeSelector: !0,
        pageSizeOptions: X,
        defaultPageSize: 10,
        showFilter: !0,
        showResetButton: !0,
        resetButtonText: "Đặt lại bộ lọc",
        headerActions: I,
      })),
      (e[26] = Z),
      (e[27] = _),
      (e[28] = b),
      (e[29] = r),
      (e[30] = O))
    : (O = e[30]);
  let U;
  e[31] === Symbol.for("react.memo_cache_sentinel")
    ? ((U = s.jsx(s.Fragment, {})), (e[31] = U))
    : (U = e[31]);
  let re;
  e[32] !== t
    ? ((re = s.jsx(ea, {
        open: t,
        setOpen: n,
        editingPlan: null,
        children: U,
      })),
      (e[32] = t),
      (e[33] = re))
    : (re = e[33]);
  let de;
  e[34] === Symbol.for("react.memo_cache_sentinel")
    ? ((de = s.jsx(s.Fragment, {})), (e[34] = de))
    : (de = e[34]);
  let ue;
  e[35] !== c || e[36] !== a
    ? ((ue = s.jsx(ea, { open: a, setOpen: A, editingPlan: c, children: de })),
      (e[35] = c),
      (e[36] = a),
      (e[37] = ue))
    : (ue = e[37]);
  let he;
  return (
    e[38] !== te || e[39] !== O || e[40] !== re || e[41] !== ue
      ? ((he = s.jsx(y, {
          className: "p-6 bg-gray-50 min-h-screen",
          children: s.jsxs(y, {
            className: "max-w-7xl mx-auto",
            children: [ee, te, O, re, ue],
          }),
        })),
        (e[38] = te),
        (e[39] = O),
        (e[40] = re),
        (e[41] = ue),
        (e[42] = he))
      : (he = e[42]),
    he
  );
};
function Cf(e) {
  return { ...e, id: e.id };
}
function Tf(e) {
  switch (e) {
    case "basic":
      return "green";
    case "pro":
      return "purple";
    case "vip":
      return "orange";
    default:
      return "gray";
  }
}
function wf(e) {
  switch (e) {
    case "basic":
      return "BASIC";
    case "pro":
      return "PRO";
    case "vip":
      return "VIP";
    default:
      return (e == null ? void 0 : e.toUpperCase()) || "N/A";
  }
}
function Af(e) {
  switch (e) {
    case "monthly":
      return "1 tháng";
    case "yearly":
      return "12 tháng";
    case "lifetime":
      return "Trọn đời";
    case "3m":
      return "3 tháng";
    case "6m":
      return "6 tháng";
    case "12m":
      return "12 tháng";
    case "24m":
      return "24 tháng";
    default:
      return /^\d+$/.test(e) ? `${e} tháng` : e || "N/A";
  }
}
function Ef(e, t) {
  return t === "VND" ? `${e.toLocaleString()} VND` : `${e.toFixed(2)} ${t}`;
}
function Pf(e) {
  return s.jsxs(le, {
    align: "start",
    gap: 1,
    children: [
      s.jsx(i, {
        fontWeight: "medium",
        fontFamily: "Quicksand, sans-serif",
        children: e.name,
      }),
      s.jsx(i, {
        fontSize: "sm",
        color: "gray.500",
        fontFamily: "Quicksand, sans-serif",
        children: e.description,
      }),
    ],
  });
}
function kf(e) {
  return s.jsx(Be, {
    colorScheme: e.isActive ? "green" : "red",
    variant: "subtle",
    children: e.isActive ? "Hoạt động" : "Tạm dừng",
  });
}
function Nf(e) {
  return e.isActive;
}
function Df(e) {
  return !e.isActive;
}
const Lf = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: _f },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  zf = (e, t = "VND") =>
    t === "VND"
      ? new Intl.NumberFormat("vi-VN", {
          style: "currency",
          currency: "VND",
        }).format(e)
      : new Intl.NumberFormat("en-US", {
          style: "currency",
          currency: t,
        }).format(e),
  Ff = (e) =>
    new Date(e).toLocaleDateString("vi-VN", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit",
    }),
  Rf = (e) => (e ? "green" : "red"),
  Of = (e) => (e ? "Hoạt động" : "Không hoạt động"),
  tj = (e) => {
    var n, a;
    const t = [];
    return (
      ((n = e.name) != null && n.trim()) || t.push("Tên sản phẩm là bắt buộc"),
      (a = e.link) != null && a.trim()
        ? al(e.link) || t.push("Link liên kết không hợp lệ")
        : t.push("Link liên kết là bắt buộc"),
      e.imgUrl && !al(e.imgUrl) && t.push("URL hình ảnh không hợp lệ"),
      e.price !== void 0 && e.price < 0 && t.push("Giá sản phẩm không được âm"),
      e.sortOrder !== void 0 &&
        e.sortOrder < 0 &&
        t.push("Thứ tự sắp xếp không được âm"),
      { isValid: t.length === 0, errors: t }
    );
  },
  al = (e) => {
    try {
      return new URL(e), !0;
    } catch {
      return !1;
    }
  },
  sj = (e) => {
    window.open(e, "_blank", "noopener,noreferrer");
  },
  nj = (e) => ({
    name: (e == null ? void 0 : e.name) || "",
    description: (e == null ? void 0 : e.description) || "",
    link: (e == null ? void 0 : e.link) || "",
    imgUrl: (e == null ? void 0 : e.imgUrl) || "",
    price: (e == null ? void 0 : e.price) || void 0,
    currency: (e == null ? void 0 : e.currency) || "VND",
    isActive: (e == null ? void 0 : e.isActive) ?? !0,
    sortOrder: (e == null ? void 0 : e.sortOrder) || 0,
    meta: (e == null ? void 0 : e.meta) || {},
  }),
  ij = (e, t) => {
    let n;
    return (...a) => {
      clearTimeout(n), (n = setTimeout(() => e(...a), t));
    };
  },
  If = (e) => (e.price ? zf(e.price, e.currency) : "Liên hệ"),
  Vf = (e, t = 100) =>
    e ? (e.length <= t ? e : e.substring(0, t) + "...") : "",
  lj = (e) => e.isActive && !!e.link && al(e.link),
  ys = {
    products: ["productAffiliates", "products"],
    product: (e) => ["productAffiliates", "product", e],
    adminProducts: ["admin", "productAffiliates", "products"],
    adminProduct: (e) => ["admin", "productAffiliates", "product", e],
  },
  Sn = {
    getProducts: async (e = {}) => {
      const t = await ie.get("/product-affiliates", { params: e });
      return t.data.data || t.data;
    },
    getProduct: async (e) => {
      const t = await ie.get(`/product-affiliates/${e}`);
      return t.data.data || t.data;
    },
    getAdminProducts: async (e = {}) => {
      const t = await ie.get("/admin/product-affiliates", { params: e });
      return t.data.data || t.data;
    },
    getAdminProduct: async (e) => {
      const t = await ie.get(`/admin/product-affiliates/${e}`);
      return t.data.data || t.data;
    },
    createProduct: async (e) => {
      const t = await ie.post("/admin/product-affiliates", e);
      return t.data.data || t.data;
    },
    updateProduct: async (e, t) => {
      const n = await ie.patch(`/admin/product-affiliates/${e}`, t);
      return n.data.data || n.data;
    },
    toggleActive: async (e) => {
      const t = await ie.patch(`/admin/product-affiliates/${e}/toggle-active`);
      return t.data.data || t.data;
    },
    deleteProduct: async (e) => {
      await ie.delete(`/admin/product-affiliates/${e}`);
    },
  },
  aj = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...ys.products, a],
            queryFn: () => Sn.getProducts(a),
            staleTime: 3e5,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  $f = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...ys.adminProducts, a],
            queryFn: () => Sn.getAdminProducts(a),
            staleTime: 12e4,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Mf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Sn.createProduct,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ys.adminProducts }),
                t.invalidateQueries({ queryKey: ys.products });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Wf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Bf,
            onSuccess: (a) => {
              t.invalidateQueries({ queryKey: ys.adminProducts }),
                t.invalidateQueries({ queryKey: ys.products }),
                t.invalidateQueries({ queryKey: ys.adminProduct(a.id) });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  qf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Sn.toggleActive,
            onSuccess: (a) => {
              t.invalidateQueries({ queryKey: ys.adminProducts }),
                t.invalidateQueries({ queryKey: ys.products }),
                t.invalidateQueries({ queryKey: ys.adminProduct(a.id) });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Uf = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Sn.deleteProduct,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ys.adminProducts }),
                t.invalidateQueries({ queryKey: ys.products });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function Bf(e) {
  const { id: t, data: n } = e;
  return Sn.updateProduct(t, n);
}
const Qf = () => {
  var Me, Qe, $e, Ye;
  const e = G.c(73),
    [t, n] = j.useState();
  let a;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((a = {
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      (e[0] = a))
    : (a = e[0]);
  const [l, c] = j.useState(a),
    [m, r] = j.useState(!1),
    [o, u] = j.useState(null),
    _ = l.search || void 0,
    d = l.isActive ? l.isActive === "true" : void 0;
  let f;
  e[1] !== l.limit || e[2] !== l.page || e[3] !== _ || e[4] !== d
    ? ((f = { page: l.page, limit: l.limit, search: _, isActive: d }),
      (e[1] = l.limit),
      (e[2] = l.page),
      (e[3] = _),
      (e[4] = d),
      (e[5] = f))
    : (f = e[5]);
  const { data: b, isLoading: P, error: w, refetch: v } = $f(f);
  let x, T;
  e[6] !== b
    ? ((x = () => {
        if (b) {
          const we = {
            data: b.data.map(Kf),
            total: b.total,
            page: b.page,
            limit: b.limit,
            totalPages: b.totalPages,
          };
          n(we);
        }
      }),
      (T = [b]),
      (e[6] = b),
      (e[7] = x),
      (e[8] = T))
    : ((x = e[7]), (T = e[8])),
    ps.useEffect(x, T);
  const S = Mf(),
    h = Wf(),
    C = qf(),
    A = Uf();
  let k;
  e[9] !== S
    ? ((k = async (we) => {
        try {
          await S.mutateAsync(we),
            r(!1),
            ye.create({
              title: "Thành công",
              description: "Đã tạo sản phẩm mới",
              type: "success",
            });
        } catch {}
      }),
      (e[9] = S),
      (e[10] = k))
    : (k = e[10]);
  const g = k;
  let p;
  e[11] !== o || e[12] !== h
    ? ((p = async (we) => {
        if (o)
          try {
            await h.mutateAsync({ id: o.id, data: we }),
              u(null),
              ye.create({
                title: "Thành công",
                description: "Đã cập nhật sản phẩm",
                type: "success",
              });
          } catch {}
      }),
      (e[11] = o),
      (e[12] = h),
      (e[13] = p))
    : (p = e[13]);
  const E = p;
  let z;
  e[14] !== C
    ? ((z = async (we) => {
        try {
          await C.mutateAsync(we),
            ye.create({
              title: "Thành công",
              description: "Đã cập nhật trạng thái sản phẩm",
              type: "success",
            });
        } catch {}
      }),
      (e[14] = C),
      (e[15] = z))
    : (z = e[15]);
  const N = z;
  let R;
  e[16] !== A
    ? ((R = async (we) => {
        if (confirm("Bạn có chắc chắn muốn xóa sản phẩm này?"))
          try {
            await A.mutateAsync(we),
              ye.create({
                title: "Thành công",
                description: "Đã xóa sản phẩm",
                type: "success",
              });
          } catch {}
      }),
      (e[16] = A),
      (e[17] = R))
    : (R = e[17]);
  const F = R;
  let V;
  e[18] === Symbol.for("react.memo_cache_sentinel")
    ? ((V = (we) => {
        u(we), r(!0);
      }),
      (e[18] = V))
    : (V = e[18]);
  const $ = V;
  let Q;
  e[19] === Symbol.for("react.memo_cache_sentinel")
    ? ((Q = () => {
        r(!1), u(null);
      }),
      (e[19] = Q))
    : (Q = e[19]);
  const M = Q;
  let L;
  e[20] === Symbol.for("react.memo_cache_sentinel")
    ? ((L = (we) => {
        c(we);
      }),
      (e[20] = L))
    : (L = e[20]);
  const q = L;
  let D;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((D = () => {
        c({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      }),
      (e[21] = D))
    : (D = e[21]);
  const K = D;
  let H;
  e[22] !== v
    ? ((H = () => {
        v();
      }),
      (e[22] = v),
      (e[23] = H))
    : (H = e[23]);
  const B = H;
  let Z;
  e[24] === Symbol.for("react.memo_cache_sentinel")
    ? ((Z = [
        { key: "name", label: "Sản phẩm", sortable: !0, render: Gf },
        { key: "price", label: "Giá", sortable: !0, render: Hf },
        { key: "isActive", label: "Trạng thái", sortable: !0, render: Yf },
        { key: "createdAt", label: "Ngày tạo", sortable: !0, render: Xf },
        { key: "sortOrder", label: "Thứ tự", sortable: !0, render: Jf },
      ]),
      (e[24] = Z))
    : (Z = e[24]);
  const J = Z;
  let se;
  e[25] === Symbol.for("react.memo_cache_sentinel")
    ? ((se = s.jsx(Tr, {})), (e[25] = se))
    : (se = e[25]);
  let ee;
  e[26] === Symbol.for("react.memo_cache_sentinel")
    ? ((ee = {
        key: "edit",
        label: "Chỉnh sửa",
        icon: se,
        variant: "ghost",
        colorScheme: "blue",
        onClick: (we) => $(we),
      }),
      (e[26] = ee))
    : (ee = e[26]);
  let te;
  e[27] === Symbol.for("react.memo_cache_sentinel")
    ? ((te = s.jsx(wr, {})), (e[27] = te))
    : (te = e[27]);
  let X;
  e[28] !== N
    ? ((X = {
        key: "toggle",
        label: "Kích hoạt/Tạm ngưng",
        icon: te,
        variant: "ghost",
        colorScheme: "green",
        onClick: (we) => N(we.id),
      }),
      (e[28] = N),
      (e[29] = X))
    : (X = e[29]);
  let I;
  e[30] === Symbol.for("react.memo_cache_sentinel")
    ? ((I = s.jsx(Ar, {})), (e[30] = I))
    : (I = e[30]);
  let O;
  e[31] !== F
    ? ((O = {
        key: "delete",
        label: "Xóa",
        icon: I,
        variant: "ghost",
        colorScheme: "red",
        onClick: (we) => F(we.id),
      }),
      (e[31] = F),
      (e[32] = O))
    : (O = e[32]);
  let U;
  e[33] !== X || e[34] !== O
    ? ((U = [ee, X, O]), (e[33] = X), (e[34] = O), (e[35] = U))
    : (U = e[35]);
  const re = U;
  let de;
  e[36] === Symbol.for("react.memo_cache_sentinel")
    ? ((de = [
        ls("Tìm kiếm theo tên hoặc mô tả..."),
        Rt("isActive", "Trạng thái", [
          { value: "", label: "Tất cả" },
          { value: "true", label: "Hoạt động" },
          { value: "false", label: "Tạm ngưng" },
        ]),
      ]),
      (e[36] = de))
    : (de = e[36]);
  const ue = de;
  let he;
  e[37] === Symbol.for("react.memo_cache_sentinel")
    ? ((he = s.jsxs(le, {
        align: "start",
        gap: 1,
        children: [
          s.jsx(i, {
            className:
              "text-3xl font-bold text-gray-800 font-[Quicksand,sans-serif]",
            children: "Quản lý sản phẩm liên kết",
          }),
          s.jsx(i, {
            className: "text-gray-600 font-[Quicksand,sans-serif]",
            children:
              "Tạo và quản lý các sản phẩm liên kết cho chương trình affiliate",
          }),
        ],
      })),
      (e[37] = he))
    : (he = e[37]);
  let ne;
  e[38] === Symbol.for("react.memo_cache_sentinel")
    ? ((ne = () => r(!0)), (e[38] = ne))
    : (ne = e[38]);
  let pe;
  e[39] === Symbol.for("react.memo_cache_sentinel")
    ? ((pe = s.jsx(y, {
        className: "mb-6",
        children: s.jsxs(W, {
          justify: "space-between",
          align: "center",
          children: [
            he,
            s.jsxs(Y, {
              colorScheme: "blue",
              onClick: ne,
              className: "font-[Quicksand,sans-serif]",
              children: [s.jsx(vl, { className: "mr-2" }), "Thêm sản phẩm"],
            }),
          ],
        }),
      })),
      (e[39] = pe))
    : (pe = e[39]);
  let ae;
  e[40] !== b
    ? ((ae =
        b &&
        s.jsxs(tt, {
          bg: "white",
          borderRadius: "xl",
          shadow: "lg",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          overflow: "hidden",
          children: [
            s.jsx(Yt, {
              bg: "blue.50",
              borderBottom: "1px solid",
              borderColor: "blue.200",
              py: 4,
              px: 6,
              children: s.jsx(i, {
                fontSize: { base: "sm", md: "md" },
                fontWeight: "bold",
                color: "blue.600",
                children: "📊 Thống kê sản phẩm liên kết",
              }),
            }),
            s.jsx(st, {
              p: 6,
              children: s.jsxs(Kt, {
                templateColumns: {
                  base: "repeat(1, 1fr)",
                  sm: "repeat(2, 1fr)",
                  lg: "repeat(4, 1fr)",
                },
                gap: { base: 4, md: 6 },
                children: [
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "TỔNG SẢN PHẨM",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: b.total,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: _a,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "ĐANG HOẠT ĐỘNG",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: b.data.filter(Zf).length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ts,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "TẠM NGƯNG",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: b.data.filter(ep).length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ca,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "TRANG HIỆN TẠI",
                              }),
                              s.jsxs(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: [b.page, "/", b.totalPages],
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Cr,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                ],
              }),
            }),
          ],
        })),
      (e[40] = b),
      (e[41] = ae))
    : (ae = e[41]);
  let ve;
  e[42] === Symbol.for("react.memo_cache_sentinel")
    ? ((ve = [10, 25, 50, 100]), (e[42] = ve))
    : (ve = e[42]);
  let je;
  e[43] === Symbol.for("react.memo_cache_sentinel")
    ? ((je = s.jsx(Er, { className: "mr-2" })), (e[43] = je))
    : (je = e[43]);
  let ce;
  e[44] !== B
    ? ((ce = s.jsxs(Y, {
        onClick: B,
        colorScheme: "blue",
        variant: "outline",
        size: "sm",
        className: "font-[Quicksand,sans-serif]",
        children: [je, "Làm mới"],
      })),
      (e[44] = B),
      (e[45] = ce))
    : (ce = e[45]);
  let xe;
  e[46] === Symbol.for("react.memo_cache_sentinel")
    ? ((xe = () => r(!0)), (e[46] = xe))
    : (xe = e[46]);
  let Te;
  e[47] === Symbol.for("react.memo_cache_sentinel")
    ? ((Te = s.jsxs(Y, {
        colorScheme: "blue",
        onClick: xe,
        className: "font-[Quicksand,sans-serif]",
        children: [s.jsx(vl, { className: "mr-2" }), "Thêm sản phẩm"],
      })),
      (e[47] = Te))
    : (Te = e[47]);
  let Pe;
  e[48] !== ce
    ? ((Pe = s.jsxs(W, { gap: 2, children: [ce, Te] })),
      (e[48] = ce),
      (e[49] = Pe))
    : (Pe = e[49]);
  let Se;
  e[50] !== re || e[51] !== l || e[52] !== P || e[53] !== Pe || e[54] !== t
    ? ((Se = s.jsx(as, {
        data: t,
        isLoading: P,
        columns: J,
        actions: re,
        filterFields: ue,
        currentFilters: l,
        onFiltersChange: q,
        onResetFilters: K,
        title: "Danh sách sản phẩm liên kết",
        subtitle: "Quản lý và cấu hình các sản phẩm liên kết",
        emptyMessage: "Không có sản phẩm nào được tìm thấy",
        loadingMessage: "Đang tải danh sách sản phẩm...",
        showMobileCards: !0,
        enableSorting: !0,
        enablePagination: !0,
        enablePageSizeSelector: !0,
        pageSizeOptions: ve,
        defaultPageSize: 10,
        showFilter: !0,
        showResetButton: !0,
        resetButtonText: "Đặt lại bộ lọc",
        headerActions: Pe,
      })),
      (e[50] = re),
      (e[51] = l),
      (e[52] = P),
      (e[53] = Pe),
      (e[54] = t),
      (e[55] = Se))
    : (Se = e[55]);
  const ke = o ? E : g,
    Le = S.isPending || h.isPending,
    De = o ? "Chỉnh sửa sản phẩm" : "Thêm sản phẩm mới";
  let me;
  e[56] !== o || e[57] !== m || e[58] !== ke || e[59] !== Le || e[60] !== De
    ? ((me = s.jsx(Kr, {
        isOpen: m,
        onClose: M,
        onSubmit: ke,
        product: o,
        isLoading: Le,
        title: De,
      })),
      (e[56] = o),
      (e[57] = m),
      (e[58] = ke),
      (e[59] = Le),
      (e[60] = De),
      (e[61] = me))
    : (me = e[61]);
  let Fe;
  e[62] !== S.error || e[63] !== A || e[64] !== w || e[65] !== C || e[66] !== h
    ? ((Fe =
        (w || S.error || h.error || C.error || A.error) &&
        s.jsx(y, {
          className:
            "fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50",
          children: s.jsx(i, {
            className: "font-[Quicksand,sans-serif]",
            children:
              (w == null ? void 0 : w.message) ||
              ((Me = S.error) == null ? void 0 : Me.message) ||
              ((Qe = h.error) == null ? void 0 : Qe.message) ||
              (($e = C.error) == null ? void 0 : $e.message) ||
              ((Ye = A.error) == null ? void 0 : Ye.message),
          }),
        })),
      (e[62] = S.error),
      (e[63] = A),
      (e[64] = w),
      (e[65] = C),
      (e[66] = h),
      (e[67] = Fe))
    : (Fe = e[67]);
  let be;
  return (
    e[68] !== ae || e[69] !== Se || e[70] !== me || e[71] !== Fe
      ? ((be = s.jsx(y, {
          className: "p-6 bg-gray-50 min-h-screen",
          children: s.jsxs(y, {
            className: "max-w-7xl mx-auto",
            children: [pe, ae, Se, me, Fe],
          }),
        })),
        (e[68] = ae),
        (e[69] = Se),
        (e[70] = me),
        (e[71] = Fe),
        (e[72] = be))
      : (be = e[72]),
    be
  );
};
function Kf(e) {
  return { ...e, id: e.id };
}
function Gf(e) {
  return s.jsxs(W, {
    gap: 3,
    children: [
      s.jsx(y, {
        className:
          "w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",
        children: e.imgUrl
          ? s.jsx(ua, {
              src: e.imgUrl,
              alt: e.name,
              className: "w-full h-full object-cover",
            })
          : s.jsx(y, {
              className:
                "w-full h-full bg-gray-100 flex items-center justify-center",
              children: s.jsx(Pr, { className: "text-gray-400" }),
            }),
      }),
      s.jsxs(le, {
        align: "start",
        gap: 0,
        children: [
          s.jsx(i, {
            className: "font-[Quicksand,sans-serif] font-medium text-sm",
            children: e.name,
          }),
          e.description &&
            s.jsx(i, {
              className: "font-[Quicksand,sans-serif] text-xs text-gray-500",
              children: Vf(e.description, 50),
            }),
        ],
      }),
    ],
  });
}
function Hf(e) {
  return s.jsx(i, {
    className: "font-[Quicksand,sans-serif]",
    children: e.price ? If(e) : "N/A",
  });
}
function Yf(e) {
  return s.jsx(Be, {
    colorScheme: Rf(e.isActive),
    className: "font-[Quicksand,sans-serif]",
    children: Of(e.isActive),
  });
}
function Xf(e) {
  return s.jsx(i, {
    className: "font-[Quicksand,sans-serif] text-sm",
    children: Ff(e.createdAt),
  });
}
function Jf(e) {
  return s.jsx(i, {
    className: "font-[Quicksand,sans-serif] text-sm",
    children: e.sortOrder,
  });
}
function Zf(e) {
  return e.isActive;
}
function ep(e) {
  return !e.isActive;
}
const tp = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Qf },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  sp = () => {
    const e = G.c(3),
      t = ln();
    let n, a;
    return (
      e[0] !== t
        ? ((n = () => {
            t(at.ADMIN.VIDEO_CATALOGS);
          }),
          (a = [t]),
          (e[0] = t),
          (e[1] = n),
          (e[2] = a))
        : ((n = e[1]), (a = e[2])),
      j.useEffect(n, a),
      null
    );
  },
  np = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: sp },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Ns = {
    all: ["promotions"],
    lists: () => [...Ns.all, "list"],
    list: (e) => [...Ns.lists(), e],
    details: () => [...Ns.all, "detail"],
    detail: (e) => [...Ns.details(), e],
    redemptions: (e) => [...Ns.all, "redemptions", e],
  },
  Mn = {
    getPromotions: async () => {
      const e = await ie.get("/admin/promotions");
      return e.data.data || e.data;
    },
    getPromotion: async (e) => {
      const t = await ie.get(`/admin/promotions/${e}`);
      return t.data.data || t.data;
    },
    createPromotion: async (e) => {
      const t = await ie.post("/admin/promotions", e);
      return t.data.data || t.data;
    },
    updatePromotion: async (e, t) => {
      const n = await ie.patch(`/admin/promotions/${e}`, t);
      return n.data.data || n.data;
    },
    deletePromotion: async (e) => {
      await ie.delete(`/admin/promotions/${e}`);
    },
    getPromotionRedemptions: async (e) => {
      const t = await ie.get(`/admin/promotions/${e}/redemptions`);
      return t.data.data || t.data;
    },
    findPromotionByCode: async ({ code: e, catalogId: t }) => {
      const n = await ie.get(
        `/billing/promotions/validate?code=${e}&catalogId=${t}`
      );
      return n.data.data || n.data;
    },
    validatePromotionCode: async (e) => {
      const t = new URLSearchParams();
      return (
        t.append("code", e.code.toUpperCase()),
        e.catalogId && t.append("catalogId", e.catalogId.toString()),
        e.pageId && t.append("pageId", e.pageId.toString()),
        e.designRequested && t.append("designRequested", "true"),
        e.subtotalCents &&
          t.append("subtotalCents", e.subtotalCents.toString()),
        (await ie.get(`/billing/promotions/validate?${t}`)).data
      );
    },
  },
  ip = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: Ns.list(),
            queryFn: Mn.getPromotions,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  lp = (e) => {
    const t = G.c(8);
    let n;
    t[0] !== e ? ((n = Ns.redemptions(e)), (t[0] = e), (t[1] = n)) : (n = t[1]);
    let a;
    t[2] !== e
      ? ((a = () => Mn.getPromotionRedemptions(e)), (t[2] = e), (t[3] = a))
      : (a = t[3]);
    const l = !!e;
    let c;
    return (
      t[4] !== n || t[5] !== a || t[6] !== l
        ? ((c = { queryKey: n, queryFn: a, enabled: l, staleTime: 3e5 }),
          (t[4] = n),
          (t[5] = a),
          (t[6] = l),
          (t[7] = c))
        : (c = t[7]),
      nt(c)
    );
  },
  ap = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Mn.createPromotion,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Ns.lists() }),
                ye.create({
                  title: "Thành công",
                  description: "Tạo mã giảm giá thành công",
                  type: "success",
                });
            },
            onError: op,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  cr = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: cp,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: Ns.lists() }),
                t.invalidateQueries({ queryKey: Ns.details() }),
                ye.create({
                  title: "Thành công",
                  description: "Cập nhật mã giảm giá thành công",
                  type: "success",
                });
            },
            onError: dp,
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  rp = (e, t) => {
    const n = G.c(7),
      a = t === void 0 ? !0 : t;
    let l, c;
    n[0] !== e
      ? ((l = ["validatePromotion", e]),
        (c = () =>
          e ? Mn.validatePromotionCode(e) : Promise.reject("No params")),
        (n[0] = e),
        (n[1] = l),
        (n[2] = c))
      : ((l = n[1]), (c = n[2]));
    const m = a && !!(e != null && e.code);
    let r;
    return (
      n[3] !== l || n[4] !== c || n[5] !== m
        ? ((r = {
            queryKey: l,
            queryFn: c,
            enabled: m,
            staleTime: 3e4,
            retry: 1,
            refetchOnWindowFocus: !1,
          }),
          (n[3] = l),
          (n[4] = c),
          (n[5] = m),
          (n[6] = r))
        : (r = n[6]),
      nt(r)
    );
  },
  rj = (e, t, n, a) => {
    const l = G.c(10),
      c = a,
      [m, r] = j.useState(e);
    let o, u;
    l[0] !== e || l[1] !== c
      ? ((o = () => {
          const b = setTimeout(() => {
            r(e);
          }, c);
          return () => clearTimeout(b);
        }),
        (u = [e, c]),
        (l[0] = e),
        (l[1] = c),
        (l[2] = o),
        (l[3] = u))
      : ((o = l[2]), (u = l[3])),
      j.useEffect(o, u);
    let _;
    l[4] !== t || l[5] !== m || l[6] !== n
      ? ((_ = m.trim() ? { code: m, catalogId: t, designRequested: n } : null),
        (l[4] = t),
        (l[5] = m),
        (l[6] = n),
        (l[7] = _))
      : (_ = l[7]);
    const d = _;
    let f;
    return (
      l[8] !== m ? ((f = m.trim()), (l[8] = m), (l[9] = f)) : (f = l[9]),
      rp(d, !!f)
    );
  },
  oj = (e, t = 0, n) => {
    let a = e;
    t > 0 && (a += t);
    let l = 0,
      c;
    n != null && n.valid && n.discountCents
      ? ((l = Math.min(n.discountCents, a)),
        (c = { code: "", discountCents: l, valid: !0, warnings: n.warnings }))
      : n &&
        !n.valid &&
        (c = { code: "", discountCents: 0, valid: !1, message: n.message });
    const m = Math.max(0, a - l);
    return { subtotalCents: a, discountCents: l, totalCents: m, promotion: c };
  };
function op(e) {
  var n, a, l;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Mã giảm giá này đã tồn tại. Vui lòng sử dụng mã khác."
      : ((l = (a = e.response) == null ? void 0 : a.data) == null
          ? void 0
          : l.message) || "Có lỗi xảy ra khi tạo mã giảm giá";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
function cp(e) {
  const { id: t, data: n } = e;
  return Mn.updatePromotion(t, n);
}
function dp(e) {
  var n, a, l;
  const t =
    ((n = e.response) == null ? void 0 : n.status) === 409
      ? "Mã giảm giá này đã tồn tại. Vui lòng sử dụng mã khác."
      : ((l = (a = e.response) == null ? void 0 : a.data) == null
          ? void 0
          : l.message) || "Có lỗi xảy ra khi cập nhật mã giảm giá";
  ye.create({ title: "Lỗi", description: t, type: "error" });
}
const ta = (e) => {
    const t = G.c(147),
      { open: n, setOpen: a, editingPromotion: l } = e;
    let c;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = { tiersAllowed: [], firstPurchaseOnly: !1 }), (t[0] = c))
      : (c = t[0]);
    let m;
    t[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = {
          code: "",
          discountType: "PERCENT",
          amount: 0,
          appliesTo: "ORDER",
          minSubtotalCents: 0,
          maxRedemptions: 0,
          perUserLimit: 1,
          startsAt: "",
          expiresAt: "",
          isActive: !0,
          stackable: !1,
          conditions: c,
        }),
        (t[1] = m))
      : (m = t[1]);
    const [r, o] = j.useState(m),
      [u, _] = j.useState('{"tiersAllowed": [], "firstPurchaseOnly": false}'),
      [d, f] = j.useState(""),
      { mutate: b, isPending: P } = ap(),
      { mutate: w, isPending: v } = cr(),
      x = P || v,
      T = !!l;
    let S;
    t[2] !== l
      ? ((S = () => {
          if (l) {
            const ge = l.startsAt
                ? new Date(l.startsAt).toISOString().slice(0, 16)
                : "",
              et = l.expiresAt
                ? new Date(l.expiresAt).toISOString().slice(0, 16)
                : "";
            o({
              code: l.code,
              discountType: l.discountType,
              amount: l.amount,
              appliesTo: l.appliesTo,
              minSubtotalCents: l.minSubtotalCents,
              maxRedemptions: l.maxRedemptions || 0,
              perUserLimit: l.perUserLimit || 1,
              startsAt: ge,
              expiresAt: et,
              isActive: l.isActive,
              stackable: l.stackable,
              conditions: l.conditions,
            }),
              _(JSON.stringify(l.conditions, null, 2));
          } else
            o({
              code: "",
              discountType: "PERCENT",
              amount: 0,
              appliesTo: "ORDER",
              minSubtotalCents: 0,
              maxRedemptions: 0,
              perUserLimit: 1,
              startsAt: "",
              expiresAt: "",
              isActive: !0,
              stackable: !1,
              conditions: { tiersAllowed: [], firstPurchaseOnly: !1 },
            }),
              _('{"tiersAllowed": [], "firstPurchaseOnly": false}');
          f("");
        }),
        (t[2] = l),
        (t[3] = S))
      : (S = t[3]);
    let h;
    t[4] !== l || t[5] !== n
      ? ((h = [l, n]), (t[4] = l), (t[5] = n), (t[6] = h))
      : (h = t[6]),
      j.useEffect(S, h);
    let C;
    t[7] !== u ||
    t[8] !== b ||
    t[9] !== l ||
    t[10] !== r.amount ||
    t[11] !== r.appliesTo ||
    t[12] !== r.code ||
    t[13] !== r.discountType ||
    t[14] !== r.expiresAt ||
    t[15] !== r.isActive ||
    t[16] !== r.maxRedemptions ||
    t[17] !== r.minSubtotalCents ||
    t[18] !== r.perUserLimit ||
    t[19] !== r.stackable ||
    t[20] !== r.startsAt ||
    t[21] !== T ||
    t[22] !== a ||
    t[23] !== w
      ? ((C = () => {
          if (!r.code.trim()) {
            f("Vui lòng nhập mã giảm giá");
            return;
          }
          if (r.amount <= 0) {
            f("Số tiền giảm giá phải lớn hơn 0");
            return;
          }
          if (r.discountType === "PERCENT" && r.amount > 100) {
            f("Phần trăm giảm giá không thể vượt quá 100%");
            return;
          }
          if (r.minSubtotalCents < 0) {
            f("Số tiền tối thiểu không thể âm");
            return;
          }
          let ge;
          try {
            ge = JSON.parse(u);
          } catch {
            f("JSON điều kiện không hợp lệ");
            return;
          }
          f("");
          const et = {
            code: r.code.trim().toUpperCase(),
            discountType: r.discountType,
            amount: r.amount,
            appliesTo: r.appliesTo,
            minSubtotalCents: r.minSubtotalCents,
            maxRedemptions: r.maxRedemptions || void 0,
            perUserLimit: r.perUserLimit || void 0,
            startsAt: r.startsAt || void 0,
            expiresAt: r.expiresAt || void 0,
            isActive: r.isActive,
            stackable: r.stackable,
            conditions: ge,
          };
          T && l
            ? w(
                { id: l.id, data: et },
                {
                  onSuccess: () => {
                    a(!1);
                  },
                }
              )
            : b(et, {
                onSuccess: () => {
                  a(!1);
                },
              });
        }),
        (t[7] = u),
        (t[8] = b),
        (t[9] = l),
        (t[10] = r.amount),
        (t[11] = r.appliesTo),
        (t[12] = r.code),
        (t[13] = r.discountType),
        (t[14] = r.expiresAt),
        (t[15] = r.isActive),
        (t[16] = r.maxRedemptions),
        (t[17] = r.minSubtotalCents),
        (t[18] = r.perUserLimit),
        (t[19] = r.stackable),
        (t[20] = r.startsAt),
        (t[21] = T),
        (t[22] = a),
        (t[23] = w),
        (t[24] = C))
      : (C = t[24]);
    const A = C;
    let k;
    t[25] !== a
      ? ((k = () => {
          a(!1), f("");
        }),
        (t[25] = a),
        (t[26] = k))
      : (k = t[26]);
    const g = k,
      p = T ? "Chỉnh sửa mã giảm giá" : "Thêm mã giảm giá mới";
    let E;
    t[27] !== d
      ? ((E =
          d &&
          s.jsx(y, {
            p: 3,
            bg: "red.50",
            border: "1px",
            borderColor: "red.200",
            rounded: "md",
            children: s.jsx(i, {
              color: "red.600",
              fontSize: "sm",
              children: d,
            }),
          })),
        (t[27] = d),
        (t[28] = E))
      : (E = t[28]);
    let z;
    t[29] !== r
      ? ((z = (ge) => o({ ...r, code: ge.target.value.toUpperCase() })),
        (t[29] = r),
        (t[30] = z))
      : (z = t[30]);
    let N;
    t[31] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = { textTransform: "uppercase" }), (t[31] = N))
      : (N = t[31]);
    let R;
    t[32] !== r.code || t[33] !== z
      ? ((R = s.jsx(Ee, {
          value: r.code,
          onChange: z,
          placeholder: "WED10",
          style: N,
        })),
        (t[32] = r.code),
        (t[33] = z),
        (t[34] = R))
      : (R = t[34]);
    let F;
    t[35] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = s.jsx(i, {
          fontSize: "xs",
          color: "gray.500",
          mt: 1,
          children:
            "Mã sẽ được tự động chuyển thành chữ hoa. Ví dụ: WED10, SALE20",
        })),
        (t[35] = F))
      : (F = t[35]);
    let V;
    t[36] !== R
      ? ((V = s.jsxs(Ne, {
          label: "Mã giảm giá",
          required: !0,
          children: [R, F],
        })),
        (t[36] = R),
        (t[37] = V))
      : (V = t[37]);
    let $;
    t[38] !== r
      ? (($ = (ge) => o({ ...r, discountType: ge.target.value })),
        (t[38] = r),
        (t[39] = $))
      : ($ = t[39]);
    let Q, M;
    t[40] === Symbol.for("react.memo_cache_sentinel")
      ? ((Q = s.jsx("option", { value: "PERCENT", children: "Phần trăm (%)" })),
        (M = s.jsx("option", {
          value: "FIXED",
          children: "Số tiền cố định (VND)",
        })),
        (t[40] = Q),
        (t[41] = M))
      : ((Q = t[40]), (M = t[41]));
    let L;
    t[42] !== r.discountType || t[43] !== $
      ? ((L = s.jsxs(Jt, {
          value: r.discountType,
          onChange: $,
          children: [Q, M],
        })),
        (t[42] = r.discountType),
        (t[43] = $),
        (t[44] = L))
      : (L = t[44]);
    let q;
    t[45] === Symbol.for("react.memo_cache_sentinel")
      ? ((q = s.jsx(Zt, {})), (t[45] = q))
      : (q = t[45]);
    let D;
    t[46] !== L
      ? ((D = s.jsx(Ne, {
          label: "Loại giảm giá",
          required: !0,
          children: s.jsxs(es, { size: "sm", width: "100%", children: [L, q] }),
        })),
        (t[46] = L),
        (t[47] = D))
      : (D = t[47]);
    let K;
    t[48] !== r
      ? ((K = (ge) => o({ ...r, amount: parseFloat(ge.target.value) || 0 })),
        (t[48] = r),
        (t[49] = K))
      : (K = t[49]);
    const H = r.discountType === "PERCENT" ? "10" : "50000",
      B = r.discountType === "PERCENT" ? 100 : void 0;
    let Z;
    t[50] !== r.amount || t[51] !== K || t[52] !== H || t[53] !== B
      ? ((Z = s.jsx(Ne, {
          label: "Giá trị giảm",
          required: !0,
          children: s.jsx(Ee, {
            type: "number",
            value: r.amount,
            onChange: K,
            placeholder: H,
            min: 0,
            max: B,
          }),
        })),
        (t[50] = r.amount),
        (t[51] = K),
        (t[52] = H),
        (t[53] = B),
        (t[54] = Z))
      : (Z = t[54]);
    let J;
    t[55] !== D || t[56] !== Z
      ? ((J = s.jsxs(W, { gap: 4, children: [D, Z] })),
        (t[55] = D),
        (t[56] = Z),
        (t[57] = J))
      : (J = t[57]);
    let se;
    t[58] !== r
      ? ((se = (ge) => o({ ...r, appliesTo: ge.target.value })),
        (t[58] = r),
        (t[59] = se))
      : (se = t[59]);
    let ee;
    t[60] === Symbol.for("react.memo_cache_sentinel")
      ? ((ee = s.jsx("option", { value: "PAGE_PLAN", children: "Gói trang" })),
        (t[60] = ee))
      : (ee = t[60]);
    let te;
    t[61] !== r.appliesTo || t[62] !== se
      ? ((te = s.jsx(Jt, { value: r.appliesTo, onChange: se, children: ee })),
        (t[61] = r.appliesTo),
        (t[62] = se),
        (t[63] = te))
      : (te = t[63]);
    let X;
    t[64] === Symbol.for("react.memo_cache_sentinel")
      ? ((X = s.jsx(Zt, {})), (t[64] = X))
      : (X = t[64]);
    let I;
    t[65] !== te
      ? ((I = s.jsx(Ne, {
          label: "Áp dụng cho",
          required: !0,
          children: s.jsxs(es, {
            size: "sm",
            width: "100%",
            children: [te, X],
          }),
        })),
        (t[65] = te),
        (t[66] = I))
      : (I = t[66]);
    let O;
    t[67] !== r
      ? ((O = (ge) =>
          o({ ...r, minSubtotalCents: parseInt(ge.target.value) || 0 })),
        (t[67] = r),
        (t[68] = O))
      : (O = t[68]);
    let U;
    t[69] !== r.minSubtotalCents || t[70] !== O
      ? ((U = s.jsx(Ne, {
          label: "Số tiền tối thiểu (VND)",
          children: s.jsx(Ee, {
            type: "number",
            value: r.minSubtotalCents,
            onChange: O,
            placeholder: "0",
            min: 0,
          }),
        })),
        (t[69] = r.minSubtotalCents),
        (t[70] = O),
        (t[71] = U))
      : (U = t[71]);
    let re;
    t[72] !== r
      ? ((re = (ge) =>
          o({ ...r, maxRedemptions: parseInt(ge.target.value) || 0 })),
        (t[72] = r),
        (t[73] = re))
      : (re = t[73]);
    let de;
    t[74] !== r.maxRedemptions || t[75] !== re
      ? ((de = s.jsx(Ne, {
          label: "Giới hạn tổng số lần sử dụng",
          children: s.jsx(Ee, {
            type: "number",
            value: r.maxRedemptions,
            onChange: re,
            placeholder: "0 (không giới hạn)",
            min: 0,
          }),
        })),
        (t[74] = r.maxRedemptions),
        (t[75] = re),
        (t[76] = de))
      : (de = t[76]);
    let ue;
    t[77] !== U || t[78] !== de
      ? ((ue = s.jsxs(W, { gap: 4, children: [U, de] })),
        (t[77] = U),
        (t[78] = de),
        (t[79] = ue))
      : (ue = t[79]);
    let he;
    t[80] !== r
      ? ((he = (ge) =>
          o({ ...r, perUserLimit: parseInt(ge.target.value) || 0 })),
        (t[80] = r),
        (t[81] = he))
      : (he = t[81]);
    let ne;
    t[82] !== r.perUserLimit || t[83] !== he
      ? ((ne = s.jsx(Ne, {
          label: "Giới hạn số lần sử dụng/người",
          children: s.jsx(Ee, {
            type: "number",
            value: r.perUserLimit,
            onChange: he,
            placeholder: "1",
            min: 0,
          }),
        })),
        (t[82] = r.perUserLimit),
        (t[83] = he),
        (t[84] = ne))
      : (ne = t[84]);
    let pe;
    t[85] !== r
      ? ((pe = (ge) => o({ ...r, startsAt: ge.target.value })),
        (t[85] = r),
        (t[86] = pe))
      : (pe = t[86]);
    let ae;
    t[87] !== r.startsAt || t[88] !== pe
      ? ((ae = s.jsx(Ne, {
          label: "Thời gian bắt đầu",
          children: s.jsx(Ee, {
            type: "datetime-local",
            value: r.startsAt,
            onChange: pe,
          }),
        })),
        (t[87] = r.startsAt),
        (t[88] = pe),
        (t[89] = ae))
      : (ae = t[89]);
    let ve;
    t[90] !== r
      ? ((ve = (ge) => o({ ...r, expiresAt: ge.target.value })),
        (t[90] = r),
        (t[91] = ve))
      : (ve = t[91]);
    let je;
    t[92] !== r.expiresAt || t[93] !== ve
      ? ((je = s.jsx(Ne, {
          label: "Thời gian kết thúc",
          children: s.jsx(Ee, {
            type: "datetime-local",
            value: r.expiresAt,
            onChange: ve,
          }),
        })),
        (t[92] = r.expiresAt),
        (t[93] = ve),
        (t[94] = je))
      : (je = t[94]);
    let ce;
    t[95] !== r
      ? ((ce = (ge) => o({ ...r, isActive: ge.checked })),
        (t[95] = r),
        (t[96] = ce))
      : (ce = t[96]);
    let xe;
    t[97] === Symbol.for("react.memo_cache_sentinel")
      ? ((xe = s.jsx(Sl, {})), (t[97] = xe))
      : (xe = t[97]);
    let Te;
    t[98] === Symbol.for("react.memo_cache_sentinel")
      ? ((Te = s.jsx(Di, { children: s.jsx(Ms, {}) })), (t[98] = Te))
      : (Te = t[98]);
    let Pe;
    t[99] !== r.isActive || t[100] !== ce
      ? ((Pe = s.jsxs($s, {
          checked: r.isActive,
          onCheckedChange: ce,
          children: [xe, Te],
        })),
        (t[99] = r.isActive),
        (t[100] = ce),
        (t[101] = Pe))
      : (Pe = t[101]);
    const Se = r.isActive ? "Hoạt động" : "Tạm dừng";
    let ke;
    t[102] !== Se
      ? ((ke = s.jsx(i, { fontSize: "sm", children: Se })),
        (t[102] = Se),
        (t[103] = ke))
      : (ke = t[103]);
    let Le;
    t[104] !== Pe || t[105] !== ke
      ? ((Le = s.jsx(Ne, {
          label: "Trạng thái",
          children: s.jsxs(W, { children: [Pe, ke] }),
        })),
        (t[104] = Pe),
        (t[105] = ke),
        (t[106] = Le))
      : (Le = t[106]);
    let De;
    t[107] !== r
      ? ((De = (ge) => o({ ...r, stackable: ge.checked })),
        (t[107] = r),
        (t[108] = De))
      : (De = t[108]);
    let me;
    t[109] === Symbol.for("react.memo_cache_sentinel")
      ? ((me = s.jsx(Sl, {})), (t[109] = me))
      : (me = t[109]);
    let Fe;
    t[110] === Symbol.for("react.memo_cache_sentinel")
      ? ((Fe = s.jsx(Di, { children: s.jsx(Ms, {}) })), (t[110] = Fe))
      : (Fe = t[110]);
    let be;
    t[111] !== r.stackable || t[112] !== De
      ? ((be = s.jsxs($s, {
          checked: r.stackable,
          onCheckedChange: De,
          children: [me, Fe],
        })),
        (t[111] = r.stackable),
        (t[112] = De),
        (t[113] = be))
      : (be = t[113]);
    const Me = r.stackable ? "Có thể kết hợp" : "Không thể kết hợp";
    let Qe;
    t[114] !== Me
      ? ((Qe = s.jsx(i, { fontSize: "sm", children: Me })),
        (t[114] = Me),
        (t[115] = Qe))
      : (Qe = t[115]);
    let $e;
    t[116] !== be || t[117] !== Qe
      ? (($e = s.jsx(Ne, {
          label: "Cho phép kết hợp",
          children: s.jsxs(W, { children: [be, Qe] }),
        })),
        (t[116] = be),
        (t[117] = Qe),
        (t[118] = $e))
      : ($e = t[118]);
    let Ye;
    t[119] !== Le || t[120] !== $e
      ? ((Ye = s.jsxs(W, { gap: 4, children: [Le, $e] })),
        (t[119] = Le),
        (t[120] = $e),
        (t[121] = Ye))
      : (Ye = t[121]);
    let we;
    t[122] !== g
      ? ((we = s.jsx(Y, {
          variant: "outline",
          onClick: g,
          flex: 1,
          children: "Hủy",
        })),
        (t[122] = g),
        (t[123] = we))
      : (we = t[123]);
    const Ae = T ? "Cập nhật" : "Tạo mã";
    let We;
    t[124] !== A || t[125] !== x || t[126] !== Ae
      ? ((We = s.jsx(Y, {
          colorScheme: "blue",
          onClick: A,
          loading: x,
          flex: 1,
          children: Ae,
        })),
        (t[124] = A),
        (t[125] = x),
        (t[126] = Ae),
        (t[127] = We))
      : (We = t[127]);
    let Ke;
    t[128] !== we || t[129] !== We
      ? ((Ke = s.jsxs(W, { gap: 3, pt: 4, children: [we, We] })),
        (t[128] = we),
        (t[129] = We),
        (t[130] = Ke))
      : (Ke = t[130]);
    let Ze;
    t[131] !== V ||
    t[132] !== J ||
    t[133] !== I ||
    t[134] !== ue ||
    t[135] !== ne ||
    t[136] !== ae ||
    t[137] !== je ||
    t[138] !== Ye ||
    t[139] !== Ke ||
    t[140] !== E
      ? ((Ze = s.jsxs(y, {
          className: "flex flex-col gap-4",
          children: [E, V, J, I, ue, ne, ae, je, Ye, Ke],
        })),
        (t[131] = V),
        (t[132] = J),
        (t[133] = I),
        (t[134] = ue),
        (t[135] = ne),
        (t[136] = ae),
        (t[137] = je),
        (t[138] = Ye),
        (t[139] = Ke),
        (t[140] = E),
        (t[141] = Ze))
      : (Ze = t[141]);
    let Re;
    return (
      t[142] !== g || t[143] !== n || t[144] !== Ze || t[145] !== p
        ? ((Re = s.jsx(Ot, {
            title: p,
            isOpen: n,
            onClose: g,
            maxWidth: "400px",
            children: Ze,
          })),
          (t[142] = g),
          (t[143] = n),
          (t[144] = Ze),
          (t[145] = p),
          (t[146] = Re))
        : (Re = t[146]),
      Re
    );
  },
  hp = (e) => new Date(e).toLocaleString("vi-VN"),
  mp = (e) => `${e.toLocaleString()} VND`,
  up = (e) => {
    const t = G.c(28),
      { open: n, setOpen: a, promotion: l } = e,
      { data: c, isLoading: m } = lp((l == null ? void 0 : l.id) || 0);
    let r;
    t[0] !== a
      ? ((r = () => {
          a(!1);
        }),
        (t[0] = a),
        (t[1] = r))
      : (r = t[1]);
    const o = r;
    if (!l) return null;
    const u = `Lịch sử sử dụng mã ${l.code}`;
    let _;
    t[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((_ = s.jsx(i, {
          as: "span",
          fontWeight: "medium",
          children: "Tổng lượt sử dụng:",
        })),
        (t[2] = _))
      : (_ = t[2]);
    const d = l.totalRedemptions || 0;
    let f;
    t[3] !== d
      ? ((f = s.jsxs(i, { fontSize: "sm", children: [_, " ", d] })),
        (t[3] = d),
        (t[4] = f))
      : (f = t[4]);
    let b;
    t[5] !== l.maxRedemptions
      ? ((b =
          l.maxRedemptions &&
          s.jsxs(i, {
            fontSize: "sm",
            children: [
              s.jsx(i, {
                as: "span",
                fontWeight: "medium",
                children: "Giới hạn:",
              }),
              " ",
              l.maxRedemptions,
            ],
          })),
        (t[5] = l.maxRedemptions),
        (t[6] = b))
      : (b = t[6]);
    let P;
    t[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((P = s.jsx(i, {
          as: "span",
          fontWeight: "medium",
          children: "Còn lại:",
        })),
        (t[7] = P))
      : (P = t[7]);
    const w = l.maxRedemptions
      ? l.maxRedemptions - (l.totalRedemptions || 0)
      : "Không giới hạn";
    let v;
    t[8] !== w
      ? ((v = s.jsxs(i, { fontSize: "sm", children: [P, " ", w] })),
        (t[8] = w),
        (t[9] = v))
      : (v = t[9]);
    let x;
    t[10] !== f || t[11] !== b || t[12] !== v
      ? ((x = s.jsx(y, {
          p: 4,
          bg: "gray.50",
          rounded: "md",
          children: s.jsxs(W, { gap: 6, children: [f, b, v] }),
        })),
        (t[10] = f),
        (t[11] = b),
        (t[12] = v),
        (t[13] = x))
      : (x = t[13]);
    let T;
    t[14] !== m || t[15] !== c
      ? ((T = m
          ? s.jsx(y, {
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              minH: "200px",
              children: s.jsxs(le, {
                gap: 4,
                children: [
                  s.jsx(Wt, { size: "lg", colorScheme: "blue" }),
                  s.jsx(i, { children: "Đang tải dữ liệu..." }),
                ],
              }),
            })
          : !c || c.length === 0
          ? s.jsx(y, {
              p: 8,
              textAlign: "center",
              bg: "gray.50",
              rounded: "md",
              children: s.jsx(i, {
                fontSize: "lg",
                color: "gray.500",
                children: "Chưa có lịch sử sử dụng nào",
              }),
            })
          : s.jsx(y, {
              maxH: "400px",
              overflowY: "auto",
              border: "1px",
              borderColor: "gray.200",
              rounded: "md",
              children: s.jsxs(vs, {
                size: "sm",
                children: [
                  s.jsx(Ss, {
                    children: s.jsxs(At, {
                      children: [
                        s.jsx(Ce, { children: "ID Người dùng" }),
                        s.jsx(Ce, { children: "ID Đơn hàng" }),
                        s.jsx(Ce, { children: "Số tiền giảm" }),
                        s.jsx(Ce, { children: "Thời gian sử dụng" }),
                      ],
                    }),
                  }),
                  s.jsx(_s, { children: c.map(gp) }),
                ],
              }),
            })),
        (t[14] = m),
        (t[15] = c),
        (t[16] = T))
      : (T = t[16]);
    let S;
    t[17] !== o
      ? ((S = s.jsx(y, {
          pt: 4,
          children: s.jsx(Y, { onClick: o, width: "100%", children: "Đóng" }),
        })),
        (t[17] = o),
        (t[18] = S))
      : (S = t[18]);
    let h;
    t[19] !== x || t[20] !== T || t[21] !== S
      ? ((h = s.jsxs(le, { gap: 4, align: "stretch", children: [x, T, S] })),
        (t[19] = x),
        (t[20] = T),
        (t[21] = S),
        (t[22] = h))
      : (h = t[22]);
    let C;
    return (
      t[23] !== o || t[24] !== n || t[25] !== h || t[26] !== u
        ? ((C = s.jsx(Ot, { title: u, isOpen: n, onClose: o, children: h })),
          (t[23] = o),
          (t[24] = n),
          (t[25] = h),
          (t[26] = u),
          (t[27] = C))
        : (C = t[27]),
      C
    );
  };
function gp(e) {
  return s.jsxs(
    At,
    {
      children: [
        s.jsx(_e, {
          children: s.jsxs(i, {
            fontWeight: "medium",
            children: ["#", e.userId],
          }),
        }),
        s.jsx(_e, {
          children: e.orderId
            ? s.jsxs(i, { fontWeight: "medium", children: ["#", e.orderId] })
            : s.jsx(i, { color: "gray.500", children: "N/A" }),
        }),
        s.jsx(_e, {
          children: s.jsxs(i, {
            fontWeight: "medium",
            color: "green.600",
            children: ["-", mp(e.discountAmount)],
          }),
        }),
        s.jsx(_e, {
          children: s.jsx(i, {
            fontSize: "sm",
            color: "gray.600",
            children: hp(e.redeemedAt),
          }),
        }),
      ],
    },
    e.id
  );
}
const fp = () => {
  const e = G.c(58),
    [t, n] = j.useState(!1),
    [a, l] = j.useState(!1),
    [c, m] = j.useState(!1),
    [r, o] = j.useState(null),
    [u, _] = j.useState(null),
    [d, f] = j.useState();
  let b;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((b = {
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      (e[0] = b))
    : (b = e[0]);
  const [P, w] = j.useState(b),
    { data: v, isLoading: x } = ip(),
    { mutate: T } = cr();
  let S, h;
  e[1] !== v
    ? ((S = () => {
        if (v) {
          const be = {
            data: v.map(pp),
            total: v.length,
            page: 1,
            limit: v.length,
            totalPages: 1,
          };
          f(be);
        }
      }),
      (h = [v]),
      (e[1] = v),
      (e[2] = S),
      (e[3] = h))
    : ((S = e[2]), (h = e[3])),
    ps.useEffect(S, h);
  let C;
  e[4] === Symbol.for("react.memo_cache_sentinel")
    ? ((C = (be) => {
        o(be), l(!0);
      }),
      (e[4] = C))
    : (C = e[4]);
  const A = C;
  let k;
  e[5] === Symbol.for("react.memo_cache_sentinel")
    ? ((k = (be) => {
        _(be), m(!0);
      }),
      (e[5] = k))
    : (k = e[5]);
  const g = k;
  let p;
  e[6] !== T
    ? ((p = (be, Me) => {
        T({ id: be, data: { isActive: Me } });
      }),
      (e[6] = T),
      (e[7] = p))
    : (p = e[7]);
  const E = p;
  let z;
  e[8] === Symbol.for("react.memo_cache_sentinel")
    ? ((z = () => {
        l(!1), o(null);
      }),
      (e[8] = z))
    : (z = e[8]);
  const N = z;
  let R;
  e[9] === Symbol.for("react.memo_cache_sentinel")
    ? ((R = () => {
        m(!1), _(null);
      }),
      (e[9] = R))
    : (R = e[9]);
  const F = R;
  let V;
  e[10] === Symbol.for("react.memo_cache_sentinel")
    ? ((V = (be) => {
        w(be);
      }),
      (e[10] = V))
    : (V = e[10]);
  const $ = V;
  let Q;
  e[11] === Symbol.for("react.memo_cache_sentinel")
    ? ((Q = () => {
        w({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      }),
      (e[11] = Q))
    : (Q = e[11]);
  const M = Q,
    L = xp,
    q = jp,
    D = yp,
    K = bp;
  let H;
  e[12] === Symbol.for("react.memo_cache_sentinel")
    ? ((H = { key: "code", label: "Mã giảm giá", sortable: !0, render: vp }),
      (e[12] = H))
    : (H = e[12]);
  let B, Z;
  e[13] === Symbol.for("react.memo_cache_sentinel")
    ? ((B = {
        key: "amount",
        label: "Giá trị giảm",
        sortable: !0,
        render: (be) =>
          s.jsx(i, {
            fontWeight: "medium",
            color: "green.600",
            fontFamily: "Quicksand, sans-serif",
            children: D(be),
          }),
      }),
      (Z = {
        key: "usageLimit",
        label: "Giới hạn sử dụng",
        sortable: !0,
        render: Sp,
      }),
      (e[13] = B),
      (e[14] = Z))
    : ((B = e[13]), (Z = e[14]));
  let J;
  e[15] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = {
        key: "expiresAt",
        label: "Hết hạn",
        sortable: !0,
        render: (be) =>
          s.jsx(i, {
            fontSize: "sm",
            color: "gray.600",
            fontFamily: "Quicksand, sans-serif",
            children: be.expiresAt ? K(be.expiresAt) : "Không giới hạn",
          }),
      }),
      (e[15] = J))
    : (J = e[15]);
  let se;
  e[16] === Symbol.for("react.memo_cache_sentinel")
    ? ((se = [
        H,
        B,
        Z,
        J,
        {
          key: "isActive",
          label: "Trạng thái",
          sortable: !0,
          render: (be) =>
            s.jsx(Be, {
              colorScheme: L(be),
              variant: "subtle",
              children: q(be),
            }),
        },
      ]),
      (e[16] = se))
    : (se = e[16]);
  const ee = se;
  let te;
  e[17] === Symbol.for("react.memo_cache_sentinel")
    ? ((te = s.jsx(Mt, {})), (e[17] = te))
    : (te = e[17]);
  let X;
  e[18] === Symbol.for("react.memo_cache_sentinel")
    ? ((X = {
        key: "edit",
        label: "Chỉnh sửa",
        icon: te,
        variant: "ghost",
        colorScheme: "blue",
        onClick: (be) => A(be),
      }),
      (e[18] = X))
    : (X = e[18]);
  let I;
  e[19] === Symbol.for("react.memo_cache_sentinel")
    ? ((I = s.jsx(Xt, {})), (e[19] = I))
    : (I = e[19]);
  let O;
  e[20] === Symbol.for("react.memo_cache_sentinel")
    ? ((O = {
        key: "view",
        label: "Xem lịch sử",
        icon: I,
        variant: "ghost",
        colorScheme: "green",
        onClick: (be) => g(be),
      }),
      (e[20] = O))
    : (O = e[20]);
  let U;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((U = s.jsx(Mi, {})), (e[21] = U))
    : (U = e[21]);
  let re;
  e[22] !== E
    ? ((re = [
        X,
        O,
        {
          key: "toggle",
          label: "Kích hoạt/Tạm dừng",
          icon: U,
          variant: "ghost",
          colorScheme: "orange",
          onClick: (be) => E(be.id, !be.isActive),
        },
      ]),
      (e[22] = E),
      (e[23] = re))
    : (re = e[23]);
  const de = re;
  let ue;
  e[24] === Symbol.for("react.memo_cache_sentinel")
    ? ((ue = [
        ls("Tìm kiếm theo mã giảm giá..."),
        Rt("discountType", "Loại giảm giá", [
          { value: "", label: "Tất cả" },
          { value: "PERCENT", label: "Phần trăm" },
          { value: "FIXED", label: "Số tiền cố định" },
        ]),
        Rt("isActive", "Trạng thái", [
          { value: "", label: "Tất cả" },
          { value: "true", label: "Đang hoạt động" },
          { value: "false", label: "Tạm dừng" },
        ]),
      ]),
      (e[24] = ue))
    : (ue = e[24]);
  const he = ue;
  let ne;
  e[25] !== v
    ? ((ne = (v == null ? void 0 : v.filter(_p)) || []),
      (e[25] = v),
      (e[26] = ne))
    : (ne = e[26]);
  const pe = ne;
  let ae;
  e[27] !== v
    ? ((ae = (v == null ? void 0 : v.filter(Cp)) || []),
      (e[27] = v),
      (e[28] = ae))
    : (ae = e[28]);
  const ve = ae;
  let je;
  e[29] !== v
    ? ((je = (v == null ? void 0 : v.filter(Tp)) || []),
      (e[29] = v),
      (e[30] = je))
    : (je = e[30]);
  const ce = je;
  let xe;
  e[31] === Symbol.for("react.memo_cache_sentinel")
    ? ((xe = s.jsxs(y, {
        className: "mb-6",
        children: [
          s.jsx(i, {
            className:
              "text-3xl font-bold font-[Quicksand,sans-serif] text-gray-800 mb-2",
            children: "Quản lý mã giảm giá",
          }),
          s.jsx(i, {
            className: "text-gray-600 font-[Quicksand,sans-serif]",
            children: "Tạo và quản lý các mã giảm giá cho khách hàng",
          }),
        ],
      })),
      (e[31] = xe))
    : (xe = e[31]);
  let Te;
  e[32] !== pe || e[33] !== ve || e[34] !== v || e[35] !== ce
    ? ((Te =
        v &&
        s.jsxs(tt, {
          bg: "white",
          borderRadius: "xl",
          shadow: "lg",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          overflow: "hidden",
          children: [
            s.jsx(Yt, {
              bg: "blue.50",
              borderBottom: "1px solid",
              borderColor: "blue.200",
              py: 4,
              px: 6,
              children: s.jsx(i, {
                fontSize: { base: "sm", md: "md" },
                fontWeight: "bold",
                color: "blue.600",
                children: "📊 Thống kê mã giảm giá",
              }),
            }),
            s.jsx(st, {
              p: 6,
              children: s.jsxs(Kt, {
                templateColumns: {
                  base: "repeat(2, 1fr)",
                  sm: "repeat(2, 1fr)",
                  lg: "repeat(4, 1fr)",
                },
                gap: { base: 4, md: 6 },
                children: [
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "TỔNG SỐ MÃ",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: v.length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: kr,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "ĐANG HOẠT ĐỘNG",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: pe.length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ts,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "SẮP DIỄN RA",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: ce.length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: $i,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                  s.jsx(tt, {
                    bg: "linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",
                    color: "white",
                    borderRadius: "xl",
                    shadow: "lg",
                    overflow: "hidden",
                    _hover: { shadow: "xl", transform: "translateY(-2px)" },
                    transition: "all 0.3s ease",
                    children: s.jsx(st, {
                      p: { base: 4, md: 6 },
                      children: s.jsxs(rt, {
                        justify: "space-between",
                        align: "start",
                        children: [
                          s.jsxs(le, {
                            align: "start",
                            gap: 1,
                            children: [
                              s.jsx(i, {
                                fontSize: { base: "xs", md: "sm" },
                                opacity: 0.9,
                                fontWeight: "medium",
                                textTransform: "uppercase",
                                letterSpacing: "wide",
                                children: "ĐÃ HẾT HẠN",
                              }),
                              s.jsx(i, {
                                fontSize: { base: "xl", md: "2xl" },
                                fontWeight: "bold",
                                lineHeight: "shorter",
                                children: ve.length,
                              }),
                            ],
                          }),
                          s.jsx(vt, {
                            as: Ta,
                            boxSize: { base: 6, md: 8 },
                            opacity: 0.8,
                          }),
                        ],
                      }),
                    }),
                  }),
                ],
              }),
            }),
          ],
        })),
      (e[32] = pe),
      (e[33] = ve),
      (e[34] = v),
      (e[35] = ce),
      (e[36] = Te))
    : (Te = e[36]);
  let Pe;
  e[37] === Symbol.for("react.memo_cache_sentinel")
    ? ((Pe = [10, 25, 50, 100]), (e[37] = Pe))
    : (Pe = e[37]);
  let Se;
  e[38] === Symbol.for("react.memo_cache_sentinel")
    ? ((Se = s.jsxs(Y, {
        colorScheme: "blue",
        onClick: () => n(!0),
        children: [
          s.jsx(hs, {}),
          s.jsx(i, { ml: 2, children: "Thêm mã giảm giá" }),
        ],
      })),
      (e[38] = Se))
    : (Se = e[38]);
  let ke;
  e[39] !== de || e[40] !== P || e[41] !== x || e[42] !== d
    ? ((ke = s.jsx(as, {
        data: d,
        isLoading: x,
        columns: ee,
        actions: de,
        filterFields: he,
        currentFilters: P,
        onFiltersChange: $,
        onResetFilters: M,
        title: "Danh sách mã giảm giá",
        subtitle: "Quản lý và cấu hình các mã giảm giá",
        emptyMessage: "Chưa có mã giảm giá nào",
        loadingMessage: "Đang tải danh sách mã giảm giá...",
        showMobileCards: !0,
        enableSorting: !0,
        enablePagination: !0,
        enablePageSizeSelector: !0,
        pageSizeOptions: Pe,
        defaultPageSize: 10,
        showFilter: !0,
        showResetButton: !0,
        resetButtonText: "Đặt lại bộ lọc",
        headerActions: Se,
      })),
      (e[39] = de),
      (e[40] = P),
      (e[41] = x),
      (e[42] = d),
      (e[43] = ke))
    : (ke = e[43]);
  let Le;
  e[44] !== t
    ? ((Le = s.jsx(ta, { open: t, setOpen: n, editingPromotion: null })),
      (e[44] = t),
      (e[45] = Le))
    : (Le = e[45]);
  let De;
  e[46] !== r || e[47] !== a
    ? ((De = s.jsx(ta, { open: a, setOpen: N, editingPromotion: r })),
      (e[46] = r),
      (e[47] = a),
      (e[48] = De))
    : (De = e[48]);
  let me;
  e[49] !== c || e[50] !== u
    ? ((me = s.jsx(up, { open: c, setOpen: F, promotion: u })),
      (e[49] = c),
      (e[50] = u),
      (e[51] = me))
    : (me = e[51]);
  let Fe;
  return (
    e[52] !== Te || e[53] !== ke || e[54] !== Le || e[55] !== De || e[56] !== me
      ? ((Fe = s.jsx(y, {
          className: "p-6 bg-gray-50 min-h-screen",
          children: s.jsxs(y, {
            className: "max-w-7xl mx-auto",
            children: [xe, Te, ke, Le, De, me],
          }),
        })),
        (e[52] = Te),
        (e[53] = ke),
        (e[54] = Le),
        (e[55] = De),
        (e[56] = me),
        (e[57] = Fe))
      : (Fe = e[57]),
    Fe
  );
};
function pp(e) {
  return { ...e, id: e.id };
}
function xp(e) {
  const t = new Date();
  return !e.isActive || (e.expiresAt && new Date(e.expiresAt) < t)
    ? "red"
    : e.startsAt && new Date(e.startsAt) > t
    ? "orange"
    : "green";
}
function jp(e) {
  const t = new Date();
  return e.isActive
    ? e.expiresAt && new Date(e.expiresAt) < t
      ? "Hết hạn"
      : e.startsAt && new Date(e.startsAt) > t
      ? "Sắp diễn ra"
      : "Đang hoạt động"
    : "Tạm dừng";
}
function yp(e) {
  return e.discountType === "PERCENT"
    ? `${e.amount}%`
    : `${e.amount.toLocaleString()} VND`;
}
function bp(e) {
  return new Date(e).toLocaleDateString("vi-VN", {
    year: "numeric",
    month: "2-digit",
    day: "2-digit",
    hour: "2-digit",
    minute: "2-digit",
  });
}
function vp(e) {
  return s.jsxs(le, {
    align: "start",
    gap: 1,
    children: [
      s.jsx(i, {
        fontWeight: "bold",
        fontFamily: "Quicksand, sans-serif",
        color: "blue.600",
        children: e.code,
      }),
      s.jsx(i, {
        fontSize: "sm",
        color: "gray.500",
        fontFamily: "Quicksand, sans-serif",
        children: e.description,
      }),
    ],
  });
}
function Sp(e) {
  return s.jsx(i, {
    fontSize: "sm",
    fontFamily: "Quicksand, sans-serif",
    children: e.usageLimit
      ? `${e.usedCount || 0}/${e.usageLimit}`
      : "Không giới hạn",
  });
}
function _p(e) {
  return e.isActive;
}
function Cp(e) {
  return e.expiresAt ? new Date(e.expiresAt) < new Date() : !1;
}
function Tp(e) {
  return e.startsAt ? new Date(e.startsAt) > new Date() : !1;
}
const wp = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: fp },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  gl = { configs: ["admin", "referral-config"] },
  fl = {
    getReferralConfigs: async () =>
      (await ie.get("/admin/referral-config")).data.data,
    updateReferralConfig: async (e, t) =>
      (await ie.patch(`/admin/referral-config/key/${e}`, t)).data.data,
    getUserReferralStats: async (e) =>
      (await ie.get(`/user/referral-stats/${e}`)).data.data,
    updateReferralConfigs: async (e) =>
      (await ie.patch("/admin/referral-config/bulk", { configs: e })).data.data,
  },
  Ap = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: gl.configs,
            queryFn: fl.getReferralConfigs,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  Ep = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Np,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: gl.configs });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Pp = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: fl.updateReferralConfigs,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: gl.configs });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  Js = (e, t) => {
    switch (e) {
      case "commission_rate_bps":
        return `${(t / 100).toFixed(2)}%`;
      case "min_commission_amount":
      case "max_commission_per_order":
      case "referral_bonus_amount":
      case "min_order_amount_for_commission":
        return `${t.toLocaleString("vi-VN")} VND`;
      case "commission_unlock_days":
        return `${t} ngày`;
      default:
        return t.toString();
    }
  },
  kp = (e, t) => {
    switch (e) {
      case "commission_rate_bps":
        return Math.round(parseFloat(t) * 100);
      case "min_commission_amount":
      case "max_commission_per_order":
      case "referral_bonus_amount":
      case "min_order_amount_for_commission":
        return Math.round(parseFloat(t));
      case "commission_unlock_days":
        return parseInt(t);
      default:
        return parseFloat(t);
    }
  },
  sa = (e, t) => {
    switch (e) {
      case "commission_rate_bps":
        if (t < 0 || t > 1e4)
          return { isValid: !1, message: "Tỷ lệ hoa hồng phải từ 0% đến 100%" };
        break;
      case "min_commission_amount":
      case "max_commission_per_order":
      case "referral_bonus_amount":
      case "min_order_amount_for_commission":
        if (t < 0) return { isValid: !1, message: "Số tiền không được âm" };
        break;
      case "commission_unlock_days":
        if (t < 0 || t > 365)
          return { isValid: !1, message: "Số ngày phải từ 0 đến 365" };
        break;
    }
    return { isValid: !0 };
  };
function Np(e) {
  const { key: t, data: n } = e;
  return fl.updateReferralConfig(t, n);
}
const Dp = () => {
    const { data: e, isLoading: t, error: n, refetch: a } = Ap(),
      l = Ep(),
      c = Pp(),
      { open: m, onOpen: r, onClose: o } = ws(),
      [u, _] = j.useState(Al),
      [d, f] = j.useState(Al),
      [b, P] = j.useState(null),
      [w, v] = j.useState("");
    j.useEffect(() => {
      e != null && e.values && (_(e.values), f(e.values));
    }, [e]);
    const x = async (g, p) => {
        var E, z;
        try {
          const N = kp(g, p),
            R = sa(g, N);
          if (!R.isValid) {
            ye.error({
              title: "Lỗi validation",
              description: R.message || "Giá trị không hợp lệ",
            });
            return;
          }
          await l.mutateAsync({ key: g, data: { value: N.toString() } }),
            ye.success({
              title: "Thành công",
              description: "Cập nhật cấu hình thành công",
            }),
            P(null),
            v("");
        } catch (N) {
          ye.error({
            title: "Lỗi",
            description:
              ((z = (E = N.response) == null ? void 0 : E.data) == null
                ? void 0
                : z.message) || "Có lỗi xảy ra khi cập nhật cấu hình",
          });
        }
      },
      T = async () => {
        var g, p;
        try {
          for (const [E, z] of Object.entries(d)) {
            const N = sa(E, z);
            if (!N.isValid) {
              ye.error({
                title: "Lỗi validation",
                description: `${E}: ${N.message}`,
              });
              return;
            }
          }
          await c.mutateAsync(d),
            ye.success({
              title: "Thành công",
              description: "Cập nhật tất cả cấu hình thành công",
            }),
            o();
        } catch (E) {
          ye.error({
            title: "Lỗi",
            description:
              ((p = (g = E.response) == null ? void 0 : g.data) == null
                ? void 0
                : p.message) || "Có lỗi xảy ra khi cập nhật cấu hình",
          });
        }
      },
      S = (g, p) => {
        switch ((P(g), g)) {
          case "commission_rate_bps":
            v((p / 100).toString());
            break;
          case "min_commission_amount":
          case "max_commission_per_order":
          case "referral_bonus_amount":
          case "min_order_amount_for_commission":
            v(p.toString());
            break;
          default:
            v(p.toString());
        }
      },
      h = () => {
        P(null), v("");
      },
      C = (g) => {
        switch (g) {
          case "commission_rate_bps":
            return "number";
          case "min_commission_amount":
          case "max_commission_per_order":
          case "referral_bonus_amount":
          case "min_order_amount_for_commission":
            return "number";
          case "commission_unlock_days":
            return "number";
          default:
            return "text";
        }
      },
      A = (g) => {
        switch (g) {
          case "commission_rate_bps":
            return "5.00 (5%)";
          case "min_commission_amount":
          case "max_commission_per_order":
          case "referral_bonus_amount":
          case "min_order_amount_for_commission":
            return "100.00 (100 VND)";
          case "commission_unlock_days":
            return "7 (7 ngày)";
          default:
            return "";
        }
      },
      k = (g) => {
        switch (g) {
          case "commission_rate_bps":
            return "0.01";
          case "min_commission_amount":
          case "max_commission_per_order":
          case "referral_bonus_amount":
          case "min_order_amount_for_commission":
            return "0.01";
          case "commission_unlock_days":
            return "1";
          default:
            return "1";
        }
      };
    return t
      ? s.jsx(y, {
          className: "flex justify-center items-center h-64",
          children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
        })
      : n
      ? s.jsxs(y, {
          className: "text-center p-6",
          children: [
            s.jsx(i, {
              className: "text-red-500 text-lg",
              children: "Lỗi tải cấu hình referral",
            }),
            s.jsx(i, {
              className: "text-gray-600 mt-2",
              children: "Vui lòng thử lại sau.",
            }),
            s.jsxs(Y, {
              onClick: () => a(),
              className: "mt-4",
              children: [s.jsx(Ni, { className: "mr-2" }), "Thử lại"],
            }),
          ],
        })
      : s.jsxs(y, {
          className: "p-6",
          children: [
            s.jsxs(le, {
              gap: 6,
              align: "stretch",
              children: [
                s.jsx(y, {
                  children: s.jsxs(W, {
                    justify: "space-between",
                    align: "center",
                    children: [
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            className:
                              "text-2xl font-bold text-gray-800 font-[Quicksand,sans-serif] mb-2",
                            children: "Quản lý cấu hình Referral",
                          }),
                          s.jsx(i, {
                            className: "text-gray-600",
                            children:
                              "Cấu hình tỷ lệ hoa hồng và các thông số của chương trình referral",
                          }),
                        ],
                      }),
                      s.jsxs(W, {
                        gap: 3,
                        children: [
                          s.jsxs(Y, {
                            variant: "outline",
                            onClick: () => a(),
                            className:
                              "font-[Quicksand,sans-serif] font-medium",
                            children: [
                              s.jsx(Ni, { className: "mr-2" }),
                              "Làm mới",
                            ],
                          }),
                          s.jsxs(Y, {
                            colorScheme: "blue",
                            onClick: r,
                            className:
                              "font-[Quicksand,sans-serif] font-medium",
                            children: [
                              s.jsx(ll, { className: "mr-2" }),
                              "Cập nhật hàng loạt",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                }),
                s.jsxs(y, {
                  className: "bg-white rounded-lg shadow-md p-6",
                  children: [
                    s.jsx(y, {
                      className: "mb-4",
                      children: s.jsx(i, {
                        className:
                          "text-lg font-semibold text-gray-800 font-[Quicksand,sans-serif]",
                        children: "Cấu hình hiện tại",
                      }),
                    }),
                    s.jsx(le, {
                      gap: 4,
                      align: "stretch",
                      children:
                        (e == null ? void 0 : e.values) &&
                        Object.entries(e.values).map(([g, p]) =>
                          s.jsx(
                            y,
                            {
                              className:
                                "border border-gray-200 rounded-lg p-4",
                              children: s.jsxs(le, {
                                align: "stretch",
                                gap: 3,
                                children: [
                                  s.jsxs(W, {
                                    justify: "space-between",
                                    align: "center",
                                    children: [
                                      s.jsxs(y, {
                                        children: [
                                          s.jsx(i, {
                                            className:
                                              "font-semibold text-gray-800",
                                            children: Hr[g],
                                          }),
                                          s.jsxs(i, {
                                            className: "text-sm text-gray-600",
                                            children: ["Key: ", g],
                                          }),
                                        ],
                                      }),
                                      s.jsx(Be, {
                                        colorScheme: "blue",
                                        variant: "subtle",
                                        children: Js(g, p),
                                      }),
                                    ],
                                  }),
                                  b === g
                                    ? s.jsxs(W, {
                                        gap: 3,
                                        children: [
                                          s.jsx(Ee, {
                                            type: C(g),
                                            value: w,
                                            onChange: (E) => v(E.target.value),
                                            placeholder: A(g),
                                            step: k(g),
                                            className: "flex-1",
                                          }),
                                          s.jsxs(Y, {
                                            size: "sm",
                                            colorScheme: "green",
                                            onClick: () => x(g, w),
                                            loading: l.isPending,
                                            children: [
                                              s.jsx(_l, { className: "mr-1" }),
                                              "Lưu",
                                            ],
                                          }),
                                          s.jsx(Y, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: h,
                                            children: "Hủy",
                                          }),
                                        ],
                                      })
                                    : s.jsxs(Y, {
                                        size: "sm",
                                        variant: "outline",
                                        colorScheme: "blue",
                                        onClick: () => S(g, p),
                                        children: [
                                          s.jsx(ll, { className: "mr-1" }),
                                          "Chỉnh sửa",
                                        ],
                                      }),
                                ],
                              }),
                            },
                            g
                          )
                        ),
                    }),
                  ],
                }),
                (e == null ? void 0 : e.values) &&
                  s.jsxs(y, {
                    className: "bg-blue-50 rounded-lg p-6",
                    children: [
                      s.jsx(i, {
                        className: "text-lg font-semibold text-blue-800 mb-4",
                        children: "Tóm tắt cấu hình",
                      }),
                      s.jsxs(le, {
                        align: "start",
                        gap: 2,
                        children: [
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Tỷ lệ hoa hồng: ",
                              Js(
                                "commission_rate_bps",
                                e.values.commission_rate_bps
                              ),
                            ],
                          }),
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Hoa hồng tối thiểu: ",
                              Js(
                                "min_commission_amount",
                                e.values.min_commission_amount
                              ),
                            ],
                          }),
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Thời gian mở khóa: ",
                              Js(
                                "commission_unlock_days",
                                e.values.commission_unlock_days
                              ),
                            ],
                          }),
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Hoa hồng tối đa/đơn: ",
                              Js(
                                "max_commission_per_order",
                                e.values.max_commission_per_order
                              ),
                            ],
                          }),
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Thưởng referral: ",
                              Js(
                                "referral_bonus_amount",
                                e.values.referral_bonus_amount
                              ),
                            ],
                          }),
                          s.jsxs(i, {
                            className: "text-blue-700",
                            children: [
                              "• Đơn hàng tối thiểu: ",
                              Js(
                                "min_order_amount_for_commission",
                                e.values.min_order_amount_for_commission
                              ),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
              ],
            }),
            s.jsxs(Ot, {
              isOpen: m,
              onClose: o,
              maxWidth: "600px",
              children: [
                s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [
                    s.jsxs(y, {
                      children: [
                        s.jsx(i, {
                          className: "text-lg font-semibold text-gray-800 mb-4",
                          children: "Cập nhật hàng loạt",
                        }),
                        s.jsx(i, {
                          className: "text-sm text-gray-600 mb-4",
                          children:
                            "Cập nhật tất cả các cấu hình referral cùng một lúc",
                        }),
                      ],
                    }),
                    s.jsxs(le, {
                      gap: 4,
                      align: "stretch",
                      children: [
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Tỷ lệ hoa hồng (%)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              step: "0.01",
                              value: d.commission_rate_bps / 100,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  commission_rate_bps: Math.round(
                                    parseFloat(g.target.value) * 100
                                  ),
                                })),
                              placeholder: "5.00",
                            }),
                          ],
                        }),
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Hoa hồng tối thiểu (VND)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              step: "0.01",
                              value: d.min_commission_amount,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  min_commission_amount: Math.round(
                                    parseFloat(g.target.value)
                                  ),
                                })),
                              placeholder: "100.00",
                            }),
                          ],
                        }),
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Thời gian mở khóa (ngày)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              value: d.commission_unlock_days,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  commission_unlock_days: parseInt(
                                    g.target.value
                                  ),
                                })),
                              placeholder: "7",
                            }),
                          ],
                        }),
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Hoa hồng tối đa mỗi đơn (VND)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              step: "0.01",
                              value: d.max_commission_per_order,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  max_commission_per_order: Math.round(
                                    parseFloat(g.target.value)
                                  ),
                                })),
                              placeholder: "1000.00",
                            }),
                          ],
                        }),
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Thưởng referral (VND)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              step: "0.01",
                              value: d.referral_bonus_amount,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  referral_bonus_amount: Math.round(
                                    parseFloat(g.target.value)
                                  ),
                                })),
                              placeholder: "500.00",
                            }),
                          ],
                        }),
                        s.jsxs(y, {
                          children: [
                            s.jsx("label", {
                              className:
                                "block text-sm font-medium text-gray-700 mb-2",
                              children: "Đơn hàng tối thiểu (VND)",
                            }),
                            s.jsx(Ee, {
                              type: "number",
                              step: "0.01",
                              value: d.min_order_amount_for_commission,
                              onChange: (g) =>
                                f((p) => ({
                                  ...p,
                                  min_order_amount_for_commission: Math.round(
                                    parseFloat(g.target.value)
                                  ),
                                })),
                              placeholder: "1000.00",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsxs(W, {
                  justify: "end",
                  gap: 3,
                  mt: 6,
                  children: [
                    s.jsx(Y, {
                      variant: "outline",
                      onClick: o,
                      children: "Hủy",
                    }),
                    s.jsxs(Y, {
                      colorScheme: "blue",
                      onClick: T,
                      loading: c.isPending,
                      children: [
                        s.jsx(_l, { className: "mr-2" }),
                        "Cập nhật tất cả",
                      ],
                    }),
                  ],
                }),
              ],
            }),
          ],
        });
  },
  Lp = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Dp },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  bs = {
    overview: ["referral", "overview"],
    commissions: ["referral", "commissions"],
    referees: ["referral", "referees"],
    bankAccount: ["referral", "bankAccount"],
    withdrawals: ["referral", "withdrawals"],
    adminWithdrawals: ["admin", "referral", "withdrawals"],
    adminStatistics: ["admin", "referral", "statistics"],
  },
  zs = {
    getOverview: async () => {
      const e = await ie.get("/me/referral/overview");
      return e.data.data || e.data;
    },
    getCommissions: async (e = {}) => {
      const t = await ie.get("/me/referral/commissions", { params: e });
      return t.data.data || t.data;
    },
    getReferees: async () => {
      const e = await ie.get("/me/referral/referees");
      return e.data.data || e.data;
    },
    getBankAccount: async () => {
      const e = await ie.get("/me/referral/bank-account");
      return e.data.data || e.data;
    },
    updateBankAccount: async (e) => {
      const t = await ie.post("/me/referral/bank-account", e);
      return t.data.data || t.data;
    },
    requestWithdrawal: async (e) => {
      const t = await ie.post("/me/referral/withdrawals", { amountCents: e });
      return t.data.data || t.data;
    },
    getWithdrawals: async () => {
      const e = await ie.get("/me/referral/withdrawals");
      return e.data.data || e.data;
    },
    getAdminCommissions: async (e = {}) => {
      const t = await ie.get("/admin/referrals/commissions", { params: e });
      return t.data.data || t.data;
    },
    getAdminWithdrawals: async (e = {}) => {
      const t = await ie.get("/admin/referrals/withdrawals", { params: e });
      return t.data.data || t.data;
    },
    updateWithdrawal: async (e, t) => {
      const n = await ie.patch(`/admin/referrals/withdrawals/${e}`, t);
      return n.data.data || n.data;
    },
    getAdminStatistics: async () => {
      const e = await ie.get("/admin/referrals/statistics");
      return e.data.data || e.data;
    },
  },
  cj = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: bs.overview,
            queryFn: zs.getOverview,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  dj = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...bs.commissions, a],
            queryFn: () => zs.getCommissions(a),
            staleTime: 12e4,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  hj = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: bs.referees,
            queryFn: zs.getReferees,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  mj = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: bs.bankAccount,
            queryFn: zs.getBankAccount,
            staleTime: 6e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  uj = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: bs.withdrawals,
            queryFn: zs.getWithdrawals,
            staleTime: 12e4,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  gj = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: zs.updateBankAccount,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: bs.bankAccount }),
                t.invalidateQueries({ queryKey: bs.overview });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  fj = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: zs.requestWithdrawal,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: bs.withdrawals }),
                t.invalidateQueries({ queryKey: bs.overview });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  zp = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...bs.adminWithdrawals, a],
            queryFn: () => zs.getAdminWithdrawals(a),
            staleTime: 12e4,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  Fp = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: bs.adminStatistics,
            queryFn: zs.getAdminStatistics,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  Rp = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Op,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: bs.adminWithdrawals });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function Op(e) {
  const { id: t, data: n } = e;
  return zs.updateWithdrawal(t, n);
}
const Ip = () => {
    const [e, t] = j.useState(),
      [n, a] = j.useState({
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      { data: l, isLoading: c } = Fp(),
      {
        data: m,
        isLoading: r,
        refetch: o,
      } = zp({ status: n.search || void 0 }),
      u = Rp();
    ps.useEffect(() => {
      if (m) {
        const h = {
          data: m.data.map((C) => ({ ...C, id: C.id })),
          total: m.total || m.data.length,
          page: 1,
          limit: m.data.length,
          totalPages: 1,
        };
        t(h);
      }
    }, [m]);
    const _ = async (h, C, A) => {
        try {
          await u.mutateAsync({ id: h, data: { action: C, ...A } }),
            ye.create({
              title: "Thành công",
              description: `Đã ${
                C === "approve"
                  ? "duyệt"
                  : C === "reject"
                  ? "từ chối"
                  : "đánh dấu đã thanh toán"
              } yêu cầu rút tiền`,
              type: "success",
            }),
            o();
        } catch {
          ye.create({
            title: "Lỗi",
            description: "Không thể cập nhật yêu cầu rút tiền",
            type: "error",
          });
        }
      },
      d = (h) => {
        _(h, "approve");
      },
      f = (h) => {
        const C = prompt("Lý do từ chối:");
        C && _(h, "reject", { reason: C });
      },
      b = (h) => {
        const C = prompt("Mã tham chiếu thanh toán:");
        C && _(h, "paid", { payoutRef: C });
      },
      P = (h) => {
        a(h);
      },
      w = () => {
        a({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      },
      v = (h) => {
        switch (h) {
          case "pending":
            return s.jsx(An, { className: "text-yellow-500" });
          case "approved":
            return s.jsx(Ts, { className: "text-green-500" });
          case "paid":
            return s.jsx(Bi, { className: "text-blue-500" });
          case "rejected":
            return s.jsx(An, { className: "text-red-500" });
          default:
            return s.jsx(An, { className: "text-gray-500" });
        }
      },
      x = [
        {
          key: "id",
          label: "ID",
          sortable: !0,
          render: (h) =>
            s.jsxs(i, {
              fontFamily: "mono",
              fontWeight: "medium",
              children: ["#", h.id],
            }),
        },
        {
          key: "amountCents",
          label: "Số tiền",
          sortable: !0,
          render: (h) =>
            s.jsx(i, {
              fontWeight: "bold",
              color: "green.600",
              fontFamily: "Quicksand, sans-serif",
              children: Pi(h.amountCents),
            }),
        },
        {
          key: "status",
          label: "Trạng thái",
          sortable: !0,
          render: (h) =>
            s.jsxs(W, {
              gap: 2,
              children: [
                v(h.status),
                s.jsx(Be, {
                  colorScheme: Eh(h.status),
                  children: Ph(h.status),
                }),
              ],
            }),
        },
        {
          key: "bankSnapshot",
          label: "Thông tin ngân hàng",
          sortable: !1,
          render: (h) =>
            s.jsxs(le, {
              align: "start",
              gap: 0,
              children: [
                s.jsx(i, {
                  fontSize: "sm",
                  fontWeight: "medium",
                  fontFamily: "Quicksand, sans-serif",
                  children: h.bankSnapshot.bankName,
                }),
                s.jsx(i, {
                  fontSize: "xs",
                  color: "gray.600",
                  fontFamily: "Quicksand, sans-serif",
                  children: h.bankSnapshot.accountNumber,
                }),
                s.jsx(i, {
                  fontSize: "xs",
                  color: "gray.600",
                  fontFamily: "Quicksand, sans-serif",
                  children: h.bankSnapshot.accountName,
                }),
              ],
            }),
        },
        {
          key: "createdAt",
          label: "Ngày yêu cầu",
          sortable: !0,
          render: (h) =>
            s.jsx(i, {
              fontSize: "sm",
              color: "gray.600",
              fontFamily: "Quicksand, sans-serif",
              children: Ah(h.createdAt),
            }),
        },
      ],
      T = [
        {
          key: "approve",
          label: "Duyệt",
          icon: s.jsx(Ts, {}),
          variant: "ghost",
          colorScheme: "green",
          onClick: (h) => d(h.id),
          show: (h) => h.status === "pending",
        },
        {
          key: "reject",
          label: "Từ chối",
          icon: s.jsx(An, {}),
          variant: "ghost",
          colorScheme: "red",
          onClick: (h) => f(h.id),
          show: (h) => h.status === "pending",
        },
        {
          key: "markPaid",
          label: "Đánh dấu đã thanh toán",
          icon: s.jsx(Bi, {}),
          variant: "ghost",
          colorScheme: "blue",
          onClick: (h) => b(h.id),
          show: (h) => h.status === "approved",
        },
      ],
      S = [
        ls("Tìm kiếm theo ID hoặc email..."),
        Rt("status", "Trạng thái", [
          { value: "", label: "Tất cả" },
          { value: "pending", label: "Đang chờ" },
          { value: "approved", label: "Đã duyệt" },
          { value: "paid", label: "Đã thanh toán" },
          { value: "rejected", label: "Từ chối" },
        ]),
      ];
    return s.jsx(y, {
      className: "p-6 bg-gray-50 min-h-screen",
      children: s.jsxs(y, {
        className: "max-w-7xl mx-auto",
        children: [
          s.jsx(y, {
            className: "mb-6",
            children: s.jsxs(W, {
              justify: "space-between",
              align: "start",
              children: [
                s.jsxs(y, {
                  children: [
                    s.jsx(i, {
                      className:
                        "text-3xl font-bold font-[Quicksand,sans-serif] text-gray-800 mb-2",
                      children: "Quản lý chương trình giới thiệu",
                    }),
                    s.jsx(i, {
                      className: "text-gray-600 font-[Quicksand,sans-serif]",
                      children:
                        "Quản lý và theo dõi chương trình giới thiệu của hệ thống",
                    }),
                  ],
                }),
                s.jsx(wa, {
                  to: "/admin/referral-config",
                  children: s.jsxs(Y, {
                    colorScheme: "purple",
                    variant: "outline",
                    className: "font-[Quicksand,sans-serif] font-medium",
                    children: [s.jsx(Nr, { className: "mr-2" }), "Cấu hình"],
                  }),
                }),
              ],
            }),
          }),
          c
            ? s.jsx(y, {
                className: "flex justify-center p-8",
                children: s.jsx(Wt, { size: "lg", color: "blue.500" }),
              })
            : s.jsxs(tt, {
                bg: "white",
                borderRadius: "xl",
                shadow: "lg",
                border: "1px solid",
                borderColor: "gray.200",
                mb: 6,
                overflow: "hidden",
                children: [
                  s.jsx(Yt, {
                    bg: "blue.50",
                    borderBottom: "1px solid",
                    borderColor: "blue.200",
                    py: 4,
                    px: 6,
                    children: s.jsx(i, {
                      fontSize: { base: "sm", md: "md" },
                      fontWeight: "bold",
                      color: "blue.600",
                      children: "📊 Thống kê chương trình giới thiệu",
                    }),
                  }),
                  s.jsx(st, {
                    p: 6,
                    children: s.jsxs(Kt, {
                      templateColumns: {
                        base: "repeat(1, 1fr)",
                        sm: "repeat(2, 1fr)",
                        lg: "repeat(4, 1fr)",
                      },
                      gap: { base: 4, md: 6 },
                      children: [
                        s.jsx(tt, {
                          bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                          color: "white",
                          borderRadius: "xl",
                          shadow: "lg",
                          overflow: "hidden",
                          _hover: {
                            shadow: "xl",
                            transform: "translateY(-2px)",
                          },
                          transition: "all 0.3s ease",
                          children: s.jsx(st, {
                            p: { base: 4, md: 6 },
                            children: s.jsxs(rt, {
                              justify: "space-between",
                              align: "start",
                              children: [
                                s.jsxs(le, {
                                  align: "start",
                                  gap: 1,
                                  children: [
                                    s.jsx(i, {
                                      fontSize: { base: "xs", md: "sm" },
                                      opacity: 0.9,
                                      fontWeight: "medium",
                                      textTransform: "uppercase",
                                      letterSpacing: "wide",
                                      children: "TỔNG NGƯỜI GIỚI THIỆU",
                                    }),
                                    s.jsx(i, {
                                      fontSize: { base: "xl", md: "2xl" },
                                      fontWeight: "bold",
                                      lineHeight: "shorter",
                                      children:
                                        (l == null
                                          ? void 0
                                          : l.totalReferrers) || 0,
                                    }),
                                  ],
                                }),
                                s.jsx(vt, {
                                  as: Dr,
                                  boxSize: { base: 6, md: 8 },
                                  opacity: 0.8,
                                }),
                              ],
                            }),
                          }),
                        }),
                        s.jsx(tt, {
                          bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                          color: "white",
                          borderRadius: "xl",
                          shadow: "lg",
                          overflow: "hidden",
                          _hover: {
                            shadow: "xl",
                            transform: "translateY(-2px)",
                          },
                          transition: "all 0.3s ease",
                          children: s.jsx(st, {
                            p: { base: 4, md: 6 },
                            children: s.jsxs(rt, {
                              justify: "space-between",
                              align: "start",
                              children: [
                                s.jsxs(le, {
                                  align: "start",
                                  gap: 1,
                                  children: [
                                    s.jsx(i, {
                                      fontSize: { base: "xs", md: "sm" },
                                      opacity: 0.9,
                                      fontWeight: "medium",
                                      textTransform: "uppercase",
                                      letterSpacing: "wide",
                                      children: "TỔNG HOA HỒNG",
                                    }),
                                    s.jsx(i, {
                                      fontSize: { base: "xl", md: "2xl" },
                                      fontWeight: "bold",
                                      lineHeight: "shorter",
                                      children: Pi(
                                        (l == null
                                          ? void 0
                                          : l.totalCommissions) || 0
                                      ),
                                    }),
                                  ],
                                }),
                                s.jsx(vt, {
                                  as: Aa,
                                  boxSize: { base: 6, md: 8 },
                                  opacity: 0.8,
                                }),
                              ],
                            }),
                          }),
                        }),
                        s.jsx(tt, {
                          bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                          color: "white",
                          borderRadius: "xl",
                          shadow: "lg",
                          overflow: "hidden",
                          _hover: {
                            shadow: "xl",
                            transform: "translateY(-2px)",
                          },
                          transition: "all 0.3s ease",
                          children: s.jsx(st, {
                            p: { base: 4, md: 6 },
                            children: s.jsxs(rt, {
                              justify: "space-between",
                              align: "start",
                              children: [
                                s.jsxs(le, {
                                  align: "start",
                                  gap: 1,
                                  children: [
                                    s.jsx(i, {
                                      fontSize: { base: "xs", md: "sm" },
                                      opacity: 0.9,
                                      fontWeight: "medium",
                                      textTransform: "uppercase",
                                      letterSpacing: "wide",
                                      children: "YÊU CẦU RÚT TIỀN",
                                    }),
                                    s.jsx(i, {
                                      fontSize: { base: "xl", md: "2xl" },
                                      fontWeight: "bold",
                                      lineHeight: "shorter",
                                      children:
                                        (l == null
                                          ? void 0
                                          : l.pendingWithdrawals) || 0,
                                    }),
                                  ],
                                }),
                                s.jsx(vt, {
                                  as: Bi,
                                  boxSize: { base: 6, md: 8 },
                                  opacity: 0.8,
                                }),
                              ],
                            }),
                          }),
                        }),
                        s.jsx(tt, {
                          bg: "linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",
                          color: "white",
                          borderRadius: "xl",
                          shadow: "lg",
                          overflow: "hidden",
                          _hover: {
                            shadow: "xl",
                            transform: "translateY(-2px)",
                          },
                          transition: "all 0.3s ease",
                          children: s.jsx(st, {
                            p: { base: 4, md: 6 },
                            children: s.jsxs(rt, {
                              justify: "space-between",
                              align: "start",
                              children: [
                                s.jsxs(le, {
                                  align: "start",
                                  gap: 1,
                                  children: [
                                    s.jsx(i, {
                                      fontSize: { base: "xs", md: "sm" },
                                      opacity: 0.9,
                                      fontWeight: "medium",
                                      textTransform: "uppercase",
                                      letterSpacing: "wide",
                                      children: "ĐÃ THANH TOÁN",
                                    }),
                                    s.jsx(i, {
                                      fontSize: { base: "xl", md: "2xl" },
                                      fontWeight: "bold",
                                      lineHeight: "shorter",
                                      children: Pi(
                                        (l == null ? void 0 : l.totalPaid) || 0
                                      ),
                                    }),
                                  ],
                                }),
                                s.jsx(vt, {
                                  as: Ts,
                                  boxSize: { base: 6, md: 8 },
                                  opacity: 0.8,
                                }),
                              ],
                            }),
                          }),
                        }),
                      ],
                    }),
                  }),
                ],
              }),
          s.jsx(as, {
            data: e,
            isLoading: r,
            columns: x,
            actions: T,
            filterFields: S,
            currentFilters: n,
            onFiltersChange: P,
            onResetFilters: w,
            title: "Danh sách yêu cầu rút tiền",
            subtitle: "Quản lý và xử lý các yêu cầu rút tiền hoa hồng",
            emptyMessage: "Không có yêu cầu rút tiền nào",
            loadingMessage: "Đang tải danh sách yêu cầu rút tiền...",
            showMobileCards: !0,
            enableSorting: !0,
            enablePagination: !0,
            enablePageSizeSelector: !0,
            pageSizeOptions: [10, 25, 50, 100],
            defaultPageSize: 10,
            showFilter: !0,
            showResetButton: !0,
            resetButtonText: "Đặt lại bộ lọc",
            headerActions: s.jsxs(W, {
              gap: 2,
              children: [
                s.jsx(Y, {
                  onClick: () => o(),
                  colorScheme: "blue",
                  variant: "outline",
                  size: "sm",
                  className: "font-[Quicksand,sans-serif]",
                  children: "Làm mới",
                }),
                s.jsxs(Y, {
                  onClick: () => {
                    ye.create({
                      title: "Thông báo",
                      description:
                        "Tính năng xuất dữ liệu sẽ được triển khai sớm",
                      type: "info",
                    });
                  },
                  colorScheme: "green",
                  variant: "outline",
                  size: "sm",
                  className: "font-[Quicksand,sans-serif]",
                  children: [s.jsx(Lr, { className: "mr-2" }), "Xuất dữ liệu"],
                }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  Vp = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Ip },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  $p = (e) => {
    const t = G.c(87),
      { isOpen: n, onClose: a, onSave: l, availableFeatures: c } = e;
    let m;
    t[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = new Set()), (t[0] = m))
      : (m = t[0]);
    const [r, o] = j.useState(m),
      [u, _] = j.useState(""),
      [d, f] = j.useState("");
    let b, P;
    t[1] !== n
      ? ((b = () => {
          n && (o(new Set()), _(""), f(""));
        }),
        (P = [n]),
        (t[1] = n),
        (t[2] = b),
        (t[3] = P))
      : ((b = t[2]), (P = t[3])),
      j.useEffect(b, P);
    let w;
    t[4] === Symbol.for("react.memo_cache_sentinel")
      ? ((w = (J, se) => {
          o((ee) => {
            const te = new Set(ee);
            return se ? te.add(J) : te.delete(J), te;
          });
        }),
        (t[4] = w))
      : (w = t[4]);
    const v = w;
    let x;
    t[5] !== c
      ? ((x = () => {
          const J = new Set(c.map(Mp));
          o(J);
        }),
        (t[5] = c),
        (t[6] = x))
      : (x = t[6]);
    const T = x;
    let S;
    t[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((S = () => {
          o(new Set());
        }),
        (t[7] = S))
      : (S = t[7]);
    const h = S;
    let C;
    t[8] !== u || t[9] !== l || t[10] !== r
      ? ((C = () => {
          if (r.size === 0) {
            f("Vui lòng chọn ít nhất một tính năng");
            return;
          }
          f("");
          const J = {
            featureKeys: Array.from(r),
            expiresAt: u ? new Date(u).toISOString() : void 0,
          };
          l(J);
        }),
        (t[8] = u),
        (t[9] = l),
        (t[10] = r),
        (t[11] = C))
      : (C = t[11]);
    const A = C;
    let k;
    t[12] !== a
      ? ((k = () => {
          a(), f("");
        }),
        (t[12] = a),
        (t[13] = k))
      : (k = t[13]);
    const g = k;
    let p, E, z, N, R, F, V, $, Q, M, L;
    if (
      t[14] !== c ||
      t[15] !== d ||
      t[16] !== u ||
      t[17] !== g ||
      t[18] !== T ||
      t[19] !== n ||
      t[20] !== r
    ) {
      let J;
      t[32] !== r
        ? ((J = (ne) => r.has(ne.key)), (t[32] = r), (t[33] = J))
        : (J = t[33]);
      const se = c.filter(J);
      (E = Ot),
        ($ = "Thêm tính năng từ gói"),
        (Q = n),
        (M = g),
        (p = le),
        (L = 4),
        (z = "stretch"),
        t[34] !== d
          ? ((N =
              d &&
              s.jsx(y, {
                p: 3,
                bg: "red.50",
                border: "1px",
                borderColor: "red.200",
                rounded: "md",
                children: s.jsx(i, {
                  color: "red.600",
                  fontSize: "sm",
                  children: d,
                }),
              })),
            (t[34] = d),
            (t[35] = N))
          : (N = t[35]);
      let ee;
      t[36] === Symbol.for("react.memo_cache_sentinel")
        ? ((ee = (ne) => _(ne.target.value)), (t[36] = ee))
        : (ee = t[36]);
      let te;
      t[37] !== u
        ? ((te = s.jsx(Ee, {
            type: "datetime-local",
            value: u,
            onChange: ee,
            placeholder: "Để trống nếu không hết hạn",
          })),
          (t[37] = u),
          (t[38] = te))
        : (te = t[38]);
      let X;
      t[39] === Symbol.for("react.memo_cache_sentinel")
        ? ((X = s.jsx(i, {
            fontSize: "xs",
            color: "gray.500",
            mt: 1,
            children: "Để trống nếu các tính năng không hết hạn",
          })),
          (t[39] = X))
        : (X = t[39]),
        t[40] !== te
          ? ((R = s.jsxs(Ne, {
              label: "Thời gian hết hạn",
              children: [te, X],
            })),
            (t[40] = te),
            (t[41] = R))
          : (R = t[41]);
      let I;
      t[42] !== c.length || t[43] !== r.size
        ? ((I = s.jsxs(i, {
            fontSize: "sm",
            color: "gray.600",
            children: ["Đã chọn: ", r.size, "/", c.length, " tính năng"],
          })),
          (t[42] = c.length),
          (t[43] = r.size),
          (t[44] = I))
        : (I = t[44]);
      let O;
      t[45] !== T
        ? ((O = s.jsx(Y, {
            size: "xs",
            variant: "outline",
            onClick: T,
            children: "Chọn tất cả",
          })),
          (t[45] = T),
          (t[46] = O))
        : (O = t[46]);
      let U;
      t[47] === Symbol.for("react.memo_cache_sentinel")
        ? ((U = s.jsx(Y, {
            size: "xs",
            variant: "outline",
            onClick: h,
            children: "Bỏ chọn tất cả",
          })),
          (t[47] = U))
        : (U = t[47]);
      let re;
      t[48] !== O
        ? ((re = s.jsxs(W, { gap: 2, children: [O, U] })),
          (t[48] = O),
          (t[49] = re))
        : (re = t[49]);
      let de;
      t[50] !== I || t[51] !== re
        ? ((de = s.jsxs(W, {
            gap: 2,
            justify: "space-between",
            children: [I, re],
          })),
          (t[50] = I),
          (t[51] = re),
          (t[52] = de))
        : (de = t[52]);
      let ue;
      if (t[53] !== c || t[54] !== r) {
        let ne;
        t[56] !== r
          ? ((ne = (pe) => {
              const ae = r.has(pe.key);
              return s.jsx(
                y,
                {
                  p: 3,
                  border: "1px",
                  borderColor: ae ? "blue.200" : "gray.200",
                  borderRadius: "md",
                  bg: ae ? "blue.50" : "white",
                  transition: "all 0.2s",
                  children: s.jsxs(W, {
                    gap: 3,
                    align: "start",
                    children: [
                      s.jsx(Ia, {
                        checked: ae,
                        onCheckedChange: (ve) => v(pe.key, !!ve.checked),
                      }),
                      s.jsxs(le, {
                        align: "stretch",
                        gap: 1,
                        flex: 1,
                        children: [
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            children: pe.description,
                          }),
                          s.jsxs(W, {
                            gap: 2,
                            fontSize: "xs",
                            color: "gray.500",
                            children: [
                              s.jsxs(i, { children: ["Key: ", pe.key] }),
                              pe.priceCents > 0 &&
                                s.jsxs(i, {
                                  children: [
                                    "Giá: ",
                                    pe.priceCents.toLocaleString(),
                                    " VND",
                                  ],
                                }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                },
                pe.key
              );
            }),
            (t[56] = r),
            (t[57] = ne))
          : (ne = t[57]),
          (ue = c.sort(Wp).map(ne)),
          (t[53] = c),
          (t[54] = r),
          (t[55] = ue);
      } else ue = t[55];
      let he;
      t[58] !== ue
        ? ((he = s.jsx(y, {
            maxHeight: "300px",
            overflowY: "auto",
            border: "1px",
            borderColor: "gray.200",
            borderRadius: "md",
            children: s.jsx(le, {
              gap: 2,
              align: "stretch",
              p: 2,
              children: ue,
            }),
          })),
          (t[58] = ue),
          (t[59] = he))
        : (he = t[59]),
        t[60] !== de || t[61] !== he
          ? ((F = s.jsx(Ne, {
              label: "Chọn tính năng",
              required: !0,
              children: s.jsxs(le, {
                gap: 3,
                align: "stretch",
                children: [de, he],
              }),
            })),
            (t[60] = de),
            (t[61] = he),
            (t[62] = F))
          : (F = t[62]),
        (V =
          se.length > 0 &&
          s.jsxs(y, {
            p: 3,
            bg: "green.50",
            border: "1px",
            borderColor: "green.200",
            borderRadius: "md",
            children: [
              s.jsx(i, {
                fontSize: "sm",
                fontWeight: "medium",
                color: "green.700",
                mb: 2,
                children: "Tính năng đã chọn:",
              }),
              s.jsx(le, { align: "stretch", gap: 1, children: se.map(qp) }),
            ],
          })),
        (t[14] = c),
        (t[15] = d),
        (t[16] = u),
        (t[17] = g),
        (t[18] = T),
        (t[19] = n),
        (t[20] = r),
        (t[21] = p),
        (t[22] = E),
        (t[23] = z),
        (t[24] = N),
        (t[25] = R),
        (t[26] = F),
        (t[27] = V),
        (t[28] = $),
        (t[29] = Q),
        (t[30] = M),
        (t[31] = L);
    } else
      (p = t[21]),
        (E = t[22]),
        (z = t[23]),
        (N = t[24]),
        (R = t[25]),
        (F = t[26]),
        (V = t[27]),
        ($ = t[28]),
        (Q = t[29]),
        (M = t[30]),
        (L = t[31]);
    let q;
    t[63] !== g
      ? ((q = s.jsx(Y, {
          variant: "outline",
          onClick: g,
          flex: 1,
          children: "Hủy",
        })),
        (t[63] = g),
        (t[64] = q))
      : (q = t[64]);
    const D = r.size === 0;
    let K;
    t[65] !== A || t[66] !== r.size || t[67] !== D
      ? ((K = s.jsxs(Y, {
          colorScheme: "blue",
          onClick: A,
          flex: 1,
          disabled: D,
          children: ["Thêm ", r.size, " tính năng"],
        })),
        (t[65] = A),
        (t[66] = r.size),
        (t[67] = D),
        (t[68] = K))
      : (K = t[68]);
    let H;
    t[69] !== q || t[70] !== K
      ? ((H = s.jsxs(W, { gap: 3, pt: 4, children: [q, K] })),
        (t[69] = q),
        (t[70] = K),
        (t[71] = H))
      : (H = t[71]);
    let B;
    t[72] !== p ||
    t[73] !== z ||
    t[74] !== N ||
    t[75] !== R ||
    t[76] !== F ||
    t[77] !== V ||
    t[78] !== H ||
    t[79] !== L
      ? ((B = s.jsxs(p, { gap: L, align: z, children: [N, R, F, V, H] })),
        (t[72] = p),
        (t[73] = z),
        (t[74] = N),
        (t[75] = R),
        (t[76] = F),
        (t[77] = V),
        (t[78] = H),
        (t[79] = L),
        (t[80] = B))
      : (B = t[80]);
    let Z;
    return (
      t[81] !== E || t[82] !== $ || t[83] !== Q || t[84] !== M || t[85] !== B
        ? ((Z = s.jsx(E, { title: $, isOpen: Q, onClose: M, children: B })),
          (t[81] = E),
          (t[82] = $),
          (t[83] = Q),
          (t[84] = M),
          (t[85] = B),
          (t[86] = Z))
        : (Z = t[86]),
      Z
    );
  };
function Mp(e) {
  return e.key;
}
function Wp(e, t) {
  return e.sortOrder - t.sortOrder;
}
function qp(e) {
  return s.jsxs(
    i,
    { fontSize: "xs", color: "green.600", children: ["• ", e.description] },
    e.key
  );
}
const Up = (e) => {
  const t = G.c(89),
    { isOpen: n, onClose: a, editingFeature: l, onSave: c, userId: m } = e;
  let r;
  t[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((r = {
        featureKey: "",
        isEnabled: !0,
        source: "manual",
        expiresAt: "",
        notes: "",
      }),
      (t[0] = r))
    : (r = t[0]);
  const [o, u] = j.useState(r),
    [_, d] = j.useState(""),
    { data: f } = ul(),
    b = f === void 0 ? [] : f,
    P = !!l;
  let w;
  t[1] !== l
    ? ((w = () => {
        u(
          l
            ? {
                featureKey: l.featureKey,
                isEnabled: l.isEnabled,
                source: l.source,
                expiresAt: l.expiresAt
                  ? new Date(l.expiresAt).toISOString().slice(0, 16)
                  : "",
                notes: l.notes || "",
              }
            : {
                featureKey: "",
                isEnabled: !0,
                source: "manual",
                expiresAt: "",
                notes: "",
              }
        ),
          d("");
      }),
      (t[1] = l),
      (t[2] = w))
    : (w = t[2]);
  let v;
  t[3] !== l || t[4] !== n
    ? ((v = [l, n]), (t[3] = l), (t[4] = n), (t[5] = v))
    : (v = t[5]),
    j.useEffect(w, v);
  let x;
  t[6] !== o.expiresAt ||
  t[7] !== o.featureKey ||
  t[8] !== o.isEnabled ||
  t[9] !== o.notes ||
  t[10] !== o.source ||
  t[11] !== c
    ? ((x = () => {
        if (!o.featureKey.trim()) {
          d("Vui lòng chọn tính năng");
          return;
        }
        d("");
        const Se = {
          featureKey: o.featureKey.trim(),
          isEnabled: o.isEnabled,
          source: o.source,
          expiresAt: o.expiresAt ? new Date(o.expiresAt).toISOString() : void 0,
          notes: o.notes.trim() || void 0,
        };
        c(Se);
      }),
      (t[6] = o.expiresAt),
      (t[7] = o.featureKey),
      (t[8] = o.isEnabled),
      (t[9] = o.notes),
      (t[10] = o.source),
      (t[11] = c),
      (t[12] = x))
    : (x = t[12]);
  const T = x;
  let S;
  t[13] !== a
    ? ((S = () => {
        a(), d("");
      }),
      (t[13] = a),
      (t[14] = S))
    : (S = t[14]);
  const h = S;
  let C;
  t[15] !== o.featureKey
    ? ((C = (Se) => Se.key === o.featureKey),
      (t[15] = o.featureKey),
      (t[16] = C))
    : (C = t[16]);
  const A = b.find(C),
    k = Ot,
    g = P ? "Chỉnh sửa tính năng user" : "Thêm tính năng cho user",
    p = le,
    E = 4,
    z = "stretch";
  let N;
  t[17] !== _
    ? ((N =
        _ &&
        s.jsx(y, {
          p: 3,
          bg: "red.50",
          border: "1px",
          borderColor: "red.200",
          rounded: "md",
          children: s.jsx(i, { color: "red.600", fontSize: "sm", children: _ }),
        })),
      (t[17] = _),
      (t[18] = N))
    : (N = t[18]);
  let R;
  t[19] !== m
    ? ((R = s.jsx(Ne, {
        label: "User ID",
        required: !0,
        children: s.jsx(Ee, { value: m, disabled: !0, bg: "gray.50" }),
      })),
      (t[19] = m),
      (t[20] = R))
    : (R = t[20]);
  const F = Ne,
    V = "Tính năng",
    $ = !0,
    Q = P
      ? s.jsx(Ee, { value: o.featureKey, disabled: !0, bg: "gray.50" })
      : s.jsxs(es, {
          size: "sm",
          width: "100%",
          children: [
            s.jsxs(Jt, {
              value: o.featureKey,
              onChange: (Se) => u({ ...o, featureKey: Se.target.value }),
              children: [
                s.jsx("option", { value: "", children: "Chọn tính năng..." }),
                b.sort(Bp).map(Qp),
              ],
            }),
            s.jsx(Zt, {}),
          ],
        });
  let M;
  t[21] !== P
    ? ((M =
        P &&
        s.jsx(i, {
          fontSize: "xs",
          color: "gray.500",
          mt: 1,
          children: "Tính năng không thể thay đổi khi chỉnh sửa",
        })),
      (t[21] = P),
      (t[22] = M))
    : (M = t[22]);
  const L =
    A &&
    s.jsxs(y, {
      p: 2,
      bg: "blue.50",
      borderRadius: "md",
      mt: 2,
      children: [
        s.jsxs(i, {
          fontSize: "xs",
          color: "blue.700",
          children: [s.jsx("strong", { children: "Key:" }), " ", A.key],
        }),
        s.jsxs(i, {
          fontSize: "xs",
          color: "blue.700",
          children: [
            s.jsx("strong", { children: "Giá:" }),
            " ",
            A.priceCents.toLocaleString(),
            " VND",
          ],
        }),
      ],
    });
  let q;
  t[23] !== F || t[24] !== Q || t[25] !== M || t[26] !== L
    ? ((q = s.jsxs(F, { label: V, required: $, children: [Q, M, L] })),
      (t[23] = F),
      (t[24] = Q),
      (t[25] = M),
      (t[26] = L),
      (t[27] = q))
    : (q = t[27]);
  let D;
  t[28] !== o
    ? ((D = (Se) => u({ ...o, source: Se.target.value })),
      (t[28] = o),
      (t[29] = D))
    : (D = t[29]);
  let K, H, B;
  t[30] === Symbol.for("react.memo_cache_sentinel")
    ? ((K = s.jsx("option", { value: "manual", children: "Thủ công" })),
      (H = s.jsx("option", { value: "admin", children: "Admin" })),
      (B = s.jsx("option", { value: "plan", children: "Từ gói" })),
      (t[30] = K),
      (t[31] = H),
      (t[32] = B))
    : ((K = t[30]), (H = t[31]), (B = t[32]));
  let Z;
  t[33] !== o.source || t[34] !== D
    ? ((Z = s.jsxs(Jt, { value: o.source, onChange: D, children: [K, H, B] })),
      (t[33] = o.source),
      (t[34] = D),
      (t[35] = Z))
    : (Z = t[35]);
  let J;
  t[36] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = s.jsx(Zt, {})), (t[36] = J))
    : (J = t[36]);
  let se;
  t[37] !== Z
    ? ((se = s.jsx(Ne, {
        label: "Nguồn",
        required: !0,
        children: s.jsxs(es, { size: "sm", width: "100%", children: [Z, J] }),
      })),
      (t[37] = Z),
      (t[38] = se))
    : (se = t[38]);
  let ee;
  t[39] !== o
    ? ((ee = (Se) => u({ ...o, isEnabled: Se })), (t[39] = o), (t[40] = ee))
    : (ee = t[40]);
  let te;
  t[41] === Symbol.for("react.memo_cache_sentinel")
    ? ((te = s.jsx(Ms, {})), (t[41] = te))
    : (te = t[41]);
  let X;
  t[42] !== o.isEnabled || t[43] !== ee
    ? ((X = s.jsx($s, {
        checked: o.isEnabled,
        onCheckedChange: ee,
        children: te,
      })),
      (t[42] = o.isEnabled),
      (t[43] = ee),
      (t[44] = X))
    : (X = t[44]);
  const I = o.isEnabled ? "Hoạt động" : "Tạm dừng";
  let O;
  t[45] !== I
    ? ((O = s.jsx(i, { fontSize: "sm", color: "gray.600", children: I })),
      (t[45] = I),
      (t[46] = O))
    : (O = t[46]);
  let U;
  t[47] !== X || t[48] !== O
    ? ((U = s.jsx(Ne, {
        label: "Trạng thái",
        children: s.jsxs(y, { display: "flex", gap: 3, children: [X, O] }),
      })),
      (t[47] = X),
      (t[48] = O),
      (t[49] = U))
    : (U = t[49]);
  let re;
  t[50] !== se || t[51] !== U
    ? ((re = s.jsxs(W, { gap: 4, children: [se, U] })),
      (t[50] = se),
      (t[51] = U),
      (t[52] = re))
    : (re = t[52]);
  let de;
  t[53] !== o
    ? ((de = (Se) => u({ ...o, expiresAt: Se.target.value })),
      (t[53] = o),
      (t[54] = de))
    : (de = t[54]);
  let ue;
  t[55] !== o.expiresAt || t[56] !== de
    ? ((ue = s.jsx(Ee, {
        type: "datetime-local",
        value: o.expiresAt,
        onChange: de,
        placeholder: "Để trống nếu không hết hạn",
      })),
      (t[55] = o.expiresAt),
      (t[56] = de),
      (t[57] = ue))
    : (ue = t[57]);
  let he;
  t[58] === Symbol.for("react.memo_cache_sentinel")
    ? ((he = s.jsx(i, {
        fontSize: "xs",
        color: "gray.500",
        mt: 1,
        children: "Để trống nếu tính năng không hết hạn",
      })),
      (t[58] = he))
    : (he = t[58]);
  let ne;
  t[59] !== ue
    ? ((ne = s.jsxs(Ne, { label: "Thời gian hết hạn", children: [ue, he] })),
      (t[59] = ue),
      (t[60] = ne))
    : (ne = t[60]);
  let pe;
  t[61] !== o
    ? ((pe = (Se) => u({ ...o, notes: Se.target.value })),
      (t[61] = o),
      (t[62] = pe))
    : (pe = t[62]);
  let ae;
  t[63] !== o.notes || t[64] !== pe
    ? ((ae = s.jsx(Ne, {
        label: "Ghi chú",
        children: s.jsx(Qt, {
          value: o.notes,
          onChange: pe,
          placeholder: "Nhập ghi chú về tính năng này...",
          rows: 3,
        }),
      })),
      (t[63] = o.notes),
      (t[64] = pe),
      (t[65] = ae))
    : (ae = t[65]);
  let ve;
  t[66] !== h
    ? ((ve = s.jsx(Y, {
        variant: "outline",
        onClick: h,
        flex: 1,
        children: "Hủy",
      })),
      (t[66] = h),
      (t[67] = ve))
    : (ve = t[67]);
  const je = P ? "Cập nhật" : "Thêm tính năng";
  let ce;
  t[68] !== T || t[69] !== je
    ? ((ce = s.jsx(Y, {
        colorScheme: "blue",
        onClick: T,
        flex: 1,
        children: je,
      })),
      (t[68] = T),
      (t[69] = je),
      (t[70] = ce))
    : (ce = t[70]);
  let xe;
  t[71] !== ve || t[72] !== ce
    ? ((xe = s.jsxs(W, { gap: 3, pt: 4, children: [ve, ce] })),
      (t[71] = ve),
      (t[72] = ce),
      (t[73] = xe))
    : (xe = t[73]);
  let Te;
  t[74] !== p ||
  t[75] !== N ||
  t[76] !== R ||
  t[77] !== q ||
  t[78] !== re ||
  t[79] !== ne ||
  t[80] !== ae ||
  t[81] !== xe
    ? ((Te = s.jsxs(p, {
        gap: E,
        align: z,
        children: [N, R, q, re, ne, ae, xe],
      })),
      (t[74] = p),
      (t[75] = N),
      (t[76] = R),
      (t[77] = q),
      (t[78] = re),
      (t[79] = ne),
      (t[80] = ae),
      (t[81] = xe),
      (t[82] = Te))
    : (Te = t[82]);
  let Pe;
  return (
    t[83] !== k || t[84] !== h || t[85] !== n || t[86] !== Te || t[87] !== g
      ? ((Pe = s.jsx(k, { title: g, isOpen: n, onClose: h, children: Te })),
        (t[83] = k),
        (t[84] = h),
        (t[85] = n),
        (t[86] = Te),
        (t[87] = g),
        (t[88] = Pe))
      : (Pe = t[88]),
    Pe
  );
};
function Bp(e, t) {
  return e.sortOrder - t.sortOrder;
}
function Qp(e) {
  return s.jsx("option", { value: e.key, children: e.description }, e.key);
}
const Kp = () => {
  const e = G.c(137),
    [t, n] = j.useState(null),
    [a, l] = j.useState(null),
    [c, m] = j.useState(!1),
    [r, o] = j.useState(!1),
    [u, _] = j.useState(null),
    [d, f] = j.useState(""),
    [b, P] = j.useState("all"),
    [w, v] = j.useState("all");
  let x;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((x = { isOpen: !1, featureId: null }), (e[0] = x))
    : (x = e[0]);
  const [T, S] = j.useState(x),
    [h, C] = j.useState(!1);
  let A;
  e[1] !== t
    ? ((A = () => {
        l(t), C(!1);
      }),
      (e[1] = t),
      (e[2] = A))
    : (A = e[2]);
  let k;
  e[3] !== t ? ((k = [t]), (e[3] = t), (e[4] = k)) : (k = e[4]), Uc(A, 500, k);
  let g, p;
  e[5] !== a || e[6] !== t
    ? ((g = () => {
        t !== a && C(!0);
      }),
      (p = [t, a]),
      (e[5] = a),
      (e[6] = t),
      (e[7] = g),
      (e[8] = p))
    : ((g = e[7]), (p = e[8])),
    j.useEffect(g, p);
  let E, z;
  e[9] !== a || e[10] !== t
    ? ((E = () => {
        t === null && a === null && C(!1);
      }),
      (z = [t, a]),
      (e[9] = a),
      (e[10] = t),
      (e[11] = E),
      (e[12] = z))
    : ((E = e[11]), (z = e[12])),
    j.useEffect(E, z);
  const { data: N, isLoading: R, refetch: F, isError: V } = Pc(a || 0),
    $ = N === void 0 ? [] : N,
    { data: Q, isLoading: M } = kc(a || 0),
    { data: L } = ul();
  let q;
  e[13] !== L
    ? ((q = L === void 0 ? [] : L), (e[13] = L), (e[14] = q))
    : (q = e[14]);
  const D = q,
    K = Nc(),
    H = Dc(),
    B = zc(),
    Z = Lc(),
    J = Fc();
  let se;
  e[15] !== d || e[16] !== b || e[17] !== w
    ? ((se = (Ge) => {
        const Pt =
            Ge.featureKey.toLowerCase().includes(d.toLowerCase()) ||
            Ge.featureDescription.toLowerCase().includes(d.toLowerCase()),
          qt = b === "all" || Ge.source === b,
          Ht =
            w === "all" ||
            (w === "active" && Ge.isEnabled) ||
            (w === "inactive" && !Ge.isEnabled);
        return Pt && qt && Ht;
      }),
      (e[15] = d),
      (e[16] = b),
      (e[17] = w),
      (e[18] = se))
    : (se = e[18]);
  const ee = $.filter(se);
  let te;
  e[19] !== a
    ? ((te = () => {
        if (!a) {
          ye.create({
            title: "Thông báo",
            description: "Vui lòng chọn user trước",
            type: "warning",
            duration: 3e3,
          });
          return;
        }
        _(null), m(!0);
      }),
      (e[19] = a),
      (e[20] = te))
    : (te = e[20]);
  const X = te;
  let I;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((I = (Ge) => {
        _(Ge), m(!0);
      }),
      (e[21] = I))
    : (I = e[21]);
  const O = I;
  let U;
  e[22] === Symbol.for("react.memo_cache_sentinel")
    ? ((U = (Ge) => {
        S({ isOpen: !0, featureId: Ge });
      }),
      (e[22] = U))
    : (U = e[22]);
  const re = U;
  let de;
  e[23] !== T.featureId || e[24] !== B || e[25] !== F
    ? ((de = async () => {
        if (T.featureId)
          try {
            await B.mutateAsync(T.featureId),
              F(),
              S({ isOpen: !1, featureId: null });
          } catch {}
      }),
      (e[23] = T.featureId),
      (e[24] = B),
      (e[25] = F),
      (e[26] = de))
    : (de = e[26]);
  const ue = de;
  let he;
  e[27] !== F || e[28] !== Z
    ? ((he = async (Ge) => {
        try {
          await Z.mutateAsync(Ge), F();
        } catch {}
      }),
      (e[27] = F),
      (e[28] = Z),
      (e[29] = he))
    : (he = e[29]);
  const ne = he;
  let pe;
  e[30] !== a
    ? ((pe = () => {
        if (!a) {
          ye.create({
            title: "Thông báo",
            description: "Vui lòng chọn user trước",
            type: "warning",
            duration: 3e3,
          });
          return;
        }
        o(!0);
      }),
      (e[30] = a),
      (e[31] = pe))
    : (pe = e[31]);
  const ae = pe;
  let ve;
  e[32] === Symbol.for("react.memo_cache_sentinel")
    ? ((ve = () => {
        m(!1), _(null);
      }),
      (e[32] = ve))
    : (ve = e[32]);
  const je = ve;
  let ce;
  e[33] === Symbol.for("react.memo_cache_sentinel")
    ? ((ce = () => {
        o(!1);
      }),
      (e[33] = ce))
    : (ce = e[33]);
  const xe = ce;
  let Te;
  e[34] !== K ||
  e[35] !== a ||
  e[36] !== u ||
  e[37] !== je ||
  e[38] !== F ||
  e[39] !== H
    ? ((Te = async (Ge) => {
        try {
          u
            ? await H.mutateAsync({ id: u.id, data: Ge })
            : await K.mutateAsync({ ...Ge, userId: a }),
            F(),
            je();
        } catch {}
      }),
      (e[34] = K),
      (e[35] = a),
      (e[36] = u),
      (e[37] = je),
      (e[38] = F),
      (e[39] = H),
      (e[40] = Te))
    : (Te = e[40]);
  const Pe = Te;
  let Se;
  e[41] !== J || e[42] !== a || e[43] !== xe || e[44] !== F
    ? ((Se = async (Ge) => {
        try {
          await J.mutateAsync({ userId: a, data: Ge }), F(), xe();
        } catch {}
      }),
      (e[41] = J),
      (e[42] = a),
      (e[43] = xe),
      (e[44] = F),
      (e[45] = Se))
    : (Se = e[45]);
  const ke = Se,
    Le = Gp,
    De = Hp;
  if (!a || V || R || M) {
    let Ge;
    e[46] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ge = s.jsxs(le, {
          align: "start",
          gap: 1,
          children: [
            s.jsx(i, {
              fontSize: "2xl",
              fontWeight: "bold",
              children: "Quản lý tính năng user",
            }),
            s.jsx(i, {
              color: "gray.600",
              children: "Chọn user để xem và quản lý tính năng",
            }),
          ],
        })),
        (e[46] = Ge))
      : (Ge = e[46]);
    let Pt, qt;
    e[47] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pt = s.jsx(zr, { size: 48, color: "#666" })),
        (qt = s.jsx(i, {
          fontSize: "lg",
          color: "gray.600",
          children: "Vui lòng nhập User ID để xem tính năng",
        })),
        (e[47] = Pt),
        (e[48] = qt))
      : ((Pt = e[47]), (qt = e[48]));
    const Ht = t || "";
    let Ut;
    e[49] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ut = (Ps) => n(Ps.target.value ? Number(Ps.target.value) : null)),
        (e[49] = Ut))
      : (Ut = e[49]);
    let zt;
    e[50] !== Ht
      ? ((zt = s.jsx(Ee, {
          placeholder: "Nhập User ID...",
          type: "number",
          value: Ht,
          onChange: Ut,
          maxWidth: "200px",
        })),
        (e[50] = Ht),
        (e[51] = zt))
      : (zt = e[51]);
    let Bt;
    e[52] !== a || e[53] !== F
      ? ((Bt = () => a && F()), (e[52] = a), (e[53] = F), (e[54] = Bt))
      : (Bt = e[54]);
    const rs = !a || h;
    let Ft;
    e[55] !== h
      ? ((Ft = h
          ? s.jsx(Wt, { size: "sm", style: { marginRight: "8px" } })
          : s.jsx(On, { style: { marginRight: "8px" } })),
        (e[55] = h),
        (e[56] = Ft))
      : (Ft = e[56]);
    const os = h ? "Đang nhập..." : "Xem tính năng";
    let ss;
    e[57] !== Bt || e[58] !== rs || e[59] !== Ft || e[60] !== os
      ? ((ss = s.jsxs(Y, {
          colorScheme: "blue",
          onClick: Bt,
          disabled: rs,
          "data-tour": "view-user-features-button",
          children: [Ft, os],
        })),
        (e[57] = Bt),
        (e[58] = rs),
        (e[59] = Ft),
        (e[60] = os),
        (e[61] = ss))
      : (ss = e[61]);
    let xs;
    return (
      e[62] !== zt || e[63] !== ss
        ? ((xs = s.jsx(y, {
            p: 6,
            children: s.jsxs(le, {
              gap: 6,
              align: "stretch",
              children: [
                Ge,
                s.jsx(y, {
                  p: 6,
                  bg: "white",
                  borderRadius: "lg",
                  border: "1px",
                  borderColor: "gray.200",
                  children: s.jsxs(le, {
                    gap: 4,
                    children: [
                      Pt,
                      qt,
                      s.jsxs(W, { gap: 2, children: [zt, ss] }),
                    ],
                  }),
                }),
              ],
            }),
          })),
          (e[62] = zt),
          (e[63] = ss),
          (e[64] = xs))
        : (xs = e[64]),
      xs
    );
  }
  if (R || M) {
    let Ge;
    e[65] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ge = s.jsx(Wt, { size: "xl", colorScheme: "blue" })), (e[65] = Ge))
      : (Ge = e[65]);
    let Pt;
    return (
      e[66] !== a
        ? ((Pt = s.jsx(y, {
            p: 6,
            children: s.jsxs(le, {
              gap: 4,
              align: "center",
              minH: "400px",
              justify: "center",
              children: [
                Ge,
                s.jsxs(i, { children: ["Đang tải dữ liệu user ", a, "..."] }),
              ],
            }),
          })),
          (e[66] = a),
          (e[67] = Pt))
        : (Pt = e[67]),
      Pt
    );
  }
  let me;
  e[68] !== a
    ? ((me = s.jsxs(i, {
        fontSize: "2xl",
        fontWeight: "bold",
        children: ["Quản lý tính năng User #", a],
      })),
      (e[68] = a),
      (e[69] = me))
    : (me = e[69]);
  let Fe;
  e[70] === Symbol.for("react.memo_cache_sentinel")
    ? ((Fe = s.jsx(i, {
        color: "gray.600",
        children: "Quản lý tính năng và quyền của user",
      })),
      (e[70] = Fe))
    : (Fe = e[70]);
  let be;
  e[71] !== me
    ? ((be = s.jsxs(le, { align: "start", gap: 1, children: [me, Fe] })),
      (e[71] = me),
      (e[72] = be))
    : (be = e[72]);
  let Me;
  e[73] === Symbol.for("react.memo_cache_sentinel")
    ? ((Me = s.jsx(Y, {
        variant: "outline",
        onClick: () => n(null),
        children: "Chọn user khác",
      })),
      (e[73] = Me))
    : (Me = e[73]);
  let Qe;
  e[74] === Symbol.for("react.memo_cache_sentinel")
    ? ((Qe = s.jsx(hs, { style: { marginRight: "8px" } })), (e[74] = Qe))
    : (Qe = e[74]);
  let $e;
  e[75] !== ae
    ? (($e = s.jsxs(Y, {
        colorScheme: "green",
        onClick: ae,
        children: [Qe, "Thêm từ gói"],
      })),
      (e[75] = ae),
      (e[76] = $e))
    : ($e = e[76]);
  let Ye;
  e[77] === Symbol.for("react.memo_cache_sentinel")
    ? ((Ye = s.jsx(hs, { style: { marginRight: "8px" } })), (e[77] = Ye))
    : (Ye = e[77]);
  let we;
  e[78] !== X
    ? ((we = s.jsxs(Y, {
        colorScheme: "blue",
        onClick: X,
        children: [Ye, "Thêm tính năng"],
      })),
      (e[78] = X),
      (e[79] = we))
    : (we = e[79]);
  let Ae;
  e[80] !== $e || e[81] !== we
    ? ((Ae = s.jsxs(W, { gap: 2, children: [Me, $e, we] })),
      (e[80] = $e),
      (e[81] = we),
      (e[82] = Ae))
    : (Ae = e[82]);
  let We;
  e[83] !== be || e[84] !== Ae
    ? ((We = s.jsxs(W, { justify: "space-between", children: [be, Ae] })),
      (e[83] = be),
      (e[84] = Ae),
      (e[85] = We))
    : (We = e[85]);
  let Ke;
  e[86] !== Q
    ? ((Ke =
        Q &&
        s.jsxs(Kt, {
          templateColumns: "repeat(auto-fit, minmax(200px, 1fr))",
          gap: 4,
          children: [
            s.jsx(y, {
              p: 4,
              bg: "white",
              borderRadius: "lg",
              border: "1px",
              borderColor: "gray.200",
              children: s.jsxs(le, {
                gap: 2,
                children: [
                  s.jsx(i, {
                    fontSize: "2xl",
                    fontWeight: "bold",
                    color: "blue.600",
                    children: Q.totalFeatures,
                  }),
                  s.jsx(i, {
                    fontSize: "sm",
                    color: "gray.600",
                    children: "Tổng tính năng",
                  }),
                ],
              }),
            }),
            s.jsx(y, {
              p: 4,
              bg: "white",
              borderRadius: "lg",
              border: "1px",
              borderColor: "gray.200",
              children: s.jsxs(le, {
                gap: 2,
                children: [
                  s.jsx(i, {
                    fontSize: "2xl",
                    fontWeight: "bold",
                    color: "green.600",
                    children: Q.activeFeatures,
                  }),
                  s.jsx(i, {
                    fontSize: "sm",
                    color: "gray.600",
                    children: "Đang hoạt động",
                  }),
                ],
              }),
            }),
            s.jsx(y, {
              p: 4,
              bg: "white",
              borderRadius: "lg",
              border: "1px",
              borderColor: "gray.200",
              children: s.jsxs(le, {
                gap: 2,
                children: [
                  s.jsx(i, {
                    fontSize: "2xl",
                    fontWeight: "bold",
                    color: "purple.600",
                    children: Q.featuresBySource.admin,
                  }),
                  s.jsx(i, {
                    fontSize: "sm",
                    color: "gray.600",
                    children: "Từ Admin",
                  }),
                ],
              }),
            }),
            s.jsx(y, {
              p: 4,
              bg: "white",
              borderRadius: "lg",
              border: "1px",
              borderColor: "gray.200",
              children: s.jsxs(le, {
                gap: 2,
                children: [
                  s.jsx(i, {
                    fontSize: "2xl",
                    fontWeight: "bold",
                    color: "orange.600",
                    children: Q.featuresBySource.plan,
                  }),
                  s.jsx(i, {
                    fontSize: "sm",
                    color: "gray.600",
                    children: "Từ gói",
                  }),
                ],
              }),
            }),
          ],
        })),
      (e[86] = Q),
      (e[87] = Ke))
    : (Ke = e[87]);
  let Ze;
  e[88] === Symbol.for("react.memo_cache_sentinel")
    ? ((Ze = (Ge) => f(Ge.target.value)), (e[88] = Ze))
    : (Ze = e[88]);
  let Re;
  e[89] !== d
    ? ((Re = s.jsx(Ee, {
        placeholder: "Tìm kiếm theo key hoặc mô tả...",
        value: d,
        onChange: Ze,
        maxWidth: "300px",
      })),
      (e[89] = d),
      (e[90] = Re))
    : (Re = e[90]);
  let ge, et, lt, qe, it;
  e[91] === Symbol.for("react.memo_cache_sentinel")
    ? ((ge = (Ge) => P(Ge.target.value)),
      (et = s.jsx("option", { value: "all", children: "Tất cả nguồn" })),
      (lt = s.jsx("option", { value: "plan", children: "Từ gói" })),
      (qe = s.jsx("option", { value: "manual", children: "Thủ công" })),
      (it = s.jsx("option", { value: "admin", children: "Admin" })),
      (e[91] = ge),
      (e[92] = et),
      (e[93] = lt),
      (e[94] = qe),
      (e[95] = it))
    : ((ge = e[91]), (et = e[92]), (lt = e[93]), (qe = e[94]), (it = e[95]));
  let ze;
  e[96] !== b
    ? ((ze = s.jsxs(Jt, {
        value: b,
        onChange: ge,
        children: [et, lt, qe, it],
      })),
      (e[96] = b),
      (e[97] = ze))
    : (ze = e[97]);
  let ot;
  e[98] === Symbol.for("react.memo_cache_sentinel")
    ? ((ot = s.jsx(Zt, {})), (e[98] = ot))
    : (ot = e[98]);
  let dt;
  e[99] !== ze
    ? ((dt = s.jsxs(es, { size: "sm", width: "150px", children: [ze, ot] })),
      (e[99] = ze),
      (e[100] = dt))
    : (dt = e[100]);
  let ct, bt, _t, gt;
  e[101] === Symbol.for("react.memo_cache_sentinel")
    ? ((ct = (Ge) => v(Ge.target.value)),
      (bt = s.jsx("option", { value: "all", children: "Tất cả" })),
      (_t = s.jsx("option", { value: "active", children: "Hoạt động" })),
      (gt = s.jsx("option", { value: "inactive", children: "Tạm dừng" })),
      (e[101] = ct),
      (e[102] = bt),
      (e[103] = _t),
      (e[104] = gt))
    : ((ct = e[101]), (bt = e[102]), (_t = e[103]), (gt = e[104]));
  let ft;
  e[105] !== w
    ? ((ft = s.jsxs(Jt, { value: w, onChange: ct, children: [bt, _t, gt] })),
      (e[105] = w),
      (e[106] = ft))
    : (ft = e[106]);
  let St;
  e[107] === Symbol.for("react.memo_cache_sentinel")
    ? ((St = s.jsx(Zt, {})), (e[107] = St))
    : (St = e[107]);
  let ht;
  e[108] !== ft
    ? ((ht = s.jsxs(es, { size: "sm", width: "120px", children: [ft, St] })),
      (e[108] = ft),
      (e[109] = ht))
    : (ht = e[109]);
  let pt;
  e[110] !== Re || e[111] !== dt || e[112] !== ht
    ? ((pt = s.jsxs(W, { gap: 4, wrap: "wrap", children: [Re, dt, ht] })),
      (e[110] = Re),
      (e[111] = dt),
      (e[112] = ht),
      (e[113] = pt))
    : (pt = e[113]);
  let xt;
  e[114] === Symbol.for("react.memo_cache_sentinel")
    ? ((xt = s.jsx(Ss, {
        children: s.jsxs(At, {
          children: [
            s.jsx(Ce, { children: "Key" }),
            s.jsx(Ce, { children: "Mô tả" }),
            s.jsx(Ce, { children: "Nguồn" }),
            s.jsx(Ce, { children: "Trạng thái" }),
            s.jsx(Ce, { children: "Hết hạn" }),
            s.jsx(Ce, { children: "Ghi chú" }),
            s.jsx(Ce, { textAlign: "right", children: "Thao tác" }),
          ],
        }),
      })),
      (e[114] = xt))
    : (xt = e[114]);
  let jt;
  e[115] !== ne
    ? ((jt = (Ge) =>
        s.jsxs(
          At,
          {
            children: [
              s.jsx(_e, {
                children: s.jsx(i, {
                  fontFamily: "mono",
                  fontSize: "sm",
                  color: "blue.600",
                  children: Ge.featureKey,
                }),
              }),
              s.jsx(_e, {
                children: s.jsx(i, {
                  maxWidth: "300px",
                  style: {
                    display: "-webkit-box",
                    WebkitLineClamp: 2,
                    WebkitBoxOrient: "vertical",
                    overflow: "hidden",
                  },
                  children: Ge.featureDescription,
                }),
              }),
              s.jsx(_e, {
                children: s.jsx(Be, {
                  colorScheme: Le(Ge.source),
                  variant: "subtle",
                  children: De(Ge.source),
                }),
              }),
              s.jsx(_e, {
                children: s.jsx(Be, {
                  colorScheme: Ge.isEnabled ? "green" : "red",
                  variant: "subtle",
                  children: Ge.isEnabled ? "Hoạt động" : "Tạm dừng",
                }),
              }),
              s.jsx(_e, {
                children: s.jsx(i, {
                  fontSize: "sm",
                  color: "gray.600",
                  children: Ge.expiresAt
                    ? new Date(Ge.expiresAt).toLocaleDateString("vi-VN")
                    : "Không hết hạn",
                }),
              }),
              s.jsx(_e, {
                children: s.jsx(i, {
                  fontSize: "sm",
                  color: "gray.600",
                  maxWidth: "200px",
                  style: {
                    display: "-webkit-box",
                    WebkitLineClamp: 1,
                    WebkitBoxOrient: "vertical",
                    overflow: "hidden",
                  },
                  children: Ge.notes || "-",
                }),
              }),
              s.jsx(_e, {
                children: s.jsxs(W, {
                  gap: 1,
                  justify: "flex-end",
                  children: [
                    s.jsx(wt, {
                      "aria-label": "Chỉnh sửa",
                      size: "sm",
                      variant: "ghost",
                      onClick: () => O(Ge),
                      children: s.jsx(Mt, {}),
                    }),
                    s.jsx(wt, {
                      "aria-label": Ge.isEnabled ? "Tạm dừng" : "Kích hoạt",
                      size: "sm",
                      variant: "ghost",
                      colorScheme: Ge.isEnabled ? "red" : "green",
                      onClick: () => ne(Ge.id),
                      children: Ge.isEnabled ? s.jsx(Mi, {}) : s.jsx(Sa, {}),
                    }),
                    s.jsx(wt, {
                      "aria-label": "Xóa",
                      size: "sm",
                      variant: "ghost",
                      colorScheme: "red",
                      onClick: () => re(Ge.id),
                      children: s.jsx(vn, {}),
                    }),
                  ],
                }),
              }),
            ],
          },
          Ge.id
        )),
      (e[115] = ne),
      (e[116] = jt))
    : (jt = e[116]);
  const Ct = i,
    Tt = "gray.600",
    Et = "Hoạt động: ",
    oe = ee.filter(Yp),
    Ie = oe.length,
    Lt = " | Tạm dừng: ",
    Dt = ee.filter(Xp);
  let Gt;
  e[117] !== Ct || e[118] !== oe || e[119] !== Dt.length
    ? ((Gt = s.jsxs(Ct, { color: Tt, children: [Et, Ie, Lt, Dt.length] })),
      (e[117] = Ct),
      (e[118] = oe),
      (e[119] = Dt.length),
      (e[120] = Gt))
    : (Gt = e[120]);
  let Vt;
  e[121] !== a || e[122] !== u || e[123] !== je || e[124] !== Pe || e[125] !== c
    ? ((Vt = s.jsx(Up, {
        isOpen: c,
        onClose: je,
        editingFeature: u,
        onSave: Pe,
        userId: a,
      })),
      (e[121] = a),
      (e[122] = u),
      (e[123] = je),
      (e[124] = Pe),
      (e[125] = c),
      (e[126] = Vt))
    : (Vt = e[126]);
  let mt;
  e[127] !== D || e[128] !== ke || e[129] !== xe || e[130] !== r
    ? ((mt = s.jsx($p, {
        isOpen: r,
        onClose: xe,
        onSave: ke,
        availableFeatures: D,
      })),
      (e[127] = D),
      (e[128] = ke),
      (e[129] = xe),
      (e[130] = r),
      (e[131] = mt))
    : (mt = e[131]);
  let $t;
  e[132] === Symbol.for("react.memo_cache_sentinel")
    ? (($t = () => S({ isOpen: !1, featureId: null })), (e[132] = $t))
    : ($t = e[132]);
  let ts;
  return (
    e[133] !== ue || e[134] !== T.isOpen || e[135] !== B.isPending
      ? ((ts = s.jsx(Gs, {
          isOpen: T.isOpen,
          title: "Xác nhận xóa",
          message: "Bạn có chắc chắn muốn xóa tính năng này?",
          confirmLabel: "Xóa",
          cancelLabel: "Hủy",
          onConfirm: ue,
          onClose: $t,
          confirmColorScheme: "red",
          isLoading: B.isPending,
        })),
        (e[133] = ue),
        (e[134] = T.isOpen),
        (e[135] = B.isPending),
        (e[136] = ts))
      : (ts = e[136]),
    s.jsxs(y, {
      p: 6,
      children: [
        s.jsxs(le, {
          gap: 6,
          align: "stretch",
          children: [
            We,
            Ke,
            pt,
            s.jsx(y, {
              border: "1px",
              borderColor: "gray.200",
              borderRadius: "md",
              overflow: "hidden",
              children: s.jsxs(vs, {
                size: "sm",
                children: [xt, s.jsx(_s, { children: ee.map(jt) })],
              }),
            }),
            ee.length === 0 &&
              s.jsx(y, {
                textAlign: "center",
                py: 8,
                children: s.jsx(i, {
                  color: "gray.500",
                  children:
                    d || b !== "all" || w !== "all"
                      ? "Không tìm thấy tính năng nào phù hợp"
                      : "User chưa có tính năng nào",
                }),
              }),
            s.jsxs(W, {
              justify: "space-between",
              pt: 4,
              borderTop: "1px",
              borderColor: "gray.200",
              children: [
                s.jsxs(i, {
                  color: "gray.600",
                  children: [
                    "Hiển thị: ",
                    ee.length,
                    "/",
                    $.length,
                    " tính năng",
                  ],
                }),
                Gt,
              ],
            }),
          ],
        }),
        Vt,
        mt,
        ts,
      ],
    })
  );
};
function Gp(e) {
  switch (e) {
    case "plan":
      return "blue";
    case "manual":
      return "green";
    case "admin":
      return "purple";
    default:
      return "gray";
  }
}
function Hp(e) {
  switch (e) {
    case "plan":
      return "Từ gói";
    case "manual":
      return "Thủ công";
    case "admin":
      return "Admin";
    default:
      return e;
  }
}
function Yp(e) {
  return e.isEnabled;
}
function Xp(e) {
  return !e.isEnabled;
}
const Jp = Object.freeze(
    Object.defineProperty(
      { __proto__: null, UserFeaturesManager: Kp },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  As = {
    applications: ["admin", "agents", "applications"],
    agents: ["admin", "agents"],
    dealerCatalog: ["admin", "agents", "dealer-catalog"],
    dealerPages: ["admin", "agents", "dealer-pages"],
    walletTransactions: ["admin", "agents", "wallet", "transactions"],
  },
  Fs = {
    getApplications: async () =>
      (await ie.get("/admin/agents/applications")).data.data,
    updateApplicationStatus: async (e, t) =>
      (await ie.patch(`/admin/agents/applications/${e}`, t)).data.data,
    getAgents: async () => (await ie.get("/admin/agents")).data.data,
    adjustAgentBalance: async (e, t) =>
      (await ie.patch(`/admin/agents/${e}/balance`, t)).data.data,
    updateAgentQuota: async (e, t) =>
      (await ie.patch(`/admin/agents/${e}/quota`, t)).data.data,
    getDealerCatalog: async () =>
      (await ie.get("/admin/agents/dealer-catalog")).data.data,
    createDealerPlan: async (e) =>
      (await ie.post("/admin/agents/dealer-catalog", e)).data.data,
    updateDealerPlan: async (e, t) =>
      (await ie.patch(`/admin/agents/dealer-catalog/${e}`, t)).data.data,
    getDealerPages: async (e = {}) =>
      (await ie.get("/admin/agents/dealer-pages", { params: e })).data.data,
    getWalletTransactions: async (e = {}) =>
      (await ie.get("/admin/agents/wallet/txns", { params: e })).data.data,
  },
  Zp = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: As.applications,
            queryFn: Fs.getApplications,
            staleTime: 12e4,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  ex = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: cx,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: As.applications });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  tx = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: As.agents,
            queryFn: Fs.getAgents,
            staleTime: 12e4,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  sx = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: dx,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: As.agents }),
                t.invalidateQueries({ queryKey: As.walletTransactions });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  nx = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: hx,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: As.agents });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  ix = () => {
    const e = G.c(1);
    let t;
    return (
      e[0] === Symbol.for("react.memo_cache_sentinel")
        ? ((t = {
            queryKey: As.dealerCatalog,
            queryFn: Fs.getDealerCatalog,
            staleTime: 3e5,
          }),
          (e[0] = t))
        : (t = e[0]),
      nt(t)
    );
  },
  lx = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: Fs.createDealerPlan,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: As.dealerCatalog });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  ax = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: mx,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: As.dealerCatalog });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  rx = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...As.dealerPages, a],
            queryFn: () => Fs.getDealerPages(a),
            staleTime: 12e4,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  },
  ox = (e) => {
    const t = G.c(4);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    return (
      t[2] !== a
        ? ((l = {
            queryKey: [...As.walletTransactions, a],
            queryFn: () => Fs.getWalletTransactions(a),
            staleTime: 12e4,
          }),
          (t[2] = a),
          (t[3] = l))
        : (l = t[3]),
      nt(l)
    );
  };
function cx(e) {
  const { id: t, data: n } = e;
  return Fs.updateApplicationStatus(t, n);
}
function dx(e) {
  const { userId: t, data: n } = e;
  return Fs.adjustAgentBalance(t, n);
}
function hx(e) {
  const { userId: t, data: n } = e;
  return Fs.updateAgentQuota(t, n);
}
function mx(e) {
  const { id: t, data: n } = e;
  return Fs.updateDealerPlan(t, n);
}
const bn = (e) => {
    const t = e;
    return new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: "VND",
    }).format(t);
  },
  ux = () => {
    const e = G.c(260),
      [t, n] = j.useState(),
      [a, l] = j.useState();
    let c;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = {
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[0] = c))
      : (c = e[0]);
    const [m, r] = j.useState(c);
    let o;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((o = {
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[1] = o))
      : (o = e[1]);
    const [u, _] = j.useState(o),
      [d, f] = j.useState(),
      [b, P] = j.useState(""),
      w = b || void 0;
    let v;
    e[2] !== d || e[3] !== w
      ? ((v = { userId: d, handoffStatus: w }),
        (e[2] = d),
        (e[3] = w),
        (e[4] = v))
      : (v = e[4]);
    const { data: x, isLoading: T } = rx(v);
    let S;
    e[5] !== d ? ((S = { userId: d }), (e[5] = d), (e[6] = S)) : (S = e[6]);
    const { data: h, isLoading: C } = ox(S);
    let A, k;
    e[7] !== x
      ? ((A = () => {
          if (x) {
            const us = {
              data: x.map(gx),
              total: x.length,
              page: 1,
              limit: x.length,
              totalPages: 1,
            };
            n(us);
          }
        }),
        (k = [x]),
        (e[7] = x),
        (e[8] = A),
        (e[9] = k))
      : ((A = e[8]), (k = e[9])),
      ps.useEffect(A, k);
    let g, p;
    e[10] !== h
      ? ((g = () => {
          if (h) {
            const us = {
              data: h.map(fx),
              total: h.length,
              page: 1,
              limit: h.length,
              totalPages: 1,
            };
            l(us);
          }
        }),
        (p = [h]),
        (e[10] = h),
        (e[11] = g),
        (e[12] = p))
      : ((g = e[11]), (p = e[12])),
      ps.useEffect(g, p);
    const E = px,
      z = xx,
      N = jx,
      R = yx,
      F = bx,
      V = vx;
    let $;
    e[13] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = (us) => {
          r(us);
        }),
        (e[13] = $))
      : ($ = e[13]);
    const Q = $;
    let M;
    e[14] === Symbol.for("react.memo_cache_sentinel")
      ? ((M = (us) => {
          _(us);
        }),
        (e[14] = M))
      : (M = e[14]);
    const L = M;
    let q;
    e[15] === Symbol.for("react.memo_cache_sentinel")
      ? ((q = () => {
          r({
            page: 1,
            limit: 10,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
          });
        }),
        (e[15] = q))
      : (q = e[15]);
    const D = q;
    let K;
    e[16] === Symbol.for("react.memo_cache_sentinel")
      ? ((K = () => {
          _({
            page: 1,
            limit: 10,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
          });
        }),
        (e[16] = K))
      : (K = e[16]);
    const H = K,
      B = (x == null ? void 0 : x.length) || 0;
    let Z;
    e[17] !== x
      ? ((Z = (x == null ? void 0 : x.filter(Sx).length) || 0),
        (e[17] = x),
        (e[18] = Z))
      : (Z = e[18]);
    const J = Z;
    let se;
    e[19] !== x
      ? ((se = (x == null ? void 0 : x.filter(_x).length) || 0),
        (e[19] = x),
        (e[20] = se))
      : (se = e[20]);
    const ee = se;
    let te;
    e[21] !== x
      ? ((te = (x == null ? void 0 : x.filter(Cx).length) || 0),
        (e[21] = x),
        (e[22] = te))
      : (te = e[22]);
    const X = te;
    let I,
      O,
      U,
      re,
      de,
      ue,
      he,
      ne,
      pe,
      ae,
      ve,
      je,
      ce,
      xe,
      Te,
      Pe,
      Se,
      ke,
      Le,
      De,
      me,
      Fe,
      be,
      Me,
      Qe,
      $e,
      Ye,
      we,
      Ae,
      We,
      Ke,
      Ze,
      Re,
      ge,
      et,
      lt,
      qe,
      it,
      ze,
      ot,
      dt,
      ct,
      bt,
      _t,
      gt,
      ft,
      St,
      ht,
      pt,
      xt;
    if (
      e[23] !== x ||
      e[24] !== J ||
      e[25] !== X ||
      e[26] !== T ||
      e[27] !== ee ||
      e[28] !== B ||
      e[29] !== C ||
      e[30] !== h
    ) {
      St = Symbol.for("react.early_return_sentinel");
      e: {
        const us = (x == null ? void 0 : x.reduce(Tx, 0)) || 0,
          qi = (h == null ? void 0 : h.length) || 0,
          gr = (h == null ? void 0 : h.filter(wx).reduce(Ax, 0)) || 0;
        let Zn, ei;
        e[81] === Symbol.for("react.memo_cache_sentinel")
          ? ((Zn = {
              key: "pageId",
              label: "ID Trang",
              sortable: !0,
              render: Ex,
            }),
            (ei = {
              key: "agentUserId",
              label: "Đại lý",
              sortable: !0,
              render: Px,
            }),
            (e[81] = Zn),
            (e[82] = ei))
          : ((Zn = e[81]), (ei = e[82]));
        let ti, si;
        e[83] === Symbol.for("react.memo_cache_sentinel")
          ? ((ti = {
              key: "tier",
              label: "Gói",
              sortable: !0,
              render: (gs) =>
                s.jsx(Be, { colorScheme: E(gs.tier), children: z(gs.tier) }),
            }),
            (si = {
              key: "chargedCents",
              label: "Phí",
              sortable: !0,
              render: kx,
            }),
            (e[83] = ti),
            (e[84] = si))
          : ((ti = e[83]), (si = e[84]));
        let ni;
        e[85] === Symbol.for("react.memo_cache_sentinel")
          ? ((ni = [
              Zn,
              ei,
              ti,
              si,
              {
                key: "handoffStatus",
                label: "Trạng thái",
                sortable: !0,
                render: (gs) =>
                  s.jsx(Be, {
                    colorScheme: F(gs.handoffStatus),
                    children: V(gs.handoffStatus),
                  }),
              },
              { key: "createdAt", label: "Ngày tạo", sortable: !0, render: Nx },
              {
                key: "handoffAt",
                label: "Ngày bàn giao",
                sortable: !0,
                render: Dx,
              },
            ]),
            (e[85] = ni))
          : (ni = e[85]),
          (je = ni);
        let ii;
        e[86] === Symbol.for("react.memo_cache_sentinel")
          ? ((ii = [
              {
                key: "view",
                label: "Xem",
                icon: s.jsx(Cl, {}),
                variant: "ghost",
                colorScheme: "blue",
                onClick: Lx,
              },
            ]),
            (e[86] = ii))
          : (ii = e[86]),
          (ve = ii);
        let li;
        e[87] === Symbol.for("react.memo_cache_sentinel")
          ? ((li = [
              ls("Tìm theo ID trang, đại lý..."),
              Rt("handoffStatus", "Trạng thái bàn giao", [
                { value: "", label: "Tất cả trạng thái" },
                { value: "draft", label: "Bản nháp" },
                { value: "ready", label: "Sẵn sàng" },
                { value: "handed", label: "Đã bàn giao" },
              ]),
            ]),
            (e[87] = li))
          : (li = e[87]),
          (ce = li);
        let ai;
        e[88] === Symbol.for("react.memo_cache_sentinel")
          ? ((ai = {
              key: "userId",
              label: "Đại lý",
              sortable: !0,
              render: zx,
            }),
            (e[88] = ai))
          : (ai = e[88]);
        let ri;
        e[89] === Symbol.for("react.memo_cache_sentinel")
          ? ((ri = [
              ai,
              {
                key: "type",
                label: "Loại",
                sortable: !0,
                render: (gs) =>
                  s.jsx(Be, { colorScheme: N(gs.type), children: R(gs.type) }),
              },
              {
                key: "amountCents",
                label: "Số tiền",
                sortable: !0,
                render: Fx,
              },
              {
                key: "balanceAfterCents",
                label: "Số dư sau",
                sortable: !0,
                render: Rx,
              },
              { key: "note", label: "Ghi chú", sortable: !1, render: Ox },
              { key: "createdAt", label: "Ngày", sortable: !0, render: Ix },
            ]),
            (e[89] = ri))
          : (ri = e[89]),
          (pt = ri);
        let oi;
        e[90] === Symbol.for("react.memo_cache_sentinel")
          ? ((oi = [
              {
                key: "view",
                label: "Xem",
                icon: s.jsx(Cl, {}),
                variant: "ghost",
                colorScheme: "blue",
                onClick: Vx,
              },
            ]),
            (e[90] = oi))
          : (oi = e[90]),
          (ht = oi);
        let ci;
        if (
          (e[91] === Symbol.for("react.memo_cache_sentinel")
            ? ((ci = [
                ls("Tìm theo đại lý, ghi chú..."),
                Rt("type", "Loại giao dịch", [
                  { value: "", label: "Tất cả loại" },
                  { value: "admin_adjust", label: "Điều chỉnh" },
                  { value: "create_page_charge", label: "Tạo trang" },
                  { value: "refund", label: "Hoàn tiền" },
                ]),
              ]),
              (e[91] = ci))
            : (ci = e[91]),
          (xt = ci),
          T || C)
        ) {
          let gs;
          e[92] === Symbol.for("react.memo_cache_sentinel")
            ? ((gs = s.jsx(y, {
                className: "flex justify-center items-center h-64",
                children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
              })),
              (e[92] = gs))
            : (gs = e[92]),
            (St = gs);
          break e;
        }
        (ae = y),
          (ft = "p-6 bg-gray-50 min-h-screen"),
          (pe = y),
          (_t = "max-w-7xl mx-auto"),
          e[93] === Symbol.for("react.memo_cache_sentinel")
            ? ((gt = s.jsxs(y, {
                className: "mb-6",
                children: [
                  s.jsx(i, {
                    className:
                      "text-3xl font-bold text-gray-800 font-[Quicksand,sans-serif] mb-2",
                    children: "Phân tích đại lý",
                  }),
                  s.jsx(i, {
                    className: "text-gray-600 font-[Quicksand,sans-serif]",
                    children: "Theo dõi hoạt động và hiệu suất của các đại lý",
                  }),
                ],
              })),
              (e[93] = gt))
            : (gt = e[93]),
          (ne = tt),
          (lt = "white"),
          (qe = "xl"),
          (it = "lg"),
          (ze = "1px solid"),
          (ot = "gray.200"),
          (dt = 6),
          (ct = "hidden"),
          e[94] === Symbol.for("react.memo_cache_sentinel")
            ? ((bt = s.jsx(Yt, {
                bg: "blue.50",
                borderBottom: "1px solid",
                borderColor: "blue.200",
                py: 4,
                px: 6,
                children: s.jsx(i, {
                  fontSize: { base: "sm", md: "md" },
                  fontWeight: "bold",
                  color: "blue.600",
                  children: "📊 Thống kê hoạt động đại lý",
                }),
              })),
              (e[94] = bt))
            : (bt = e[94]),
          (he = st),
          (et = 6),
          (ue = Kt),
          e[95] === Symbol.for("react.memo_cache_sentinel")
            ? ((Ke = {
                base: "repeat(1, 1fr)",
                sm: "repeat(2, 1fr)",
                lg: "repeat(4, 1fr)",
              }),
              (Ze = { base: 4, md: 6 }),
              (e[95] = Ke),
              (e[96] = Ze))
            : ((Ke = e[95]), (Ze = e[96]));
        let di;
        e[97] === Symbol.for("react.memo_cache_sentinel")
          ? ((di = { shadow: "xl", transform: "translateY(-2px)" }),
            (e[97] = di))
          : (di = e[97]);
        let hi;
        e[98] === Symbol.for("react.memo_cache_sentinel")
          ? ((hi = { base: 4, md: 6 }), (e[98] = hi))
          : (hi = e[98]);
        let mi;
        e[99] === Symbol.for("react.memo_cache_sentinel")
          ? ((mi = s.jsx(i, {
              fontSize: { base: "xs", md: "sm" },
              opacity: 0.9,
              fontWeight: "medium",
              textTransform: "uppercase",
              letterSpacing: "wide",
              children: "TỔNG SỐ TRANG",
            })),
            (e[99] = mi))
          : (mi = e[99]);
        let ui;
        e[100] === Symbol.for("react.memo_cache_sentinel")
          ? ((ui = { base: "xl", md: "2xl" }), (e[100] = ui))
          : (ui = e[100]);
        let un;
        e[101] !== B
          ? ((un = s.jsx(i, {
              fontSize: ui,
              fontWeight: "bold",
              lineHeight: "shorter",
              children: B,
            })),
            (e[101] = B),
            (e[102] = un))
          : (un = e[102]);
        let gi;
        e[103] === Symbol.for("react.memo_cache_sentinel")
          ? ((gi = { base: "xs", md: "sm" }), (e[103] = gi))
          : (gi = e[103]);
        let gn;
        e[104] !== J || e[105] !== X || e[106] !== ee
          ? ((gn = s.jsxs(i, {
              fontSize: gi,
              opacity: 0.8,
              children: [J, " nháp, ", ee, " sẵn sàng, ", X, " đã bàn giao"],
            })),
            (e[104] = J),
            (e[105] = X),
            (e[106] = ee),
            (e[107] = gn))
          : (gn = e[107]);
        let fn;
        e[108] !== un || e[109] !== gn
          ? ((fn = s.jsxs(le, {
              align: "start",
              gap: 1,
              children: [mi, un, gn],
            })),
            (e[108] = un),
            (e[109] = gn),
            (e[110] = fn))
          : (fn = e[110]);
        let fi;
        e[111] === Symbol.for("react.memo_cache_sentinel")
          ? ((fi = s.jsx(vt, {
              as: Ea,
              boxSize: { base: 6, md: 8 },
              opacity: 0.8,
            })),
            (e[111] = fi))
          : (fi = e[111]),
          e[112] !== fn
            ? ((Re = s.jsx(tt, {
                bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                color: "white",
                borderRadius: "xl",
                shadow: "lg",
                overflow: "hidden",
                _hover: di,
                transition: "all 0.3s ease",
                children: s.jsx(st, {
                  p: hi,
                  children: s.jsxs(rt, {
                    justify: "space-between",
                    align: "start",
                    children: [fn, fi],
                  }),
                }),
              })),
              (e[112] = fn),
              (e[113] = Re))
            : (Re = e[113]);
        let pi;
        e[114] === Symbol.for("react.memo_cache_sentinel")
          ? ((pi = { shadow: "xl", transform: "translateY(-2px)" }),
            (e[114] = pi))
          : (pi = e[114]);
        let xi;
        e[115] === Symbol.for("react.memo_cache_sentinel")
          ? ((xi = { base: 4, md: 6 }), (e[115] = xi))
          : (xi = e[115]);
        let ji;
        e[116] === Symbol.for("react.memo_cache_sentinel")
          ? ((ji = s.jsx(i, {
              fontSize: { base: "xs", md: "sm" },
              opacity: 0.9,
              fontWeight: "medium",
              textTransform: "uppercase",
              letterSpacing: "wide",
              children: "TỔNG DOANH THU",
            })),
            (e[116] = ji))
          : (ji = e[116]);
        let yi;
        e[117] === Symbol.for("react.memo_cache_sentinel")
          ? ((yi = { base: "xl", md: "2xl" }), (e[117] = yi))
          : (yi = e[117]);
        const Ui = bn(us);
        let pn;
        e[118] !== Ui
          ? ((pn = s.jsx(i, {
              fontSize: yi,
              fontWeight: "bold",
              lineHeight: "shorter",
              children: Ui,
            })),
            (e[118] = Ui),
            (e[119] = pn))
          : (pn = e[119]);
        let bi;
        e[120] === Symbol.for("react.memo_cache_sentinel")
          ? ((bi = s.jsx(i, {
              fontSize: { base: "xs", md: "sm" },
              opacity: 0.8,
              children: "Từ việc tạo trang",
            })),
            (e[120] = bi))
          : (bi = e[120]);
        let xn;
        e[121] !== pn
          ? ((xn = s.jsxs(le, {
              align: "start",
              gap: 1,
              children: [ji, pn, bi],
            })),
            (e[121] = pn),
            (e[122] = xn))
          : (xn = e[122]);
        let vi;
        e[123] === Symbol.for("react.memo_cache_sentinel")
          ? ((vi = s.jsx(vt, {
              as: wn,
              boxSize: { base: 6, md: 8 },
              opacity: 0.8,
            })),
            (e[123] = vi))
          : (vi = e[123]),
          e[124] !== xn
            ? ((ge = s.jsx(tt, {
                bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                color: "white",
                borderRadius: "xl",
                shadow: "lg",
                overflow: "hidden",
                _hover: pi,
                transition: "all 0.3s ease",
                children: s.jsx(st, {
                  p: xi,
                  children: s.jsxs(rt, {
                    justify: "space-between",
                    align: "start",
                    children: [xn, vi],
                  }),
                }),
              })),
              (e[124] = xn),
              (e[125] = ge))
            : (ge = e[125]),
          (de = tt),
          (Me = "linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"),
          (Qe = "white"),
          ($e = "xl"),
          (Ye = "lg"),
          (we = "hidden"),
          e[126] === Symbol.for("react.memo_cache_sentinel")
            ? ((Ae = { shadow: "xl", transform: "translateY(-2px)" }),
              (e[126] = Ae))
            : (Ae = e[126]),
          (We = "all 0.3s ease"),
          (re = st),
          e[127] === Symbol.for("react.memo_cache_sentinel")
            ? ((be = { base: 4, md: 6 }), (e[127] = be))
            : (be = e[127]),
          (U = rt),
          (me = "space-between"),
          (Fe = "start"),
          (O = le),
          (Se = "start"),
          (ke = 1),
          e[128] === Symbol.for("react.memo_cache_sentinel")
            ? ((Le = s.jsx(i, {
                fontSize: { base: "xs", md: "sm" },
                opacity: 0.9,
                fontWeight: "medium",
                textTransform: "uppercase",
                letterSpacing: "wide",
                children: "GIAO DỊCH VÍ",
              })),
              (e[128] = Le))
            : (Le = e[128]);
        let Si;
        e[129] === Symbol.for("react.memo_cache_sentinel")
          ? ((Si = { base: "xl", md: "2xl" }), (e[129] = Si))
          : (Si = e[129]),
          e[130] !== qi
            ? ((De = s.jsx(i, {
                fontSize: Si,
                fontWeight: "bold",
                lineHeight: "shorter",
                children: qi,
              })),
              (e[130] = qi),
              (e[131] = De))
            : (De = e[131]),
          (I = i),
          e[132] === Symbol.for("react.memo_cache_sentinel")
            ? ((xe = { base: "xs", md: "sm" }), (e[132] = xe))
            : (xe = e[132]),
          (Te = 0.8),
          (Pe = bn(gr));
      }
      (e[23] = x),
        (e[24] = J),
        (e[25] = X),
        (e[26] = T),
        (e[27] = ee),
        (e[28] = B),
        (e[29] = C),
        (e[30] = h),
        (e[31] = I),
        (e[32] = O),
        (e[33] = U),
        (e[34] = re),
        (e[35] = de),
        (e[36] = ue),
        (e[37] = he),
        (e[38] = ne),
        (e[39] = pe),
        (e[40] = ae),
        (e[41] = ve),
        (e[42] = je),
        (e[43] = ce),
        (e[44] = xe),
        (e[45] = Te),
        (e[46] = Pe),
        (e[47] = Se),
        (e[48] = ke),
        (e[49] = Le),
        (e[50] = De),
        (e[51] = me),
        (e[52] = Fe),
        (e[53] = be),
        (e[54] = Me),
        (e[55] = Qe),
        (e[56] = $e),
        (e[57] = Ye),
        (e[58] = we),
        (e[59] = Ae),
        (e[60] = We),
        (e[61] = Ke),
        (e[62] = Ze),
        (e[63] = Re),
        (e[64] = ge),
        (e[65] = et),
        (e[66] = lt),
        (e[67] = qe),
        (e[68] = it),
        (e[69] = ze),
        (e[70] = ot),
        (e[71] = dt),
        (e[72] = ct),
        (e[73] = bt),
        (e[74] = _t),
        (e[75] = gt),
        (e[76] = ft),
        (e[77] = St),
        (e[78] = ht),
        (e[79] = pt),
        (e[80] = xt);
    } else
      (I = e[31]),
        (O = e[32]),
        (U = e[33]),
        (re = e[34]),
        (de = e[35]),
        (ue = e[36]),
        (he = e[37]),
        (ne = e[38]),
        (pe = e[39]),
        (ae = e[40]),
        (ve = e[41]),
        (je = e[42]),
        (ce = e[43]),
        (xe = e[44]),
        (Te = e[45]),
        (Pe = e[46]),
        (Se = e[47]),
        (ke = e[48]),
        (Le = e[49]),
        (De = e[50]),
        (me = e[51]),
        (Fe = e[52]),
        (be = e[53]),
        (Me = e[54]),
        (Qe = e[55]),
        ($e = e[56]),
        (Ye = e[57]),
        (we = e[58]),
        (Ae = e[59]),
        (We = e[60]),
        (Ke = e[61]),
        (Ze = e[62]),
        (Re = e[63]),
        (ge = e[64]),
        (et = e[65]),
        (lt = e[66]),
        (qe = e[67]),
        (it = e[68]),
        (ze = e[69]),
        (ot = e[70]),
        (dt = e[71]),
        (ct = e[72]),
        (bt = e[73]),
        (_t = e[74]),
        (gt = e[75]),
        (ft = e[76]),
        (St = e[77]),
        (ht = e[78]),
        (pt = e[79]),
        (xt = e[80]);
    if (St !== Symbol.for("react.early_return_sentinel")) return St;
    let jt;
    e[133] !== I || e[134] !== xe || e[135] !== Te || e[136] !== Pe
      ? ((jt = s.jsxs(I, {
          fontSize: xe,
          opacity: Te,
          children: [Pe, " đã nạp"],
        })),
        (e[133] = I),
        (e[134] = xe),
        (e[135] = Te),
        (e[136] = Pe),
        (e[137] = jt))
      : (jt = e[137]);
    let Ct;
    e[138] !== O ||
    e[139] !== Se ||
    e[140] !== ke ||
    e[141] !== Le ||
    e[142] !== De ||
    e[143] !== jt
      ? ((Ct = s.jsxs(O, { align: Se, gap: ke, children: [Le, De, jt] })),
        (e[138] = O),
        (e[139] = Se),
        (e[140] = ke),
        (e[141] = Le),
        (e[142] = De),
        (e[143] = jt),
        (e[144] = Ct))
      : (Ct = e[144]);
    let Tt;
    e[145] === Symbol.for("react.memo_cache_sentinel")
      ? ((Tt = s.jsx(vt, {
          as: Aa,
          boxSize: { base: 6, md: 8 },
          opacity: 0.8,
        })),
        (e[145] = Tt))
      : (Tt = e[145]);
    let Et;
    e[146] !== U || e[147] !== me || e[148] !== Fe || e[149] !== Ct
      ? ((Et = s.jsxs(U, { justify: me, align: Fe, children: [Ct, Tt] })),
        (e[146] = U),
        (e[147] = me),
        (e[148] = Fe),
        (e[149] = Ct),
        (e[150] = Et))
      : (Et = e[150]);
    let oe;
    e[151] !== re || e[152] !== be || e[153] !== Et
      ? ((oe = s.jsx(re, { p: be, children: Et })),
        (e[151] = re),
        (e[152] = be),
        (e[153] = Et),
        (e[154] = oe))
      : (oe = e[154]);
    let Ie;
    e[155] !== de ||
    e[156] !== Me ||
    e[157] !== Qe ||
    e[158] !== $e ||
    e[159] !== Ye ||
    e[160] !== we ||
    e[161] !== Ae ||
    e[162] !== We ||
    e[163] !== oe
      ? ((Ie = s.jsx(de, {
          bg: Me,
          color: Qe,
          borderRadius: $e,
          shadow: Ye,
          overflow: we,
          _hover: Ae,
          transition: We,
          children: oe,
        })),
        (e[155] = de),
        (e[156] = Me),
        (e[157] = Qe),
        (e[158] = $e),
        (e[159] = Ye),
        (e[160] = we),
        (e[161] = Ae),
        (e[162] = We),
        (e[163] = oe),
        (e[164] = Ie))
      : (Ie = e[164]);
    let Lt;
    e[165] === Symbol.for("react.memo_cache_sentinel")
      ? ((Lt = { shadow: "xl", transform: "translateY(-2px)" }), (e[165] = Lt))
      : (Lt = e[165]);
    let Dt;
    e[166] === Symbol.for("react.memo_cache_sentinel")
      ? ((Dt = { base: 4, md: 6 }), (e[166] = Dt))
      : (Dt = e[166]);
    let Gt;
    e[167] === Symbol.for("react.memo_cache_sentinel")
      ? ((Gt = s.jsx(i, {
          fontSize: { base: "xs", md: "sm" },
          opacity: 0.9,
          fontWeight: "medium",
          textTransform: "uppercase",
          letterSpacing: "wide",
          children: "TỶ LỆ BÀN GIAO",
        })),
        (e[167] = Gt))
      : (Gt = e[167]);
    let Vt;
    e[168] === Symbol.for("react.memo_cache_sentinel")
      ? ((Vt = { base: "xl", md: "2xl" }), (e[168] = Vt))
      : (Vt = e[168]);
    let mt;
    e[169] !== X || e[170] !== B
      ? ((mt = B > 0 ? Math.round((X / B) * 100) : 0),
        (e[169] = X),
        (e[170] = B),
        (e[171] = mt))
      : (mt = e[171]);
    let $t;
    e[172] !== mt
      ? (($t = s.jsxs(i, {
          fontSize: Vt,
          fontWeight: "bold",
          lineHeight: "shorter",
          children: [mt, "%"],
        })),
        (e[172] = mt),
        (e[173] = $t))
      : ($t = e[173]);
    let ts;
    e[174] === Symbol.for("react.memo_cache_sentinel")
      ? ((ts = s.jsx(i, {
          fontSize: { base: "xs", md: "sm" },
          opacity: 0.8,
          children: "Trang đã bàn giao",
        })),
        (e[174] = ts))
      : (ts = e[174]);
    let Ge;
    e[175] !== $t
      ? ((Ge = s.jsxs(le, { align: "start", gap: 1, children: [Gt, $t, ts] })),
        (e[175] = $t),
        (e[176] = Ge))
      : (Ge = e[176]);
    let Pt;
    e[177] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pt = s.jsx(vt, {
          as: Fr,
          boxSize: { base: 6, md: 8 },
          opacity: 0.8,
        })),
        (e[177] = Pt))
      : (Pt = e[177]);
    let qt;
    e[178] !== Ge
      ? ((qt = s.jsx(tt, {
          bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
          color: "white",
          borderRadius: "xl",
          shadow: "lg",
          overflow: "hidden",
          _hover: Lt,
          transition: "all 0.3s ease",
          children: s.jsx(st, {
            p: Dt,
            children: s.jsxs(rt, {
              justify: "space-between",
              align: "start",
              children: [Ge, Pt],
            }),
          }),
        })),
        (e[178] = Ge),
        (e[179] = qt))
      : (qt = e[179]);
    let Ht;
    e[180] !== ue ||
    e[181] !== Ke ||
    e[182] !== Ze ||
    e[183] !== Re ||
    e[184] !== ge ||
    e[185] !== Ie ||
    e[186] !== qt
      ? ((Ht = s.jsxs(ue, {
          templateColumns: Ke,
          gap: Ze,
          children: [Re, ge, Ie, qt],
        })),
        (e[180] = ue),
        (e[181] = Ke),
        (e[182] = Ze),
        (e[183] = Re),
        (e[184] = ge),
        (e[185] = Ie),
        (e[186] = qt),
        (e[187] = Ht))
      : (Ht = e[187]);
    let Ut;
    e[188] !== he || e[189] !== et || e[190] !== Ht
      ? ((Ut = s.jsx(he, { p: et, children: Ht })),
        (e[188] = he),
        (e[189] = et),
        (e[190] = Ht),
        (e[191] = Ut))
      : (Ut = e[191]);
    let zt;
    e[192] !== ne ||
    e[193] !== lt ||
    e[194] !== qe ||
    e[195] !== it ||
    e[196] !== ze ||
    e[197] !== ot ||
    e[198] !== dt ||
    e[199] !== ct ||
    e[200] !== bt ||
    e[201] !== Ut
      ? ((zt = s.jsxs(ne, {
          bg: lt,
          borderRadius: qe,
          shadow: it,
          border: ze,
          borderColor: ot,
          mb: dt,
          overflow: ct,
          children: [bt, Ut],
        })),
        (e[192] = ne),
        (e[193] = lt),
        (e[194] = qe),
        (e[195] = it),
        (e[196] = ze),
        (e[197] = ot),
        (e[198] = dt),
        (e[199] = ct),
        (e[200] = bt),
        (e[201] = Ut),
        (e[202] = zt))
      : (zt = e[202]);
    let Bt;
    e[203] === Symbol.for("react.memo_cache_sentinel")
      ? ((Bt = s.jsx(Yt, {
          bg: "gray.50",
          borderBottom: "1px solid",
          borderColor: "gray.200",
          py: 4,
          px: 6,
          children: s.jsx(i, {
            fontSize: { base: "sm", md: "md" },
            fontWeight: "bold",
            color: "gray.700",
            children: "🔍 Bộ lọc toàn cục",
          }),
        })),
        (e[203] = Bt))
      : (Bt = e[203]);
    let rs;
    e[204] === Symbol.for("react.memo_cache_sentinel")
      ? ((rs = s.jsx(i, {
          className: "text-sm font-medium text-gray-700 mb-2",
          children: "Lọc theo đại lý",
        })),
        (e[204] = rs))
      : (rs = e[204]);
    let Ft;
    e[205] !== d
      ? ((Ft = (d == null ? void 0 : d.toString()) || ""),
        (e[205] = d),
        (e[206] = Ft))
      : (Ft = e[206]);
    let os, ss, xs, Ps, Ue;
    e[207] === Symbol.for("react.memo_cache_sentinel")
      ? ((os = (us) => f(us.target.value ? parseInt(us.target.value) : void 0)),
        (ss = s.jsx("option", { value: "", children: "Tất cả đại lý" })),
        (xs = s.jsx("option", { value: "1", children: "Đại lý #1" })),
        (Ps = s.jsx("option", { value: "2", children: "Đại lý #2" })),
        (Ue = s.jsx("option", { value: "3", children: "Đại lý #3" })),
        (e[207] = os),
        (e[208] = ss),
        (e[209] = xs),
        (e[210] = Ps),
        (e[211] = Ue))
      : ((os = e[207]),
        (ss = e[208]),
        (xs = e[209]),
        (Ps = e[210]),
        (Ue = e[211]));
    let ut;
    e[212] !== Ft
      ? ((ut = s.jsxs(Jt, {
          value: Ft,
          onChange: os,
          children: [ss, xs, Ps, Ue],
        })),
        (e[212] = Ft),
        (e[213] = ut))
      : (ut = e[213]);
    let ms;
    e[214] === Symbol.for("react.memo_cache_sentinel")
      ? ((ms = s.jsx(Zt, {})), (e[214] = ms))
      : (ms = e[214]);
    let js;
    e[215] !== ut
      ? ((js = s.jsxs(y, {
          children: [
            rs,
            s.jsxs(es, { size: "sm", width: "200px", children: [ut, ms] }),
          ],
        })),
        (e[215] = ut),
        (e[216] = js))
      : (js = e[216]);
    let Wn;
    e[217] === Symbol.for("react.memo_cache_sentinel")
      ? ((Wn = s.jsx(i, {
          className: "text-sm font-medium text-gray-700 mb-2",
          children: "Trạng thái bàn giao",
        })),
        (e[217] = Wn))
      : (Wn = e[217]);
    let qn, Un, Bn, Qn, Kn;
    e[218] === Symbol.for("react.memo_cache_sentinel")
      ? ((qn = (us) => P(us.target.value)),
        (Un = s.jsx("option", { value: "", children: "Tất cả trạng thái" })),
        (Bn = s.jsx("option", { value: "draft", children: "Bản nháp" })),
        (Qn = s.jsx("option", { value: "ready", children: "Sẵn sàng" })),
        (Kn = s.jsx("option", { value: "handed", children: "Đã bàn giao" })),
        (e[218] = qn),
        (e[219] = Un),
        (e[220] = Bn),
        (e[221] = Qn),
        (e[222] = Kn))
      : ((qn = e[218]),
        (Un = e[219]),
        (Bn = e[220]),
        (Qn = e[221]),
        (Kn = e[222]));
    let rn;
    e[223] !== b
      ? ((rn = s.jsxs(Jt, {
          value: b,
          onChange: qn,
          children: [Un, Bn, Qn, Kn],
        })),
        (e[223] = b),
        (e[224] = rn))
      : (rn = e[224]);
    let Gn;
    e[225] === Symbol.for("react.memo_cache_sentinel")
      ? ((Gn = s.jsx(Zt, {})), (e[225] = Gn))
      : (Gn = e[225]);
    let on;
    e[226] !== rn
      ? ((on = s.jsxs(y, {
          children: [
            Wn,
            s.jsxs(es, { size: "sm", width: "200px", children: [rn, Gn] }),
          ],
        })),
        (e[226] = rn),
        (e[227] = on))
      : (on = e[227]);
    let Hn;
    e[228] === Symbol.for("react.memo_cache_sentinel")
      ? ((Hn = s.jsxs(Y, {
          colorScheme: "blue",
          variant: "outline",
          children: [s.jsx(Rr, {}), "Áp dụng bộ lọc"],
        })),
        (e[228] = Hn))
      : (Hn = e[228]);
    let cn;
    e[229] !== js || e[230] !== on
      ? ((cn = s.jsxs(tt, {
          bg: "white",
          borderRadius: "xl",
          shadow: "lg",
          border: "1px solid",
          borderColor: "gray.200",
          mb: 6,
          overflow: "hidden",
          children: [
            Bt,
            s.jsx(st, {
              p: 6,
              children: s.jsxs(W, {
                gap: 4,
                align: "end",
                flexWrap: "wrap",
                children: [js, on, Hn],
              }),
            }),
          ],
        })),
        (e[229] = js),
        (e[230] = on),
        (e[231] = cn))
      : (cn = e[231]);
    let Yn;
    e[232] === Symbol.for("react.memo_cache_sentinel")
      ? ((Yn = [10, 25, 50, 100]), (e[232] = Yn))
      : (Yn = e[232]);
    let dn;
    e[233] !== ve ||
    e[234] !== je ||
    e[235] !== ce ||
    e[236] !== m ||
    e[237] !== t ||
    e[238] !== T
      ? ((dn = s.jsx(as, {
          data: t,
          isLoading: T,
          columns: je,
          actions: ve,
          filterFields: ce,
          currentFilters: m,
          onFiltersChange: Q,
          onResetFilters: D,
          title: "Trang đại lý",
          subtitle: "Danh sách các trang được tạo bởi đại lý",
          emptyMessage: "Không có trang đại lý nào",
          loadingMessage: "Đang tải danh sách trang đại lý...",
          showMobileCards: !0,
          enableSorting: !0,
          enablePagination: !0,
          enablePageSizeSelector: !0,
          pageSizeOptions: Yn,
          defaultPageSize: 10,
          showFilter: !0,
          showResetButton: !0,
          resetButtonText: "Đặt lại bộ lọc",
        })),
        (e[233] = ve),
        (e[234] = je),
        (e[235] = ce),
        (e[236] = m),
        (e[237] = t),
        (e[238] = T),
        (e[239] = dn))
      : (dn = e[239]);
    let Xn;
    e[240] === Symbol.for("react.memo_cache_sentinel")
      ? ((Xn = [10, 25, 50, 100]), (e[240] = Xn))
      : (Xn = e[240]);
    let hn;
    e[241] !== C ||
    e[242] !== ht ||
    e[243] !== pt ||
    e[244] !== xt ||
    e[245] !== u ||
    e[246] !== a
      ? ((hn = s.jsx(y, {
          className: "mt-8",
          children: s.jsx(as, {
            data: a,
            isLoading: C,
            columns: pt,
            actions: ht,
            filterFields: xt,
            currentFilters: u,
            onFiltersChange: L,
            onResetFilters: H,
            title: "Giao dịch ví",
            subtitle: "Lịch sử giao dịch ví của các đại lý",
            emptyMessage: "Không có giao dịch ví nào",
            loadingMessage: "Đang tải danh sách giao dịch ví...",
            showMobileCards: !0,
            enableSorting: !0,
            enablePagination: !0,
            enablePageSizeSelector: !0,
            pageSizeOptions: Xn,
            defaultPageSize: 10,
            showFilter: !0,
            showResetButton: !0,
            resetButtonText: "Đặt lại bộ lọc",
          }),
        })),
        (e[241] = C),
        (e[242] = ht),
        (e[243] = pt),
        (e[244] = xt),
        (e[245] = u),
        (e[246] = a),
        (e[247] = hn))
      : (hn = e[247]);
    let mn;
    e[248] !== pe ||
    e[249] !== _t ||
    e[250] !== gt ||
    e[251] !== zt ||
    e[252] !== cn ||
    e[253] !== dn ||
    e[254] !== hn
      ? ((mn = s.jsxs(pe, { className: _t, children: [gt, zt, cn, dn, hn] })),
        (e[248] = pe),
        (e[249] = _t),
        (e[250] = gt),
        (e[251] = zt),
        (e[252] = cn),
        (e[253] = dn),
        (e[254] = hn),
        (e[255] = mn))
      : (mn = e[255]);
    let Jn;
    return (
      e[256] !== ae || e[257] !== ft || e[258] !== mn
        ? ((Jn = s.jsx(ae, { className: ft, children: mn })),
          (e[256] = ae),
          (e[257] = ft),
          (e[258] = mn),
          (e[259] = Jn))
        : (Jn = e[259]),
      Jn
    );
  };
function gx(e) {
  return {
    ...e,
    id: e.id,
    createdAt:
      typeof e.createdAt == "string" ? e.createdAt : e.createdAt.toISOString(),
    handoffAt: e.handoffAt
      ? typeof e.handoffAt == "string"
        ? e.handoffAt
        : e.handoffAt.toISOString()
      : void 0,
  };
}
function fx(e) {
  return {
    ...e,
    id: e.id,
    createdAt:
      typeof e.createdAt == "string" ? e.createdAt : e.createdAt.toISOString(),
  };
}
function px(e) {
  switch (e) {
    case "free":
      return "green";
    case "pro":
      return "blue";
    case "vip":
      return "purple";
    default:
      return "gray";
  }
}
function xx(e) {
  switch (e) {
    case "free":
      return "Miễn phí";
    case "pro":
      return "Chuyên nghiệp";
    case "vip":
      return "VIP";
    default:
      return e;
  }
}
function jx(e) {
  switch (e) {
    case "admin_adjust":
      return "blue";
    case "create_page_charge":
      return "red";
    case "refund":
      return "green";
    default:
      return "gray";
  }
}
function yx(e) {
  switch (e) {
    case "admin_adjust":
      return "Điều chỉnh";
    case "create_page_charge":
      return "Tạo trang";
    case "refund":
      return "Hoàn tiền";
    default:
      return e;
  }
}
function bx(e) {
  switch (e) {
    case "draft":
      return "orange";
    case "ready":
      return "blue";
    case "handed":
      return "green";
    default:
      return "gray";
  }
}
function vx(e) {
  switch (e) {
    case "draft":
      return "Bản nháp";
    case "ready":
      return "Sẵn sàng";
    case "handed":
      return "Đã bàn giao";
    default:
      return e;
  }
}
function Sx(e) {
  return e.handoffStatus === "draft";
}
function _x(e) {
  return e.handoffStatus === "ready";
}
function Cx(e) {
  return e.handoffStatus === "handed";
}
function Tx(e, t) {
  return e + t.chargedCents;
}
function wx(e) {
  return e.type === "admin_adjust";
}
function Ax(e, t) {
  return e + t.amountCents;
}
function Ex(e) {
  return s.jsxs(i, {
    className: "font-medium",
    fontFamily: "Quicksand, sans-serif",
    children: ["#", e.pageId],
  });
}
function Px(e) {
  return s.jsxs(i, {
    fontFamily: "Quicksand, sans-serif",
    children: ["Đại lý #", e.agentUserId],
  });
}
function kx(e) {
  return s.jsx(i, {
    className: "font-medium",
    fontFamily: "Quicksand, sans-serif",
    children: bn(e.chargedCents),
  });
}
function Nx(e) {
  return s.jsx(i, {
    fontFamily: "Quicksand, sans-serif",
    children: new Date(e.createdAt).toLocaleDateString("vi-VN"),
  });
}
function Dx(e) {
  return s.jsx(i, {
    fontFamily: "Quicksand, sans-serif",
    children: e.handoffAt
      ? new Date(e.handoffAt).toLocaleDateString("vi-VN")
      : "-",
  });
}
function Lx(e) {}
function zx(e) {
  return s.jsxs(i, {
    fontFamily: "Quicksand, sans-serif",
    children: ["Đại lý #", e.userId],
  });
}
function Fx(e) {
  return s.jsxs(i, {
    className: `font-medium ${
      e.amountCents >= 0 ? "text-green-600" : "text-red-600"
    }`,
    fontFamily: "Quicksand, sans-serif",
    children: [e.amountCents >= 0 ? "+" : "", bn(e.amountCents)],
  });
}
function Rx(e) {
  return s.jsx(i, {
    className: "font-medium",
    fontFamily: "Quicksand, sans-serif",
    children: bn(e.balanceAfterCents),
  });
}
function Ox(e) {
  return s.jsx(i, {
    className: "text-sm text-gray-600",
    fontFamily: "Quicksand, sans-serif",
    children: e.note || "-",
  });
}
function Ix(e) {
  return s.jsx(i, {
    fontFamily: "Quicksand, sans-serif",
    children: new Date(e.createdAt).toLocaleDateString("vi-VN"),
  });
}
function Vx(e) {}
const $x = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: ux },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Mx = () => {
    const [e, t] = j.useState(),
      [n, a] = j.useState({
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      { data: l, isLoading: c, error: m } = Zp(),
      r = ex(),
      { open: o, onOpen: u, onClose: _ } = ws(),
      [d, f] = j.useState(null),
      [b, P] = j.useState("approved"),
      [w, v] = j.useState("");
    ps.useEffect(() => {
      if (l) {
        const E = {
          data: l.map((z) => ({
            ...z,
            id: z.id,
            createdAt: z.createdAt
              ? typeof z.createdAt == "string"
                ? z.createdAt
                : z.createdAt.toISOString()
              : "",
            birthDate: z.birthDate
              ? typeof z.birthDate == "string"
                ? z.birthDate
                : z.birthDate.toISOString()
              : void 0,
          })),
          total: l.length,
          page: 1,
          limit: l.length,
          totalPages: 1,
        };
        t(E);
      }
    }, [l]);
    const x = (E) => {
        f(E),
          P(E.status === "pending" ? "approved" : E.status),
          v(E.adminNote || ""),
          u();
      },
      T = async () => {
        var E, z;
        if (d)
          try {
            await r.mutateAsync({
              id: d.id,
              data: { status: b, adminNote: w.trim() || void 0 },
            }),
              ye.success({
                title: "Thành công",
                description: `Đơn đăng ký đã được ${
                  b === "approved" ? "phê duyệt" : "từ chối"
                }`,
              }),
              _();
          } catch (N) {
            ye.error({
              title: "Lỗi",
              description:
                ((z = (E = N.response) == null ? void 0 : E.data) == null
                  ? void 0
                  : z.message) || "Có lỗi xảy ra khi cập nhật trạng thái",
            });
          }
      },
      S = (E) => {
        switch (E) {
          case "pending":
            return "orange";
          case "approved":
            return "green";
          case "rejected":
            return "red";
          default:
            return "gray";
        }
      },
      h = (E) => {
        switch (E) {
          case "pending":
            return "Đang chờ";
          case "approved":
            return "Đã phê duyệt";
          case "rejected":
            return "Đã từ chối";
          default:
            return "Không xác định";
        }
      },
      C = (E) => {
        a(E);
      },
      A = () => {
        a({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      },
      k = [
        {
          key: "fullName",
          label: "Họ tên",
          sortable: !0,
          render: (E) =>
            s.jsxs(le, {
              align: "start",
              gap: 1,
              children: [
                s.jsx(i, {
                  className: "font-medium",
                  fontFamily: "Quicksand, sans-serif",
                  children: E.fullName,
                }),
                s.jsxs(i, {
                  className: "text-sm text-gray-500",
                  fontFamily: "Quicksand, sans-serif",
                  children: ["ID: ", E.userId],
                }),
              ],
            }),
        },
        {
          key: "phoneNumber",
          label: "Số điện thoại",
          sortable: !0,
          render: (E) =>
            s.jsx(i, {
              fontFamily: "Quicksand, sans-serif",
              children: E.phoneNumber,
            }),
        },
        {
          key: "address",
          label: "Địa chỉ",
          sortable: !1,
          render: (E) =>
            s.jsxs(i, {
              className: "text-sm",
              fontFamily: "Quicksand, sans-serif",
              children: [E.address, ", ", E.province, ", ", E.country],
            }),
        },
        {
          key: "status",
          label: "Trạng thái",
          sortable: !0,
          render: (E) =>
            s.jsx(Be, { colorScheme: S(E.status), children: h(E.status) }),
        },
        {
          key: "createdAt",
          label: "Ngày đăng ký",
          sortable: !0,
          render: (E) =>
            s.jsx(i, {
              fontFamily: "Quicksand, sans-serif",
              children:
                E.createdAt &&
                new Date(E.createdAt).toLocaleDateString("vi-VN"),
            }),
        },
      ],
      g = [
        {
          key: "view",
          label: "Xem",
          icon: s.jsx(Xt, {}),
          variant: "ghost",
          colorScheme: "blue",
          onClick: (E) => x(E),
        },
        {
          key: "approve",
          label: "Duyệt",
          icon: s.jsx(va, {}),
          variant: "ghost",
          colorScheme: "green",
          onClick: (E) => {
            f(E), P("approved"), v(""), u();
          },
          show: (E) => E.status === "pending",
        },
        {
          key: "reject",
          label: "Từ chối",
          icon: s.jsx(Ir, {}),
          variant: "ghost",
          colorScheme: "red",
          onClick: (E) => {
            f(E), P("rejected"), v(""), u();
          },
          show: (E) => E.status === "pending",
        },
      ],
      p = [
        ls("Tìm theo tên, số điện thoại..."),
        Rt("status", "Trạng thái", [
          { value: "", label: "Tất cả trạng thái" },
          { value: "pending", label: "Đang chờ" },
          { value: "approved", label: "Đã phê duyệt" },
          { value: "rejected", label: "Đã từ chối" },
        ]),
      ];
    return c
      ? s.jsx(y, {
          className: "flex justify-center items-center h-64",
          children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
        })
      : m
      ? s.jsxs(y, {
          className: "text-center p-6",
          children: [
            s.jsx(i, {
              className: "text-red-500 text-lg",
              children: "Lỗi tải danh sách đơn đăng ký",
            }),
            s.jsx(i, {
              className: "text-gray-600 mt-2",
              children: "Vui lòng thử lại sau.",
            }),
          ],
        })
      : s.jsx(y, {
          className: "p-6 bg-gray-50 min-h-screen",
          children: s.jsxs(y, {
            className: "max-w-7xl mx-auto",
            children: [
              s.jsxs(y, {
                className: "mb-6",
                children: [
                  s.jsx(i, {
                    className:
                      "text-3xl font-bold text-gray-800 font-[Quicksand,sans-serif] mb-2",
                    children: "Quản lý đơn đăng ký đại lý",
                  }),
                  s.jsx(i, {
                    className: "text-gray-600 font-[Quicksand,sans-serif]",
                    children:
                      "Xem xét và phê duyệt đơn đăng ký trở thành đại lý",
                  }),
                ],
              }),
              l &&
                s.jsxs(tt, {
                  bg: "white",
                  borderRadius: "xl",
                  shadow: "lg",
                  border: "1px solid",
                  borderColor: "gray.200",
                  mb: 6,
                  overflow: "hidden",
                  children: [
                    s.jsx(Yt, {
                      bg: "blue.50",
                      borderBottom: "1px solid",
                      borderColor: "blue.200",
                      py: 4,
                      px: 6,
                      children: s.jsx(i, {
                        fontSize: { base: "sm", md: "md" },
                        fontWeight: "bold",
                        color: "blue.600",
                        children: "📊 Thống kê đơn đăng ký đại lý",
                      }),
                    }),
                    s.jsx(st, {
                      p: 6,
                      children: s.jsxs(Kt, {
                        templateColumns: {
                          base: "repeat(1, 1fr)",
                          sm: "repeat(2, 1fr)",
                          lg: "repeat(4, 1fr)",
                        },
                        gap: { base: 4, md: 6 },
                        children: [
                          s.jsx(tt, {
                            bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                            color: "white",
                            borderRadius: "xl",
                            shadow: "lg",
                            overflow: "hidden",
                            _hover: {
                              shadow: "xl",
                              transform: "translateY(-2px)",
                            },
                            transition: "all 0.3s ease",
                            children: s.jsx(st, {
                              p: { base: 4, md: 6 },
                              children: s.jsxs(rt, {
                                justify: "space-between",
                                align: "start",
                                children: [
                                  s.jsxs(le, {
                                    align: "start",
                                    gap: 1,
                                    children: [
                                      s.jsx(i, {
                                        fontSize: { base: "xs", md: "sm" },
                                        opacity: 0.9,
                                        fontWeight: "medium",
                                        textTransform: "uppercase",
                                        letterSpacing: "wide",
                                        children: "TỔNG ĐƠN ĐĂNG KÝ",
                                      }),
                                      s.jsx(i, {
                                        fontSize: { base: "xl", md: "2xl" },
                                        fontWeight: "bold",
                                        lineHeight: "shorter",
                                        children: l.length,
                                      }),
                                    ],
                                  }),
                                  s.jsx(vt, {
                                    as: Or,
                                    boxSize: { base: 6, md: 8 },
                                    opacity: 0.8,
                                  }),
                                ],
                              }),
                            }),
                          }),
                          s.jsx(tt, {
                            bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                            color: "white",
                            borderRadius: "xl",
                            shadow: "lg",
                            overflow: "hidden",
                            _hover: {
                              shadow: "xl",
                              transform: "translateY(-2px)",
                            },
                            transition: "all 0.3s ease",
                            children: s.jsx(st, {
                              p: { base: 4, md: 6 },
                              children: s.jsxs(rt, {
                                justify: "space-between",
                                align: "start",
                                children: [
                                  s.jsxs(le, {
                                    align: "start",
                                    gap: 1,
                                    children: [
                                      s.jsx(i, {
                                        fontSize: { base: "xs", md: "sm" },
                                        opacity: 0.9,
                                        fontWeight: "medium",
                                        textTransform: "uppercase",
                                        letterSpacing: "wide",
                                        children: "ĐANG CHỜ",
                                      }),
                                      s.jsx(i, {
                                        fontSize: { base: "xl", md: "2xl" },
                                        fontWeight: "bold",
                                        lineHeight: "shorter",
                                        children: l.filter(
                                          (E) => E.status === "pending"
                                        ).length,
                                      }),
                                    ],
                                  }),
                                  s.jsx(vt, {
                                    as: $i,
                                    boxSize: { base: 6, md: 8 },
                                    opacity: 0.8,
                                  }),
                                ],
                              }),
                            }),
                          }),
                          s.jsx(tt, {
                            bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                            color: "white",
                            borderRadius: "xl",
                            shadow: "lg",
                            overflow: "hidden",
                            _hover: {
                              shadow: "xl",
                              transform: "translateY(-2px)",
                            },
                            transition: "all 0.3s ease",
                            children: s.jsx(st, {
                              p: { base: 4, md: 6 },
                              children: s.jsxs(rt, {
                                justify: "space-between",
                                align: "start",
                                children: [
                                  s.jsxs(le, {
                                    align: "start",
                                    gap: 1,
                                    children: [
                                      s.jsx(i, {
                                        fontSize: { base: "xs", md: "sm" },
                                        opacity: 0.9,
                                        fontWeight: "medium",
                                        textTransform: "uppercase",
                                        letterSpacing: "wide",
                                        children: "ĐÃ PHÊ DUYỆT",
                                      }),
                                      s.jsx(i, {
                                        fontSize: { base: "xl", md: "2xl" },
                                        fontWeight: "bold",
                                        lineHeight: "shorter",
                                        children: l.filter(
                                          (E) => E.status === "approved"
                                        ).length,
                                      }),
                                    ],
                                  }),
                                  s.jsx(vt, {
                                    as: Ts,
                                    boxSize: { base: 6, md: 8 },
                                    opacity: 0.8,
                                  }),
                                ],
                              }),
                            }),
                          }),
                          s.jsx(tt, {
                            bg: "linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",
                            color: "white",
                            borderRadius: "xl",
                            shadow: "lg",
                            overflow: "hidden",
                            _hover: {
                              shadow: "xl",
                              transform: "translateY(-2px)",
                            },
                            transition: "all 0.3s ease",
                            children: s.jsx(st, {
                              p: { base: 4, md: 6 },
                              children: s.jsxs(rt, {
                                justify: "space-between",
                                align: "start",
                                children: [
                                  s.jsxs(le, {
                                    align: "start",
                                    gap: 1,
                                    children: [
                                      s.jsx(i, {
                                        fontSize: { base: "xs", md: "sm" },
                                        opacity: 0.9,
                                        fontWeight: "medium",
                                        textTransform: "uppercase",
                                        letterSpacing: "wide",
                                        children: "ĐÃ TỪ CHỐI",
                                      }),
                                      s.jsx(i, {
                                        fontSize: { base: "xl", md: "2xl" },
                                        fontWeight: "bold",
                                        lineHeight: "shorter",
                                        children: l.filter(
                                          (E) => E.status === "rejected"
                                        ).length,
                                      }),
                                    ],
                                  }),
                                  s.jsx(vt, {
                                    as: An,
                                    boxSize: { base: 6, md: 8 },
                                    opacity: 0.8,
                                  }),
                                ],
                              }),
                            }),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              s.jsx(as, {
                data: e,
                isLoading: c,
                columns: k,
                actions: g,
                filterFields: p,
                currentFilters: n,
                onFiltersChange: C,
                onResetFilters: A,
                title: "Danh sách đơn đăng ký đại lý",
                subtitle:
                  "Xem xét và phê duyệt các đơn đăng ký trở thành đại lý",
                emptyMessage: "Không có đơn đăng ký nào",
                loadingMessage: "Đang tải danh sách đơn đăng ký...",
                showMobileCards: !0,
                enableSorting: !0,
                enablePagination: !0,
                enablePageSizeSelector: !0,
                pageSizeOptions: [10, 25, 50, 100],
                defaultPageSize: 10,
                showFilter: !0,
                showResetButton: !0,
                resetButtonText: "Đặt lại bộ lọc",
              }),
              s.jsx(Ot, {
                isOpen: o,
                onClose: _,
                maxWidth: "800px",
                children: s.jsxs(le, {
                  gap: 6,
                  align: "stretch",
                  children: [
                    d &&
                      s.jsxs(le, {
                        gap: 4,
                        align: "stretch",
                        children: [
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className: "text-lg font-semibold mb-3",
                                children: "Thông tin cá nhân",
                              }),
                              s.jsxs(le, {
                                gap: 2,
                                align: "stretch",
                                children: [
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Họ tên:",
                                      }),
                                      s.jsx(i, { children: d.fullName }),
                                    ],
                                  }),
                                  d.gender &&
                                    s.jsxs(W, {
                                      children: [
                                        s.jsx(i, {
                                          className: "font-medium w-32",
                                          children: "Giới tính:",
                                        }),
                                        s.jsx(i, {
                                          children:
                                            d.gender === "male"
                                              ? "Nam"
                                              : d.gender === "female"
                                              ? "Nữ"
                                              : "Khác",
                                        }),
                                      ],
                                    }),
                                  d.birthDate &&
                                    s.jsxs(W, {
                                      children: [
                                        s.jsx(i, {
                                          className: "font-medium w-32",
                                          children: "Ngày sinh:",
                                        }),
                                        s.jsx(i, {
                                          children: new Date(
                                            d.birthDate
                                          ).toLocaleDateString("vi-VN"),
                                        }),
                                      ],
                                    }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Địa chỉ:",
                                      }),
                                      s.jsx(i, { children: d.address }),
                                    ],
                                  }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Quốc gia:",
                                      }),
                                      s.jsx(i, { children: d.country }),
                                    ],
                                  }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Tỉnh/TP:",
                                      }),
                                      s.jsx(i, { children: d.province }),
                                    ],
                                  }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Số điện thoại:",
                                      }),
                                      s.jsx(i, { children: d.phoneNumber }),
                                    ],
                                  }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "CCCD/CMND:",
                                      }),
                                      s.jsx(i, { children: d.cccd }),
                                    ],
                                  }),
                                  s.jsxs(W, {
                                    children: [
                                      s.jsx(i, {
                                        className: "font-medium w-32",
                                        children: "Ngày đăng ký:",
                                      }),
                                      s.jsx(i, {
                                        children:
                                          d.createdAt &&
                                          new Date(
                                            d.createdAt
                                          ).toLocaleDateString("vi-VN"),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          d.status === "pending" &&
                            s.jsxs(y, {
                              children: [
                                s.jsx(i, {
                                  className: "text-lg font-semibold mb-3",
                                  children: "Cập nhật trạng thái",
                                }),
                                s.jsxs(le, {
                                  gap: 3,
                                  align: "stretch",
                                  children: [
                                    s.jsxs(y, {
                                      children: [
                                        s.jsx(i, {
                                          className:
                                            "text-sm font-medium text-gray-700 mb-2",
                                          children: "Trạng thái",
                                        }),
                                        s.jsxs(es, {
                                          size: "sm",
                                          width: "100%",
                                          children: [
                                            s.jsxs(Jt, {
                                              value: b,
                                              onChange: (E) =>
                                                P(E.target.value),
                                              children: [
                                                s.jsx("option", {
                                                  value: "approved",
                                                  children: "Phê duyệt",
                                                }),
                                                s.jsx("option", {
                                                  value: "rejected",
                                                  children: "Từ chối",
                                                }),
                                              ],
                                            }),
                                            s.jsx(Zt, {}),
                                          ],
                                        }),
                                      ],
                                    }),
                                    s.jsxs(y, {
                                      children: [
                                        s.jsx(i, {
                                          className:
                                            "text-sm font-medium text-gray-700 mb-2",
                                          children: "Ghi chú",
                                        }),
                                        s.jsx(Qt, {
                                          value: w,
                                          onChange: (E) => v(E.target.value),
                                          placeholder:
                                            "Nhập ghi chú cho người đăng ký...",
                                          rows: 3,
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          d.status !== "pending" &&
                            s.jsxs(y, {
                              children: [
                                s.jsx(i, {
                                  className: "text-lg font-semibold mb-3",
                                  children: "Trạng thái hiện tại",
                                }),
                                s.jsxs(le, {
                                  gap: 2,
                                  align: "stretch",
                                  children: [
                                    s.jsxs(W, {
                                      children: [
                                        s.jsx(i, {
                                          className: "font-medium",
                                          children: "Trạng thái:",
                                        }),
                                        s.jsx(Be, {
                                          colorScheme: S(d.status),
                                          children: h(d.status),
                                        }),
                                      ],
                                    }),
                                    d.adminNote &&
                                      s.jsxs(y, {
                                        children: [
                                          s.jsx(i, {
                                            className: "font-medium mb-2",
                                            children: "Ghi chú từ admin:",
                                          }),
                                          s.jsx(i, {
                                            className:
                                              "bg-gray-100 p-3 rounded-lg",
                                            children: d.adminNote,
                                          }),
                                        ],
                                      }),
                                  ],
                                }),
                              ],
                            }),
                        ],
                      }),
                    s.jsxs(W, {
                      gap: 3,
                      justify: "end",
                      children: [
                        s.jsx(Y, {
                          onClick: _,
                          variant: "outline",
                          children: "Đóng",
                        }),
                        (d == null ? void 0 : d.status) === "pending" &&
                          s.jsx(Y, {
                            colorScheme: b === "approved" ? "green" : "red",
                            onClick: T,
                            loading: r.isPending,
                            children:
                              b === "approved" ? "Phê duyệt" : "Từ chối",
                          }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        });
  },
  Wx = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Mx },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  qx = {
    [Oe.FREE]: { [Je.FREE]: 0, [Je.PRO]: -1, [Je.VIP]: -1 },
    [Oe.LEVEL_1]: { [Je.FREE]: 0, [Je.PRO]: 8e4, [Je.VIP]: 12e4 },
    [Oe.LEVEL_2]: { [Je.FREE]: 0, [Je.PRO]: 7e4, [Je.VIP]: 1e5 },
    [Oe.LEVEL_3]: { [Je.FREE]: 0, [Je.PRO]: 6e4, [Je.VIP]: 9e4 },
    [Oe.LEVEL_4]: { [Je.FREE]: 0, [Je.PRO]: 5e4, [Je.VIP]: 8e4 },
    [Oe.LEVEL_5]: { [Je.FREE]: 0, [Je.PRO]: 4e4, [Je.VIP]: 7e4 },
    [Oe.UNLIMITED]: { [Je.FREE]: 0, [Je.PRO]: 0, [Je.VIP]: 0 },
  },
  Ux = {
    [Oe.FREE]: { [Je.FREE]: 1e5, [Je.PRO]: 8e4, [Je.VIP]: 6e4 },
    [Oe.LEVEL_1]: { [Je.FREE]: 5e4, [Je.PRO]: 4e4, [Je.VIP]: 3e4 },
    [Oe.LEVEL_2]: { [Je.FREE]: 4e4, [Je.PRO]: 3e4, [Je.VIP]: 25e3 },
    [Oe.LEVEL_3]: { [Je.FREE]: 3e4, [Je.PRO]: 25e3, [Je.VIP]: 2e4 },
    [Oe.LEVEL_4]: { [Je.FREE]: 25e3, [Je.PRO]: 2e4, [Je.VIP]: 15e3 },
    [Oe.LEVEL_5]: { [Je.FREE]: 2e4, [Je.PRO]: 15e3, [Je.VIP]: 1e4 },
    [Oe.UNLIMITED]: { [Je.FREE]: 0, [Je.PRO]: 0, [Je.VIP]: 0 },
  };
Oe.FREE + "",
  Oe.LEVEL_1 + "",
  Oe.LEVEL_2 + "",
  Oe.LEVEL_3 + "",
  Oe.LEVEL_4 + "",
  Oe.LEVEL_5 + "",
  Oe.UNLIMITED + "";
Oe.FREE + "",
  Oe.LEVEL_1 + "",
  Oe.LEVEL_2 + "",
  Oe.LEVEL_3 + "",
  Oe.LEVEL_4 + "",
  Oe.LEVEL_5 + "",
  Oe.UNLIMITED + "";
function pl(e, t, n = !1) {
  var l;
  if (n) return 0;
  const a = (l = qx[e]) == null ? void 0 : l[t];
  return a !== void 0 ? a : -1;
}
function dr(e, t, n = !1) {
  return n ? !0 : pl(e, t, n) >= 0;
}
function pj(e, t, n = !1) {
  var l;
  if (n) return 0;
  const a = (l = Ux[e]) == null ? void 0 : l[t];
  return a !== void 0 ? a : -1;
}
function Zs(e) {
  return e === 0
    ? "Miễn phí"
    : e === -1
    ? "Không khả dụng"
    : `${(e / 1e3).toLocaleString("vi-VN")}k VND`;
}
function Bx(e, t, n, a = !1) {
  const l = { [Je.FREE]: "FREE", [Je.PRO]: "PRO", [Je.VIP]: "VIP" },
    c = {
      [Oe.FREE]: "FREE",
      [Oe.LEVEL_1]: "LEVEL_1",
      [Oe.LEVEL_2]: "LEVEL_2",
      [Oe.LEVEL_3]: "LEVEL_3",
      [Oe.LEVEL_4]: "LEVEL_4",
      [Oe.LEVEL_5]: "LEVEL_5",
      [Oe.UNLIMITED]: "UNLIMITED",
    };
  return a
    ? `Tạo trang ${l[e]} (Unlimited)`
    : n === 0
    ? `Tạo trang ${l[e]} (Level: ${c[t]}, Miễn phí)`
    : `Tạo trang ${l[e]} (Level: ${c[t]}, Giá: ${Zs(n)})`;
}
function xj(e, t) {
  const {
    dealerLevel: n,
    isUnlimited: a,
    freeQuotaRemaining: l,
    balanceCents: c,
  } = e;
  if (!dr(n, t, a))
    return {
      canCreate: !1,
      reason: `Tier ${t.toUpperCase()} không khả dụng cho level ${n}`,
      priceCents: -1,
      transactionNote: "",
    };
  const m = pl(n, t, a),
    r = Bx(t, n, m, a);
  if (t === Je.FREE) {
    if (l <= 0)
      return {
        canCreate: !1,
        reason:
          "Không còn quota miễn phí. Vui lòng liên hệ admin để được cấp thêm quota.",
        priceCents: m,
        transactionNote: r,
      };
  } else if (!a && c < m)
    return {
      canCreate: !1,
      reason: `Số dư không đủ. Cần ${(m / 1e3).toLocaleString(
        "vi-VN"
      )}k VND, hiện có ${(c / 1e3).toLocaleString("vi-VN")}k VND.`,
      priceCents: m,
      transactionNote: r,
    };
  return { canCreate: !0, priceCents: m, transactionNote: r };
}
function Qx(e, t) {
  const { dealerLevel: n, isUnlimited: a } = e,
    l = pl(n, t, a),
    c = dr(n, t, a);
  let m, r;
  return (
    c
      ? l === 0
        ? (m = "Miễn phí")
        : (m = `${(l / 1e3).toLocaleString("vi-VN")}k VND`)
      : ((m = "Không khả dụng"),
        (r = `Tier ${t.toUpperCase()} không khả dụng cho level ${n}`)),
    { priceCents: l, priceDisplay: m, isAvailable: c, reason: r }
  );
}
function jj(e) {
  return [
    { tier: Je.FREE, tierName: "FREE" },
    { tier: Je.PRO, tierName: "PRO" },
    { tier: Je.VIP, tierName: "VIP" },
  ].map(({ tier: n, tierName: a }) => {
    const l = Qx(e, n);
    return { tier: n, tierName: a, ...l };
  });
}
function na(e, t) {
  return t
    ? "UNLIMITED (Miễn phí tất cả)"
    : {
        [Oe.FREE]: "FREE",
        [Oe.LEVEL_1]: "LEVEL_1 (Đại lý mới)",
        [Oe.LEVEL_2]: "LEVEL_2",
        [Oe.LEVEL_3]: "LEVEL_3",
        [Oe.LEVEL_4]: "LEVEL_4",
        [Oe.LEVEL_5]: "LEVEL_5 (Đại lý VIP)",
        [Oe.UNLIMITED]: "UNLIMITED",
      }[e] || e;
}
function Kx(e, t) {
  return t
    ? "Tất cả các tier đều miễn phí. Không giới hạn số lượng trang."
    : {
        [Oe.FREE]: "200 trang miễn phí. Chỉ có thể tạo trang FREE.",
        [Oe.LEVEL_1]:
          "Giá cao nhất cho đại lý mới. PRO: 80k VND, VIP: 120k VND.",
        [Oe.LEVEL_2]: "Giá giảm dần theo level. PRO: 70k VND, VIP: 100k VND.",
        [Oe.LEVEL_3]:
          "Giá tốt hơn cho đại lý có kinh nghiệm. PRO: 60k VND, VIP: 90k VND.",
        [Oe.LEVEL_4]:
          "Giá rất tốt cho đại lý lâu năm. PRO: 50k VND, VIP: 80k VND.",
        [Oe.LEVEL_5]:
          "Giá tốt nhất cho đại lý VIP. PRO: 40k VND, VIP: 70k VND.",
        [Oe.UNLIMITED]: "Tất cả các tier đều miễn phí.",
      }[e] || "Thông tin level không xác định.";
}
const ia = (e) =>
    new Intl.NumberFormat("vi-VN", {
      style: "currency",
      currency: "VND",
    }).format(e),
  Gx = () => {
    const { data: e, isLoading: t, error: n } = tx(),
      { data: a, isLoading: l } = so(),
      c = sx(),
      m = nx(),
      r = no(),
      { open: o, onOpen: u, onClose: _ } = ws(),
      { open: d, onOpen: f, onClose: b } = ws(),
      { open: P, onOpen: w, onClose: v } = ws(),
      [x, T] = j.useState(null),
      [S, h] = j.useState(""),
      [C, A] = j.useState(""),
      [k, g] = j.useState(""),
      [p, E] = j.useState(""),
      [z, N] = j.useState(Oe.FREE),
      [R, F] = j.useState(!1),
      [V, $] = j.useState(""),
      Q = async () => {
        var D, K;
        if (!(!x || !S))
          try {
            await c.mutateAsync({
              userId: x.userId,
              data: {
                deltaCents: Math.round(parseFloat(S)),
                note: C.trim() || void 0,
              },
            }),
              ye.success({
                title: "Thành công",
                description: "Số dư đã được cập nhật",
              }),
              _(),
              h(""),
              A("");
          } catch (H) {
            ye.error({
              title: "Lỗi",
              description:
                ((K = (D = H.response) == null ? void 0 : D.data) == null
                  ? void 0
                  : K.message) || "Có lỗi xảy ra khi cập nhật số dư",
            });
          }
      },
      M = async () => {
        var D, K;
        if (!(!x || !k || !p))
          try {
            await m.mutateAsync({
              userId: x.userId,
              data: {
                freeQuotaTotal: parseInt(k),
                freeQuotaRemaining: parseInt(p),
              },
            }),
              ye.success({
                title: "Thành công",
                description: "Hạn mức đã được cập nhật",
              }),
              b(),
              g(""),
              E("");
          } catch (H) {
            ye.error({
              title: "Lỗi",
              description:
                ((K = (D = H.response) == null ? void 0 : D.data) == null
                  ? void 0
                  : K.message) || "Có lỗi xảy ra khi cập nhật hạn mức",
            });
          }
      },
      L = async () => {
        var D, K;
        if (x)
          try {
            await r.mutateAsync({
              agentId: x.userId,
              data: { dealerLevel: z, isUnlimited: R },
            }),
              ye.success({
                title: "Thành công",
                description: "Level đại lý đã được cập nhật",
              }),
              v(),
              N(Oe.FREE),
              F(!1);
          } catch (H) {
            ye.error({
              title: "Lỗi",
              description:
                ((K = (D = H.response) == null ? void 0 : D.data) == null
                  ? void 0
                  : K.message) || "Có lỗi xảy ra khi cập nhật level",
            });
          }
      },
      q =
        (e == null
          ? void 0
          : e.filter((D) => D.userId.toString().includes(V) || V === "")) || [];
    return t
      ? s.jsx(y, {
          className: "flex justify-center items-center h-64",
          children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
        })
      : n
      ? s.jsxs(y, {
          className: "text-center p-6",
          children: [
            s.jsx(i, {
              className: "text-red-500 text-lg",
              children: "Lỗi tải danh sách đại lý",
            }),
            s.jsx(i, {
              className: "text-gray-600 mt-2",
              children: "Vui lòng thử lại sau.",
            }),
          ],
        })
      : s.jsx(y, {
          className: "p-6",
          children: s.jsxs(le, {
            gap: 6,
            align: "stretch",
            children: [
              s.jsx(y, {
                children: s.jsx(W, {
                  justify: "space-between",
                  align: "center",
                  children: s.jsx(wa, {
                    to: "/admin/dealer-pricing",
                    children: s.jsxs(Y, {
                      colorScheme: "purple",
                      variant: "outline",
                      className: "font-[Quicksand,sans-serif] font-medium",
                      children: [
                        s.jsx(Vr, { className: "mr-2" }),
                        "Quản lý giá",
                      ],
                    }),
                  }),
                }),
              }),
              s.jsx(as, {
                data: {
                  data: q,
                  total: q.length,
                  page: 1,
                  limit: 25,
                  totalPages: 1,
                },
                isLoading: t,
                columns: [
                  {
                    key: "userId",
                    label: "ID Đại lý",
                    render: (D) =>
                      s.jsxs(i, {
                        className: "font-medium",
                        children: ["#", D.userId],
                      }),
                  },
                  {
                    key: "email",
                    label: "Email",
                    render: (D) =>
                      s.jsx(i, {
                        className: "font-medium",
                        children: D.user.email,
                      }),
                  },
                  {
                    key: "quota",
                    label: "Hạn mức miễn phí",
                    render: (D) =>
                      s.jsxs(le, {
                        align: "start",
                        gap: 1,
                        children: [
                          s.jsxs(i, {
                            className: "text-sm",
                            children: [
                              D.freeQuotaRemaining,
                              " / ",
                              D.freeQuotaTotal,
                            ],
                          }),
                          s.jsx(i, {
                            className: "text-xs text-gray-500",
                            children: "Còn lại / Tổng",
                          }),
                        ],
                      }),
                  },
                  {
                    key: "balance",
                    label: "Số dư",
                    render: (D) =>
                      s.jsx(i, {
                        className: "font-medium text-green-600",
                        children: ia(D.balanceCents),
                      }),
                  },
                  {
                    key: "dealerLevel",
                    label: "Level đại lý",
                    render: (D) =>
                      s.jsxs(le, {
                        align: "start",
                        gap: 1,
                        children: [
                          s.jsx(Be, {
                            colorScheme: D.isUnlimited ? "purple" : "blue",
                            variant: "subtle",
                            children: na(
                              D.dealerLevel || Oe.FREE,
                              D.isUnlimited || !1
                            ),
                          }),
                          D.isUnlimited &&
                            s.jsx(i, {
                              className: "text-xs text-purple-600 font-medium",
                              children: "Unlimited",
                            }),
                        ],
                      }),
                  },
                  Oi("isActive", "Trạng thái", lr, ar),
                  Ri("createdAt", "Ngày tạo"),
                ],
                actions: [
                  {
                    key: "view",
                    label: "Xem",
                    icon: s.jsx(Xt, {}),
                    variant: "outline",
                    onClick: (D) => {
                      T(D), u();
                    },
                  },
                  {
                    key: "adjust-balance",
                    label: "Điều chỉnh số dư",
                    icon: s.jsx(ol, {}),
                    colorScheme: "green",
                    variant: "outline",
                    onClick: (D) => {
                      T(D), h(""), A(""), u();
                    },
                  },
                  {
                    key: "update-quota",
                    label: "Cập nhật hạn mức",
                    icon: s.jsx(Pa, {}),
                    colorScheme: "blue",
                    variant: "outline",
                    onClick: (D) => {
                      T(D),
                        g(D.freeQuotaTotal.toString()),
                        E(D.freeQuotaRemaining.toString()),
                        f();
                    },
                  },
                  {
                    key: "update-level",
                    label: "Cập nhật level",
                    icon: s.jsx(ll, {}),
                    colorScheme: "purple",
                    variant: "outline",
                    onClick: (D) => {
                      T(D),
                        N(D.dealerLevel || Oe.FREE),
                        F(D.isUnlimited || !1),
                        w();
                    },
                  },
                ],
                filterFields: [ls("Tìm theo ID đại lý...")],
                onFiltersChange: (D) => {
                  $(D.search || "");
                },
                onResetFilters: () => $(""),
                title: "Quản lý đại lý",
                subtitle: "Quản lý hồ sơ, số dư và hạn mức của các đại lý",
                emptyMessage: "Không tìm thấy đại lý nào",
              }),
              s.jsx(Ot, {
                isOpen: o,
                onClose: _,
                maxWidth: "500px",
                children: s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [
                    x &&
                      s.jsxs(le, {
                        gap: 4,
                        align: "stretch",
                        children: [
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Số dư hiện tại",
                              }),
                              s.jsx(i, {
                                className:
                                  "text-lg font-semibold text-green-600",
                                children: ia(x.balanceCents),
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Số tiền điều chỉnh",
                              }),
                              s.jsx(Ee, {
                                type: "number",
                                placeholder:
                                  "Nhập số tiền (dương để cộng, âm để trừ)",
                                value: S,
                                onChange: (D) => h(D.target.value),
                              }),
                              s.jsx(i, {
                                className: "text-xs text-gray-500 mt-1",
                                children:
                                  "Số dương để cộng tiền, số âm để trừ tiền",
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Ghi chú",
                              }),
                              s.jsx(Qt, {
                                value: C,
                                onChange: (D) => A(D.target.value),
                                placeholder: "Nhập ghi chú cho giao dịch...",
                                rows: 3,
                              }),
                            ],
                          }),
                        ],
                      }),
                    s.jsxs(W, {
                      gap: 3,
                      justify: "end",
                      children: [
                        s.jsx(Y, {
                          onClick: _,
                          variant: "outline",
                          children: "Hủy",
                        }),
                        s.jsx(Y, {
                          colorScheme: "green",
                          onClick: Q,
                          loading: c.isPending,
                          disabled: !S,
                          children: "Cập nhật số dư",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              s.jsx(Ot, {
                isOpen: d,
                onClose: b,
                maxWidth: "500px",
                children: s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [
                    x &&
                      s.jsxs(le, {
                        gap: 4,
                        align: "stretch",
                        children: [
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Hạn mức hiện tại",
                              }),
                              s.jsxs(i, {
                                className: "text-lg font-semibold",
                                children: [
                                  x.freeQuotaRemaining,
                                  " / ",
                                  x.freeQuotaTotal,
                                ],
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Tổng hạn mức",
                              }),
                              s.jsx(Ee, {
                                type: "number",
                                placeholder: "Nhập tổng hạn mức",
                                value: k,
                                onChange: (D) => g(D.target.value),
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Hạn mức còn lại",
                              }),
                              s.jsx(Ee, {
                                type: "number",
                                placeholder: "Nhập hạn mức còn lại",
                                value: p,
                                onChange: (D) => E(D.target.value),
                              }),
                              s.jsx(i, {
                                className: "text-xs text-gray-500 mt-1",
                                children:
                                  "Hạn mức còn lại không được vượt quá tổng hạn mức",
                              }),
                            ],
                          }),
                        ],
                      }),
                    s.jsxs(W, {
                      gap: 3,
                      justify: "end",
                      children: [
                        s.jsx(Y, {
                          onClick: b,
                          variant: "outline",
                          children: "Hủy",
                        }),
                        s.jsx(Y, {
                          colorScheme: "blue",
                          onClick: M,
                          loading: m.isPending,
                          disabled: !k || !p || parseInt(p) > parseInt(k),
                          children: "Cập nhật hạn mức",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              s.jsx(Ot, {
                isOpen: P,
                onClose: v,
                maxWidth: "600px",
                children: s.jsxs(le, {
                  gap: 4,
                  align: "stretch",
                  children: [
                    x &&
                      s.jsxs(le, {
                        gap: 4,
                        align: "stretch",
                        children: [
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Đại lý",
                              }),
                              s.jsxs(i, {
                                className: "text-lg font-semibold",
                                children: [
                                  "#",
                                  x.userId,
                                  " - ",
                                  x.fullName || "N/A",
                                ],
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Level hiện tại",
                              }),
                              s.jsx(i, {
                                className: "text-lg font-semibold",
                                children: na(
                                  x.dealerLevel || Oe.FREE,
                                  x.isUnlimited || !1
                                ),
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-gray-700 mb-2",
                                children: "Level mới",
                              }),
                              s.jsxs("select", {
                                value: z,
                                onChange: (D) => N(D.target.value),
                                className:
                                  "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                children: [
                                  s.jsx("option", {
                                    value: Oe.FREE,
                                    children: "FREE",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.LEVEL_1,
                                    children: "LEVEL_1 (Đại lý mới)",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.LEVEL_2,
                                    children: "LEVEL_2",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.LEVEL_3,
                                    children: "LEVEL_3",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.LEVEL_4,
                                    children: "LEVEL_4",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.LEVEL_5,
                                    children: "LEVEL_5 (Đại lý VIP)",
                                  }),
                                  s.jsx("option", {
                                    value: Oe.UNLIMITED,
                                    children: "UNLIMITED",
                                  }),
                                ],
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            children: [
                              s.jsxs("label", {
                                className: "flex items-center gap-2",
                                children: [
                                  s.jsx("input", {
                                    type: "checkbox",
                                    checked: R,
                                    onChange: (D) => F(D.target.checked),
                                    className:
                                      "w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2",
                                  }),
                                  s.jsxs(i, {
                                    className: "text-sm",
                                    children: [
                                      s.jsx("strong", {
                                        children: "Unlimited Access",
                                      }),
                                      " - Miễn phí tất cả các tier",
                                    ],
                                  }),
                                ],
                              }),
                              s.jsx(i, {
                                className: "text-xs text-gray-500 mt-1",
                                children:
                                  "Khi bật, đại lý sẽ được miễn phí tất cả các tier (PRO, VIP)",
                              }),
                            ],
                          }),
                          s.jsxs(y, {
                            className: "p-3 bg-blue-50 rounded-lg",
                            children: [
                              s.jsx(i, {
                                className:
                                  "text-sm font-medium text-blue-800 mb-2",
                                children: "Lợi ích của level mới:",
                              }),
                              s.jsx(i, {
                                className: "text-sm text-blue-700",
                                children: Kx(z, R),
                              }),
                            ],
                          }),
                        ],
                      }),
                    s.jsxs(W, {
                      gap: 3,
                      justify: "end",
                      children: [
                        s.jsx(Y, {
                          onClick: v,
                          variant: "outline",
                          children: "Hủy",
                        }),
                        s.jsx(Y, {
                          colorScheme: "purple",
                          onClick: L,
                          loading: r.isPending,
                          children: "Cập nhật level",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        });
  },
  Hx = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Gx },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Yx = () => {
    const e = G.c(89),
      { data: t, isLoading: n, error: a } = ix(),
      l = lx(),
      c = ax(),
      { open: m, onOpen: r, onClose: o } = ws(),
      { open: u, onOpen: _, onClose: d } = ws(),
      [f, b] = j.useState(null),
      [P, w] = j.useState(!0),
      [v, x] = j.useState("free"),
      [T, S] = j.useState(""),
      [h, C] = j.useState("VND"),
      [A, k] = j.useState("lifetime"),
      [g, p] = j.useState("basic"),
      [E, z] = j.useState(!0);
    let N;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((N = () => {
          x("free"), S(""), C("VND"), k("lifetime"), p("basic"), z(!0);
        }),
        (e[0] = N))
      : (N = e[0]);
    const R = N;
    let F;
    e[1] !== l ||
    e[2] !== h ||
    e[3] !== A ||
    e[4] !== g ||
    e[5] !== E ||
    e[6] !== o ||
    e[7] !== T ||
    e[8] !== v
      ? ((F = async () => {
          var ze, ot;
          if (T)
            try {
              await l.mutateAsync({
                tier: v,
                priceCents: Math.round(parseFloat(T)),
                currency: h,
                grantPeriod: A,
                grantTier: g,
                isActive: E,
              }),
                ye.success({
                  title: "Thành công",
                  description: "Gói đại lý đã được tạo",
                }),
                o(),
                R();
            } catch (dt) {
              const ct = dt;
              ye.error({
                title: "Lỗi",
                description:
                  ((ot = (ze = ct.response) == null ? void 0 : ze.data) == null
                    ? void 0
                    : ot.message) || "Có lỗi xảy ra khi tạo gói",
              });
            }
        }),
        (e[1] = l),
        (e[2] = h),
        (e[3] = A),
        (e[4] = g),
        (e[5] = E),
        (e[6] = o),
        (e[7] = T),
        (e[8] = v),
        (e[9] = F))
      : (F = e[9]);
    const V = F;
    let $;
    e[10] !== h ||
    e[11] !== A ||
    e[12] !== g ||
    e[13] !== E ||
    e[14] !== d ||
    e[15] !== T ||
    e[16] !== f ||
    e[17] !== c
      ? (($ = async () => {
          var ze, ot;
          if (!(!f || !T))
            try {
              await c.mutateAsync({
                id: f.id,
                data: {
                  priceCents: Math.round(parseFloat(T)),
                  currency: h,
                  grantPeriod: A,
                  grantTier: g,
                  isActive: E,
                },
              }),
                ye.success({
                  title: "Thành công",
                  description: "Gói đại lý đã được cập nhật",
                }),
                d(),
                R();
            } catch (dt) {
              const ct = dt;
              ye.error({
                title: "Lỗi",
                description:
                  ((ot = (ze = ct.response) == null ? void 0 : ze.data) == null
                    ? void 0
                    : ot.message) || "Có lỗi xảy ra khi cập nhật gói",
              });
            }
        }),
        (e[10] = h),
        (e[11] = A),
        (e[12] = g),
        (e[13] = E),
        (e[14] = d),
        (e[15] = T),
        (e[16] = f),
        (e[17] = c),
        (e[18] = $))
      : ($ = e[18]);
    const Q = $;
    let M;
    e[19] !== _
      ? ((M = (ze) => {
          b(ze),
            x(ze.tier),
            S(ze.priceCents.toString()),
            C(ze.currency),
            k(ze.grantPeriod),
            p(ze.grantTier),
            z(ze.isActive),
            w(!1),
            _();
        }),
        (e[19] = _),
        (e[20] = M))
      : (M = e[20]);
    const L = M;
    let q;
    e[21] !== r
      ? ((q = () => {
          R(), w(!0), r();
        }),
        (e[21] = r),
        (e[22] = q))
      : (q = e[22]);
    const D = q,
      K = Xx,
      H = Jx,
      B = Zx,
      Z = e1;
    if (n) {
      let ze;
      return (
        e[23] === Symbol.for("react.memo_cache_sentinel")
          ? ((ze = s.jsx(y, {
              className: "flex justify-center items-center h-64",
              children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
            })),
            (e[23] = ze))
          : (ze = e[23]),
        ze
      );
    }
    if (a) {
      let ze;
      return (
        e[24] === Symbol.for("react.memo_cache_sentinel")
          ? ((ze = s.jsxs(y, {
              className: "text-center p-6",
              children: [
                s.jsx(i, {
                  className: "text-red-500 text-lg",
                  children: "Lỗi tải danh mục gói đại lý",
                }),
                s.jsx(i, {
                  className: "text-gray-600 mt-2",
                  children: "Vui lòng thử lại sau.",
                }),
              ],
            })),
            (e[24] = ze))
          : (ze = e[24]),
        ze
      );
    }
    let J;
    e[25] === Symbol.for("react.memo_cache_sentinel")
      ? ((J = s.jsxs(y, {
          children: [
            s.jsx(i, {
              className:
                "text-2xl font-bold text-gray-800 font-[Quicksand,sans-serif]",
              children: "Quản lý danh mục gói đại lý",
            }),
            s.jsx(i, {
              className: "text-gray-600 mt-1",
              children: "Tạo và quản lý các gói dịch vụ cho đại lý",
            }),
          ],
        })),
        (e[25] = J))
      : (J = e[25]);
    let se;
    e[26] === Symbol.for("react.memo_cache_sentinel")
      ? ((se = s.jsx(hs, {})), (e[26] = se))
      : (se = e[26]);
    let ee;
    e[27] !== D
      ? ((ee = s.jsx(y, {
          children: s.jsxs(W, {
            justify: "space-between",
            align: "center",
            children: [
              J,
              s.jsxs(Y, {
                colorScheme: "blue",
                onClick: D,
                children: [se, "Tạo gói mới"],
              }),
            ],
          }),
        })),
        (e[27] = D),
        (e[28] = ee))
      : (ee = e[28]);
    let te;
    e[29] === Symbol.for("react.memo_cache_sentinel")
      ? ((te = s.jsx(Ss, {
          children: s.jsxs(At, {
            children: [
              s.jsx(Ce, { children: "Gói" }),
              s.jsx(Ce, { children: "Giá" }),
              s.jsx(Ce, { children: "Thời gian cấp" }),
              s.jsx(Ce, { children: "Gói cấp" }),
              s.jsx(Ce, { children: "Trạng thái" }),
              s.jsx(Ce, { children: "Ngày tạo" }),
              s.jsx(Ce, { children: "Thao tác" }),
            ],
          }),
        })),
        (e[29] = te))
      : (te = e[29]);
    let X;
    e[30] !== t || e[31] !== L
      ? ((X =
          t == null
            ? void 0
            : t.map((ze) =>
                s.jsxs(
                  At,
                  {
                    children: [
                      s.jsx(_e, {
                        children: s.jsx(Be, {
                          colorScheme: K(ze.tier),
                          size: "lg",
                          children: H(ze.tier),
                        }),
                      }),
                      s.jsx(_e, {
                        children: s.jsxs(i, {
                          className: "font-medium",
                          children: [bn(ze.priceCents), " VND"],
                        }),
                      }),
                      s.jsx(_e, {
                        children: s.jsx(i, { children: Z(ze.grantPeriod) }),
                      }),
                      s.jsx(_e, {
                        children: s.jsx(Be, {
                          colorScheme: "blue",
                          variant: "outline",
                          children: B(ze.grantTier),
                        }),
                      }),
                      s.jsx(_e, {
                        children: s.jsx(W, {
                          children: ze.isActive
                            ? s.jsx(Be, {
                                colorScheme: "green",
                                children: "Hoạt động",
                              })
                            : s.jsx(Be, {
                                colorScheme: "red",
                                children: "Không hoạt động",
                              }),
                        }),
                      }),
                      s.jsx(_e, {
                        children: new Date(ze.createdAt).toLocaleDateString(
                          "vi-VN"
                        ),
                      }),
                      s.jsx(_e, {
                        children: s.jsx(W, {
                          gap: 2,
                          children: s.jsxs(Y, {
                            size: "sm",
                            variant: "outline",
                            onClick: () => L(ze),
                            children: [s.jsx(Mt, {}), "Sửa"],
                          }),
                        }),
                      }),
                    ],
                  },
                  ze.id
                )
              )),
        (e[30] = t),
        (e[31] = L),
        (e[32] = X))
      : (X = e[32]);
    let I;
    e[33] !== X
      ? ((I = s.jsx(y, {
          className: "bg-white rounded-lg shadow-sm border overflow-hidden",
          children: s.jsxs(vs, {
            size: "sm",
            children: [te, s.jsx(_s, { children: X })],
          }),
        })),
        (e[33] = X),
        (e[34] = I))
      : (I = e[34]);
    const O = m || u,
      U = P ? o : d;
    let re;
    e[35] === Symbol.for("react.memo_cache_sentinel")
      ? ((re = s.jsx(i, {
          className: "text-sm font-medium text-gray-700 mb-2",
          children: "Loại gói",
        })),
        (e[35] = re))
      : (re = e[35]);
    const de = !P;
    let ue, he, ne, pe;
    e[36] === Symbol.for("react.memo_cache_sentinel")
      ? ((ue = (ze) => x(ze.target.value)),
        (he = s.jsx("option", { value: "free", children: "Miễn phí" })),
        (ne = s.jsx("option", { value: "pro", children: "Chuyên nghiệp" })),
        (pe = s.jsx("option", { value: "vip", children: "VIP" })),
        (e[36] = ue),
        (e[37] = he),
        (e[38] = ne),
        (e[39] = pe))
      : ((ue = e[36]), (he = e[37]), (ne = e[38]), (pe = e[39]));
    let ae;
    e[40] !== v
      ? ((ae = s.jsxs(Jt, { value: v, onChange: ue, children: [he, ne, pe] })),
        (e[40] = v),
        (e[41] = ae))
      : (ae = e[41]);
    let ve;
    e[42] === Symbol.for("react.memo_cache_sentinel")
      ? ((ve = s.jsx(Zt, {})), (e[42] = ve))
      : (ve = e[42]);
    let je;
    e[43] !== de || e[44] !== ae
      ? ((je = s.jsxs(y, {
          children: [
            re,
            s.jsxs(es, {
              size: "sm",
              width: "100%",
              disabled: de,
              children: [ae, ve],
            }),
          ],
        })),
        (e[43] = de),
        (e[44] = ae),
        (e[45] = je))
      : (je = e[45]);
    let ce;
    e[46] === Symbol.for("react.memo_cache_sentinel")
      ? ((ce = s.jsx(i, {
          className: "text-sm font-medium text-gray-700 mb-2",
          children: "Giá (VND)",
        })),
        (e[46] = ce))
      : (ce = e[46]);
    let xe;
    e[47] === Symbol.for("react.memo_cache_sentinel")
      ? ((xe = (ze) => S(ze.target.value)), (e[47] = xe))
      : (xe = e[47]);
    let Te;
    e[48] !== T
      ? ((Te = s.jsx(W, {
          gap: 4,
          children: s.jsxs(y, {
            flex: 1,
            children: [
              ce,
              s.jsx(Ee, {
                type: "number",
                step: "0.01",
                placeholder: "0.00",
                value: T,
                onChange: xe,
              }),
            ],
          }),
        })),
        (e[48] = T),
        (e[49] = Te))
      : (Te = e[49]);
    let Pe;
    e[50] === Symbol.for("react.memo_cache_sentinel")
      ? ((Pe = s.jsx(i, {
          className: "text-sm font-medium text-gray-700 mb-2",
          children: "Gói cấp",
        })),
        (e[50] = Pe))
      : (Pe = e[50]);
    let Se, ke, Le, De;
    e[51] === Symbol.for("react.memo_cache_sentinel")
      ? ((Se = (ze) => p(ze.target.value)),
        (ke = s.jsx("option", { value: "basic", children: "Cơ bản" })),
        (Le = s.jsx("option", { value: "pro", children: "Chuyên nghiệp" })),
        (De = s.jsx("option", { value: "vip", children: "VIP" })),
        (e[51] = Se),
        (e[52] = ke),
        (e[53] = Le),
        (e[54] = De))
      : ((Se = e[51]), (ke = e[52]), (Le = e[53]), (De = e[54]));
    let me;
    e[55] !== g
      ? ((me = s.jsxs(Jt, { value: g, onChange: Se, children: [ke, Le, De] })),
        (e[55] = g),
        (e[56] = me))
      : (me = e[56]);
    let Fe;
    e[57] === Symbol.for("react.memo_cache_sentinel")
      ? ((Fe = s.jsx(Zt, {})), (e[57] = Fe))
      : (Fe = e[57]);
    let be;
    e[58] !== me
      ? ((be = s.jsxs(y, {
          children: [
            Pe,
            s.jsxs(es, { size: "sm", width: "100%", children: [me, Fe] }),
          ],
        })),
        (e[58] = me),
        (e[59] = be))
      : (be = e[59]);
    let Me;
    e[60] === Symbol.for("react.memo_cache_sentinel")
      ? ((Me = s.jsx(i, {
          className: "text-sm font-medium text-gray-700",
          children: "Trạng thái hoạt động",
        })),
        (e[60] = Me))
      : (Me = e[60]);
    let Qe, $e;
    e[61] === Symbol.for("react.memo_cache_sentinel")
      ? ((Qe = (ze) => z(ze.checked)),
        ($e = s.jsx(Ms, {})),
        (e[61] = Qe),
        (e[62] = $e))
      : ((Qe = e[61]), ($e = e[62]));
    let Ye;
    e[63] !== E
      ? ((Ye = s.jsx(y, {
          children: s.jsxs(W, {
            justify: "space-between",
            align: "center",
            children: [
              Me,
              s.jsx($s, { checked: E, onCheckedChange: Qe, children: $e }),
            ],
          }),
        })),
        (e[63] = E),
        (e[64] = Ye))
      : (Ye = e[64]);
    let we;
    e[65] !== je || e[66] !== Te || e[67] !== be || e[68] !== Ye
      ? ((we = s.jsxs(le, {
          gap: 4,
          align: "stretch",
          children: [je, Te, be, Ye],
        })),
        (e[65] = je),
        (e[66] = Te),
        (e[67] = be),
        (e[68] = Ye),
        (e[69] = we))
      : (we = e[69]);
    const Ae = P ? o : d;
    let We;
    e[70] !== Ae
      ? ((We = s.jsx(Y, { onClick: Ae, variant: "outline", children: "Hủy" })),
        (e[70] = Ae),
        (e[71] = We))
      : (We = e[71]);
    const Ke = P ? V : Q,
      Ze = P ? l.isPending : c.isPending,
      Re = !T,
      ge = P ? "Tạo gói" : "Cập nhật";
    let et;
    e[72] !== Ke || e[73] !== Ze || e[74] !== Re || e[75] !== ge
      ? ((et = s.jsx(Y, {
          colorScheme: "blue",
          onClick: Ke,
          loading: Ze,
          disabled: Re,
          children: ge,
        })),
        (e[72] = Ke),
        (e[73] = Ze),
        (e[74] = Re),
        (e[75] = ge),
        (e[76] = et))
      : (et = e[76]);
    let lt;
    e[77] !== We || e[78] !== et
      ? ((lt = s.jsxs(W, { gap: 3, justify: "end", children: [We, et] })),
        (e[77] = We),
        (e[78] = et),
        (e[79] = lt))
      : (lt = e[79]);
    let qe;
    e[80] !== O || e[81] !== U || e[82] !== we || e[83] !== lt
      ? ((qe = s.jsxs(Ot, {
          isOpen: O,
          onClose: U,
          maxWidth: "600px",
          children: [we, lt],
        })),
        (e[80] = O),
        (e[81] = U),
        (e[82] = we),
        (e[83] = lt),
        (e[84] = qe))
      : (qe = e[84]);
    let it;
    return (
      e[85] !== I || e[86] !== qe || e[87] !== ee
        ? ((it = s.jsx(y, {
            className: "p-6",
            children: s.jsxs(le, {
              gap: 6,
              align: "stretch",
              children: [ee, I, qe],
            }),
          })),
          (e[85] = I),
          (e[86] = qe),
          (e[87] = ee),
          (e[88] = it))
        : (it = e[88]),
      it
    );
  };
function Xx(e) {
  switch (e) {
    case "free":
      return "green";
    case "pro":
      return "blue";
    case "vip":
      return "purple";
    default:
      return "gray";
  }
}
function Jx(e) {
  switch (e) {
    case "free":
      return "Miễn phí";
    case "pro":
      return "Chuyên nghiệp";
    case "vip":
      return "VIP";
    default:
      return e;
  }
}
function Zx(e) {
  switch (e) {
    case "basic":
      return "Cơ bản";
    case "pro":
      return "Chuyên nghiệp";
    case "vip":
      return "VIP";
    default:
      return e;
  }
}
function e1(e) {
  switch (e) {
    case "lifetime":
      return "Trọn đời";
    case "yearly":
      return "Hàng năm";
    case "monthly":
      return "Hàng tháng";
    default:
      return e;
  }
}
const t1 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Yx },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  s1 = () => {
    var xs, Ps;
    const e = G.c(178),
      { data: t, isLoading: n, error: a } = io(),
      l = lo(),
      c = ao(),
      m = ro(),
      { open: r, onOpen: o, onClose: u } = ws(),
      { open: _, onOpen: d, onClose: f } = ws(),
      { open: b, onOpen: P, onClose: w } = ws(),
      [v, x] = j.useState(null);
    let T;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((T = {
          dealerLevel: Oe.FREE,
          dealerTier: Je.FREE,
          priceCents: 0,
          designRequestPriceCents: 0,
          currency: "VND",
          isActive: !0,
        }),
        (e[0] = T))
      : (T = e[0]);
    const [S, h] = j.useState(T);
    let C;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((C = {
          priceCents: 0,
          designRequestPriceCents: 0,
          currency: "VND",
          isActive: !0,
        }),
        (e[1] = C))
      : (C = e[1]);
    const [A, k] = j.useState(C);
    let g;
    e[2] !== S || e[3] !== l || e[4] !== u
      ? ((g = async () => {
          var Ue, ut;
          try {
            await l.mutateAsync(S),
              ye.success({
                title: "Thành công",
                description: "Tạo pricing entry thành công",
              }),
              u(),
              h({
                dealerLevel: Oe.FREE,
                dealerTier: Je.FREE,
                priceCents: 0,
                designRequestPriceCents: 0,
                currency: "VND",
                isActive: !0,
              });
          } catch (ms) {
            const js = ms;
            ye.error({
              title: "Lỗi",
              description:
                ((ut = (Ue = js.response) == null ? void 0 : Ue.data) == null
                  ? void 0
                  : ut.message) || "Có lỗi xảy ra khi tạo pricing entry",
            });
          }
        }),
        (e[2] = S),
        (e[3] = l),
        (e[4] = u),
        (e[5] = g))
      : (g = e[5]);
    const p = g;
    let E;
    e[6] !== A || e[7] !== f || e[8] !== v || e[9] !== c
      ? ((E = async () => {
          var Ue, ut;
          if (v)
            try {
              await c.mutateAsync({ id: v.id, data: A }),
                ye.success({
                  title: "Thành công",
                  description: "Cập nhật pricing entry thành công",
                }),
                f(),
                x(null);
            } catch (ms) {
              const js = ms;
              ye.error({
                title: "Lỗi",
                description:
                  ((ut = (Ue = js.response) == null ? void 0 : Ue.data) == null
                    ? void 0
                    : ut.message) || "Có lỗi xảy ra khi cập nhật pricing entry",
              });
            }
        }),
        (e[6] = A),
        (e[7] = f),
        (e[8] = v),
        (e[9] = c),
        (e[10] = E))
      : (E = e[10]);
    const z = E;
    let N;
    e[11] !== m || e[12] !== w || e[13] !== v
      ? ((N = async () => {
          var Ue, ut;
          if (v)
            try {
              await m.mutateAsync(v.id),
                ye.success({
                  title: "Thành công",
                  description: "Xóa pricing entry thành công",
                }),
                w(),
                x(null);
            } catch (ms) {
              const js = ms;
              ye.error({
                title: "Lỗi",
                description:
                  ((ut = (Ue = js.response) == null ? void 0 : Ue.data) == null
                    ? void 0
                    : ut.message) || "Có lỗi xảy ra khi xóa pricing entry",
              });
            }
        }),
        (e[11] = m),
        (e[12] = w),
        (e[13] = v),
        (e[14] = N))
      : (N = e[14]);
    const R = N;
    let F;
    e[15] !== d
      ? ((F = (Ue) => {
          x(Ue),
            k({
              priceCents: Ue.priceCents,
              designRequestPriceCents: Ue.designRequestPriceCents,
              currency: Ue.currency,
              isActive: Ue.isActive,
            }),
            d();
        }),
        (e[15] = d),
        (e[16] = F))
      : (F = e[16]);
    const V = F;
    let $;
    e[17] !== P
      ? (($ = (Ue) => {
          x(Ue), P();
        }),
        (e[17] = P),
        (e[18] = $))
      : ($ = e[18]);
    const Q = $,
      M = n1,
      L = i1,
      q = l1;
    if (n) {
      let Ue;
      return (
        e[19] === Symbol.for("react.memo_cache_sentinel")
          ? ((Ue = s.jsx(y, {
              className: "flex justify-center items-center h-64",
              children: s.jsx(Wt, { size: "xl", color: "blue.500" }),
            })),
            (e[19] = Ue))
          : (Ue = e[19]),
        Ue
      );
    }
    if (a) {
      let Ue;
      return (
        e[20] === Symbol.for("react.memo_cache_sentinel")
          ? ((Ue = s.jsxs(y, {
              className: "text-center p-6",
              children: [
                s.jsx(i, {
                  className: "text-red-500 text-lg",
                  children: "Lỗi tải pricing matrix",
                }),
                s.jsx(i, {
                  className: "text-gray-600 mt-2",
                  children: "Vui lòng thử lại sau.",
                }),
              ],
            })),
            (e[20] = Ue))
          : (Ue = e[20]),
        Ue
      );
    }
    let D;
    e[21] === Symbol.for("react.memo_cache_sentinel")
      ? ((D = s.jsxs(y, {
          children: [
            s.jsx(i, {
              className:
                "text-2xl font-bold text-gray-800 font-[Quicksand,sans-serif] mb-2",
              children: "Quản lý giá đại lý",
            }),
            s.jsx(i, {
              className: "text-gray-600",
              children:
                "Quản lý pricing matrix cho các level và tier của đại lý",
            }),
          ],
        })),
        (e[21] = D))
      : (D = e[21]);
    let K;
    e[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((K = s.jsx(hs, { className: "mr-2" })), (e[22] = K))
      : (K = e[22]);
    let H;
    e[23] !== o
      ? ((H = s.jsx(y, {
          children: s.jsxs(W, {
            justify: "space-between",
            align: "center",
            children: [
              D,
              s.jsxs(Y, {
                colorScheme: "blue",
                onClick: o,
                className: "font-[Quicksand,sans-serif] font-medium",
                children: [K, "Tạo pricing mới"],
              }),
            ],
          }),
        })),
        (e[23] = o),
        (e[24] = H))
      : (H = e[24]);
    const B =
      ((xs = t == null ? void 0 : t.pricingEntries) == null
        ? void 0
        : xs.length) || 0;
    let Z;
    e[25] !== B
      ? ((Z = s.jsx(y, {
          className: "mb-4",
          children: s.jsxs(i, {
            className:
              "text-lg font-semibold text-gray-800 font-[Quicksand,sans-serif]",
            children: ["Pricing Matrix (", B, " entries)"],
          }),
        })),
        (e[25] = B),
        (e[26] = Z))
      : (Z = e[26]);
    let J;
    e[27] === Symbol.for("react.memo_cache_sentinel")
      ? ((J = s.jsx("thead", {
          children: s.jsxs("tr", {
            className: "border-b",
            children: [
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "ID",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Level",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Tier",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Giá",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Giá Design Request",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Trạng thái",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Ngày tạo",
              }),
              s.jsx("th", {
                className:
                  "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                children: "Hành động",
              }),
            ],
          }),
        })),
        (e[27] = J))
      : (J = e[27]);
    let se;
    e[28] !== Q ||
    e[29] !== V ||
    e[30] !== (t == null ? void 0 : t.pricingEntries)
      ? ((se =
          (Ps = t == null ? void 0 : t.pricingEntries) == null
            ? void 0
            : Ps.map((Ue) =>
                s.jsxs(
                  "tr",
                  {
                    className: "border-b",
                    children: [
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsxs(i, {
                          className: "font-medium",
                          children: ["#", Ue.id],
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(Be, {
                          colorScheme: "blue",
                          variant: "subtle",
                          children: M(Ue.dealerLevel),
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(Be, {
                          colorScheme: q(Ue.dealerTier),
                          variant: "subtle",
                          children: L(Ue.dealerTier),
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(i, {
                          className: "font-medium text-green-600",
                          children: Zs(Ue.priceCents),
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(i, {
                          className: "font-medium text-blue-600",
                          children: Zs(Ue.designRequestPriceCents),
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(Be, {
                          colorScheme: Ue.isActive ? "green" : "red",
                          variant: "subtle",
                          children: Ue.isActive
                            ? "Hoạt động"
                            : "Không hoạt động",
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsx(i, {
                          className: "text-sm text-gray-600",
                          children: new Date(Ue.createdAt).toLocaleDateString(
                            "vi-VN"
                          ),
                        }),
                      }),
                      s.jsx("td", {
                        className: "py-2",
                        children: s.jsxs(W, {
                          gap: 2,
                          children: [
                            s.jsxs(Y, {
                              size: "sm",
                              variant: "outline",
                              colorScheme: "blue",
                              onClick: () => V(Ue),
                              children: [
                                s.jsx(Mt, { className: "mr-1" }),
                                "Sửa",
                              ],
                            }),
                            s.jsxs(Y, {
                              size: "sm",
                              variant: "outline",
                              colorScheme: "red",
                              onClick: () => Q(Ue),
                              children: [
                                s.jsx(vn, { className: "mr-1" }),
                                "Xóa",
                              ],
                            }),
                          ],
                        }),
                      }),
                    ],
                  },
                  Ue.id
                )
              )),
        (e[28] = Q),
        (e[29] = V),
        (e[30] = t == null ? void 0 : t.pricingEntries),
        (e[31] = se))
      : (se = e[31]);
    let ee;
    e[32] !== se
      ? ((ee = s.jsx(y, {
          className: "overflow-x-auto",
          children: s.jsxs("table", {
            className: "w-full",
            children: [J, s.jsx("tbody", { children: se })],
          }),
        })),
        (e[32] = se),
        (e[33] = ee))
      : (ee = e[33]);
    let te;
    e[34] !== Z || e[35] !== ee
      ? ((te = s.jsxs(y, {
          className: "bg-white rounded-lg shadow-md p-6",
          children: [Z, ee],
        })),
        (e[34] = Z),
        (e[35] = ee),
        (e[36] = te))
      : (te = e[36]);
    let X;
    e[37] !== t
      ? ((X =
          (t == null ? void 0 : t.matrix) &&
          s.jsxs(y, {
            className: "bg-white rounded-lg shadow-md p-6",
            children: [
              s.jsx(y, {
                className: "mb-4",
                children: s.jsx(i, {
                  className:
                    "text-lg font-semibold text-gray-800 font-[Quicksand,sans-serif]",
                  children: "Matrix Visualization",
                }),
              }),
              s.jsx(y, {
                className: "overflow-x-auto",
                children: s.jsxs("table", {
                  className: "w-full",
                  children: [
                    s.jsx("thead", {
                      children: s.jsxs("tr", {
                        className: "border-b",
                        children: [
                          s.jsx("th", {
                            className:
                              "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                            children: "Level",
                          }),
                          s.jsx("th", {
                            className:
                              "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                            children: "FREE",
                          }),
                          s.jsx("th", {
                            className:
                              "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                            children: "PRO",
                          }),
                          s.jsx("th", {
                            className:
                              "text-left py-2 font-semibold font-[Quicksand,sans-serif]",
                            children: "VIP",
                          }),
                        ],
                      }),
                    }),
                    s.jsx("tbody", {
                      children: Object.entries(t.matrix).map((Ue) => {
                        const [ut, ms] = Ue;
                        return s.jsxs(
                          "tr",
                          {
                            className: "border-b",
                            children: [
                              s.jsx("td", {
                                className: "py-2",
                                children: s.jsx(Be, {
                                  colorScheme: "blue",
                                  variant: "subtle",
                                  children: M(ut),
                                }),
                              }),
                              s.jsx("td", {
                                className: "py-2",
                                children: s.jsx(i, {
                                  className: "font-medium text-green-600",
                                  children: Zs(ms[Je.FREE] || 0),
                                }),
                              }),
                              s.jsx("td", {
                                className: "py-2",
                                children: s.jsx(i, {
                                  className: "font-medium text-blue-600",
                                  children: Zs(ms[Je.PRO] || 0),
                                }),
                              }),
                              s.jsx("td", {
                                className: "py-2",
                                children: s.jsx(i, {
                                  className: "font-medium text-purple-600",
                                  children: Zs(ms[Je.VIP] || 0),
                                }),
                              }),
                            ],
                          },
                          ut
                        );
                      }),
                    }),
                  ],
                }),
              }),
            ],
          })),
        (e[37] = t),
        (e[38] = X))
      : (X = e[38]);
    let I;
    e[39] !== te || e[40] !== X || e[41] !== H
      ? ((I = s.jsxs(le, { gap: 6, align: "stretch", children: [H, te, X] })),
        (e[39] = te),
        (e[40] = X),
        (e[41] = H),
        (e[42] = I))
      : (I = e[42]);
    let O;
    e[43] === Symbol.for("react.memo_cache_sentinel")
      ? ((O = s.jsx(y, {
          children: s.jsx(i, {
            className: "text-lg font-semibold text-gray-800 mb-4",
            children: "Tạo pricing entry mới",
          }),
        })),
        (e[43] = O))
      : (O = e[43]);
    let U;
    e[44] === Symbol.for("react.memo_cache_sentinel")
      ? ((U = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Dealer Level *",
        })),
        (e[44] = U))
      : (U = e[44]);
    let re;
    e[45] === Symbol.for("react.memo_cache_sentinel")
      ? ((re = (Ue) => h((ut) => ({ ...ut, dealerLevel: Ue.target.value }))),
        (e[45] = re))
      : (re = e[45]);
    let de, ue, he, ne, pe, ae, ve;
    e[46] === Symbol.for("react.memo_cache_sentinel")
      ? ((de = s.jsx("option", { value: Oe.FREE, children: "FREE" })),
        (ue = s.jsx("option", { value: Oe.LEVEL_1, children: "LEVEL_1" })),
        (he = s.jsx("option", { value: Oe.LEVEL_2, children: "LEVEL_2" })),
        (ne = s.jsx("option", { value: Oe.LEVEL_3, children: "LEVEL_3" })),
        (pe = s.jsx("option", { value: Oe.LEVEL_4, children: "LEVEL_4" })),
        (ae = s.jsx("option", { value: Oe.LEVEL_5, children: "LEVEL_5" })),
        (ve = s.jsx("option", { value: Oe.UNLIMITED, children: "UNLIMITED" })),
        (e[46] = de),
        (e[47] = ue),
        (e[48] = he),
        (e[49] = ne),
        (e[50] = pe),
        (e[51] = ae),
        (e[52] = ve))
      : ((de = e[46]),
        (ue = e[47]),
        (he = e[48]),
        (ne = e[49]),
        (pe = e[50]),
        (ae = e[51]),
        (ve = e[52]));
    let je;
    e[53] !== S.dealerLevel
      ? ((je = s.jsxs(y, {
          children: [
            U,
            s.jsxs("select", {
              value: S.dealerLevel,
              onChange: re,
              className:
                "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",
              children: [de, ue, he, ne, pe, ae, ve],
            }),
          ],
        })),
        (e[53] = S.dealerLevel),
        (e[54] = je))
      : (je = e[54]);
    let ce;
    e[55] === Symbol.for("react.memo_cache_sentinel")
      ? ((ce = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Dealer Tier *",
        })),
        (e[55] = ce))
      : (ce = e[55]);
    let xe;
    e[56] === Symbol.for("react.memo_cache_sentinel")
      ? ((xe = (Ue) => h((ut) => ({ ...ut, dealerTier: Ue.target.value }))),
        (e[56] = xe))
      : (xe = e[56]);
    let Te, Pe, Se;
    e[57] === Symbol.for("react.memo_cache_sentinel")
      ? ((Te = s.jsx("option", { value: Je.FREE, children: "FREE" })),
        (Pe = s.jsx("option", { value: Je.PRO, children: "PRO" })),
        (Se = s.jsx("option", { value: Je.VIP, children: "VIP" })),
        (e[57] = Te),
        (e[58] = Pe),
        (e[59] = Se))
      : ((Te = e[57]), (Pe = e[58]), (Se = e[59]));
    let ke;
    e[60] !== S.dealerTier
      ? ((ke = s.jsxs(y, {
          children: [
            ce,
            s.jsxs("select", {
              value: S.dealerTier,
              onChange: xe,
              className:
                "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",
              children: [Te, Pe, Se],
            }),
          ],
        })),
        (e[60] = S.dealerTier),
        (e[61] = ke))
      : (ke = e[61]);
    let Le;
    e[62] === Symbol.for("react.memo_cache_sentinel")
      ? ((Le = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Giá (cents) *",
        })),
        (e[62] = Le))
      : (Le = e[62]);
    let De;
    e[63] === Symbol.for("react.memo_cache_sentinel")
      ? ((De = (Ue) =>
          h((ut) => ({ ...ut, priceCents: parseInt(Ue.target.value) || 0 }))),
        (e[63] = De))
      : (De = e[63]);
    let me;
    e[64] !== S.priceCents
      ? ((me = s.jsx(Ee, {
          type: "number",
          value: S.priceCents,
          onChange: De,
          placeholder: "Nhập giá (cents)",
        })),
        (e[64] = S.priceCents),
        (e[65] = me))
      : (me = e[65]);
    let Fe;
    e[66] === Symbol.for("react.memo_cache_sentinel")
      ? ((Fe = s.jsx(i, {
          className: "text-xs text-gray-500 mt-1",
          children: "Ví dụ: 80000 = 80,000 VND",
        })),
        (e[66] = Fe))
      : (Fe = e[66]);
    let be;
    e[67] !== me
      ? ((be = s.jsxs(y, { children: [Le, me, Fe] })),
        (e[67] = me),
        (e[68] = be))
      : (be = e[68]);
    let Me;
    e[69] === Symbol.for("react.memo_cache_sentinel")
      ? ((Me = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Giá Design Request (cents) *",
        })),
        (e[69] = Me))
      : (Me = e[69]);
    let Qe;
    e[70] === Symbol.for("react.memo_cache_sentinel")
      ? ((Qe = (Ue) =>
          h((ut) => ({
            ...ut,
            designRequestPriceCents: parseInt(Ue.target.value) || 0,
          }))),
        (e[70] = Qe))
      : (Qe = e[70]);
    let $e;
    e[71] !== S.designRequestPriceCents
      ? (($e = s.jsx(Ee, {
          type: "number",
          value: S.designRequestPriceCents,
          onChange: Qe,
          placeholder: "Nhập giá design request (cents)",
        })),
        (e[71] = S.designRequestPriceCents),
        (e[72] = $e))
      : ($e = e[72]);
    let Ye;
    e[73] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ye = s.jsx(i, {
          className: "text-xs text-gray-500 mt-1",
          children: "Ví dụ: 50000 = 50,000 VND",
        })),
        (e[73] = Ye))
      : (Ye = e[73]);
    let we;
    e[74] !== $e
      ? ((we = s.jsxs(y, { children: [Me, $e, Ye] })),
        (e[74] = $e),
        (e[75] = we))
      : (we = e[75]);
    let Ae;
    e[76] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ae = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Currency",
        })),
        (e[76] = Ae))
      : (Ae = e[76]);
    let We;
    e[77] === Symbol.for("react.memo_cache_sentinel")
      ? ((We = (Ue) => h((ut) => ({ ...ut, currency: Ue.target.value }))),
        (e[77] = We))
      : (We = e[77]);
    let Ke;
    e[78] !== S.currency
      ? ((Ke = s.jsxs(y, {
          children: [
            Ae,
            s.jsx(Ee, { value: S.currency, onChange: We, placeholder: "VND" }),
          ],
        })),
        (e[78] = S.currency),
        (e[79] = Ke))
      : (Ke = e[79]);
    let Ze;
    e[80] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ze = (Ue) => h((ut) => ({ ...ut, isActive: Ue.target.checked }))),
        (e[80] = Ze))
      : (Ze = e[80]);
    let Re;
    e[81] !== S.isActive
      ? ((Re = s.jsx("input", {
          type: "checkbox",
          checked: S.isActive,
          onChange: Ze,
          className:
            "w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",
        })),
        (e[81] = S.isActive),
        (e[82] = Re))
      : (Re = e[82]);
    let ge;
    e[83] === Symbol.for("react.memo_cache_sentinel")
      ? ((ge = s.jsx(i, { className: "text-sm", children: "Hoạt động" })),
        (e[83] = ge))
      : (ge = e[83]);
    let et;
    e[84] !== Re
      ? ((et = s.jsx(y, {
          children: s.jsxs("label", {
            className: "flex items-center gap-2",
            children: [Re, ge],
          }),
        })),
        (e[84] = Re),
        (e[85] = et))
      : (et = e[85]);
    let lt;
    e[86] !== je ||
    e[87] !== ke ||
    e[88] !== be ||
    e[89] !== we ||
    e[90] !== Ke ||
    e[91] !== et
      ? ((lt = s.jsxs(le, {
          gap: 4,
          align: "stretch",
          children: [O, je, ke, be, we, Ke, et],
        })),
        (e[86] = je),
        (e[87] = ke),
        (e[88] = be),
        (e[89] = we),
        (e[90] = Ke),
        (e[91] = et),
        (e[92] = lt))
      : (lt = e[92]);
    let qe;
    e[93] !== u
      ? ((qe = s.jsx(Y, { variant: "outline", onClick: u, children: "Hủy" })),
        (e[93] = u),
        (e[94] = qe))
      : (qe = e[94]);
    let it;
    e[95] !== l.isPending || e[96] !== p
      ? ((it = s.jsx(Y, {
          colorScheme: "blue",
          onClick: p,
          loading: l.isPending,
          children: "Tạo pricing",
        })),
        (e[95] = l.isPending),
        (e[96] = p),
        (e[97] = it))
      : (it = e[97]);
    let ze;
    e[98] !== qe || e[99] !== it
      ? ((ze = s.jsxs(W, {
          justify: "end",
          gap: 3,
          mt: 6,
          children: [qe, it],
        })),
        (e[98] = qe),
        (e[99] = it),
        (e[100] = ze))
      : (ze = e[100]);
    let ot;
    e[101] !== r || e[102] !== u || e[103] !== lt || e[104] !== ze
      ? ((ot = s.jsxs(Ot, {
          isOpen: r,
          onClose: u,
          maxWidth: "500px",
          children: [lt, ze],
        })),
        (e[101] = r),
        (e[102] = u),
        (e[103] = lt),
        (e[104] = ze),
        (e[105] = ot))
      : (ot = e[105]);
    let dt;
    e[106] === Symbol.for("react.memo_cache_sentinel")
      ? ((dt = s.jsx(i, {
          className: "text-lg font-semibold text-gray-800 mb-4",
          children: "Cập nhật pricing entry",
        })),
        (e[106] = dt))
      : (dt = e[106]);
    let ct;
    e[107] !== v
      ? ((ct =
          v &&
          s.jsxs(i, {
            className: "text-sm text-gray-600 mb-4",
            children: [M(v.dealerLevel), " - ", L(v.dealerTier)],
          })),
        (e[107] = v),
        (e[108] = ct))
      : (ct = e[108]);
    let bt;
    e[109] !== ct
      ? ((bt = s.jsxs(y, { children: [dt, ct] })), (e[109] = ct), (e[110] = bt))
      : (bt = e[110]);
    let _t;
    e[111] === Symbol.for("react.memo_cache_sentinel")
      ? ((_t = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Giá (cents) *",
        })),
        (e[111] = _t))
      : (_t = e[111]);
    let gt;
    e[112] === Symbol.for("react.memo_cache_sentinel")
      ? ((gt = (Ue) =>
          k((ut) => ({ ...ut, priceCents: parseInt(Ue.target.value) || 0 }))),
        (e[112] = gt))
      : (gt = e[112]);
    let ft;
    e[113] !== A.priceCents
      ? ((ft = s.jsx(Ee, {
          type: "number",
          value: A.priceCents,
          onChange: gt,
          placeholder: "Nhập giá (cents)",
        })),
        (e[113] = A.priceCents),
        (e[114] = ft))
      : (ft = e[114]);
    let St;
    e[115] === Symbol.for("react.memo_cache_sentinel")
      ? ((St = s.jsx(i, {
          className: "text-xs text-gray-500 mt-1",
          children: "Ví dụ: 80000 = 80,000 VND",
        })),
        (e[115] = St))
      : (St = e[115]);
    let ht;
    e[116] !== ft
      ? ((ht = s.jsxs(y, { children: [_t, ft, St] })),
        (e[116] = ft),
        (e[117] = ht))
      : (ht = e[117]);
    let pt;
    e[118] === Symbol.for("react.memo_cache_sentinel")
      ? ((pt = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Giá Design Request (cents) *",
        })),
        (e[118] = pt))
      : (pt = e[118]);
    let xt;
    e[119] === Symbol.for("react.memo_cache_sentinel")
      ? ((xt = (Ue) =>
          k((ut) => ({
            ...ut,
            designRequestPriceCents: parseInt(Ue.target.value) || 0,
          }))),
        (e[119] = xt))
      : (xt = e[119]);
    let jt;
    e[120] !== A.designRequestPriceCents
      ? ((jt = s.jsx(Ee, {
          type: "number",
          value: A.designRequestPriceCents,
          onChange: xt,
          placeholder: "Nhập giá design request (cents)",
        })),
        (e[120] = A.designRequestPriceCents),
        (e[121] = jt))
      : (jt = e[121]);
    let Ct;
    e[122] === Symbol.for("react.memo_cache_sentinel")
      ? ((Ct = s.jsx(i, {
          className: "text-xs text-gray-500 mt-1",
          children: "Ví dụ: 50000 = 50,000 VND",
        })),
        (e[122] = Ct))
      : (Ct = e[122]);
    let Tt;
    e[123] !== jt
      ? ((Tt = s.jsxs(y, { children: [pt, jt, Ct] })),
        (e[123] = jt),
        (e[124] = Tt))
      : (Tt = e[124]);
    let Et;
    e[125] === Symbol.for("react.memo_cache_sentinel")
      ? ((Et = s.jsx("label", {
          className: "block text-sm font-medium text-gray-700 mb-2",
          children: "Currency",
        })),
        (e[125] = Et))
      : (Et = e[125]);
    let oe;
    e[126] === Symbol.for("react.memo_cache_sentinel")
      ? ((oe = (Ue) => k((ut) => ({ ...ut, currency: Ue.target.value }))),
        (e[126] = oe))
      : (oe = e[126]);
    let Ie;
    e[127] !== A.currency
      ? ((Ie = s.jsxs(y, {
          children: [
            Et,
            s.jsx(Ee, { value: A.currency, onChange: oe, placeholder: "VND" }),
          ],
        })),
        (e[127] = A.currency),
        (e[128] = Ie))
      : (Ie = e[128]);
    let Lt;
    e[129] === Symbol.for("react.memo_cache_sentinel")
      ? ((Lt = (Ue) => k((ut) => ({ ...ut, isActive: Ue.target.checked }))),
        (e[129] = Lt))
      : (Lt = e[129]);
    let Dt;
    e[130] !== A.isActive
      ? ((Dt = s.jsx("input", {
          type: "checkbox",
          checked: A.isActive,
          onChange: Lt,
          className:
            "w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",
        })),
        (e[130] = A.isActive),
        (e[131] = Dt))
      : (Dt = e[131]);
    let Gt;
    e[132] === Symbol.for("react.memo_cache_sentinel")
      ? ((Gt = s.jsx(i, { className: "text-sm", children: "Hoạt động" })),
        (e[132] = Gt))
      : (Gt = e[132]);
    let Vt;
    e[133] !== Dt
      ? ((Vt = s.jsx(y, {
          children: s.jsxs("label", {
            className: "flex items-center gap-2",
            children: [Dt, Gt],
          }),
        })),
        (e[133] = Dt),
        (e[134] = Vt))
      : (Vt = e[134]);
    let mt;
    e[135] !== bt ||
    e[136] !== ht ||
    e[137] !== Tt ||
    e[138] !== Ie ||
    e[139] !== Vt
      ? ((mt = s.jsxs(le, {
          gap: 4,
          align: "stretch",
          children: [bt, ht, Tt, Ie, Vt],
        })),
        (e[135] = bt),
        (e[136] = ht),
        (e[137] = Tt),
        (e[138] = Ie),
        (e[139] = Vt),
        (e[140] = mt))
      : (mt = e[140]);
    let $t;
    e[141] !== f
      ? (($t = s.jsx(Y, { variant: "outline", onClick: f, children: "Hủy" })),
        (e[141] = f),
        (e[142] = $t))
      : ($t = e[142]);
    let ts;
    e[143] !== z || e[144] !== c.isPending
      ? ((ts = s.jsx(Y, {
          colorScheme: "blue",
          onClick: z,
          loading: c.isPending,
          children: "Cập nhật",
        })),
        (e[143] = z),
        (e[144] = c.isPending),
        (e[145] = ts))
      : (ts = e[145]);
    let Ge;
    e[146] !== $t || e[147] !== ts
      ? ((Ge = s.jsxs(W, {
          justify: "end",
          gap: 3,
          mt: 6,
          children: [$t, ts],
        })),
        (e[146] = $t),
        (e[147] = ts),
        (e[148] = Ge))
      : (Ge = e[148]);
    let Pt;
    e[149] !== _ || e[150] !== f || e[151] !== mt || e[152] !== Ge
      ? ((Pt = s.jsxs(Ot, {
          isOpen: _,
          onClose: f,
          maxWidth: "500px",
          children: [mt, Ge],
        })),
        (e[149] = _),
        (e[150] = f),
        (e[151] = mt),
        (e[152] = Ge),
        (e[153] = Pt))
      : (Pt = e[153]);
    let qt, Ht;
    e[154] === Symbol.for("react.memo_cache_sentinel")
      ? ((qt = s.jsx(i, {
          className: "text-lg font-semibold text-gray-800 mb-2",
          children: "Xác nhận xóa",
        })),
        (Ht = s.jsx(i, {
          className: "text-gray-600",
          children: "Bạn có chắc chắn muốn xóa pricing entry này không?",
        })),
        (e[154] = qt),
        (e[155] = Ht))
      : ((qt = e[154]), (Ht = e[155]));
    let Ut;
    e[156] !== v
      ? ((Ut =
          v &&
          s.jsxs(y, {
            className: "mt-3 p-3 bg-gray-50 rounded-lg",
            children: [
              s.jsxs(i, {
                className: "font-medium",
                children: [M(v.dealerLevel), " - ", L(v.dealerTier)],
              }),
              s.jsxs(i, {
                className: "text-sm text-gray-600",
                children: ["Giá: ", Zs(v.priceCents)],
              }),
            ],
          })),
        (e[156] = v),
        (e[157] = Ut))
      : (Ut = e[157]);
    let zt;
    e[158] !== Ut
      ? ((zt = s.jsx(le, {
          gap: 4,
          align: "stretch",
          children: s.jsxs(y, { children: [qt, Ht, Ut] }),
        })),
        (e[158] = Ut),
        (e[159] = zt))
      : (zt = e[159]);
    let Bt;
    e[160] !== w
      ? ((Bt = s.jsx(Y, { variant: "outline", onClick: w, children: "Hủy" })),
        (e[160] = w),
        (e[161] = Bt))
      : (Bt = e[161]);
    let rs;
    e[162] !== m.isPending || e[163] !== R
      ? ((rs = s.jsx(Y, {
          colorScheme: "red",
          onClick: R,
          loading: m.isPending,
          children: "Xóa",
        })),
        (e[162] = m.isPending),
        (e[163] = R),
        (e[164] = rs))
      : (rs = e[164]);
    let Ft;
    e[165] !== Bt || e[166] !== rs
      ? ((Ft = s.jsxs(W, {
          justify: "end",
          gap: 3,
          mt: 6,
          children: [Bt, rs],
        })),
        (e[165] = Bt),
        (e[166] = rs),
        (e[167] = Ft))
      : (Ft = e[167]);
    let os;
    e[168] !== b || e[169] !== w || e[170] !== zt || e[171] !== Ft
      ? ((os = s.jsxs(Ot, {
          isOpen: b,
          onClose: w,
          maxWidth: "400px",
          children: [zt, Ft],
        })),
        (e[168] = b),
        (e[169] = w),
        (e[170] = zt),
        (e[171] = Ft),
        (e[172] = os))
      : (os = e[172]);
    let ss;
    return (
      e[173] !== I || e[174] !== ot || e[175] !== Pt || e[176] !== os
        ? ((ss = s.jsxs(y, { className: "p-6", children: [I, ot, Pt, os] })),
          (e[173] = I),
          (e[174] = ot),
          (e[175] = Pt),
          (e[176] = os),
          (e[177] = ss))
        : (ss = e[177]),
      ss
    );
  };
function n1(e) {
  return (
    {
      [Oe.FREE]: "FREE",
      [Oe.LEVEL_1]: "LEVEL_1",
      [Oe.LEVEL_2]: "LEVEL_2",
      [Oe.LEVEL_3]: "LEVEL_3",
      [Oe.LEVEL_4]: "LEVEL_4",
      [Oe.LEVEL_5]: "LEVEL_5",
      [Oe.UNLIMITED]: "UNLIMITED",
    }[e] || e
  );
}
function i1(e) {
  return e.toUpperCase();
}
function l1(e) {
  switch (e) {
    case Je.FREE:
      return "green";
    case Je.PRO:
      return "blue";
    case Je.VIP:
      return "purple";
    default:
      return "gray";
  }
}
const a1 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: s1 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  r1 = () => {
    var Q, M;
    const [e, t] = j.useState(),
      [n, a] = j.useState({
        page: 1,
        limit: 10,
        search: "",
        sortBy: "requestedAt",
        sortOrder: "DESC",
      }),
      [l, c] = j.useState("pending"),
      [m, r] = j.useState(null),
      [o, u] = j.useState({
        status: "",
        fileUrl: "",
        errorMessage: "",
        adminNotes: "",
      }),
      { open: _, onOpen: d, onClose: f } = ws(),
      { data: b, isLoading: P } = Nh(),
      { data: w, isLoading: v } = Dh(),
      x = Lh();
    ps.useEffect(() => {
      const L = l === "pending" ? w : b == null ? void 0 : b.requests;
      if (L) {
        const q = {
          data: L.map((D) => ({
            ...D,
            id: D.id,
            requestedAt:
              typeof D.requestedAt == "string"
                ? D.requestedAt
                : D.requestedAt.toISOString(),
          })),
          total: L.length,
          page: 1,
          limit: L.length,
          totalPages: 1,
        };
        t(q);
      }
    }, [l, b, w]);
    const T = (L) => {
        a(L);
      },
      S = () => {
        a({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "requestedAt",
          sortOrder: "DESC",
        });
      },
      h = (L) => {
        switch (L) {
          case "pending":
            return "orange";
          case "processing":
            return "blue";
          case "completed":
            return "green";
          case "failed":
            return "red";
          case "cancelled":
            return "gray";
          default:
            return "gray";
        }
      },
      C = (L) => {
        switch (L) {
          case "pending":
            return "Đang chờ xử lý";
          case "processing":
            return "Đang xử lý";
          case "completed":
            return "Hoàn thành";
          case "failed":
            return "Thất bại";
          case "cancelled":
            return "Đã hủy";
          default:
            return L;
        }
      },
      A = (L) =>
        new Date(L).toLocaleDateString("vi-VN", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
        }),
      k = [
        {
          key: "id",
          label: "ID",
          sortable: !0,
          render: (L) =>
            s.jsxs(i, {
              className: "font-medium",
              fontFamily: "Quicksand, sans-serif",
              children: ["#", L.id],
            }),
        },
        {
          key: "userId",
          label: "User ID",
          sortable: !0,
          render: (L) =>
            s.jsx(i, {
              fontFamily: "Quicksand, sans-serif",
              children: L.userId,
            }),
        },
        {
          key: "status",
          label: "Trạng thái",
          sortable: !0,
          render: (L) =>
            s.jsx(Be, { colorScheme: h(L.status), children: C(L.status) }),
        },
        {
          key: "requestedAt",
          label: "Ngày tạo",
          sortable: !0,
          render: (L) =>
            s.jsx(i, {
              fontSize: "sm",
              fontFamily: "Quicksand, sans-serif",
              children: A(L.requestedAt),
            }),
        },
        {
          key: "notes",
          label: "Ghi chú",
          sortable: !1,
          render: (L) =>
            s.jsx(i, {
              fontSize: "sm",
              fontFamily: "Quicksand, sans-serif",
              children: L.notes || "-",
            }),
        },
      ],
      g = [
        {
          key: "edit",
          label: "Cập nhật",
          icon: s.jsx(Mt, {}),
          variant: "ghost",
          colorScheme: "blue",
          onClick: (L) => E(L),
        },
        {
          key: "download",
          label: "Tải xuống",
          icon: s.jsx(ma, {}),
          variant: "ghost",
          colorScheme: "green",
          onClick: (L) => {
            L.fileUrl && window.open(L.fileUrl, "_blank");
          },
          show: (L) => L.status === "completed" && !!L.fileUrl,
        },
      ],
      p = [
        ls("Tìm theo ID hoặc User ID..."),
        Rt("status", "Trạng thái", [
          { value: "", label: "Tất cả trạng thái" },
          { value: "pending", label: "Đang chờ xử lý" },
          { value: "processing", label: "Đang xử lý" },
          { value: "completed", label: "Hoàn thành" },
          { value: "failed", label: "Thất bại" },
          { value: "cancelled", label: "Đã hủy" },
        ]),
      ],
      E = (L) => {
        r(L),
          u({
            status: L.status,
            fileUrl: L.fileUrl || "",
            errorMessage: L.errorMessage || "",
            adminNotes: L.adminNotes || "",
          }),
          d();
      },
      z = async () => {
        if (m)
          try {
            await x.mutateAsync({
              id: m.id,
              data: {
                status: o.status || void 0,
                fileUrl: o.fileUrl || void 0,
                errorMessage: o.errorMessage || void 0,
                adminNotes: o.adminNotes || void 0,
              },
            }),
              ye.create({
                title: "Cập nhật thành công",
                description: "Yêu cầu xuất hóa đơn đã được cập nhật",
                type: "success",
              }),
              f(),
              r(null),
              u({ status: "", fileUrl: "", errorMessage: "", adminNotes: "" });
          } catch (L) {
            ye.create({
              title: "Lỗi khi cập nhật",
              description: L.message || "Có lỗi xảy ra. Vui lòng thử lại sau.",
              type: "error",
            });
          }
      };
    l === "pending" || b == null || b.requests;
    const N = l === "pending" ? v : P,
      R = (b == null ? void 0 : b.total) || 0,
      F = (w == null ? void 0 : w.length) || 0,
      V =
        ((Q = b == null ? void 0 : b.requests) == null
          ? void 0
          : Q.filter((L) => L.status === "completed").length) || 0,
      $ =
        ((M = b == null ? void 0 : b.requests) == null
          ? void 0
          : M.filter((L) => L.status === "failed").length) || 0;
    return s.jsx(y, {
      className: "p-6 bg-gray-50 min-h-screen",
      children: s.jsxs(y, {
        className: "max-w-7xl mx-auto",
        children: [
          s.jsxs(y, {
            className: "mb-6",
            children: [
              s.jsx(i, {
                className:
                  "text-3xl font-bold font-[Quicksand,sans-serif] text-gray-800 mb-2",
                children: "Quản lý yêu cầu xuất hóa đơn",
              }),
              s.jsx(i, {
                className: "text-gray-600 font-[Quicksand,sans-serif]",
                children:
                  "Xử lý và quản lý các yêu cầu xuất hóa đơn từ người dùng",
              }),
            ],
          }),
          s.jsxs(tt, {
            bg: "white",
            borderRadius: "xl",
            shadow: "lg",
            border: "1px solid",
            borderColor: "gray.200",
            mb: 6,
            overflow: "hidden",
            children: [
              s.jsx(Yt, {
                bg: "blue.50",
                borderBottom: "1px solid",
                borderColor: "blue.200",
                py: 4,
                px: 6,
                children: s.jsx(i, {
                  fontSize: { base: "sm", md: "md" },
                  fontWeight: "bold",
                  color: "blue.600",
                  children: "📊 Thống kê yêu cầu xuất hóa đơn",
                }),
              }),
              s.jsx(st, {
                p: 6,
                children: s.jsxs(Kt, {
                  templateColumns: {
                    base: "repeat(1, 1fr)",
                    sm: "repeat(2, 1fr)",
                    lg: "repeat(4, 1fr)",
                  },
                  gap: { base: 4, md: 6 },
                  children: [
                    s.jsx(tt, {
                      bg: "linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",
                      color: "white",
                      borderRadius: "xl",
                      shadow: "lg",
                      overflow: "hidden",
                      _hover: { shadow: "xl", transform: "translateY(-2px)" },
                      transition: "all 0.3s ease",
                      children: s.jsx(st, {
                        p: { base: 4, md: 6 },
                        children: s.jsxs(rt, {
                          justify: "space-between",
                          align: "start",
                          children: [
                            s.jsxs(le, {
                              align: "start",
                              gap: 1,
                              children: [
                                s.jsx(i, {
                                  fontSize: { base: "xs", md: "sm" },
                                  opacity: 0.9,
                                  fontWeight: "medium",
                                  textTransform: "uppercase",
                                  letterSpacing: "wide",
                                  children: "TỔNG YÊU CẦU",
                                }),
                                s.jsx(i, {
                                  fontSize: { base: "xl", md: "2xl" },
                                  fontWeight: "bold",
                                  lineHeight: "shorter",
                                  children: R,
                                }),
                              ],
                            }),
                            s.jsx(vt, {
                              as: Ea,
                              boxSize: { base: 6, md: 8 },
                              opacity: 0.8,
                            }),
                          ],
                        }),
                      }),
                    }),
                    s.jsx(tt, {
                      bg: "linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",
                      color: "white",
                      borderRadius: "xl",
                      shadow: "lg",
                      overflow: "hidden",
                      _hover: { shadow: "xl", transform: "translateY(-2px)" },
                      transition: "all 0.3s ease",
                      children: s.jsx(st, {
                        p: { base: 4, md: 6 },
                        children: s.jsxs(rt, {
                          justify: "space-between",
                          align: "start",
                          children: [
                            s.jsxs(le, {
                              align: "start",
                              gap: 1,
                              children: [
                                s.jsx(i, {
                                  fontSize: { base: "xs", md: "sm" },
                                  opacity: 0.9,
                                  fontWeight: "medium",
                                  textTransform: "uppercase",
                                  letterSpacing: "wide",
                                  children: "ĐANG CHỜ",
                                }),
                                s.jsx(i, {
                                  fontSize: { base: "xl", md: "2xl" },
                                  fontWeight: "bold",
                                  lineHeight: "shorter",
                                  children: F,
                                }),
                              ],
                            }),
                            s.jsx(vt, {
                              as: $i,
                              boxSize: { base: 6, md: 8 },
                              opacity: 0.8,
                            }),
                          ],
                        }),
                      }),
                    }),
                    s.jsx(tt, {
                      bg: "linear-gradient(135deg, #10B981 0%, #059669 100%)",
                      color: "white",
                      borderRadius: "xl",
                      shadow: "lg",
                      overflow: "hidden",
                      _hover: { shadow: "xl", transform: "translateY(-2px)" },
                      transition: "all 0.3s ease",
                      children: s.jsx(st, {
                        p: { base: 4, md: 6 },
                        children: s.jsxs(rt, {
                          justify: "space-between",
                          align: "start",
                          children: [
                            s.jsxs(le, {
                              align: "start",
                              gap: 1,
                              children: [
                                s.jsx(i, {
                                  fontSize: { base: "xs", md: "sm" },
                                  opacity: 0.9,
                                  fontWeight: "medium",
                                  textTransform: "uppercase",
                                  letterSpacing: "wide",
                                  children: "HOÀN THÀNH",
                                }),
                                s.jsx(i, {
                                  fontSize: { base: "xl", md: "2xl" },
                                  fontWeight: "bold",
                                  lineHeight: "shorter",
                                  children: V,
                                }),
                              ],
                            }),
                            s.jsx(vt, {
                              as: Ts,
                              boxSize: { base: 6, md: 8 },
                              opacity: 0.8,
                            }),
                          ],
                        }),
                      }),
                    }),
                    s.jsx(tt, {
                      bg: "linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",
                      color: "white",
                      borderRadius: "xl",
                      shadow: "lg",
                      overflow: "hidden",
                      _hover: { shadow: "xl", transform: "translateY(-2px)" },
                      transition: "all 0.3s ease",
                      children: s.jsx(st, {
                        p: { base: 4, md: 6 },
                        children: s.jsxs(rt, {
                          justify: "space-between",
                          align: "start",
                          children: [
                            s.jsxs(le, {
                              align: "start",
                              gap: 1,
                              children: [
                                s.jsx(i, {
                                  fontSize: { base: "xs", md: "sm" },
                                  opacity: 0.9,
                                  fontWeight: "medium",
                                  textTransform: "uppercase",
                                  letterSpacing: "wide",
                                  children: "THẤT BẠI",
                                }),
                                s.jsx(i, {
                                  fontSize: { base: "xl", md: "2xl" },
                                  fontWeight: "bold",
                                  lineHeight: "shorter",
                                  children: $,
                                }),
                              ],
                            }),
                            s.jsx(vt, {
                              as: Ta,
                              boxSize: { base: 6, md: 8 },
                              opacity: 0.8,
                            }),
                          ],
                        }),
                      }),
                    }),
                  ],
                }),
              }),
            ],
          }),
          s.jsxs(tt, {
            bg: "white",
            borderRadius: "xl",
            shadow: "lg",
            border: "1px solid",
            borderColor: "gray.200",
            mb: 6,
            overflow: "hidden",
            children: [
              s.jsx(Yt, {
                bg: "gray.50",
                borderBottom: "1px solid",
                borderColor: "gray.200",
                py: 4,
                px: 6,
                children: s.jsx(i, {
                  fontSize: { base: "sm", md: "md" },
                  fontWeight: "bold",
                  color: "gray.700",
                  children: "🔍 Bộ lọc yêu cầu",
                }),
              }),
              s.jsx(st, {
                p: 6,
                children: s.jsx(W, {
                  gap: 4,
                  align: "end",
                  flexWrap: "wrap",
                  children: s.jsxs(y, {
                    children: [
                      s.jsx(i, {
                        className: "text-sm font-medium text-gray-700 mb-2",
                        children: "Loại yêu cầu",
                      }),
                      s.jsxs(W, {
                        gap: 2,
                        children: [
                          s.jsxs(Y, {
                            variant: l === "pending" ? "solid" : "outline",
                            colorScheme: "orange",
                            onClick: () => c("pending"),
                            className: "font-[Quicksand,sans-serif]",
                            children: [
                              s.jsx($r, { className: "mr-2" }),
                              "Yêu cầu chờ xử lý (",
                              F,
                              ")",
                            ],
                          }),
                          s.jsxs(Y, {
                            variant: l === "all" ? "solid" : "outline",
                            colorScheme: "blue",
                            onClick: () => c("all"),
                            className: "font-[Quicksand,sans-serif]",
                            children: [
                              s.jsx(ka, { className: "mr-2" }),
                              "Tất cả yêu cầu (",
                              R,
                              ")",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                }),
              }),
            ],
          }),
          s.jsx(as, {
            data: e,
            isLoading: N,
            columns: k,
            actions: g,
            filterFields: p,
            currentFilters: n,
            onFiltersChange: T,
            onResetFilters: S,
            title: l === "pending" ? "Yêu cầu chờ xử lý" : "Tất cả yêu cầu",
            subtitle:
              l === "pending"
                ? "Danh sách các yêu cầu xuất hóa đơn đang chờ xử lý"
                : "Danh sách tất cả yêu cầu xuất hóa đơn",
            emptyMessage:
              l === "pending"
                ? "Không có yêu cầu chờ xử lý nào"
                : "Không có yêu cầu nào",
            loadingMessage: "Đang tải danh sách yêu cầu...",
            showMobileCards: !0,
            enableSorting: !0,
            enablePagination: !0,
            enablePageSizeSelector: !0,
            pageSizeOptions: [10, 25, 50, 100],
            defaultPageSize: 10,
            showFilter: !0,
            showResetButton: !0,
            resetButtonText: "Đặt lại bộ lọc",
          }),
          s.jsx(Ot, {
            isOpen: _,
            title: `Cập nhật yêu cầu #${m == null ? void 0 : m.id}`,
            onClose: f,
            maxWidth: "500px",
            children: s.jsxs(le, {
              gap: 4,
              children: [
                s.jsxs(y, {
                  className: "w-full",
                  children: [
                    s.jsx(i, {
                      className:
                        "text-sm text-gray-600 mb-2 font-[Quicksand,sans-serif]",
                      children: "Trạng thái",
                    }),
                    s.jsxs("select", {
                      value: o.status,
                      onChange: (L) =>
                        u((q) => ({ ...q, status: L.target.value })),
                      className:
                        "w-full px-3 py-2 border border-gray-300 rounded-md text-sm font-[Quicksand,sans-serif]",
                      children: [
                        s.jsx("option", {
                          value: "pending",
                          children: "Đang chờ xử lý",
                        }),
                        s.jsx("option", {
                          value: "processing",
                          children: "Đang xử lý",
                        }),
                        s.jsx("option", {
                          value: "completed",
                          children: "Hoàn thành",
                        }),
                        s.jsx("option", {
                          value: "failed",
                          children: "Thất bại",
                        }),
                        s.jsx("option", {
                          value: "cancelled",
                          children: "Đã hủy",
                        }),
                      ],
                    }),
                  ],
                }),
                o.status === "completed" &&
                  s.jsxs(y, {
                    className: "w-full",
                    children: [
                      s.jsx(i, {
                        className:
                          "text-sm text-gray-600 mb-2 font-[Quicksand,sans-serif]",
                        children: "URL file xuất",
                      }),
                      s.jsx(Ee, {
                        placeholder: "https://example.com/export/bill-123.pdf",
                        value: o.fileUrl,
                        onChange: (L) =>
                          u((q) => ({ ...q, fileUrl: L.target.value })),
                        className: "font-[Quicksand,sans-serif]",
                      }),
                    ],
                  }),
                o.status === "failed" &&
                  s.jsxs(y, {
                    className: "w-full",
                    children: [
                      s.jsx(i, {
                        className:
                          "text-sm text-gray-600 mb-2 font-[Quicksand,sans-serif]",
                        children: "Thông báo lỗi",
                      }),
                      s.jsx(Qt, {
                        placeholder: "Mô tả lỗi xảy ra...",
                        value: o.errorMessage,
                        onChange: (L) =>
                          u((q) => ({ ...q, errorMessage: L.target.value })),
                        rows: 3,
                        className: "font-[Quicksand,sans-serif]",
                      }),
                    ],
                  }),
                s.jsxs(y, {
                  className: "w-full",
                  children: [
                    s.jsx(i, {
                      className:
                        "text-sm text-gray-600 mb-2 font-[Quicksand,sans-serif]",
                      children: "Ghi chú admin",
                    }),
                    s.jsx(Qt, {
                      placeholder: "Ghi chú cho người dùng...",
                      value: o.adminNotes,
                      onChange: (L) =>
                        u((q) => ({ ...q, adminNotes: L.target.value })),
                      rows: 3,
                      className: "font-[Quicksand,sans-serif]",
                    }),
                  ],
                }),
                s.jsxs(W, {
                  gap: 2,
                  className: "w-full",
                  children: [
                    s.jsx(Y, {
                      variant: "outline",
                      onClick: f,
                      className: "font-[Quicksand,sans-serif] flex-1",
                      children: "Hủy",
                    }),
                    s.jsx(Y, {
                      colorScheme: "blue",
                      onClick: z,
                      loading: x.isPending,
                      className: "font-[Quicksand,sans-serif] flex-1",
                      children: "Cập nhật",
                    }),
                  ],
                }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  o1 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: r1 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  ns = {
    all: ["admin-templates"],
    spendingPlans: () => [...ns.all, "spending-plans"],
    spendingPlan: (e) => [...ns.spendingPlans(), e],
    spendingPlansList: (e) => [...ns.spendingPlans(), "list", e],
    todoLists: () => [...ns.all, "todo-lists"],
    todoList: (e) => [...ns.todoLists(), e],
    todoListsList: (e) => [...ns.todoLists(), "list", e],
  },
  c1 = async (e) => (await ie.post("/admin/templates/spending-plans", e)).data,
  d1 = async (e = {}) => {
    const t = new URLSearchParams();
    return (
      e.page && t.append("page", e.page.toString()),
      e.limit && t.append("limit", e.limit.toString()),
      e.sortBy && t.append("sortBy", e.sortBy),
      e.sortOrder && t.append("sortOrder", e.sortOrder),
      e.isActive !== void 0 && t.append("isActive", e.isActive.toString()),
      e.search && t.append("search", e.search),
      (await ie.get(`/admin/templates/spending-plans?${t.toString()}`)).data
    );
  },
  h1 = async (e, t) =>
    (await ie.patch(`/admin/templates/spending-plans/${e}`, t)).data,
  m1 = async (e) => {
    await ie.delete(`/admin/templates/spending-plans/${e}`);
  },
  u1 = async (e) => (await ie.post("/admin/templates/todo-lists", e)).data,
  g1 = async (e = {}) => {
    const t = new URLSearchParams();
    return (
      e.page && t.append("page", e.page.toString()),
      e.limit && t.append("limit", e.limit.toString()),
      e.sortBy && t.append("sortBy", e.sortBy),
      e.sortOrder && t.append("sortOrder", e.sortOrder),
      e.isActive !== void 0 && t.append("isActive", e.isActive.toString()),
      e.search && t.append("search", e.search),
      (await ie.get(`/admin/templates/todo-lists?${t.toString()}`)).data
    );
  },
  f1 = async (e, t) =>
    (await ie.patch(`/admin/templates/todo-lists/${e}`, t)).data,
  p1 = async (e) => {
    await ie.delete(`/admin/templates/todo-lists/${e}`);
  },
  x1 = (e) => {
    const t = G.c(9);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    t[2] !== a
      ? ((l = ns.spendingPlansList(a)), (t[2] = a), (t[3] = l))
      : (l = t[3]);
    let c;
    t[4] !== a ? ((c = () => d1(a)), (t[4] = a), (t[5] = c)) : (c = t[5]);
    let m;
    return (
      t[6] !== l || t[7] !== c
        ? ((m = { queryKey: l, queryFn: c, staleTime: 3e5 }),
          (t[6] = l),
          (t[7] = c),
          (t[8] = m))
        : (m = t[8]),
      nt(m)
    );
  },
  j1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: c1,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ns.spendingPlans() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  y1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: T1,
            onSuccess: (a) => {
              t.setQueryData(ns.spendingPlan(a.id), a),
                t.invalidateQueries({ queryKey: ns.spendingPlans() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  b1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: m1,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ns.spendingPlans() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  v1 = (e) => {
    const t = G.c(9);
    let n;
    t[0] !== e
      ? ((n = e === void 0 ? {} : e), (t[0] = e), (t[1] = n))
      : (n = t[1]);
    const a = n;
    let l;
    t[2] !== a
      ? ((l = ns.todoListsList(a)), (t[2] = a), (t[3] = l))
      : (l = t[3]);
    let c;
    t[4] !== a ? ((c = () => g1(a)), (t[4] = a), (t[5] = c)) : (c = t[5]);
    let m;
    return (
      t[6] !== l || t[7] !== c
        ? ((m = { queryKey: l, queryFn: c, staleTime: 3e5 }),
          (t[6] = l),
          (t[7] = c),
          (t[8] = m))
        : (m = t[8]),
      nt(m)
    );
  },
  S1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: u1,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ns.todoLists() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  _1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: w1,
            onSuccess: (a) => {
              t.setQueryData(ns.todoList(a.id), a),
                t.invalidateQueries({ queryKey: ns.todoLists() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  },
  C1 = () => {
    const e = G.c(2),
      t = Xe();
    let n;
    return (
      e[0] !== t
        ? ((n = {
            mutationFn: p1,
            onSuccess: () => {
              t.invalidateQueries({ queryKey: ns.todoLists() });
            },
          }),
          (e[0] = t),
          (e[1] = n))
        : (n = e[1]),
      He(n)
    );
  };
function T1(e) {
  const { id: t, data: n } = e;
  return h1(t, n);
}
function w1(e) {
  const { id: t, data: n } = e;
  return f1(t, n);
}
const la = {
    name: "",
    totalBudget: void 0,
    notes: "",
    description: "",
    isActive: !0,
    categories: [],
  },
  A1 = { name: "", description: "", items: [] },
  E1 = {
    title: "",
    description: "",
    amountEstimate: void 0,
    dueDate: "",
    status: en.UNPAID,
  },
  hr = [
    { value: en.PLANNED, label: "Đã lên kế hoạch" },
    { value: en.UNPAID, label: "Chưa thanh toán" },
    { value: en.PARTIAL, label: "Thanh toán một phần" },
    { value: en.PAID, label: "Đã thanh toán" },
    { value: en.CANCELED, label: "Đã hủy" },
  ],
  P1 = ds({ items: hr });
function aa({ isOpen: e, onClose: t, template: n }) {
  var T;
  const [a, l] = j.useState(la),
    [c, m] = j.useState(!1),
    r = j1(),
    o = y1();
  j.useEffect(() => {
    var S;
    e &&
      l(
        n
          ? {
              name: n.name,
              totalBudget: n.totalBudget,
              notes: n.notes || "",
              description: n.description || "",
              isActive: n.isActive,
              categories:
                ((S = n.categories) == null
                  ? void 0
                  : S.map((h) => {
                      var C;
                      return {
                        name: h.name,
                        description: h.description || "",
                        items:
                          ((C = h.items) == null
                            ? void 0
                            : C.map((A) => ({
                                title: A.title,
                                description: A.description || "",
                                amountEstimate: A.amountEstimate,
                                dueDate: A.dueDate || "",
                                status: A.status,
                              }))) || [],
                      };
                    })) || [],
            }
          : la
      );
  }, [e, n]);
  const u = (S, h) => {
      l((C) => ({ ...C, [S]: h }));
    },
    _ = (S, h, C) => {
      l((A) => {
        var k;
        return {
          ...A,
          categories:
            (k = A.categories) == null
              ? void 0
              : k.map((g, p) => (p === S ? { ...g, [h]: C } : g)),
        };
      });
    },
    d = (S, h, C, A) => {
      l((k) => {
        var g;
        return {
          ...k,
          categories:
            (g = k.categories) == null
              ? void 0
              : g.map((p, E) => {
                  var z;
                  return E === S
                    ? {
                        ...p,
                        items:
                          (z = p.items) == null
                            ? void 0
                            : z.map((N, R) => (R === h ? { ...N, [C]: A } : N)),
                      }
                    : p;
                }),
        };
      });
    },
    f = () => {
      l((S) => ({ ...S, categories: [...(S.categories || []), { ...A1 }] }));
    },
    b = (S) => {
      l((h) => {
        var C;
        return {
          ...h,
          categories:
            (C = h.categories) == null ? void 0 : C.filter((A, k) => k !== S),
        };
      });
    },
    P = (S) => {
      l((h) => {
        var C;
        return {
          ...h,
          categories:
            (C = h.categories) == null
              ? void 0
              : C.map((A, k) =>
                  k === S ? { ...A, items: [...(A.items || []), { ...E1 }] } : A
                ),
        };
      });
    },
    w = (S, h) => {
      l((C) => {
        var A;
        return {
          ...C,
          categories:
            (A = C.categories) == null
              ? void 0
              : A.map((k, g) => {
                  var p;
                  return g === S
                    ? {
                        ...k,
                        items:
                          (p = k.items) == null
                            ? void 0
                            : p.filter((E, z) => z !== h),
                      }
                    : k;
                }),
        };
      });
    },
    v = async (S) => {
      if ((S.preventDefault(), !a.name.trim())) {
        ye.create({
          title: "Lỗi",
          description: "Vui lòng nhập tên template",
          type: "error",
        });
        return;
      }
      m(!0);
      try {
        n
          ? (await o.mutateAsync({ id: n.id, data: a }),
            ye.create({
              title: "Thành công",
              description: "Template đã được cập nhật",
              type: "success",
            }))
          : (await r.mutateAsync(a),
            ye.create({
              title: "Thành công",
              description: "Template đã được tạo",
              type: "success",
            })),
          t();
      } catch {
        ye.create({
          title: "Lỗi",
          description: "Có lỗi xảy ra khi lưu template",
          type: "error",
        });
      } finally {
        m(!1);
      }
    },
    x = c || r.isPending || o.isPending;
  return s.jsx(Ws, {
    open: e,
    onOpenChange: t,
    children: s.jsxs(qs, {
      maxW: "4xl",
      maxH: "90vh",
      overflowY: "auto",
      children: [
        s.jsxs(Us, {
          children: [
            s.jsx(Bs, {
              children: n ? "Chỉnh sửa Template" : "Tạo Template Mới",
            }),
            s.jsx(Qs, {}),
          ],
        }),
        s.jsx(Ks, {
          children: s.jsx("form", {
            onSubmit: v,
            children: s.jsxs(kt, {
              gap: 6,
              align: "stretch",
              children: [
                s.jsxs(kt, {
                  gap: 4,
                  children: [
                    s.jsx(i, {
                      fontSize: "lg",
                      fontWeight: "semibold",
                      color: "gray.700",
                      children: "Thông tin cơ bản",
                    }),
                    s.jsx(Ne, {
                      label: "Tên Template *",
                      children: s.jsx(Ee, {
                        value: a.name,
                        onChange: (S) => u("name", S.target.value),
                        placeholder: "Nhập tên template...",
                        required: !0,
                      }),
                    }),
                    s.jsx(Ne, {
                      label: "Mô tả",
                      children: s.jsx(Qt, {
                        value: a.description,
                        onChange: (S) => u("description", S.target.value),
                        placeholder: "Nhập mô tả template...",
                        rows: 3,
                      }),
                    }),
                    s.jsx(Ne, {
                      label: "Ghi chú",
                      children: s.jsx(Qt, {
                        value: a.notes,
                        onChange: (S) => u("notes", S.target.value),
                        placeholder: "Nhập ghi chú...",
                        rows: 2,
                      }),
                    }),
                    s.jsxs(W, {
                      gap: 4,
                      children: [
                        s.jsx(Ne, {
                          label: "Ngân sách tổng",
                          flex: 1,
                          children: s.jsx(Ee, {
                            type: "number",
                            value: a.totalBudget || "",
                            onChange: (S) =>
                              u(
                                "totalBudget",
                                S.target.value ? Number(S.target.value) : void 0
                              ),
                            placeholder: "Nhập ngân sách tổng...",
                          }),
                        }),
                        s.jsx(Ne, {
                          label: "Trạng thái hoạt động",
                          children: s.jsx($s, {
                            checked: a.isActive,
                            onCheckedChange: (S) => u("isActive", S.checked),
                            children: s.jsx(Di, { children: s.jsx(Ms, {}) }),
                          }),
                        }),
                      ],
                    }),
                  ],
                }),
                s.jsx(Na, {}),
                s.jsxs(kt, {
                  gap: 4,
                  children: [
                    s.jsxs(W, {
                      justify: "space-between",
                      children: [
                        s.jsx(i, {
                          fontSize: "lg",
                          fontWeight: "semibold",
                          color: "gray.700",
                          children: "Danh mục chi tiêu",
                        }),
                        s.jsxs(Y, {
                          size: "sm",
                          onClick: f,
                          children: [s.jsx(hs, {}), "Thêm danh mục"],
                        }),
                      ],
                    }),
                    (T = a.categories) == null
                      ? void 0
                      : T.map((S, h) => {
                          var C;
                          return s.jsx(
                            y,
                            {
                              border: "1px",
                              borderColor: "gray.200",
                              borderRadius: "md",
                              p: 4,
                              children: s.jsxs(kt, {
                                gap: 4,
                                align: "stretch",
                                children: [
                                  s.jsxs(W, {
                                    justify: "space-between",
                                    children: [
                                      s.jsxs(i, {
                                        fontWeight: "medium",
                                        color: "gray.700",
                                        children: ["Danh mục ", h + 1],
                                      }),
                                      s.jsx(wt, {
                                        "aria-label": "Xóa danh mục",
                                        size: "sm",
                                        colorScheme: "red",
                                        variant: "ghost",
                                        onClick: () => b(h),
                                        children: s.jsx(Ls, {}),
                                      }),
                                    ],
                                  }),
                                  s.jsx(Ne, {
                                    label: "Tên danh mục",
                                    children: s.jsx(Ee, {
                                      value: S.name,
                                      onChange: (A) =>
                                        _(h, "name", A.target.value),
                                      placeholder: "Nhập tên danh mục...",
                                    }),
                                  }),
                                  s.jsx(Ne, {
                                    label: "Mô tả danh mục",
                                    children: s.jsx(Qt, {
                                      value: S.description,
                                      onChange: (A) =>
                                        _(h, "description", A.target.value),
                                      placeholder: "Nhập mô tả danh mục...",
                                      rows: 2,
                                    }),
                                  }),
                                  s.jsxs(kt, {
                                    gap: 3,
                                    children: [
                                      s.jsxs(W, {
                                        justify: "space-between",
                                        children: [
                                          s.jsx(i, {
                                            fontWeight: "medium",
                                            color: "gray.600",
                                            children: "Chi tiết chi tiêu",
                                          }),
                                          s.jsxs(Y, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => P(h),
                                            children: [
                                              s.jsx(hs, {}),
                                              "Thêm chi tiết",
                                            ],
                                          }),
                                        ],
                                      }),
                                      (C = S.items) == null
                                        ? void 0
                                        : C.map((A, k) =>
                                            s.jsxs(
                                              y,
                                              {
                                                bg: "gray.50",
                                                borderRadius: "md",
                                                p: 3,
                                                children: [
                                                  s.jsxs(W, {
                                                    justify: "space-between",
                                                    mb: 2,
                                                    children: [
                                                      s.jsxs(i, {
                                                        fontSize: "sm",
                                                        fontWeight: "medium",
                                                        children: [
                                                          "Chi tiết ",
                                                          k + 1,
                                                        ],
                                                      }),
                                                      s.jsx(wt, {
                                                        "aria-label":
                                                          "Xóa chi tiết",
                                                        size: "sm",
                                                        colorScheme: "red",
                                                        variant: "ghost",
                                                        onClick: () => w(h, k),
                                                        children: s.jsx(Ls, {}),
                                                      }),
                                                    ],
                                                  }),
                                                  s.jsxs(kt, {
                                                    gap: 3,
                                                    children: [
                                                      s.jsx(Ne, {
                                                        label: "Tiêu đề",
                                                        children: s.jsx(Ee, {
                                                          value: A.title,
                                                          onChange: (g) =>
                                                            d(
                                                              h,
                                                              k,
                                                              "title",
                                                              g.target.value
                                                            ),
                                                          placeholder:
                                                            "Nhập tiêu đề...",
                                                          size: "sm",
                                                        }),
                                                      }),
                                                      s.jsx(Ne, {
                                                        label: "Mô tả",
                                                        children: s.jsx(Qt, {
                                                          value: A.description,
                                                          onChange: (g) =>
                                                            d(
                                                              h,
                                                              k,
                                                              "description",
                                                              g.target.value
                                                            ),
                                                          placeholder:
                                                            "Nhập mô tả...",
                                                          rows: 2,
                                                          size: "sm",
                                                        }),
                                                      }),
                                                      s.jsxs(W, {
                                                        gap: 3,
                                                        children: [
                                                          s.jsx(Ne, {
                                                            label:
                                                              "Số tiền dự kiến",
                                                            flex: 1,
                                                            children: s.jsx(
                                                              Ee,
                                                              {
                                                                type: "number",
                                                                value:
                                                                  A.amountEstimate ||
                                                                  "",
                                                                onChange: (g) =>
                                                                  d(
                                                                    h,
                                                                    k,
                                                                    "amountEstimate",
                                                                    g.target
                                                                      .value
                                                                      ? Number(
                                                                          g
                                                                            .target
                                                                            .value
                                                                        )
                                                                      : void 0
                                                                  ),
                                                                placeholder:
                                                                  "Nhập số tiền...",
                                                                size: "sm",
                                                              }
                                                            ),
                                                          }),
                                                          s.jsx(Ne, {
                                                            label:
                                                              "Trạng thái thanh toán",
                                                            flex: 1,
                                                            children: s.jsxs(
                                                              kn,
                                                              {
                                                                collection: P1,
                                                                value: [
                                                                  A.status ||
                                                                    en.UNPAID,
                                                                ],
                                                                onValueChange: (
                                                                  g
                                                                ) =>
                                                                  d(
                                                                    h,
                                                                    k,
                                                                    "status",
                                                                    g.value[0]
                                                                  ),
                                                                children: [
                                                                  s.jsx(Nn, {
                                                                    children:
                                                                      s.jsx(
                                                                        Dn,
                                                                        {
                                                                          placeholder:
                                                                            "Chọn trạng thái...",
                                                                        }
                                                                      ),
                                                                  }),
                                                                  s.jsx(Ln, {
                                                                    children:
                                                                      hr.map(
                                                                        (g) =>
                                                                          s.jsx(
                                                                            Fn,
                                                                            {
                                                                              item: g.value,
                                                                              children:
                                                                                s.jsx(
                                                                                  Rn,
                                                                                  {
                                                                                    children:
                                                                                      g.label,
                                                                                  }
                                                                                ),
                                                                            },
                                                                            g.value
                                                                          )
                                                                      ),
                                                                  }),
                                                                ],
                                                              }
                                                            ),
                                                          }),
                                                        ],
                                                      }),
                                                      s.jsx(Ne, {
                                                        label: "Ngày đến hạn",
                                                        children: s.jsx(Ee, {
                                                          type: "date",
                                                          value: A.dueDate,
                                                          onChange: (g) =>
                                                            d(
                                                              h,
                                                              k,
                                                              "dueDate",
                                                              g.target.value
                                                            ),
                                                          size: "sm",
                                                        }),
                                                      }),
                                                    ],
                                                  }),
                                                ],
                                              },
                                              k
                                            )
                                          ),
                                    ],
                                  }),
                                ],
                              }),
                            },
                            h
                          );
                        }),
                  ],
                }),
                s.jsxs(W, {
                  justify: "end",
                  gap: 3,
                  pt: 4,
                  children: [
                    s.jsx(Y, {
                      variant: "outline",
                      onClick: t,
                      disabled: x,
                      children: "Hủy",
                    }),
                    s.jsx(Y, {
                      type: "submit",
                      colorScheme: "blue",
                      loading: x,
                      loadingText: n ? "Đang cập nhật..." : "Đang tạo...",
                      children: n ? "Cập nhật" : "Tạo Template",
                    }),
                  ],
                }),
              ],
            }),
          }),
        }),
      ],
    }),
  });
}
const mr = (e) =>
    new Date(e).toLocaleDateString("vi-VN", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit",
    }),
  k1 = () => {
    const e = G.c(45),
      [t, n] = j.useState();
    let a;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((a = {
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        }),
        (e[0] = a))
      : (a = e[0]);
    const [l, c] = j.useState(a);
    let m;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = { page: 1, limit: 25, sortBy: "createdAt", sortOrder: "DESC" }),
        (e[1] = m))
      : (m = e[1]);
    const [r] = j.useState(m),
      [o, u] = j.useState(!1),
      [_, d] = j.useState(!1),
      [f, b] = j.useState(!1),
      [P, w] = j.useState(null),
      v = r,
      { data: x, isLoading: T } = x1(v),
      S = b1();
    let h, C;
    e[2] !== x
      ? ((h = () => {
          if (x) {
            const ce = {
              data: x.data.map(N1),
              total: x.total,
              page: x.page,
              limit: x.limit,
              totalPages: x.totalPages,
            };
            n(ce);
          }
        }),
        (C = [x]),
        (e[2] = x),
        (e[3] = h),
        (e[4] = C))
      : ((h = e[3]), (C = e[4])),
      ps.useEffect(h, C);
    let A;
    e[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((A = () => {
          w(null), u(!0);
        }),
        (e[5] = A))
      : (A = e[5]);
    const k = A;
    let g;
    e[6] === Symbol.for("react.memo_cache_sentinel")
      ? ((g = (ce) => {
          w(ce), d(!0);
        }),
        (e[6] = g))
      : (g = e[6]);
    const p = g;
    let E;
    e[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((E = (ce) => {
          w(ce), b(!0);
        }),
        (e[7] = E))
      : (E = e[7]);
    const z = E;
    let N;
    e[8] !== S || e[9] !== P
      ? ((N = async () => {
          if (P)
            try {
              await S.mutateAsync(P.id), b(!1), w(null);
            } catch {}
        }),
        (e[8] = S),
        (e[9] = P),
        (e[10] = N))
      : (N = e[10]);
    const R = N;
    let F;
    e[11] === Symbol.for("react.memo_cache_sentinel")
      ? ((F = () => {
          u(!1), d(!1), b(!1), w(null);
        }),
        (e[11] = F))
      : (F = e[11]);
    const V = F;
    let $;
    e[12] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = (ce) => {
          c(ce);
        }),
        (e[12] = $))
      : ($ = e[12]);
    const Q = $;
    let M;
    e[13] === Symbol.for("react.memo_cache_sentinel")
      ? ((M = () => {
          c({
            page: 1,
            limit: 10,
            search: "",
            sortBy: "createdAt",
            sortOrder: "DESC",
          });
        }),
        (e[13] = M))
      : (M = e[13]);
    const L = M,
      q = D1,
      D = L1;
    let K, H, B;
    e[14] === Symbol.for("react.memo_cache_sentinel")
      ? ((K = { key: "id", label: "ID", sortable: !0, render: z1 }),
        (H = { key: "name", label: "Tên Template", sortable: !0, render: F1 }),
        (B = { key: "description", label: "Mô tả", sortable: !1, render: R1 }),
        (e[14] = K),
        (e[15] = H),
        (e[16] = B))
      : ((K = e[14]), (H = e[15]), (B = e[16]));
    let Z;
    e[17] === Symbol.for("react.memo_cache_sentinel")
      ? ((Z = [
          K,
          H,
          B,
          {
            key: "isActive",
            label: "Trạng thái",
            sortable: !0,
            render: (ce) =>
              s.jsx(Be, {
                colorScheme: q(ce.isActive),
                variant: "subtle",
                children: D(ce.isActive),
              }),
          },
          { key: "createdAt", label: "Ngày tạo", sortable: !0, render: O1 },
        ]),
        (e[17] = Z))
      : (Z = e[17]);
    const J = Z;
    let se;
    e[18] === Symbol.for("react.memo_cache_sentinel")
      ? ((se = {
          key: "view",
          label: "Xem",
          icon: s.jsx(Xt, {}),
          variant: "ghost",
          colorScheme: "blue",
          onClick: I1,
        }),
        (e[18] = se))
      : (se = e[18]);
    let ee;
    e[19] === Symbol.for("react.memo_cache_sentinel")
      ? ((ee = s.jsx(Mt, {})), (e[19] = ee))
      : (ee = e[19]);
    let te;
    e[20] === Symbol.for("react.memo_cache_sentinel")
      ? ((te = {
          key: "edit",
          label: "Chỉnh sửa",
          icon: ee,
          variant: "ghost",
          colorScheme: "blue",
          onClick: (ce) => p(ce),
        }),
        (e[20] = te))
      : (te = e[20]);
    let X;
    e[21] === Symbol.for("react.memo_cache_sentinel")
      ? ((X = s.jsx(Ls, {})), (e[21] = X))
      : (X = e[21]);
    let I;
    e[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((I = [
          se,
          te,
          {
            key: "delete",
            label: "Xóa",
            icon: X,
            variant: "ghost",
            colorScheme: "red",
            onClick: (ce) => z(ce),
          },
        ]),
        (e[22] = I))
      : (I = e[22]);
    const O = I;
    let U;
    e[23] === Symbol.for("react.memo_cache_sentinel")
      ? ((U = [
          ls("Tìm kiếm theo tên template..."),
          Rt("isActive", "Trạng thái", [
            { value: "", label: "Tất cả trạng thái" },
            { value: "true", label: "Đang hoạt động" },
            { value: "false", label: "Không hoạt động" },
          ]),
        ]),
        (e[23] = U))
      : (U = e[23]);
    const re = U;
    let de;
    e[24] === Symbol.for("react.memo_cache_sentinel")
      ? ((de = [10, 25, 50, 100]), (e[24] = de))
      : (de = e[24]);
    let ue;
    e[25] === Symbol.for("react.memo_cache_sentinel")
      ? ((ue = s.jsxs(Y, {
          colorScheme: "blue",
          onClick: k,
          size: "sm",
          children: [s.jsx(hs, {}), "Tạo Template"],
        })),
        (e[25] = ue))
      : (ue = e[25]);
    let he;
    e[26] !== T || e[27] !== t || e[28] !== l
      ? ((he = s.jsx(as, {
          data: t,
          isLoading: T,
          columns: J,
          actions: O,
          filterFields: re,
          currentFilters: l,
          onFiltersChange: Q,
          onResetFilters: L,
          title: "Template Kế hoạch Chi tiêu",
          subtitle: "Quản lý các template cho kế hoạch chi tiêu",
          emptyMessage: "Không có template nào",
          loadingMessage: "Đang tải danh sách template...",
          showMobileCards: !0,
          enableSorting: !0,
          enablePagination: !0,
          enablePageSizeSelector: !0,
          pageSizeOptions: de,
          defaultPageSize: 10,
          showFilter: !0,
          showResetButton: !0,
          resetButtonText: "Đặt lại bộ lọc",
          headerActions: ue,
        })),
        (e[26] = T),
        (e[27] = t),
        (e[28] = l),
        (e[29] = he))
      : (he = e[29]);
    let ne;
    e[30] !== o
      ? ((ne = s.jsx(aa, { isOpen: o, onClose: V, template: null })),
        (e[30] = o),
        (e[31] = ne))
      : (ne = e[31]);
    let pe;
    e[32] !== _ || e[33] !== P
      ? ((pe = s.jsx(aa, { isOpen: _, onClose: V, template: P })),
        (e[32] = _),
        (e[33] = P),
        (e[34] = pe))
      : (pe = e[34]);
    const ae = `Bạn có chắc chắn muốn xóa template "${
      P == null ? void 0 : P.name
    }"? Hành động này không thể hoàn tác.`;
    let ve;
    e[35] !== S.isPending || e[36] !== R || e[37] !== f || e[38] !== ae
      ? ((ve = s.jsx(Gs, {
          isOpen: f,
          onClose: V,
          onConfirm: R,
          title: "Xác nhận xóa template",
          message: ae,
          confirmLabel: "Xóa",
          cancelLabel: "Hủy",
          confirmColorScheme: "red",
          isLoading: S.isPending,
        })),
        (e[35] = S.isPending),
        (e[36] = R),
        (e[37] = f),
        (e[38] = ae),
        (e[39] = ve))
      : (ve = e[39]);
    let je;
    return (
      e[40] !== he || e[41] !== ne || e[42] !== pe || e[43] !== ve
        ? ((je = s.jsxs(y, { children: [he, ne, pe, ve] })),
          (e[40] = he),
          (e[41] = ne),
          (e[42] = pe),
          (e[43] = ve),
          (e[44] = je))
        : (je = e[44]),
      je
    );
  };
function N1(e) {
  return { ...e, id: e.id };
}
function D1(e) {
  return e ? "green" : "gray";
}
function L1(e) {
  return e ? "Hoạt động" : "Không hoạt động";
}
function z1(e) {
  return s.jsxs(i, {
    fontWeight: "bold",
    color: "blue.600",
    fontFamily: "Quicksand, sans-serif",
    children: ["#", e.id],
  });
}
function F1(e) {
  return s.jsx(i, {
    fontWeight: "semibold",
    fontSize: "sm",
    fontFamily: "Quicksand, sans-serif",
    children: e.name,
  });
}
function R1(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    lineClamp: 2,
    fontFamily: "Quicksand, sans-serif",
    children: e.description || "Không có mô tả",
  });
}
function O1(e) {
  return s.jsx(i, {
    fontSize: "xs",
    color: "gray.500",
    fontFamily: "Quicksand, sans-serif",
    children: mr(e.createdAt),
  });
}
function I1(e) {}
const ra = { title: "", description: "", isActive: !0, tasks: [] },
  V1 = { title: "", description: "", status: Pn.TODO, dueDate: "" },
  ur = [
    { value: Pn.TODO, label: "Cần làm" },
    { value: Pn.DONE, label: "Đã hoàn thành" },
    { value: Pn.ARCHIVED, label: "Đã lưu trữ" },
  ],
  $1 = ds({ items: ur });
function oa({ isOpen: e, onClose: t, template: n }) {
  var w;
  const [a, l] = j.useState(ra),
    [c, m] = j.useState(!1),
    r = S1(),
    o = _1();
  j.useEffect(() => {
    var v;
    e &&
      l(
        n
          ? {
              title: n.title,
              description: n.description || "",
              isActive: n.isActive,
              tasks:
                ((v = n.tasks) == null
                  ? void 0
                  : v.map((x) => ({
                      title: x.title,
                      description: x.description || "",
                      status: x.status,
                      dueDate: x.dueDate || "",
                    }))) || [],
            }
          : ra
      );
  }, [e, n]);
  const u = (v, x) => {
      l((T) => ({ ...T, [v]: x }));
    },
    _ = (v, x, T) => {
      l((S) => {
        var h;
        return {
          ...S,
          tasks:
            (h = S.tasks) == null
              ? void 0
              : h.map((C, A) => (A === v ? { ...C, [x]: T } : C)),
        };
      });
    },
    d = () => {
      l((v) => ({ ...v, tasks: [...(v.tasks || []), { ...V1 }] }));
    },
    f = (v) => {
      l((x) => {
        var T;
        return {
          ...x,
          tasks: (T = x.tasks) == null ? void 0 : T.filter((S, h) => h !== v),
        };
      });
    },
    b = async (v) => {
      if ((v.preventDefault(), !a.title.trim())) {
        ye.create({
          title: "Lỗi",
          description: "Vui lòng nhập tiêu đề template",
          type: "error",
        });
        return;
      }
      m(!0);
      try {
        n
          ? (await o.mutateAsync({ id: n.id, data: a }),
            ye.create({
              title: "Thành công",
              description: "Template đã được cập nhật",
              type: "success",
            }))
          : (await r.mutateAsync(a),
            ye.create({
              title: "Thành công",
              description: "Template đã được tạo",
              type: "success",
            })),
          t();
      } catch {
        ye.create({
          title: "Lỗi",
          description: "Có lỗi xảy ra khi lưu template",
          type: "error",
        });
      } finally {
        m(!1);
      }
    },
    P = c || r.isPending || o.isPending;
  return s.jsx(Ws, {
    open: e,
    onOpenChange: t,
    children: s.jsxs(qs, {
      maxW: "3xl",
      maxH: "90vh",
      overflowY: "auto",
      children: [
        s.jsxs(Us, {
          children: [
            s.jsx(Bs, {
              children: n ? "Chỉnh sửa Template" : "Tạo Template Mới",
            }),
            s.jsx(Qs, {}),
          ],
        }),
        s.jsx(Ks, {
          children: s.jsx("form", {
            onSubmit: b,
            children: s.jsxs(kt, {
              gap: 6,
              align: "stretch",
              children: [
                s.jsxs(kt, {
                  gap: 4,
                  children: [
                    s.jsx(i, {
                      fontSize: "lg",
                      fontWeight: "semibold",
                      color: "gray.700",
                      children: "Thông tin cơ bản",
                    }),
                    s.jsx(Ne, {
                      label: "Tiêu đề Template *",
                      children: s.jsx(Ee, {
                        value: a.title,
                        onChange: (v) => u("title", v.target.value),
                        placeholder: "Nhập tiêu đề template...",
                        required: !0,
                      }),
                    }),
                    s.jsx(Ne, {
                      label: "Mô tả",
                      children: s.jsx(Qt, {
                        value: a.description,
                        onChange: (v) => u("description", v.target.value),
                        placeholder: "Nhập mô tả template...",
                        rows: 3,
                      }),
                    }),
                    s.jsx(Ne, {
                      label: "Trạng thái hoạt động",
                      children: s.jsx($s, {
                        checked: a.isActive,
                        onCheckedChange: (v) => u("isActive", v.checked),
                        children: s.jsx(Di, { children: s.jsx(Ms, {}) }),
                      }),
                    }),
                  ],
                }),
                s.jsx(Na, {}),
                s.jsxs(kt, {
                  gap: 4,
                  children: [
                    s.jsxs(W, {
                      justify: "space-between",
                      children: [
                        s.jsx(i, {
                          fontSize: "lg",
                          fontWeight: "semibold",
                          color: "gray.700",
                          children: "Danh sách Task",
                        }),
                        s.jsxs(Y, {
                          size: "sm",
                          onClick: d,
                          children: [s.jsx(hs, {}), "Thêm task"],
                        }),
                      ],
                    }),
                    (w = a.tasks) == null
                      ? void 0
                      : w.map((v, x) =>
                          s.jsx(
                            y,
                            {
                              border: "1px",
                              borderColor: "gray.200",
                              borderRadius: "md",
                              p: 4,
                              bg: "gray.50",
                              children: s.jsxs(kt, {
                                gap: 3,
                                align: "stretch",
                                children: [
                                  s.jsxs(W, {
                                    justify: "space-between",
                                    children: [
                                      s.jsxs(i, {
                                        fontWeight: "medium",
                                        color: "gray.700",
                                        children: ["Task ", x + 1],
                                      }),
                                      s.jsx(wt, {
                                        "aria-label": "Xóa task",
                                        size: "sm",
                                        colorScheme: "red",
                                        variant: "ghost",
                                        onClick: () => f(x),
                                        children: s.jsx(Ls, {}),
                                      }),
                                    ],
                                  }),
                                  s.jsx(Ne, {
                                    label: "Tiêu đề Task",
                                    children: s.jsx(Ee, {
                                      value: v.title,
                                      onChange: (T) =>
                                        _(x, "title", T.target.value),
                                      placeholder: "Nhập tiêu đề task...",
                                      size: "sm",
                                    }),
                                  }),
                                  s.jsx(Ne, {
                                    label: "Mô tả Task",
                                    children: s.jsx(Qt, {
                                      value: v.description,
                                      onChange: (T) =>
                                        _(x, "description", T.target.value),
                                      placeholder: "Nhập mô tả task...",
                                      rows: 2,
                                      size: "sm",
                                    }),
                                  }),
                                  s.jsxs(W, {
                                    gap: 3,
                                    children: [
                                      s.jsx(Ne, {
                                        label: "Trạng thái",
                                        flex: 1,
                                        children: s.jsxs(kn, {
                                          collection: $1,
                                          value: [v.status || Pn.TODO],
                                          onValueChange: (T) =>
                                            _(x, "status", T.value[0]),
                                          children: [
                                            s.jsx(Nn, {
                                              children: s.jsx(Dn, {
                                                placeholder:
                                                  "Chọn trạng thái...",
                                              }),
                                            }),
                                            s.jsx(Ln, {
                                              children: ur.map((T) =>
                                                s.jsx(
                                                  Fn,
                                                  {
                                                    item: T.value,
                                                    children: s.jsx(Rn, {
                                                      children: T.label,
                                                    }),
                                                  },
                                                  T.value
                                                )
                                              ),
                                            }),
                                          ],
                                        }),
                                      }),
                                      s.jsx(Ne, {
                                        label: "Ngày đến hạn",
                                        flex: 1,
                                        children: s.jsx(Ee, {
                                          type: "date",
                                          value: v.dueDate,
                                          onChange: (T) =>
                                            _(x, "dueDate", T.target.value),
                                          size: "sm",
                                        }),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            },
                            x
                          )
                        ),
                    (!a.tasks || a.tasks.length === 0) &&
                      s.jsx(y, {
                        textAlign: "center",
                        py: 8,
                        border: "2px dashed",
                        borderColor: "gray.300",
                        borderRadius: "md",
                        children: s.jsx(i, {
                          color: "gray.500",
                          fontSize: "sm",
                          children:
                            'Chưa có task nào. Nhấn "Thêm Task" để bắt đầu.',
                        }),
                      }),
                  ],
                }),
                s.jsxs(W, {
                  justify: "end",
                  gap: 3,
                  pt: 4,
                  children: [
                    s.jsx(Y, {
                      variant: "outline",
                      onClick: t,
                      disabled: P,
                      children: "Hủy",
                    }),
                    s.jsx(Y, {
                      type: "submit",
                      colorScheme: "blue",
                      loading: P,
                      loadingText: n ? "Đang cập nhật..." : "Đang tạo...",
                      children: n ? "Cập nhật" : "Tạo Template",
                    }),
                  ],
                }),
              ],
            }),
          }),
        }),
      ],
    }),
  });
}
const M1 = () => {
  const e = G.c(46),
    [t, n] = j.useState();
  let a;
  e[0] === Symbol.for("react.memo_cache_sentinel")
    ? ((a = {
        page: 1,
        limit: 10,
        search: "",
        sortBy: "createdAt",
        sortOrder: "DESC",
      }),
      (e[0] = a))
    : (a = e[0]);
  const [l, c] = j.useState(a);
  let m;
  e[1] === Symbol.for("react.memo_cache_sentinel")
    ? ((m = { page: 1, limit: 25, sortBy: "createdAt", sortOrder: "DESC" }),
      (e[1] = m))
    : (m = e[1]);
  const [r] = j.useState(m),
    [o, u] = j.useState(!1),
    [_, d] = j.useState(!1),
    [f, b] = j.useState(!1),
    [P, w] = j.useState(null),
    v = r,
    { data: x, isLoading: T } = v1(v),
    S = C1();
  let h, C;
  e[2] !== x
    ? ((h = () => {
        if (x) {
          const xe = {
            data: x.data.map(W1),
            total: x.total,
            page: x.page,
            limit: x.limit,
            totalPages: x.totalPages,
          };
          n(xe);
        }
      }),
      (C = [x]),
      (e[2] = x),
      (e[3] = h),
      (e[4] = C))
    : ((h = e[3]), (C = e[4])),
    ps.useEffect(h, C);
  let A;
  e[5] === Symbol.for("react.memo_cache_sentinel")
    ? ((A = () => {
        w(null), u(!0);
      }),
      (e[5] = A))
    : (A = e[5]);
  const k = A;
  let g;
  e[6] === Symbol.for("react.memo_cache_sentinel")
    ? ((g = (xe) => {
        w(xe), d(!0);
      }),
      (e[6] = g))
    : (g = e[6]);
  const p = g;
  let E;
  e[7] === Symbol.for("react.memo_cache_sentinel")
    ? ((E = (xe) => {
        w(xe), b(!0);
      }),
      (e[7] = E))
    : (E = e[7]);
  const z = E;
  let N;
  e[8] !== S || e[9] !== P
    ? ((N = async () => {
        if (P)
          try {
            await S.mutateAsync(P.id), b(!1), w(null);
          } catch {}
      }),
      (e[8] = S),
      (e[9] = P),
      (e[10] = N))
    : (N = e[10]);
  const R = N;
  let F;
  e[11] === Symbol.for("react.memo_cache_sentinel")
    ? ((F = () => {
        u(!1), d(!1), b(!1), w(null);
      }),
      (e[11] = F))
    : (F = e[11]);
  const V = F;
  let $;
  e[12] === Symbol.for("react.memo_cache_sentinel")
    ? (($ = (xe) => {
        c(xe);
      }),
      (e[12] = $))
    : ($ = e[12]);
  const Q = $;
  let M;
  e[13] === Symbol.for("react.memo_cache_sentinel")
    ? ((M = () => {
        c({
          page: 1,
          limit: 10,
          search: "",
          sortBy: "createdAt",
          sortOrder: "DESC",
        });
      }),
      (e[13] = M))
    : (M = e[13]);
  const L = M,
    q = q1,
    D = U1;
  let K, H, B, Z;
  e[14] === Symbol.for("react.memo_cache_sentinel")
    ? ((K = { key: "id", label: "ID", sortable: !0, render: B1 }),
      (H = {
        key: "title",
        label: "Tiêu đề Template",
        sortable: !0,
        render: Q1,
      }),
      (B = { key: "description", label: "Mô tả", sortable: !1, render: K1 }),
      (Z = { key: "tasks", label: "Số task", sortable: !1, render: G1 }),
      (e[14] = K),
      (e[15] = H),
      (e[16] = B),
      (e[17] = Z))
    : ((K = e[14]), (H = e[15]), (B = e[16]), (Z = e[17]));
  let J;
  e[18] === Symbol.for("react.memo_cache_sentinel")
    ? ((J = [
        K,
        H,
        B,
        Z,
        {
          key: "isActive",
          label: "Trạng thái",
          sortable: !0,
          render: (xe) =>
            s.jsx(Be, {
              colorScheme: q(xe.isActive),
              variant: "subtle",
              children: D(xe.isActive),
            }),
        },
        { key: "createdAt", label: "Ngày tạo", sortable: !0, render: H1 },
      ]),
      (e[18] = J))
    : (J = e[18]);
  const se = J;
  let ee;
  e[19] === Symbol.for("react.memo_cache_sentinel")
    ? ((ee = {
        key: "view",
        label: "Xem",
        icon: s.jsx(Xt, {}),
        variant: "ghost",
        colorScheme: "blue",
        onClick: Y1,
      }),
      (e[19] = ee))
    : (ee = e[19]);
  let te;
  e[20] === Symbol.for("react.memo_cache_sentinel")
    ? ((te = s.jsx(Mt, {})), (e[20] = te))
    : (te = e[20]);
  let X;
  e[21] === Symbol.for("react.memo_cache_sentinel")
    ? ((X = {
        key: "edit",
        label: "Chỉnh sửa",
        icon: te,
        variant: "ghost",
        colorScheme: "blue",
        onClick: (xe) => p(xe),
      }),
      (e[21] = X))
    : (X = e[21]);
  let I;
  e[22] === Symbol.for("react.memo_cache_sentinel")
    ? ((I = s.jsx(Ls, {})), (e[22] = I))
    : (I = e[22]);
  let O;
  e[23] === Symbol.for("react.memo_cache_sentinel")
    ? ((O = [
        ee,
        X,
        {
          key: "delete",
          label: "Xóa",
          icon: I,
          variant: "ghost",
          colorScheme: "red",
          onClick: (xe) => z(xe),
        },
      ]),
      (e[23] = O))
    : (O = e[23]);
  const U = O;
  let re;
  e[24] === Symbol.for("react.memo_cache_sentinel")
    ? ((re = [
        ls("Tìm kiếm theo tiêu đề template..."),
        Rt("isActive", "Trạng thái", [
          { value: "", label: "Tất cả trạng thái" },
          { value: "true", label: "Đang hoạt động" },
          { value: "false", label: "Không hoạt động" },
        ]),
      ]),
      (e[24] = re))
    : (re = e[24]);
  const de = re;
  let ue;
  e[25] === Symbol.for("react.memo_cache_sentinel")
    ? ((ue = [10, 25, 50, 100]), (e[25] = ue))
    : (ue = e[25]);
  let he;
  e[26] === Symbol.for("react.memo_cache_sentinel")
    ? ((he = s.jsxs(Y, {
        colorScheme: "blue",
        onClick: k,
        size: "sm",
        children: [s.jsx(hs, {}), "Tạo Template"],
      })),
      (e[26] = he))
    : (he = e[26]);
  let ne;
  e[27] !== T || e[28] !== t || e[29] !== l
    ? ((ne = s.jsx(as, {
        data: t,
        isLoading: T,
        columns: se,
        actions: U,
        filterFields: de,
        currentFilters: l,
        onFiltersChange: Q,
        onResetFilters: L,
        title: "Template Danh sách Công việc",
        subtitle: "Quản lý các template cho danh sách công việc",
        emptyMessage: "Không có template nào",
        loadingMessage: "Đang tải danh sách template...",
        showMobileCards: !0,
        enableSorting: !0,
        enablePagination: !0,
        enablePageSizeSelector: !0,
        pageSizeOptions: ue,
        defaultPageSize: 10,
        showFilter: !0,
        showResetButton: !0,
        resetButtonText: "Đặt lại bộ lọc",
        headerActions: he,
      })),
      (e[27] = T),
      (e[28] = t),
      (e[29] = l),
      (e[30] = ne))
    : (ne = e[30]);
  let pe;
  e[31] !== o
    ? ((pe = s.jsx(oa, { isOpen: o, onClose: V, template: null })),
      (e[31] = o),
      (e[32] = pe))
    : (pe = e[32]);
  let ae;
  e[33] !== _ || e[34] !== P
    ? ((ae = s.jsx(oa, { isOpen: _, onClose: V, template: P })),
      (e[33] = _),
      (e[34] = P),
      (e[35] = ae))
    : (ae = e[35]);
  const ve = `Bạn có chắc chắn muốn xóa template "${
    P == null ? void 0 : P.title
  }"? Hành động này không thể hoàn tác.`;
  let je;
  e[36] !== S.isPending || e[37] !== R || e[38] !== f || e[39] !== ve
    ? ((je = s.jsx(Gs, {
        isOpen: f,
        onClose: V,
        onConfirm: R,
        title: "Xác nhận xóa template",
        message: ve,
        confirmLabel: "Xóa",
        cancelLabel: "Hủy",
        confirmColorScheme: "red",
        isLoading: S.isPending,
      })),
      (e[36] = S.isPending),
      (e[37] = R),
      (e[38] = f),
      (e[39] = ve),
      (e[40] = je))
    : (je = e[40]);
  let ce;
  return (
    e[41] !== ne || e[42] !== pe || e[43] !== ae || e[44] !== je
      ? ((ce = s.jsxs(y, { children: [ne, pe, ae, je] })),
        (e[41] = ne),
        (e[42] = pe),
        (e[43] = ae),
        (e[44] = je),
        (e[45] = ce))
      : (ce = e[45]),
    ce
  );
};
function W1(e) {
  return { ...e, id: e.id };
}
function q1(e) {
  return e ? "green" : "gray";
}
function U1(e) {
  return e ? "Hoạt động" : "Không hoạt động";
}
function B1(e) {
  return s.jsxs(i, {
    fontWeight: "bold",
    color: "blue.600",
    fontFamily: "Quicksand, sans-serif",
    children: ["#", e.id],
  });
}
function Q1(e) {
  return s.jsx(i, {
    fontWeight: "semibold",
    fontSize: "sm",
    fontFamily: "Quicksand, sans-serif",
    children: e.title,
  });
}
function K1(e) {
  return s.jsx(i, {
    fontSize: "sm",
    color: "gray.600",
    lineClamp: 2,
    fontFamily: "Quicksand, sans-serif",
    children: e.description || "Không có mô tả",
  });
}
function G1(e) {
  var t;
  return s.jsxs(i, {
    fontSize: "sm",
    color: "gray.600",
    fontFamily: "Quicksand, sans-serif",
    children: [((t = e.tasks) == null ? void 0 : t.length) || 0, " task"],
  });
}
function H1(e) {
  return s.jsx(i, {
    fontSize: "xs",
    color: "gray.500",
    fontFamily: "Quicksand, sans-serif",
    children: mr(e.createdAt),
  });
}
function Y1(e) {}
const X1 = () => {
    const e = G.c(8),
      [t, n] = j.useState("spending-plans");
    let a;
    e[0] === Symbol.for("react.memo_cache_sentinel")
      ? ((a = (d) => {
          n(d);
        }),
        (e[0] = a))
      : (a = e[0]);
    const l = a;
    let c;
    e[1] === Symbol.for("react.memo_cache_sentinel")
      ? ((c = (d) => l(d.value)), (e[1] = c))
      : (c = e[1]);
    let m;
    e[2] === Symbol.for("react.memo_cache_sentinel")
      ? ((m = s.jsxs(Ds, {
          value: "spending-plans",
          className:
            "flex items-center gap-2 px-6 py-4 font-[Quicksand,sans-serif] data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-500",
          children: [s.jsx(ka, {}), "Template Kế hoạch Chi tiêu"],
        })),
        (e[2] = m))
      : (m = e[2]);
    let r;
    e[3] === Symbol.for("react.memo_cache_sentinel")
      ? ((r = s.jsxs(Ii, {
          className: "border-b border-gray-200",
          children: [
            m,
            s.jsxs(Ds, {
              value: "todo-lists",
              className:
                "flex items-center gap-2 px-6 py-4 font-[Quicksand,sans-serif] data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-b-2 data-[state=active]:border-green-500",
              children: [s.jsx(Mr, {}), "Template Danh sách Công việc"],
            }),
          ],
        })),
        (e[3] = r))
      : (r = e[3]);
    let o;
    e[4] === Symbol.for("react.memo_cache_sentinel")
      ? ((o = s.jsx(Tl, {
          value: "spending-plans",
          className: "p-6",
          children: s.jsx(k1, {}),
        })),
        (e[4] = o))
      : (o = e[4]);
    let u;
    e[5] === Symbol.for("react.memo_cache_sentinel")
      ? ((u = s.jsx(Tl, {
          value: "todo-lists",
          className: "p-6",
          children: s.jsx(M1, {}),
        })),
        (e[5] = u))
      : (u = e[5]);
    let _;
    return (
      e[6] !== t
        ? ((_ = s.jsx(y, {
            className: "p-6 bg-gray-50 min-h-screen",
            children: s.jsx(y, {
              className: "max-w-7xl mx-auto",
              children: s.jsx(tt, {
                bg: "white",
                borderRadius: "xl",
                shadow: "lg",
                border: "1px solid",
                borderColor: "gray.200",
                mb: 6,
                overflow: "hidden",
                children: s.jsx(st, {
                  p: 0,
                  children: s.jsxs(Vi, {
                    value: t,
                    onValueChange: c,
                    children: [r, o, u],
                  }),
                }),
              }),
            }),
          })),
          (e[6] = t),
          (e[7] = _))
        : (_ = e[7]),
      _
    );
  },
  J1 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: X1 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Z1 = () => {
    const e = G.c(53),
      [t, n] = j.useState(""),
      [a, l] = j.useState(null),
      [c, m] = j.useState(0),
      [r, o] = j.useState(""),
      [u, _] = j.useState(""),
      [d, f] = j.useState(!1),
      b = Xe(),
      [P, w] = j.useState("");
    let v, x;
    e[0] !== t
      ? ((v = () => {
          const U = setTimeout(() => {
            w(t);
          }, 500);
          return () => clearTimeout(U);
        }),
        (x = [t]),
        (e[0] = t),
        (e[1] = v),
        (e[2] = x))
      : ((v = e[1]), (x = e[2])),
      j.useEffect(v, x);
    let T;
    e[3] !== P
      ? ((T = { queryKey: ["admin-users", P], queryFn: () => tg(P || void 0) }),
        (e[3] = P),
        (e[4] = T))
      : (T = e[4]);
    const { data: S, isLoading: h, error: C } = nt(T);
    let A;
    e[5] !== S
      ? ((A = S === void 0 ? [] : S), (e[5] = S), (e[6] = A))
      : (A = e[6]);
    const k = A;
    let g;
    e[7] === Symbol.for("react.memo_cache_sentinel")
      ? ((g = { queryKey: ["admin-users-stats"], queryFn: sg }), (e[7] = g))
      : (g = e[7]);
    const { data: p, isLoading: E } = nt(g);
    let z;
    e[8] !== b
      ? ((z = {
          mutationFn: e0,
          onSuccess: () => {
            b.invalidateQueries({ queryKey: ["admin-users"] }),
              b.invalidateQueries({ queryKey: ["admin-users-stats"] }),
              ye.create({
                title: "Cập nhật thành công",
                description: "Đã cập nhật photos limit cho user",
                type: "success",
              }),
              f(!1);
          },
          onError: t0,
        }),
        (e[8] = b),
        (e[9] = z))
      : (z = e[9]);
    const N = He(z);
    let R;
    e[10] !== b
      ? ((R = {
          mutationFn: ig,
          onSuccess: () => {
            b.invalidateQueries({ queryKey: ["admin-users"] }),
              b.invalidateQueries({ queryKey: ["admin-users-stats"] }),
              ye.create({
                title: "Xóa thành công",
                description: "Đã xóa photos limit bonus của user",
                type: "success",
              });
          },
          onError: s0,
        }),
        (e[10] = b),
        (e[11] = R))
      : (R = e[11]);
    const F = He(R),
      V = n0;
    let $;
    e[12] === Symbol.for("react.memo_cache_sentinel")
      ? (($ = (U) => {
          var re, de, ue;
          l(U),
            m(((re = U.photosLimit) == null ? void 0 : re.bonusLimit) || 0),
            o(((de = U.photosLimit) == null ? void 0 : de.notes) || ""),
            _(
              (ue = U.photosLimit) != null && ue.expiresAt
                ? new Date(U.photosLimit.expiresAt).toISOString().slice(0, 16)
                : ""
            ),
            f(!0);
        }),
        (e[12] = $))
      : ($ = e[12]);
    const Q = $;
    let M;
    e[13] !== c || e[14] !== u || e[15] !== r || e[16] !== a || e[17] !== N
      ? ((M = () => {
          if (!a) return;
          const U = {
            bonusLimit: c,
            notes: r || void 0,
            expiresAt: u || void 0,
          };
          N.mutate({ userId: a.id, data: U });
        }),
        (e[13] = c),
        (e[14] = u),
        (e[15] = r),
        (e[16] = a),
        (e[17] = N),
        (e[18] = M))
      : (M = e[18]);
    const L = M;
    let q;
    e[19] !== F
      ? ((q = (U) => {
          window.confirm(
            "Bạn có chắc chắn muốn xóa photos limit bonus của user này?"
          ) && F.mutate(U);
        }),
        (e[19] = F),
        (e[20] = q))
      : (q = e[20]);
    const D = q,
      K = i0,
      H = l0;
    if (C) {
      let U;
      return (
        e[21] === Symbol.for("react.memo_cache_sentinel")
          ? ((U = s.jsxs(y, {
              p: 4,
              bg: "red.50",
              border: "1px",
              borderColor: "red.200",
              borderRadius: "md",
              children: [
                s.jsx(i, {
                  color: "red.600",
                  fontWeight: "medium",
                  children: "Lỗi tải dữ liệu!",
                }),
                s.jsx(i, {
                  color: "red.500",
                  fontSize: "sm",
                  children:
                    "Không thể tải danh sách users. Vui lòng thử lại sau.",
                }),
              ],
            })),
            (e[21] = U))
          : (U = e[21]),
        U
      );
    }
    let B;
    e[22] === Symbol.for("react.memo_cache_sentinel")
      ? ((B = s.jsx(rt, {
          justify: "space-between",
          align: "center",
          children: s.jsx(el, {
            size: "lg",
            color: "gray.700",
            children: "Quản lý người dùng",
          }),
        })),
        (e[22] = B))
      : (B = e[22]);
    let Z;
    e[23] !== (p == null ? void 0 : p.totalBonusLimit) ||
    e[24] !== (p == null ? void 0 : p.totalUsers) ||
    e[25] !== (p == null ? void 0 : p.usersWithBonusLimit) ||
    e[26] !== E
      ? ((Z = E
          ? s.jsx(rt, {
              justify: "center",
              children: s.jsx(Wt, { size: "lg" }),
            })
          : s.jsxs(Kt, {
              templateColumns: { base: "1fr", md: "repeat(3, 1fr)" },
              gap: 4,
              children: [
                s.jsx(y, {
                  p: 4,
                  bg: "white",
                  border: "1px",
                  borderColor: "gray.200",
                  borderRadius: "md",
                  shadow: "sm",
                  children: s.jsxs(le, {
                    align: "start",
                    gap: 2,
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: "Tổng số users",
                      }),
                      s.jsx(i, {
                        fontSize: "2xl",
                        fontWeight: "bold",
                        color: "blue.500",
                        children: (p == null ? void 0 : p.totalUsers) || 0,
                      }),
                      s.jsx(Pa, { color: "gray.400" }),
                    ],
                  }),
                }),
                s.jsx(y, {
                  p: 4,
                  bg: "white",
                  border: "1px",
                  borderColor: "gray.200",
                  borderRadius: "md",
                  shadow: "sm",
                  children: s.jsxs(le, {
                    align: "start",
                    gap: 2,
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: "Users có bonus limit",
                      }),
                      s.jsx(i, {
                        fontSize: "2xl",
                        fontWeight: "bold",
                        color: "green.500",
                        children:
                          (p == null ? void 0 : p.usersWithBonusLimit) || 0,
                      }),
                      s.jsx(Wr, { color: "gray.400" }),
                    ],
                  }),
                }),
                s.jsx(y, {
                  p: 4,
                  bg: "white",
                  border: "1px",
                  borderColor: "gray.200",
                  borderRadius: "md",
                  shadow: "sm",
                  children: s.jsxs(le, {
                    align: "start",
                    gap: 2,
                    children: [
                      s.jsx(i, {
                        fontSize: "sm",
                        color: "gray.600",
                        children: "Tổng bonus limit",
                      }),
                      s.jsx(i, {
                        fontSize: "2xl",
                        fontWeight: "bold",
                        color: "purple.500",
                        children: (p == null ? void 0 : p.totalBonusLimit) || 0,
                      }),
                      s.jsx(il, { color: "gray.400" }),
                    ],
                  }),
                }),
              ],
            })),
        (e[23] = p == null ? void 0 : p.totalBonusLimit),
        (e[24] = p == null ? void 0 : p.totalUsers),
        (e[25] = p == null ? void 0 : p.usersWithBonusLimit),
        (e[26] = E),
        (e[27] = Z))
      : (Z = e[27]);
    let J;
    e[28] === Symbol.for("react.memo_cache_sentinel")
      ? ((J = (U) => n(U.target.value)), (e[28] = J))
      : (J = e[28]);
    let se;
    e[29] !== t
      ? ((se = s.jsx(Ee, {
          placeholder: "Tìm kiếm theo email...",
          value: t,
          onChange: J,
          pl: 10,
        })),
        (e[29] = t),
        (e[30] = se))
      : (se = e[30]);
    let ee;
    e[31] === Symbol.for("react.memo_cache_sentinel")
      ? ((ee = s.jsx(y, {
          position: "absolute",
          left: 3,
          top: "50%",
          transform: "translateY(-50%)",
          color: "gray.400",
          children: s.jsx(On, {}),
        })),
        (e[31] = ee))
      : (ee = e[31]);
    let te;
    e[32] !== se
      ? ((te = s.jsx(rt, {
          gap: 4,
          align: "center",
          children: s.jsxs(y, {
            position: "relative",
            flex: 1,
            children: [se, ee],
          }),
        })),
        (e[32] = se),
        (e[33] = te))
      : (te = e[33]);
    let X;
    e[34] !== D || e[35] !== F || e[36] !== k || e[37] !== h
      ? ((X = s.jsx(y, {
          bg: "white",
          border: "1px",
          borderColor: "gray.200",
          borderRadius: "md",
          shadow: "sm",
          overflow: "hidden",
          children: h
            ? s.jsx(rt, {
                justify: "center",
                p: 8,
                children: s.jsx(Wt, { size: "lg" }),
              })
            : s.jsx(y, {
                overflowX: "auto",
                children: s.jsxs("table", {
                  style: { width: "100%", borderCollapse: "collapse" },
                  children: [
                    s.jsx("thead", {
                      children: s.jsxs("tr", {
                        style: {
                          borderBottom: "1px solid #e2e8f0",
                          backgroundColor: "#f7fafc",
                        },
                        children: [
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Id",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "User",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Role",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Tier Limit",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Bonus Limit",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Tổng Limit",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Trạng thái",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Ngày tạo",
                          }),
                          s.jsx("th", {
                            style: {
                              padding: "12px",
                              textAlign: "left",
                              fontWeight: "600",
                            },
                            children: "Hành động",
                          }),
                        ],
                      }),
                    }),
                    s.jsx("tbody", {
                      children: k.map((U) => {
                        var re;
                        return s.jsxs(
                          "tr",
                          {
                            style: { borderBottom: "1px solid #e2e8f0" },
                            children: [
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(i, {
                                  fontWeight: "medium",
                                  children: U.id,
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsxs(le, {
                                  align: "start",
                                  gap: 1,
                                  children: [
                                    s.jsxs(i, {
                                      fontWeight: "medium",
                                      children: [U.firstName, " ", U.lastName],
                                    }),
                                    s.jsx(i, {
                                      fontSize: "sm",
                                      color: "gray.500",
                                      children: U.email,
                                    }),
                                  ],
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(Be, {
                                  colorScheme: H(U.role),
                                  children: U.role.toUpperCase(),
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(i, {
                                  children:
                                    V(U.role) === -1 ? "Unlimited" : V(U.role),
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(i, {
                                  color: U.photosLimit
                                    ? "green.500"
                                    : "gray.500",
                                  children:
                                    ((re = U.photosLimit) == null
                                      ? void 0
                                      : re.bonusLimit) || 0,
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(i, {
                                  fontWeight: "medium",
                                  children: U.totalPhotosLimit || V(U.role),
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(Be, {
                                  colorScheme: U.isActive ? "green" : "red",
                                  children: U.isActive
                                    ? "Hoạt động"
                                    : "Không hoạt động",
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsx(i, {
                                  fontSize: "sm",
                                  children: K(U.createdAt),
                                }),
                              }),
                              s.jsx("td", {
                                style: { padding: "12px" },
                                children: s.jsxs(W, {
                                  gap: 2,
                                  children: [
                                    s.jsx(wt, {
                                      "aria-label": "Chỉnh sửa photos limit",
                                      size: "sm",
                                      colorScheme: "blue",
                                      onClick: () => Q(U),
                                      children: s.jsx(Mt, {}),
                                    }),
                                    U.photosLimit &&
                                      s.jsx(wt, {
                                        "aria-label": "Xóa photos limit",
                                        size: "sm",
                                        colorScheme: "red",
                                        onClick: () => D(U.id),
                                        loading: F.isPending,
                                        children: s.jsx(vn, {}),
                                      }),
                                  ],
                                }),
                              }),
                            ],
                          },
                          U.id
                        );
                      }),
                    }),
                  ],
                }),
              }),
        })),
        (e[34] = D),
        (e[35] = F),
        (e[36] = k),
        (e[37] = h),
        (e[38] = X))
      : (X = e[38]);
    let I;
    e[39] !== c ||
    e[40] !== u ||
    e[41] !== L ||
    e[42] !== d ||
    e[43] !== r ||
    e[44] !== (a == null ? void 0 : a.firstName) ||
    e[45] !== (a == null ? void 0 : a.lastName) ||
    e[46] !== N
      ? ((I =
          d &&
          s.jsx(y, {
            position: "fixed",
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            bg: "rgba(0, 0, 0, 0.5)",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            zIndex: 1e3,
            children: s.jsx(y, {
              bg: "white",
              p: 6,
              borderRadius: "md",
              shadow: "xl",
              maxW: "500px",
              w: "90%",
              maxH: "90vh",
              overflowY: "auto",
              children: s.jsxs(le, {
                gap: 4,
                align: "stretch",
                children: [
                  s.jsxs(rt, {
                    justify: "space-between",
                    align: "center",
                    children: [
                      s.jsxs(el, {
                        size: "md",
                        children: [
                          "Chỉnh sửa Photos Limit - ",
                          a == null ? void 0 : a.firstName,
                          " ",
                          a == null ? void 0 : a.lastName,
                        ],
                      }),
                      s.jsx(Y, {
                        variant: "ghost",
                        size: "sm",
                        onClick: () => f(!1),
                        children: "✕",
                      }),
                    ],
                  }),
                  s.jsxs(le, {
                    gap: 4,
                    align: "stretch",
                    children: [
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            mb: 2,
                            children: "Bonus Limit",
                          }),
                          s.jsx(Ee, {
                            type: "number",
                            value: c,
                            onChange: (U) => m(Number(U.target.value)),
                            placeholder: "Nhập số photos limit bổ sung",
                            min: 0,
                          }),
                        ],
                      }),
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            mb: 2,
                            children: "Ghi chú",
                          }),
                          s.jsx("textarea", {
                            value: r,
                            onChange: (U) => o(U.target.value),
                            placeholder: "Nhập ghi chú (tùy chọn)",
                            rows: 3,
                            style: {
                              width: "100%",
                              padding: "12px",
                              border: "1px solid #d1d5db",
                              borderRadius: "6px",
                              resize: "vertical",
                              minHeight: "80px",
                              fontFamily: "inherit",
                              fontSize: "14px",
                            },
                          }),
                        ],
                      }),
                      s.jsxs(y, {
                        children: [
                          s.jsx(i, {
                            fontSize: "sm",
                            fontWeight: "medium",
                            mb: 2,
                            children: "Hết hạn",
                          }),
                          s.jsx(Ee, {
                            type: "datetime-local",
                            value: u,
                            onChange: (U) => _(U.target.value),
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.jsxs(W, {
                    gap: 3,
                    justify: "flex-end",
                    children: [
                      s.jsx(Y, {
                        variant: "ghost",
                        onClick: () => f(!1),
                        children: "Hủy",
                      }),
                      s.jsx(Y, {
                        colorScheme: "blue",
                        onClick: L,
                        loading: N.isPending,
                        children: "Lưu thay đổi",
                      }),
                    ],
                  }),
                ],
              }),
            }),
          })),
        (e[39] = c),
        (e[40] = u),
        (e[41] = L),
        (e[42] = d),
        (e[43] = r),
        (e[44] = a == null ? void 0 : a.firstName),
        (e[45] = a == null ? void 0 : a.lastName),
        (e[46] = N),
        (e[47] = I))
      : (I = e[47]);
    let O;
    return (
      e[48] !== Z || e[49] !== te || e[50] !== X || e[51] !== I
        ? ((O = s.jsx(y, {
            p: 6,
            children: s.jsxs(le, {
              gap: 6,
              align: "stretch",
              children: [B, Z, te, X, I],
            }),
          })),
          (e[48] = Z),
          (e[49] = te),
          (e[50] = X),
          (e[51] = I),
          (e[52] = O))
        : (O = e[52]),
      O
    );
  };
function e0(e) {
  const { userId: t, data: n } = e;
  return ng(t, n);
}
function t0(e) {
  var t, n;
  ye.create({
    title: "Lỗi cập nhật",
    description:
      ((n = (t = e.response) == null ? void 0 : t.data) == null
        ? void 0
        : n.message) || "Có lỗi xảy ra khi cập nhật",
    type: "error",
  });
}
function s0(e) {
  var t, n;
  ye.create({
    title: "Lỗi xóa",
    description:
      ((n = (t = e.response) == null ? void 0 : t.data) == null
        ? void 0
        : n.message) || "Có lỗi xảy ra khi xóa",
    type: "error",
  });
}
function n0(e) {
  switch (e.toLowerCase()) {
    case "basic":
      return _n.BASIC;
    case "pro":
      return _n.PRO;
    case "vip":
      return _n.VIP;
    case "admin":
      return _n.ADMIN;
    default:
      return _n.BASIC;
  }
}
function i0(e) {
  return e ? new Date(e).toLocaleDateString("vi-VN") : "Không có";
}
function l0(e) {
  switch (e.toLowerCase()) {
    case "admin":
      return "red";
    case "vip":
      return "purple";
    case "pro":
      return "blue";
    case "basic":
      return "green";
    default:
      return "gray";
  }
}
const a0 = Object.freeze(
  Object.defineProperty({ __proto__: null, default: Z1 }, Symbol.toStringTag, {
    value: "Module",
  })
);
export {
  pj as $,
  H0 as A,
  R0 as B,
  _h as C,
  $0 as D,
  wh as E,
  Ch as F,
  V0 as G,
  L0 as H,
  B0 as I,
  Q0 as J,
  Ua as K,
  Fh as L,
  jh as M,
  xh as N,
  G0 as O,
  S0 as P,
  E0 as Q,
  Ha as R,
  A0 as S,
  w0 as T,
  M0 as U,
  ls as V,
  Rt as W,
  as as X,
  nj as Y,
  tj as Z,
  al as _,
  ie as a,
  N0 as a0,
  D0 as a1,
  z0 as a2,
  Y0 as a3,
  K0 as a4,
  J0 as a5,
  X0 as a6,
  er as a7,
  Jh as a8,
  cj as a9,
  uj as aa,
  hj as ab,
  mj as ac,
  gj as ad,
  fj as ae,
  Ah as af,
  Ph as ag,
  Eh as ah,
  U0 as ai,
  W0 as aj,
  q0 as ak,
  dj as al,
  aj as am,
  Vf as an,
  If as ao,
  Ff as ap,
  lj as aq,
  sj as ar,
  ij as as,
  I0 as at,
  j0 as au,
  y0 as av,
  O0 as aw,
  F0 as ax,
  na as b,
  jj as c,
  Cs as d,
  P0 as e,
  Pi as f,
  Kx as g,
  Wi as h,
  oc as i,
  T0 as j,
  v0 as k,
  cc as l,
  cl as m,
  b0 as n,
  k0 as o,
  Uc as p,
  Qa as q,
  C0 as r,
  mo as s,
  _0 as t,
  Z0 as u,
  xj as v,
  rj as w,
  oj as x,
  ej as y,
  Ga as z,
};
