var qs=Object.defineProperty;var Ks=(t,e,o)=>e in t?qs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var Io=(t,e,o)=>Ks(t,typeof e!="symbol"?e+"":e,o);import{a as compilerRuntimeExports,u as useQuery,b as useQueryClient,d as useMutation,bk as Pe,bl as ye,j as jsxRuntimeExports,B as Box,n as HStack,r as reactExports,V as VStack,T as Text$1,I as Input$1,S as Spinner,i as Button$1,e as useNavigate,bm as defineConfig,bn as defaultConfig,bo as createSystem,bp as FaIcons,a6 as FiSearch,m as FiUpload,W as React,bq as server_browserExports,br as ColorPickerRoot,bs as ColorPickerHiddenInput,bt as ColorPickerControl,bu as ColorPickerInput,bv as ColorPickerTrigger,P as Portal,bw as ColorPickerPositioner,bx as ColorPickerContent,by as ColorPickerArea,bz as ColorPickerEyeDropper,bA as ColorPickerSliders,bB as MdCheck,bC as MdContentCopy,o as FiMusic,Z as FiPlus,p as Badge,bD as FiChevronDown,bE as FaCrown,ax as FiCheck,az as SwitchRoot,aM as SwitchHiddenInput,aN as SwitchControl,aA as SwitchThumb,X as FiPlay,bF as FiPause,b4 as FiX,bG as FaPause,bH as FaPlay,bI as FiCode,t as FiEye,bJ as FiTag,ad as FiTrash2,bK as FiCheckCircle,bL as FiFile,bd as FiStar,bM as FiType,b8 as FiFileText,bN as FiVideo,a9 as FiImage,O as SelectPositioner,Q as SelectContent,J as createListCollection,bO as FiBell,R as SelectItem,M as SelectTrigger,N as SelectValueText,K as SelectRoot,U as SelectItemText,bP as SelectItemIndicator,bQ as FiMinus,bR as FiGlobe,bS as FiLock,bT as FaLaptopCode,bU as FaMobileAlt,bV as useFilter,bW as useListCollection,ac as Stack,L as SelectControl,bX as CiSettings,bY as CgBorderTop,bZ as CgBorderRight,b_ as CgBorderBottom,b$ as CgBorderLeft,c0 as TbRadiusTopLeft,c1 as TbRadiusTopRight,c2 as TbRadiusBottomRight,c3 as TbRadiusBottomLeft,c4 as FiChevronRight,c5 as FiMousePointer,c6 as MdAnimation,c7 as Ne,c8 as FaSync,aK as FaSyncAlt,c9 as MdOutlineEvent,a7 as Textarea,ca as dt,f as useSelector,cb as TbEyeOff,cc as TbEye,cd as TbLock,ce as TbLockOpen,cf as TbArrowUp,cg as TbArrowDown,ch as TbCopy,ci as TbDeviceFloppy,cj as TbRefresh,ck as TbX,cl as TbTrash,cm as M,$ as TabsTrigger,cn as MdDesignServices,co as MdSettings,bb as TabsContent,cp as TbRulerMeasure,cq as TbArrowsHorizontal,cr as TbArrowsVertical,cs as FaLock,ct as FaUnlock,cu as MdFormatColorFill,cv as MdBorderAll,cw as MdFilterAlt,cx as SelectIndicatorGroup,cy as SelectIndicator,cz as MdTransform,cA as MdBlurOn,cB as MdLayers,cC as SwitchLabel,_ as TabsList,a0 as TabsRoot,ak as ke,cD as TbPlus,cE as Sticky,cF as MdApps,cG as TooltipTrigger,cH as TooltipArrow,cI as TooltipPositioner,cJ as TooltipContent,cK as TooltipRoot,cL as MdTextFields,cM as MdFormatSize,cN as MdFormatBold,cO as MdFormatItalic,cP as MdFormatUnderlined,cQ as MdStrikethroughS,cR as RxLetterCaseUppercase,cS as MdFormatAlignLeft,cT as MdFormatAlignCenter,cU as MdFormatAlignRight,cV as MdFormatAlignJustify,cW as RiLineHeight2,cX as RiLetterSpacing2,cY as Pt,cZ as ContentEditable,c_ as SiIconify,c$ as MdTouchApp,d0 as HiMiniCursorArrowRipple,d1 as BsLayoutTextSidebar,d2 as S,d3 as MdImage,d4 as MdVideoLibrary,d5 as MdPlayCircleFilled,d6 as MdOutlineTouchApp,d7 as MdOutlineEdit,d8 as MdInput,d9 as MdDynamicForm,aJ as FaPlus,aI as FaTrash,da as MdLightbulb,db as MdSpaceBar,dc as MdSend,dd as MdCalendarMonth,de as MdColorLens,df as MdFontDownload,ae as Grid,dg as MdLinearScale,dh as FaCrown$1,di as MdTimer,dj as FiZoomOut,dk as FiZoomIn,dl as FiRotateCcw,dm as MdHourglassEmpty,dn as MdList,dp as MdStyle,bi as FaTimes,aY as FaDownload,dq as FaApple,dr as FaGoogle,ds as AccordionRoot,dt as AccordionItem,du as AccordionItemTrigger,dv as FaHeart,dw as AccordionItemContent,dx as FaCalendar,dy as FaMapMarkerAlt,dz as FaPhone,dA as FaHome,b1 as FaUsers,dB as FaCreditCard,dC as FaQrcode,dD as FaImage,dE as FaGlobe,dF as FaLink,dG as FaMagic,dH as createToaster,dI as MdPhotoSizeSelectActual,dJ as MdViewCarousel,dK as MdCollections,dL as FaImages,dM as FaCrop,dN as FaExpand,dO as Swiper,dP as SwiperSlide,dQ as FaChevronLeft,dR as FaChevronRight,bh as FaCheck,aG as FaEdit,dS as ReactDOM,dT as FaCode,l as IconButton,dU as usePopper,aa as Flex,dV as FaGripVertical,dW as FaRegSave,dX as TbSettings,dY as RxDragHandleDots2,dZ as MenuRoot,d_ as MenuTrigger,d$ as TbDots,e0 as MenuPositioner,e1 as MenuContent,e2 as MenuItem,e3 as FaGripLines,e4 as MdRotateLeft,e5 as IoSettingsOutline,e6 as Moveable,e7 as FaThLarge,e8 as FaFolder,e9 as FaWindowMaximize,ea as FaBoxOpen,eb as FaPhotoVideo,at as Icon$1,ec as IoMdClose,ed as FaCube,ee as FaFont,ef as FaMousePointer,b0 as FaFileAlt,eg as FaSmile,eh as FaMinus,ei as FaStopwatch,ej as FaCodepen,ek as RiWindow2Line,el as FaGift,em as FaEllipsisH,en as FaAudible,eo as FaVideo,ep as MdOutlineTextFormat,aP as FaExclamationTriangle,a8 as Image$2,aU as FaCog,eq as FaUpload,er as FaShare,es as FaExternalLinkAlt,et as FaCopy,eu as MdShare,ev as FaQuestionCircle,ew as useBlocker,ex as FaArrowLeft,ey as SlLayers,ez as FaUndo,eA as FaRedo,eB as FaVolumeUp,eC as FaSearch,eD as FaBell,eE as FaDesktop,eF as FaUserCheck,eG as CiDesktop,eH as CiMobile4,eI as FaPencilAlt,eJ as FaEyeSlash,eK as GiSettingsKnobs,eL as TbChevronDown,v as FiCopy,af as FiEdit2,eM as IoClose,eN as BiCollapse,eO as BiExpand,eP as f,eQ as n,eR as mt,eS as lt,al as y,aj as ut,ai as De,eT as Lt,eU as GiPartyPopper,ag as useParams,ah as Navigate}from"./vendor-react-CpGE3sj0.js";import{h as html2canvas,l as lz,p as parse,c as cx,b as purify,d as loadSlim,e as loadImageShape}from"./vendor-other-C35hYj1E.js";import{g as getGuestByGuestId,u as useGetGuestWishes}from"./user-manager-Dr4yhAGw.js";import{k as ModalBasic,t as toaster,F as Field,o as Tooltip,m as Checkbox,p as ErrorBoundary,a as DialogRoot,q as DialogBackdrop,b as DialogContent,c as DialogHeader,d as DialogTitle,e as DialogCloseTrigger,C as CloseButton,f as DialogBody,g as DialogFooter,r as DialogActionTrigger,s as MenuRoot$1,u as MenuTrigger$1,v as MenuContent$1,w as MenuItem$1,Q as QRCodeModal,M as ModalConfirmBasic,E as EditorLoadingScreen}from"./shared-components-G24N1P00.js";import{a as apiClient,d as storageApiClient,e as useCreateCustomAudioTemplate,h as formatFileSize$1,j as useUpdateTemplate,k as useGetUserAudioTemplates,s as selectAuth,i as isAdmin,l as isAuthenticated,m as domain,n as canAccessAgent,o as useGetAllUserFeatures,p as useDebounceEffect,q as useGetTemplate}from"./admin-CPo6XtYv.js";import{A as A11y,a as Autoplay,N as Navigation,P as Pagination,b as Ae}from"./vendor-charts-CZ6szF51.js";import{g as generatePath,R as ROUTES}from"./routes-constants-lB11n7Go.js";const zIndex={behind:-1,base:0,content:1,contentOverlay:2,ui:10,overlay:50,videoOverlay:1,videoControls:2,popupContent:10,sectionBase:3,sectionContent:4,renderNode:99,quickActions:999,quickActionsBackground:998,quickActionsMain:9999,quickActionsItem:999,quickActionsSubItem:998,popupMain:9999,dropboxMain:9999,selection:1e3,selectionControls:1001,groupControls:1e3,pinning:1e3,pinningManager:1e3,sectionsControls:1e3,editor:9999,editorOverlay:9998,renderNodeHighlight:9999,selectionBox:9999,smartAlignment:9999,audioPlayer:9999,lightBox:9999,lightBoxContent:1e4,dropbox:9999,dropboxOverlay:9998,viewport:9999,htmlEditor:9999,modalBackground:1e4,modal:1e4,audioPlayerControls:1e4,albumModal:9999,albumModalContent:1e4,albumModalItem:10002,albumModalSelected:10003,albumSection:1e4,albumSectionNavigation:10,albumSectionCSS:2,fileManagement:1e4,groupActions:1e4,headerControls:99999,resizer:99999,modalOverlay:10001,quickActionsPopup:10001,quickActionsCSS:10001,viewTemplateOverlay:10001,tooltipContent:10001,viewportOverlay:1001,modalContent:10002,modalTopLevel:10003,colorPicker:999999,imagePicker:999999,assetSave:999999,nodeControls:1e6,iconPicker:1e6,elementIdEdit:1e6,fileSelect:1e6,assetSaveContent:1e6,dragging:1e7,nodeControl:5e5,seoSettings:5e5,audioSettings:500001,notificationSettings:500002,viewportSettings:500003,customHtmlSettings:500004,customEffects:500005,particleEffects:500006,overlayHidden:500007,settingsModal:500008,collaborationModal:500009,fontSelect:9999999,layerPopup:9999999,viewportContext:9999999,elementsPopup:10000005,fontSelectOverlay:1e7,fileSelectOverlay:10000001,tooltip:10000001,modalConfirm:10000002,viewTemplateParticles:1e4,viewTemplateAudioPlayer:10001,popover:"popover",styledFontSelector:"10"},calculateSectionZIndex=(t,e=!1)=>{const r=20-t;return e?zIndex.sectionBase+r:zIndex.sectionContent+r},useCreateAsset=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp$S,onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)},useGetAssets=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["assets"],queryFn:_temp2$z},t[0]=e):e=t[0],useQuery(e)},useDeleteAsset=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp4$i,onSuccess:()=>{e.invalidateQueries({queryKey:["assets"]})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)},useGetAllTags$1=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["assets","tags"],queryFn:_temp5$c},t[0]=e):e=t[0],useQuery(e)};async function _temp$S(t){return(await apiClient.post("/assets",t)).data.data}async function _temp2$z(){return(await apiClient.get("/assets")).data.data}async function _temp4$i(t){await apiClient.delete(`/assets/${t}`)}async function _temp5$c(){return(await apiClient.get("/assets/tags/all")).data.data}const loadedFonts=new Set,loadFontFromUrl=(t,e,o="truetype")=>{if(loadedFonts.has(t))return t;let r=document.getElementById("font-manager-style");r||(r=document.createElement("style"),r.id="font-manager-style",r.type="text/css",document.head.appendChild(r));const s=`
    @font-face {
      font-family: '${t}';
      src: url('${e}') format('${o}');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
  `;return r.appendChild(document.createTextNode(s)),loadedFonts.add(t),t},getFontFormat=t=>{switch(t){case"font/ttf":return"truetype";case"font/otf":return"opentype";case"font/woff":return"woff";case"font/woff2":return"woff2";default:return"truetype"}},loadAllCustomFonts=(t,e)=>{t.forEach(o=>{const r=`${e}${o.filePath}`;loadFontFromUrl(o.fileName,r,getFontFormat(o.mimeType))})},getFileUrl=t=>(t.filePath.startsWith("http://")||t.filePath.startsWith("https://"),t.filePath);var FileType=(t=>(t.IMAGE="image",t.VIDEO="video",t.DOCUMENT="document",t.AUDIO="audio",t.FONT="font",t.ICON="icon",t.OTHER="other",t))(FileType||{});const FILE_TYPE_MIME_MAP={image:["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","image/bmp","image/tiff"],video:["video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv","video/webm","video/ogg","video/3gpp"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"],audio:["audio/mpeg","audio/wav","audio/ogg","audio/midi","audio/webm","audio/aac"],font:["font/ttf","font/otf","font/woff","font/woff2"],icon:["image/svg+xml"],other:[]},useGetFiles=(t,e)=>{const o=compilerRuntimeExports.c(3);let r;return o[0]!==e||o[1]!==t?(r={queryKey:["files",t,e],queryFn:async()=>(await storageApiClient.get("/files",{params:{type:t,tags:e}})).data.data},o[0]=e,o[1]=t,o[2]=r):r=o[2],useQuery(r)},useGetFonts=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["fonts"],queryFn:_temp2$y},t[0]=e):e=t[0],useQuery(e)},uploadFile=async(t,e)=>{const o=new FormData;o.append("file",t);const r=e?"/files/upload?isPreview=1":"/files/upload",s=await storageApiClient.post(r,o,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success===!1)throw new Error("Upload failed");return s.data.data},useBatchDeleteFiles=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp3$p,onSuccess:()=>{e.invalidateQueries({queryKey:["files"]}),e.invalidateQueries({queryKey:["fonts"]})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)},uploadFileWithTag=async(t,e)=>{const o=new FormData;o.append("file",t);const r=e?`/files/upload?tag=${encodeURIComponent(e)}`:"/files/upload",s=await storageApiClient.post(r,o,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success===!1)throw new Error("Upload failed");return s.data.data},useGetAllTags=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["files","tags"],queryFn:_temp5$b},t[0]=e):e=t[0],useQuery(e)};function _temp$R(t){return{...t,filePath:getFileUrl(t)}}async function _temp2$y(){const e=(await storageApiClient.get("/files",{params:{type:"font"}})).data.data;if(e&&e.length>0){const o=e.map(_temp$R);loadAllCustomFonts(o,"")}return e}async function _temp3$p(t){const{fileIds:e}=t;await storageApiClient.delete("/files/batch",{data:{fileIds:e}})}async function _temp5$b(){return(await storageApiClient.get("/files/tags/all")).data.data}const safeArray=t=>Array.isArray(t)?t:[],coercePx=(t,e)=>{if(typeof t=="string"){const o=parseInt(t,10);return Number.isFinite(o)&&/\d/.test(t)&&!t.trim().endsWith("%")?`${o}px`:t}return typeof t=="number"?`${t}px`:e},addPositionOffset=(t,e,o)=>{if(typeof t=="string"){const s=parseInt(t,10);return Number.isFinite(s)&&/\d/.test(t)&&!t.trim().endsWith("%")?`${s+e}px`:t}if(typeof t=="number")return`${t+e}px`;const r=parseInt(o,10);return Number.isFinite(r)?`${r+e}px`:o};function assertTreeIntegrity(t){var s,i,a,c,l;const{rootNodeId:e,nodes:o}=t,r=[];o[e]?(i=(s=o[e])==null?void 0:s.data)!=null&&i.parent&&r.push(`Root has parent=${o[e].data.parent}`):r.push(`Missing root ${e}`);for(const[d,u]of Object.entries(o)){const m=(a=u==null?void 0:u.data)==null?void 0:a.parent;m&&!o[m]&&r.push(`Node ${d} has non-existent parent ${m}`)}for(const[d,u]of Object.entries(o)){for(const m of safeArray((c=u==null?void 0:u.data)==null?void 0:c.nodes))o[m]||r.push(`Node ${d} child ${m} missing`);for(const m of Object.values(((l=u==null?void 0:u.data)==null?void 0:l.linkedNodes)||{}))o[m]||r.push(`Node ${d} linked ${m} missing`)}if(r.length)throw new Error("Cloned tree integrity failed")}function findLinkedSlotOfNode(t,e){var a,c;const o=t.node(e).get(),r=(a=o==null?void 0:o.data)==null?void 0:a.parent;if(!r)return null;const s=t.node(r).get(),i=(c=s==null?void 0:s.data)==null?void 0:c.linkedNodes;if(!i)return null;for(const[l,d]of Object.entries(i))if(d===e)return{parentId:r,slot:l};return null}const getTargetNode=(t,e,o)=>{try{return o!=null&&o.currentPopupIdOpen?o.currentPopupIdOpen:o!=null&&o.currentDropboxEditorIdOpen?o.currentDropboxEditorIdOpen:getTargetSection(t,e,{isCardEditor:!!(o!=null&&o.isCardEditor)})}catch{return"ROOT"}},removeIdFields=t=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(removeIdFields);const e={};for(const[o,r]of Object.entries(t))o==="id"||o==="nodeId"||o==="elementId"||o.endsWith("Id")||(e[o]=removeIdFields(r));return e},validateNestedElements=t=>{try{Object.values(t.nodes).forEach(e=>{var o;(o=e==null?void 0:e.data)!=null&&o.linkedNodes&&Object.values(e.data.linkedNodes).forEach(r=>{const s=t.nodes[r];s&&s.data.displayName==="Text"&&e.data.displayName==="Button"&&(s.data.props.isChildOfButton=!0,s.data.props.width=s.data.props.width||"100%",e.data.props.textComponent&&(e.data.props.textComponent={...e.data.props.textComponent,...s.data.props,isChildOfButton:!0,width:"100%"}))})})}catch{}},getCloneTree=(t,e,o)=>{const r={};if(!(t!=null&&t.nodes)||!(t!=null&&t.rootNodeId)||!t.nodes[t.rootNodeId])throw new Error("Invalid tree structure provided to getCloneTree");const s=new Set,i=(l,d,u=!1)=>{if(!(l!=null&&l.data))throw new Error("Invalid node structure");const m=l.id;if(m){if(s.has(m))throw new Error(`Cycle detected while cloning. Node ${m} already visited.`);s.add(m)}const R=ye(),p={...l.data.custom||{}};delete p.customId;const j={...l.data.props||{}},x=removeIdFields(j),g=safeArray(l.data.nodes).filter(C=>!!t.nodes[C]).map(C=>i(t.nodes[C],R,!1)),h=Object.entries(l.data.linkedNodes||{}).reduce((C,[b,v])=>(v&&t.nodes[v]&&(C[b]=i(t.nodes[v],R,!1)),C),{}),E={...l,id:R,data:{...l.data,custom:p,parent:u?null:d,nodes:g,linkedNodes:h,props:{...x,top:addPositionOffset(x==null?void 0:x.top,10,"20px"),left:addPositionOffset(x==null?void 0:x.left,10,"20px")}}};if(u&&o&&E.data.props){const C=E.data.props;o.top&&(C.top=coercePx(C.top,o.top)),o.left&&(C.left=coercePx(C.left,o.left))}const w=e.parseFreshNode(E).toNode();return r[R]=w,R},c={rootNodeId:i(t.nodes[t.rootNodeId],void 0,!0),nodes:r};return validateNestedElements(c),assertTreeIntegrity(c),c},duplicateNodeWithChildren=(t,e,o,r,s,i)=>{var a,c,l,d,u,m,R,p,j,x;try{const g=o.node(t).toNodeTree();(C=>{var _,I;const b=new Set,v=[C.rootNodeId];for(;v.length;){const $=v.pop();if(b.has($))continue;b.add($);const A=C.nodes[$]||o.node($).get();if(A){C.nodes[$]||(C.nodes[$]=A);for(const T of safeArray((_=A.data)==null?void 0:_.nodes))v.push(T);for(const T of Object.values(((I=A.data)==null?void 0:I.linkedNodes)||{}))v.push(T)}}})(g);const E=getCloneTree(g,o,i),w=findLinkedSlotOfNode(o,t);if(w){const{parentId:C,slot:b}=w;if(typeof r.addLinkedNodeFromTree=="function")r.addLinkedNodeFromTree(E,C,b);else{r.addNodeTree(E,C);const v=E.rootNodeId,_=o.serialize(),I=JSON.parse(_),$=(a=I.nodes)==null?void 0:a[C];$&&(Array.isArray($.data.nodes)&&($.data.nodes=$.data.nodes.filter(A=>A!==v)),$.data.linkedNodes={...$.data.linkedNodes||{},[b]:v},r.deserialize(JSON.stringify(I)))}}else r.addNodeTree(E,e,s);try{const C=g.nodes[g.rootNodeId];if(((c=C==null?void 0:C.data)==null?void 0:c.displayName)==="Button"||((l=C==null?void 0:C.data)==null?void 0:l.name)==="Button"){const b=E.rootNodeId,v=o.node(t).get(),_=((d=v==null?void 0:v.data)==null?void 0:d.linkedNodes)||{},I=Object.keys(_).find(A=>A.startsWith("text"+t)),$=Object.keys(_).find(A=>A.startsWith("icon"+t));if(I){const A=_[I],T=o.node(A).get();if((u=T==null?void 0:T.data)!=null&&u.props){const L={fontSize:"15",textAlign:"center",fontWeight:"400",fontStyle:"normal",color:"#000000",fontFamily:"inherit",lineHeight:"1.4",letterSpacing:"0",textTransform:"none",textDecoration:"none",textShadow:{x:0,y:0,blur:0,color:"#000000",enabled:!1},textStroke:{width:0,color:"#000000"},backgroundType:"color",backgroundColor:"transparent",opacity:100,...T.data.props,isChildOfButton:!0,width:"100%"};r.setProp(b,k=>{var F,W,z,H;k.textComponent=L;const B=T.data.props.text||((W=(F=v==null?void 0:v.data)==null?void 0:F.props)==null?void 0:W.text)||k.text;k.text=B,T.data.props.color&&(k.color=T.data.props.color),(H=(z=C==null?void 0:C.data)==null?void 0:z.props)!=null&&H.iconComponent&&(k.iconComponent={...C.data.props.iconComponent})});const N=(((R=(m=E.nodes[b])==null?void 0:m.data)==null?void 0:R.linkedNodes)||{})[I];N&&E.nodes[N]&&r.setProp(N,k=>{var F,W;Object.assign(k,T.data.props);const B=T.data.props.text||((W=(F=v==null?void 0:v.data)==null?void 0:F.props)==null?void 0:W.text)||k.text;k.text=B,k.isChildOfButton=!0}),setTimeout(()=>{try{r.setProp(b,k=>{var F,W,z,H;k.textComponent={...L};const B=T.data.props.text||((W=(F=v==null?void 0:v.data)==null?void 0:F.props)==null?void 0:W.text)||k.text;k.text=B,T.data.props.color&&(k.color=T.data.props.color),(H=(z=v==null?void 0:v.data)==null?void 0:z.props)!=null&&H.iconComponent&&(k.iconComponent={...v.data.props.iconComponent})})}catch{}},100)}}if($){const A=_[$],T=g.nodes[A];if((p=T==null?void 0:T.data)!=null&&p.props){const L={svgCode:"",iconColor:"",width:"20px",height:"20px",...T.data.props,isChildOfButton:!0};r.setProp(b,k=>{k.iconComponent=L});const N=(((x=(j=E.nodes[b])==null?void 0:j.data)==null?void 0:x.linkedNodes)||{})[$];N&&E.nodes[N]&&r.setProp(N,k=>{Object.assign(k,T.data.props),k.isChildOfButton=!0}),setTimeout(()=>{try{r.setProp(b,k=>{k.iconComponent={...L}})}catch{}},100)}}}}catch{}return r.setProp(E.rootNodeId,C=>{C.duplicateSourceId=t}),r.selectNode(E.rootNodeId),{id:E.rootNodeId}}catch(g){throw g}},getTargetSection=(t,e,o)=>{var r,s,i,a;try{const c=t.node("ROOT").toNodeTree().nodes;if(o!=null&&o.isCardEditor){const d=Object.values(c).filter(u=>{var m;return((m=u==null?void 0:u.data)==null?void 0:m.name)==="Page"});if(e){if(((s=(r=c[e])==null?void 0:r.data)==null?void 0:s.name)==="Page")return e;const u=d.find(m=>{var R,p;return(p=(R=m==null?void 0:m.data)==null?void 0:R.nodes)==null?void 0:p.includes(e)});if(u)return u.id}try{let u=null,m=-1;const R=window.innerWidth,p=window.innerHeight,j=R/2,x=p/2,g=0,h=0,E=R,w=p;for(const C of d){const b=document.querySelector(`[data-node-id="${C.id}"]`);if(!b)continue;const v=b.getBoundingClientRect();if(v.right<g||v.left>E||v.bottom<h||v.top>w)continue;const _=Math.max(g,v.left),I=Math.min(E,v.right),$=Math.max(h,v.top),A=Math.min(w,v.bottom),T=Math.max(0,I-_),L=Math.max(0,A-$),P=T*L,N=Math.max(1,v.width*v.height),k=Math.min(1,P/N),B=v.left+v.width/2,F=v.top+v.height/2,W=Math.hypot(B-j,F-x),z=Math.hypot(R,p),H=Math.max(0,1-W/z),U=k*.6+H*.4;U>m&&(m=U,u=C.id)}if(u)return u}catch{}return((i=d[0])==null?void 0:i.id)||"ROOT"}const l=Object.values(c).filter(d=>{var u;return((u=d==null?void 0:d.data)==null?void 0:u.name)==="Sections"});try{let d=null,u=-1;const m=window.innerHeight,R=m/2,p=0,j=m;for(const x of l){const g=document.querySelector(`[data-node-id="${x.id}"]`);if(!g)continue;const h=g.getBoundingClientRect();if(h.bottom<p||h.top>j)continue;const E=Math.max(p,h.top),w=Math.min(j,h.bottom),C=Math.max(0,w-E),b=h.top+h.height/2,v=Math.abs(b-R),_=h.height?C/h.height:0,I=Math.max(0,1-v/m),$=_*.6+I*.4;$>u&&(u=$,d=x.id)}if(d)return d}catch{}if(e){const d=l.find(u=>{var m,R;return(R=(m=u==null?void 0:u.data)==null?void 0:m.nodes)==null?void 0:R.includes(e)});if(d)return d.id}return((a=l[0])==null?void 0:a.id)||"ROOT"}catch{return"ROOT"}},isModalComponent=t=>{const e=t.data.displayName;return e==="Popup"||e==="Dropbox"||e==="Album Modal"||e==="QuickActions"},duplicateModalComponent=(t,e,o,r)=>{try{const s=e.node(t).get();if(!isModalComponent(s))throw new Error("Node is not a modal component");r.closeAllModalComponents();const i=e.node(t).toNodeTree(),a=getCloneTree(i,e);o.addNodeTree(a,"ROOT");const c=a.rootNodeId;return o.selectNode([]),setTimeout(()=>{switch(e.node(c).get().data.displayName){case"Popup":r.openPopup(c);break;case"Dropbox":r.openDropboxEditor(c);break;case"Album Modal":r.openAlbumModal(c);break;case"QuickActions":break}o.selectNode(c)},100),c}catch(s){throw s}},useDuplication=()=>{const{query:t,actions:e}=Pe(),o=useViewport();return{duplicateNode:(i,a)=>{var c,l,d,u,m;try{const R=t.node(i).get();if(!R)throw new Error("Node not found");if(isModalComponent(R))return duplicateModalComponent(i,t,e,o);const p=(c=R.data)==null?void 0:c.parent;if(!p)throw new Error("Parent not found for node");let j;try{const x=t.node(p).get(),g=((d=(l=x==null?void 0:x.data)==null?void 0:l.nodes)==null?void 0:d.indexOf(i))??-1;j=g>=0?g+1:void 0}catch{j=void 0}return duplicateNodeWithChildren(i,p,t,e,j,a)}catch{try{const p=getTargetSection(t,i);let j;try{const x=t.node(p).get(),g=((m=(u=x==null?void 0:x.data)==null?void 0:u.nodes)==null?void 0:m.indexOf(i))??-1;j=g>=0?g+1:void 0}catch{j=void 0}return duplicateNodeWithChildren(i,p,t,e,j,a)}catch(p){throw p}}},duplicateSection:i=>{const c=t.node("ROOT").get().data.nodes.indexOf(i);return duplicateNodeWithChildren(i,"ROOT",t,e,c+1)},duplicateNodeWithChildren,duplicateModalComponent,isModalComponent,getCloneTree,getTargetSection,removeIdFields,validateNestedElements}},DESKTOP_MAX_WIDTH=960,MOBILE_MAX_WIDTH=380,MOBILE_SCALE_FACTOR=MOBILE_MAX_WIDTH/DESKTOP_MAX_WIDTH,FONT_SIZE_SCALE_FACTOR=.85,MIN_FONT_SIZE=12,MAX_FONT_SIZE=48,SPACING_SCALE_FACTOR=.7,MIN_SPACING=4,scaleDimensionForMobile=t=>{if(typeof t=="string"){if(t.includes("%"))return t;if(t.includes("px")){const o=parseInt(t);return`${Math.round(o*MOBILE_SCALE_FACTOR)}px`}if(t==="auto"||t==="inherit"||t==="initial")return t;const e=parseInt(t);if(!isNaN(e))return`${Math.round(e*MOBILE_SCALE_FACTOR)}px`}return typeof t=="number"?`${Math.round(t*MOBILE_SCALE_FACTOR)}px`:t},scaleFontSizeForMobile=t=>{let e;if(typeof t=="string"?(t.includes("px"),e=parseInt(t)):e=t,isNaN(e))return"16px";const o=Math.round(e*FONT_SIZE_SCALE_FACTOR);return`${Math.max(MIN_FONT_SIZE,Math.min(MAX_FONT_SIZE,o))}px`},scaleSpacingForMobile=t=>typeof t=="string"?t:typeof t=="number"?[Math.max(MIN_SPACING,Math.round(t*SPACING_SCALE_FACTOR))]:Array.isArray(t)?t.map(e=>Math.max(MIN_SPACING,Math.round(e*SPACING_SCALE_FACTOR))):t,convertPositioningForMobile=t=>{const e={...t};return e.top!==void 0&&e.top!=="auto"&&(e.top=0),e.left!==void 0&&e.left!=="auto"&&(e.left=0),e},convertLayoutForMobile=t=>{const e={...t};return e.flexDirection==="row"&&(e.flexDirection="column"),e.gridColumns&&e.gridColumns>2&&(e.gridColumns=2),e.layoutType==="horizontal"&&e.gridColumns>2&&(e.gridColumns=1),e},convertTextPropsForMobile=t=>{const e={...t};return e.fontSize&&(e.fontSize=scaleFontSizeForMobile(e.fontSize)),e.lineHeight&&typeof e.lineHeight=="string"&&e.lineHeight.includes("px")&&(e.lineHeight=scaleDimensionForMobile(e.lineHeight)),e.letterSpacing&&typeof e.letterSpacing=="string"&&e.letterSpacing.includes("px")&&(e.letterSpacing=scaleDimensionForMobile(e.letterSpacing)),e.textShadow&&(e.textShadow={...e.textShadow,x:Math.round(e.textShadow.x*MOBILE_SCALE_FACTOR),y:Math.round(e.textShadow.y*MOBILE_SCALE_FACTOR),blur:Math.round(e.textShadow.blur*MOBILE_SCALE_FACTOR)}),e.textStroke&&(e.textStroke={...e.textStroke,width:Math.round(e.textStroke.width*MOBILE_SCALE_FACTOR)}),e},convertImagePropsForMobile=t=>{const e={...t};return e.width&&e.width!=="auto"&&e.width!=="100%"&&(e.width=scaleDimensionForMobile(e.width)),e.height&&e.height!=="auto"&&(e.height=scaleDimensionForMobile(e.height)),e.cropWidth&&(e.cropWidth=scaleDimensionForMobile(e.cropWidth)),e.cropHeight&&(e.cropHeight=scaleDimensionForMobile(e.cropHeight)),e.cropX&&(e.cropX=Math.round(e.cropX*MOBILE_SCALE_FACTOR)),e.cropY&&(e.cropY=Math.round(e.cropY*MOBILE_SCALE_FACTOR)),e.borderRadius&&Array.isArray(e.borderRadius)&&(e.borderRadius=e.borderRadius.map(o=>Math.round(o*MOBILE_SCALE_FACTOR))),e},convertButtonPropsForMobile=t=>{const e={...t};return e.width&&e.width!=="auto"&&(e.width=scaleDimensionForMobile(e.width)),e.height&&e.height!=="auto"&&(e.height=scaleDimensionForMobile(e.height)),e.padding&&(e.padding=scaleSpacingForMobile(e.padding)),e.margin&&(e.margin=scaleSpacingForMobile(e.margin)),e.borderRadius&&Array.isArray(e.borderRadius)&&(e.borderRadius=e.borderRadius.map(o=>Math.round(o*MOBILE_SCALE_FACTOR))),e},convertContainerPropsForMobile=t=>{let e={...t};return e.width&&e.width!=="auto"&&e.width!=="100%"&&(e.width=scaleDimensionForMobile(e.width)),e.height&&e.height!=="auto"&&(e.height=scaleDimensionForMobile(e.height)),e.minHeight&&(e.minHeight=scaleDimensionForMobile(e.minHeight)),e.padding&&(e.padding=scaleSpacingForMobile(e.padding)),e.margin&&(e.margin=scaleSpacingForMobile(e.margin)),e=convertPositioningForMobile(e),e=convertLayoutForMobile(e),e},convertSectionPropsForMobile=t=>{const e={...t};return e.height&&e.height!=="auto"&&(e.height=scaleDimensionForMobile(e.height)),e.minHeight&&(e.minHeight=scaleDimensionForMobile(e.minHeight)),e.padding&&(e.padding=scaleSpacingForMobile(e.padding)),e},convertDesktopContentToMobile=t=>{try{const o={...JSON.parse(t)};return Object.keys(o).forEach(r=>{const s=o[r];if(!s||!s.type||!s.type.resolvedName)return;const i=s.type.resolvedName;let a={...s.props};switch(i){case"Text":a=convertTextPropsForMobile(a);break;case"Image":a=convertImagePropsForMobile(a);break;case"Button":a=convertButtonPropsForMobile(a);break;case"Container":a=convertContainerPropsForMobile(a);break;case"Sections":a=convertSectionPropsForMobile(a);break;case"Album":a=convertLayoutForMobile(a);break;case"Form":a=convertPositioningForMobile(a);break;default:a=convertPositioningForMobile(a),a=convertLayoutForMobile(a),a.width&&a.width!=="auto"&&a.width!=="100%"&&(a.width=scaleDimensionForMobile(a.width)),a.height&&a.height!=="auto"&&(a.height=scaleDimensionForMobile(a.height)),a.padding&&(a.padding=scaleSpacingForMobile(a.padding)),a.margin&&(a.margin=scaleSpacingForMobile(a.margin));break}o[r]={...s,props:a}}),JSON.stringify(o)}catch{return t}},EditorModal=t=>{const e=compilerRuntimeExports.c(19),{isOpen:o,onClose:r,children:s,title:i,footer:a,widthClass:c,containerClassName:l,bodyClassName:d,zIndex:u,closeOnBackdrop:m,showCloseButton:R,disableAutoFocus:p}=t,j=c===void 0?"max-w-[600px] w-full":c,x=d===void 0?"":d,g=u===void 0?zIndex.modal:u;let h;e[0]!==j?(h=()=>{if(j.includes("max-w-[")){const A=j.match(/max-w-\[([^\]]+)\]/);return A?A[1]:"600px"}return j.includes("max-w-sm")?"384px":j.includes("max-w-md")?"448px":j.includes("max-w-lg")?"512px":j.includes("max-w-xl")?"576px":j.includes("max-w-2xl")?"672px":j.includes("max-w-3xl")?"768px":j.includes("max-w-4xl")?"896px":j.includes("max-w-5xl")?"1024px":"600px"},e[0]=j,e[1]=h):h=e[1];const E=h;let w;e[2]!==x||e[3]!==s?(w=jsxRuntimeExports.jsx(Box,{overflowY:"auto",className:x,flex:"1",children:s}),e[2]=x,e[3]=s,e[4]=w):w=e[4];let C;e[5]!==a?(C=a&&jsxRuntimeExports.jsx(Box,{borderTop:"1px",borderColor:"gray.200",bg:"gray.50",borderRadius:"0 0 8px 8px",mt:4,pt:4,children:jsxRuntimeExports.jsx(HStack,{justify:"flex-end",gap:"3",children:a})}),e[5]=a,e[6]=C):C=e[6];let b;e[7]!==C||e[8]!==w?(b=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[w,C]}),e[7]=C,e[8]=w,e[9]=b):b=e[9];const v=b,_=typeof i=="string"?i:void 0;let I;e[10]!==E?(I=E(),e[10]=E,e[11]=I):I=e[11];let $;return e[12]!==o||e[13]!==v||e[14]!==r||e[15]!==_||e[16]!==I||e[17]!==g?($=jsxRuntimeExports.jsx(ModalBasic,{isOpen:o,onClose:r,title:_,maxWidth:I,maxHeight:"85vh",zIndex:g,children:v}),e[12]=o,e[13]=v,e[14]=r,e[15]=_,e[16]=I,e[17]=g,e[18]=$):$=e[18],$},AssetSaveModal=({isOpen:t,onClose:e,elementName:o,nodeId:r})=>{const[s,i]=reactExports.useState(""),[a,c]=reactExports.useState(""),[l,d]=reactExports.useState(!1),[u,m]=reactExports.useState(""),{mutate:R,isPending:p}=useCreateAsset(),{data:j=[],isLoading:x}=useGetAllTags$1(),{query:g}=Pe(),{currentEditingPlatform:h,isCardEditor:E,isLogoEditor:w,desktopContent:C,mobileContent:b}=useViewport(),v=B=>{const F=B.toLowerCase();return{button:"button",text:"text",image:"image",container:"container",icon:"icon",line:"line",form:"form",input:"input",video:"video",calendar:"calendar",count:"count",albumsection:"albumsection",popup:"popup",dropbox:"dropbox",wishlist:"wishlist",quickactions:"quickactions",page:"page",sections:"section",section:"section",group:"other","content wrapper":"other",lightbox:"other"}[F]||"other"};if(reactExports.useEffect(()=>{if(t&&o){const B=v(o);i(B)}},[t,o]),reactExports.useEffect(()=>{t||(i(""),c(""),m(""),d(!1))},[t]),!t)return null;const _=()=>{i(""),c(""),m(""),d(!1),e()},I=B=>{if(!B)return B;if(B.includes("oklch")){const F=B.match(/oklch\(([^)]+)\)/);if(F){const W=F[1].split(/\s+/);if(W.length>=3){const z=parseFloat(W[0])||.5,H=Math.round(z*255);return`rgb(${H}, ${H}, ${H})`}}return"transparent"}return B.includes("lab(")||B.includes("lch(")||B.includes("color(")?"transparent":B},$=async()=>{var B;d(!0);try{let F=null;if(o.toLowerCase()==="quickactions"){const O=document.querySelector("[data-quickactions-preview]");if(O){F=O;const Q=O.querySelectorAll('[style*="opacity"]'),q=[];Q.forEach((Y,V)=>{Y instanceof HTMLElement&&(q[V]=Y.style.opacity,Y.style.opacity="1")}),await new Promise(Y=>setTimeout(Y,100)),setTimeout(()=>{Q.forEach((Y,V)=>{Y instanceof HTMLElement&&(Y.style.opacity=q[V]||"")})},1e3)}else{const Q=(B=document.querySelector("[data-quickactions-id]"))==null?void 0:B.closest('.modal-content, [style*="backgroundColor: white"]');if(Q){const q=Q.querySelector('[style*="backgroundColor: #f8f9fa"]');q&&(F=q)}}}if(F||(F=g.node(r).get().dom),!F)throw new Error("Element not found in DOM");const W=await html2canvas(F,{backgroundColor:o.toLowerCase()==="quickactions"?"#ffffff":null,scale:1,useCORS:!0,allowTaint:!0,width:F.offsetWidth,height:F.offsetHeight,ignoreElements:O=>{var q,Y,V,de,ue,Re,oe,ce,je,ie,xe,pe;const Q=window.getComputedStyle(O);return((q=Q.backgroundColor)==null?void 0:q.includes("oklch"))||((Y=Q.backgroundColor)==null?void 0:Y.includes("lab("))||((V=Q.backgroundColor)==null?void 0:V.includes("lch("))||((de=Q.backgroundColor)==null?void 0:de.includes("color("))||((ue=Q.color)==null?void 0:ue.includes("oklch"))||((Re=Q.color)==null?void 0:Re.includes("lab("))||((oe=Q.color)==null?void 0:oe.includes("lch("))||((ce=Q.color)==null?void 0:ce.includes("color("))||((je=Q.borderColor)==null?void 0:je.includes("oklch"))||((ie=Q.borderColor)==null?void 0:ie.includes("lab("))||((xe=Q.borderColor)==null?void 0:xe.includes("lch("))||((pe=Q.borderColor)==null?void 0:pe.includes("color("))},onclone:O=>{O.querySelectorAll("*").forEach(q=>{var Y,V,de,ue,Re,oe,ce,je;if(q instanceof HTMLElement){const ie=q.style;ie.backgroundColor&&(ie.backgroundColor=I(ie.backgroundColor)),ie.color&&(ie.color=I(ie.color)),ie.borderColor&&(ie.borderColor=I(ie.borderColor)),ie.borderTopColor&&(ie.borderTopColor=I(ie.borderTopColor)),ie.borderRightColor&&(ie.borderRightColor=I(ie.borderRightColor)),ie.borderBottomColor&&(ie.borderBottomColor=I(ie.borderBottomColor)),ie.borderLeftColor&&(ie.borderLeftColor=I(ie.borderLeftColor)),ie.outlineColor&&(ie.outlineColor=I(ie.outlineColor)),ie.textDecorationColor&&(ie.textDecorationColor=I(ie.textDecorationColor));const xe=window.getComputedStyle(q);((Y=xe.backgroundColor)!=null&&Y.includes("oklch")||(V=xe.backgroundColor)!=null&&V.includes("lab(")||(de=xe.backgroundColor)!=null&&de.includes("lch(")||(ue=xe.backgroundColor)!=null&&ue.includes("color("))&&(ie.backgroundColor="transparent"),((Re=xe.color)!=null&&Re.includes("oklch")||(oe=xe.color)!=null&&oe.includes("lab(")||(ce=xe.color)!=null&&ce.includes("lch(")||(je=xe.color)!=null&&je.includes("color("))&&(ie.color="#000000")}})}}),z=await new Promise((O,Q)=>{W.toBlob(q=>{q?O(q):Q(new Error("Failed to create blob from canvas"))},"image/png",.8)}),H=new File([z],`preview-${Date.now()}.png`,{type:"image/png"}),U=await uploadFile(H),D=U.path||U.filePath;return d(!1),D}catch{try{let z=null;if(o.toLowerCase()==="quickactions"){const H=document.querySelector("[data-quickactions-preview]");H&&(z=H)}if(z||(z=g.node(r).get().dom),z){const H=await html2canvas(z,{backgroundColor:"#ffffff",scale:.5,useCORS:!1,allowTaint:!1,logging:!1,width:Math.min(z.offsetWidth,400),height:Math.min(z.offsetHeight,300),ignoreElements:()=>!1,onclone:q=>{const Y=q.createElement("style");Y.textContent=`
                * {
                  background-color: transparent !important;
                  color: #000000 !important;
                  border-color: #cccccc !important;
                  outline-color: #cccccc !important;
                  text-decoration-color: #000000 !important;
                }
                /* Remove any CSS custom properties that might contain modern colors */
                :root {
                  --color-primary: #4ade80 !important;
                }
              `,q.head.appendChild(Y)}}),U=await new Promise((q,Y)=>{H.toBlob(V=>{V?q(V):Y(new Error("Fallback blob creation failed"))},"image/png",.5)}),D=new File([U],`preview-fallback-${Date.now()}.png`,{type:"image/png"}),O=await uploadFile(D,!0),Q=O.path||O.filePath;return d(!1),Q}}catch{const H=await A(o);return d(!1),H}const W=await A(o);return d(!1),W}finally{d(!1)}},A=async B=>{try{const F=document.createElement("canvas");F.width=200,F.height=100;const W=F.getContext("2d");if(W){W.fillStyle="#f0f0f0",W.fillRect(0,0,200,100),W.fillStyle="#666666",W.font="16px Arial",W.textAlign="center",W.fillText(B||"Element",100,40),W.fillText("Preview",100,65);const z=await new Promise((D,O)=>{F.toBlob(Q=>{Q?D(Q):O(new Error("Failed to create placeholder blob"))},"image/png",.8)}),H=new File([z],`placeholder-${Date.now()}.png`,{type:"image/png"}),U=await uploadFile(H);return U.path||U.filePath}}catch{}return""},T=async B=>{if(B.preventDefault(),!(l||p))try{const F=await $();await L(F)}catch{toaster.create({title:"Error",description:"Lỗi khi xử lý yêu cầu lưu mẫu phần tử. Vui lòng thử lại.",type:"error"})}},L=async B=>{var F,W,z,H,U,D,O,Q,q;try{const Y=g.node(r).toNodeTree();if(!Y||!Y.nodes||!Y.rootNodeId){toaster.create({title:"Error",description:"Cấu trúc phần tử không hợp lệ. Vui lòng thử lại.",type:"error"});return}(xe=>{var Se,Ie;const pe=new Set,$e=[xe.rootNodeId];for(;$e.length;){const Me=$e.pop();if(pe.has(Me))continue;pe.add(Me);const He=xe.nodes[Me]||g.node(Me).get();if(!He)continue;xe.nodes[Me]||(xe.nodes[Me]=He),(((Se=He.data)==null?void 0:Se.nodes)||[]).forEach(le=>$e.push(le));const Ce=((Ie=He.data)==null?void 0:Ie.linkedNodes)||{};Object.values(Ce).forEach(le=>{le&&$e.push(le)})}})(Y);const de=Y.nodes[Y.rootNodeId];if(((F=de==null?void 0:de.data)==null?void 0:F.displayName)==="Button"||((W=de==null?void 0:de.data)==null?void 0:W.name)==="Button"){const xe=de.data.linkedNodes||{},pe=Object.keys(xe).find(Se=>Se.startsWith("text")),$e=Object.keys(xe).find(Se=>Se.startsWith("icon"));if(pe){const Se=xe[pe],Ie=Y.nodes[Se];if((z=Ie==null?void 0:Ie.data)!=null&&z.props){const Me={fontSize:"15",textAlign:"center",fontWeight:"400",fontStyle:"normal",color:"#000000",fontFamily:"inherit",lineHeight:"1.4",letterSpacing:"0",textTransform:"none",textDecoration:"none",textShadow:{x:0,y:0,blur:0,color:"#000000",enabled:!1},textStroke:{width:0,color:"#000000"},backgroundType:"color",backgroundColor:"transparent",opacity:100,...Ie.data.props,isChildOfButton:!0,width:"100%"};Y.nodes[Y.rootNodeId].data.props.textComponent=Me,Y.nodes[Y.rootNodeId].data.props.text=Ie.data.props.text||Y.nodes[Y.rootNodeId].data.props.text,Ie.data.props.color&&(Y.nodes[Y.rootNodeId].data.props.color=Ie.data.props.color)}}if($e){const Se=xe[$e],Ie=Y.nodes[Se];if((H=Ie==null?void 0:Ie.data)!=null&&H.props){const Me={svgCode:"",iconColor:"",width:"20px",height:"20px",...Ie.data.props,isChildOfButton:!0};Y.nodes[Y.rootNodeId].data.props.iconComponent=Me}}}validateNestedElements(Y);const ue={rootNodeId:Y.rootNodeId,nodes:Object.keys(Y.nodes).reduce((xe,pe)=>{const $e=g.node(pe).toSerializedNode(),Se={type:$e.type,isCanvas:$e.isCanvas,props:removeIdFields($e.props),displayName:$e.displayName,custom:$e.custom,hidden:$e.hidden,nodes:$e.nodes||[],linkedNodes:$e.linkedNodes||{}};return xe[pe]=Se,xe},{})};let Re;if(h==="desktop"){const xe=JSON.stringify(ue.nodes),pe=convertDesktopContentToMobile(xe);Re={rootNodeId:ue.rootNodeId,nodes:JSON.parse(pe)}}else Re={rootNodeId:ue.rootNodeId,nodes:{...ue.nodes}};const oe=JSON.stringify(ue),ce=JSON.stringify(Re),je=lz.encodeBase64(lz.compress(oe)),ie=lz.encodeBase64(lz.compress(ce));R({key:`${s}`,tag:a||"",content:h==="desktop"?je:ie,contentMobile:h==="mobile"?je:ie,previewUrl:B||""},{onSuccess:()=>{_()}})}catch{try{const V=g.node(r).toNodeTree();if(!V||!V.nodes||!V.rootNodeId)throw new Error("Invalid tree in fallback");const de=V.nodes[V.rootNodeId];if(((U=de.data)==null?void 0:U.displayName)==="Button"||((D=de.data)==null?void 0:D.name)==="Button"){const xe=((O=de.data)==null?void 0:O.linkedNodes)||{},pe=Object.keys(xe).find(Se=>Se.startsWith("text"));if(pe){const Se=xe[pe],Ie=V.nodes[Se]||g.node(Se).get();if((Q=Ie==null?void 0:Ie.data)!=null&&Q.props){const Me={fontSize:"15",textAlign:"center",fontWeight:"400",fontStyle:"normal",color:"#000000",fontFamily:"inherit",lineHeight:"1.4",letterSpacing:"0",textTransform:"none",textDecoration:"none",textShadow:{x:0,y:0,blur:0,color:"#000000",enabled:!1},textStroke:{width:0,color:"#000000"},backgroundType:"color",backgroundColor:"transparent",opacity:100,...Ie.data.props,isChildOfButton:!0,width:"100%"};de.data.props.textComponent=Me,de.data.props.text=Ie.data.props.text||de.data.props.text,Ie.data.props.color&&(de.data.props.color=Ie.data.props.color)}}const $e=Object.keys(xe).find(Se=>Se.startsWith("icon"));if($e){const Se=xe[$e],Ie=V.nodes[Se]||g.node(Se).get();if((q=Ie==null?void 0:Ie.data)!=null&&q.props){const Me={svgCode:"",iconColor:"",width:"20px",height:"20px",...Ie.data.props,isChildOfButton:!0};de.data.props.iconComponent=Me}}}const ue={rootNodeId:V.rootNodeId,nodes:Object.keys(V.nodes).reduce((xe,pe)=>{var Me;const $e=V.nodes[pe],Se=g.node(pe).toSerializedNode(),Ie={type:Se.type,isCanvas:Se.isCanvas,props:removeIdFields(Se.props),displayName:Se.displayName,custom:Se.custom,hidden:Se.hidden,nodes:Se.nodes||[],linkedNodes:Se.linkedNodes||{}};return pe===V.rootNodeId&&((Me=de.data)!=null&&Me.props)&&(Ie.props=de.data.props),xe[pe]=Ie,xe},{})};let Re;if(h==="desktop"){const xe=JSON.stringify(ue.nodes),pe=convertDesktopContentToMobile(xe);Re={rootNodeId:ue.rootNodeId,nodes:JSON.parse(pe)}}else Re={rootNodeId:ue.rootNodeId,nodes:{...ue.nodes}};const oe=JSON.stringify(ue),ce=JSON.stringify(Re),je=lz.encodeBase64(lz.compress(oe)),ie=lz.encodeBase64(lz.compress(ce));R({key:`${s}`,tag:a||"",content:h==="desktop"?je:ie,contentMobile:h==="mobile"?je:ie,previewUrl:B||""},{onSuccess:()=>{_()}})}catch{toaster.create({title:"Error",description:"Lỗi khi lưu mẫu phần tử. Vui lòng thử lại.",type:"error"})}}},P=B=>{const F=B.target.value;m(F),c(F)},N=B=>{c(B),m(B)},k=u.length>0?j.filter(B=>B.toLowerCase().includes(u.toLowerCase())):j;return jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:_,title:"Lưu mẫu phần tử",widthClass:"max-w-[400px] w-full",zIndex:zIndex.assetSave,children:jsxRuntimeExports.jsxs(VStack,{as:"form",onSubmit:T,gap:"4",align:"stretch",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:"1",children:"Tag"}),jsxRuntimeExports.jsx(Input$1,{value:u,onChange:P,placeholder:"Nhập tag cho mẫu phần tử hoặc chọn từ danh sách bên dưới...",onClick:B=>B.stopPropagation(),disabled:x}),x&&jsxRuntimeExports.jsxs(HStack,{gap:"2",mt:"2",children:[jsxRuntimeExports.jsx(Spinner,{size:"sm"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.400",children:"Đang tải danh sách tags..."})]}),!x&&j.length>0&&jsxRuntimeExports.jsxs(Box,{mt:"2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mb:"1",children:"Tags có sẵn:"}),jsxRuntimeExports.jsxs(Box,{maxH:"32",overflowY:"auto",border:"1px",borderColor:"gray.200",borderRadius:"md",p:"2",bg:"gray.50",children:[jsxRuntimeExports.jsx(HStack,{gap:"1",flexWrap:"wrap",children:k.map((B,F)=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:a===B?"solid":"outline",colorScheme:a===B?"blue":"gray",onClick:W=>{W.stopPropagation(),N(B)},children:B},F))}),k.length===0&&u.length>0&&jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",fontStyle:"italic",mt:"2",children:"Không tìm thấy tag phù hợp. Nhập để tạo tag mới."})]})]}),!x&&j.length===0&&jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mt:"2",children:"Chưa có tags nào. Nhập để tạo tag đầu tiên."})]}),jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",onClick:B=>{B.stopPropagation(),_()},variant:"outline",colorScheme:"gray",disabled:p||l,children:"Hủy"}),jsxRuntimeExports.jsx(Button$1,{type:"submit",colorScheme:"blue",loading:p||l,loadingText:l?"Đang tạo preview...":"Đang lưu...",onClick:B=>B.stopPropagation(),children:"Lưu"})]})]})})};var PageType=(t=>(t.NORMAL="normal",t.LOGO="logo",t.CARD="card",t))(PageType||{});const checkDomainAvailability=async t=>(await apiClient.get("/pages/check-domain",{params:{domain:t}})).data.data,useCreatePage=()=>{const t=compilerRuntimeExports.c(3),e=useQueryClient(),o=useNavigate();let r;return t[0]!==o||t[1]!==e?(r={mutationFn:_temp$Q,onSuccess:s=>{e.invalidateQueries({queryKey:["pages"]}),e.invalidateQueries({queryKey:["my-pages"]}),e.invalidateQueries({queryKey:["dashboard-summary"]}),o(generatePath.builderPage(s.id.toString()))}},t[0]=o,t[1]=e,t[2]=r):r=t[2],useMutation(r)},useGetDashboardSummary=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["dashboard-summary"],queryFn:_temp2$x},t[0]=e):e=t[0],useQuery(e)},useGetPage=t=>{const e=compilerRuntimeExports.c(7);let o,r;e[0]!==t?(o=["page",t],r=async()=>{if(isNaN(t)||t<=0)throw new Error("Invalid page ID");return(await apiClient.get(`/pages/${t}`)).data.data},e[0]=t,e[1]=o,e[2]=r):(o=e[1],r=e[2]);const s=!isNaN(t)&&t>0;let i;return e[3]!==o||e[4]!==r||e[5]!==s?(i={queryKey:o,queryFn:r,enabled:s,retry:_temp4$h},e[3]=o,e[4]=r,e[5]=s,e[6]=i):i=e[6],useQuery(i)},getPageByDomain=async(t,e)=>{if(!t)throw new Error("Domain is required for lookup");return(await apiClient.get("/pages/lookup",{params:{domain:t,isPhotobooth:e}})).data.data},useGetPageByDomain=(t,e,o)=>{const r=compilerRuntimeExports.c(10);let s;r[0]!==t?(s=["page-lookup",t],r[0]=t,r[1]=s):s=r[1];let i;r[2]!==t||r[3]!==e?(i=()=>getPageByDomain(t,e),r[2]=t,r[3]=e,r[4]=i):i=r[4];const a=!!t,c=o==null?void 0:o.initialData;let l;return r[5]!==s||r[6]!==i||r[7]!==a||r[8]!==c?(l={queryKey:s,queryFn:i,enabled:a,initialData:c,retry:!1},r[5]=s,r[6]=i,r[7]=a,r[8]=c,r[9]=l):l=r[9],useQuery(l)},useUpdatePageContent=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp5$a,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["pages"]}),e.invalidateQueries({queryKey:["my-pages"]}),e.invalidateQueries({queryKey:["page",s.id]}),e.invalidateQueries({queryKey:["dashboard-summary"]})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)},usePublishPage=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp6$7,onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["pages"]}),e.invalidateQueries({queryKey:["my-pages"]}),e.invalidateQueries({queryKey:["page",s.id]}),e.invalidateQueries({queryKey:["dashboard-summary"]})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)},useGetAdminPages=t=>{const e=compilerRuntimeExports.c(4);let o;e[0]!==t?(o=t===void 0?{}:t,e[0]=t,e[1]=o):o=e[1];const r=o;let s;return e[2]!==r?(s={queryKey:["admin-pages",r],queryFn:async()=>{const i=new URLSearchParams;return Object.entries(r).forEach(c=>{const[l,d]=c;d!=null&&d!==""&&i.append(l,d.toString())}),(await apiClient.get(`/pages/admin/all?${i.toString()}`)).data.data}},e[2]=r,e[3]=s):s=e[3],useQuery(s)},useGetMyPages=t=>{const e=compilerRuntimeExports.c(4);let o;e[0]!==t?(o=t===void 0?{}:t,e[0]=t,e[1]=o):o=e[1];const r=o;let s;return e[2]!==r?(s={queryKey:["my-pages",r],queryFn:async()=>{const a=(await apiClient.get("/pages/me",{params:{page:r.page??1,limit:r.limit??10,...r.type!==void 0?{type:r.type}:{},...r.category!==void 0?{category:r.category}:{}}})).data,c=a.data;if(Array.isArray(c)){const l=a.metadata??{total:c.length,perPage:c.length,currentPage:1,totalPages:1},d=l.total??c.length,u=(l.perPage??c.length)||1;return{data:c,total:d,page:l.currentPage??1,limit:u,totalPages:l.totalPages??Math.max(1,Math.ceil(d/u))}}if(c&&Array.isArray(c.data)){const l=c.metadata??a.metadata??{total:c.data.length,perPage:c.data.length,currentPage:1,totalPages:1},d=l.total??c.data.length,u=(l.perPage??c.data.length)||1;return{data:c.data,total:d,page:l.currentPage??r.page??1,limit:u,totalPages:l.totalPages??Math.max(1,Math.ceil(d/u))}}throw new Error("Unexpected response shape for /pages/me")}},e[2]=r,e[3]=s):s=e[3],useQuery(s)},useChangeTemplate=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:_temp7$6},t[0]=e):e=t[0],useMutation(e)},getPageUserInfo=async t=>(await apiClient.get(`/pages/${t}/user-info`)).data,useGetPageUserInfo=(t,e)=>{const o=compilerRuntimeExports.c(7),r=e===void 0?!0:e;let s,i;o[0]!==t?(s=["pageUserInfo",t],i=()=>getPageUserInfo(t),o[0]=t,o[1]=s,o[2]=i):(s=o[1],i=o[2]);const a=r&&!!t;let c;return o[3]!==s||o[4]!==i||o[5]!==a?(c={queryKey:s,queryFn:i,enabled:a},o[3]=s,o[4]=i,o[5]=a,o[6]=c):c=o[6],useQuery(c)};async function _temp$Q(t){return(await apiClient.post("/pages/v2",t)).data.data}async function _temp2$x(){return(await apiClient.get("/pages/dashboard/summary")).data.data}function _temp4$h(t,e){return e.message==="Invalid page ID"?!1:t<3}async function _temp5$a(t){const{id:e,data:o}=t;return(await apiClient.patch(`/pages/${e}/content`,o)).data.data}async function _temp6$7(t){const{id:e}=t;return(await apiClient.post(`/pages/${e}/publish`)).data.data}async function _temp7$6(t){const{id:e,templateId:o}=t;return(await apiClient.put(`/pages/${e}/change-template`,{templateId:o})).data.data}const BRAND_COLOR="red",customConfig=defineConfig({...defaultConfig,strictTokens:!0,preflight:!1,theme:{breakpoints:{sm:"768px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}},globalCss:{html:{colorPalette:BRAND_COLOR},":focus-visible":{outlineColor:"colorPalette.500"}}}),system=createSystem(defaultConfig,customConfig),selectorClasses={focusRing:"outline-none focus-visible:outline-2 focus-visible:outline-blue-500 focus-visible:outline-offset-2"},modalButton={primary:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer",secondary:"px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-md hover:bg-gray-50 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors cursor-pointer",danger:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors "},modalSectionSpacing="space-y-5",popularIcons=["Fa500Px","FaAccessibleIcon","FaAccusoft","FaAcquisitionsIncorporated","FaAd","FaAddressBook","FaAddressCard","FaAdjust","FaAdn","FaAdversal","FaAffiliatetheme","FaAirFreshener","FaAirbnb","FaAlgolia","FaAlignCenter","FaAlignJustify","FaAlignLeft","FaAlignRight","FaAlipay","FaAllergies","FaAmazon","FaAmazonPay","FaAmbulance","FaAmericanSignLanguageInterpreting","FaAmilia","FaAnchor","FaAndroid","FaAngellist","FaAngleDoubleDown","FaAngleDoubleLeft","FaAngleDoubleRight","FaAngleDoubleUp","FaAngleDown","FaAngleLeft","FaAngleRight","FaAngleUp","FaAngry","FaAngrycreative","FaAngular","FaAnkh","FaAppStore","FaAppStoreIos","FaApper","FaApple","FaAppleAlt","FaApplePay","FaArchive","FaArchway","FaArrowAltCircleDown","FaArrowAltCircleLeft","FaArrowAltCircleRight","FaArrowAltCircleUp","FaArrowCircleDown","FaArrowCircleLeft","FaArrowCircleRight","FaArrowCircleUp","FaArrowDown","FaArrowLeft","FaArrowRight","FaArrowUp","FaArrowsAlt","FaArrowsAltH","FaArrowsAltV","FaArtstation","FaAssistiveListeningSystems","FaAsterisk","FaAsymmetrik","FaAt","FaAtlas","FaAtlassian","FaAtom","FaAudible","FaAudioDescription","FaAutoprefixer","FaAvianex","FaAviato","FaAward","FaAws","FaBaby","FaBabyCarriage","FaBackspace","FaBackward","FaBacon","FaBacteria","FaBacterium","FaBahai","FaBalanceScale","FaBalanceScaleLeft","FaBalanceScaleRight","FaBan","FaBandAid","FaBandcamp","FaBarcode","FaBars","FaBaseballBall","FaBasketballBall","FaBath","FaBatteryEmpty","FaBatteryFull","FaBatteryHalf","FaBatteryQuarter","FaBatteryThreeQuarters","FaBattleNet","FaBed","FaBeer","FaBehance","FaBehanceSquare","FaBell","FaBellSlash","FaBezierCurve","FaBible","FaBicycle","FaBiking","FaBimobject","FaBinoculars","FaBiohazard","FaBirthdayCake","FaBitbucket","FaBitcoin","FaBity","FaBlackTie","FaBlackberry","FaBlender","FaBlenderPhone","FaBlind","FaBlog","FaBlogger","FaBloggerB","FaBluetooth","FaBluetoothB","FaBold","FaBolt","FaBomb","FaBone","FaBong","FaBook","FaBookDead","FaBookMedical","FaBookOpen","FaBookReader","FaBookmark","FaBootstrap","FaBorderAll","FaBorderNone","FaBorderStyle","FaBowlingBall","FaBox","FaBoxOpen","FaBoxTissue","FaBoxes","FaBraille","FaBrain","FaBreadSlice","FaBriefcase","FaBriefcaseMedical","FaBroadcastTower","FaBroom","FaBrush","FaBtc","FaBuffer","FaBug","FaBuilding","FaBullhorn","FaBullseye","FaBurn","FaBuromobelexperte","FaBus","FaBusAlt","FaBusinessTime","FaBuyNLarge","FaBuysellads","FaCalculator","FaCalendar","FaCalendarAlt","FaCalendarCheck","FaCalendarDay","FaCalendarMinus","FaCalendarPlus","FaCalendarTimes","FaCalendarWeek","FaCamera","FaCameraRetro","FaCampground","FaCanadianMapleLeaf","FaCandyCane","FaCannabis","FaCapsules","FaCar","FaCarAlt","FaCarBattery","FaCarCrash","FaCarSide","FaCaravan","FaCaretDown","FaCaretLeft","FaCaretRight","FaCaretSquareDown","FaCaretSquareLeft","FaCaretSquareRight","FaCaretSquareUp","FaCaretUp","FaCarrot","FaCartArrowDown","FaCartPlus","FaCashRegister","FaCat","FaCcAmazonPay","FaCcAmex","FaCcApplePay","FaCcDinersClub","FaCcDiscover","FaCcJcb","FaCcMastercard","FaCcPaypal","FaCcStripe","FaCcVisa","FaCentercode","FaCentos","FaCertificate","FaChair","FaChalkboard","FaChalkboardTeacher","FaChargingStation","FaChartArea","FaChartBar","FaChartLine","FaChartPie","FaCheck","FaCheckCircle","FaCheckDouble","FaCheckSquare","FaCheese","FaChess","FaChessBishop","FaChessBoard","FaChessKing","FaChessKnight","FaChessPawn","FaChessQueen","FaChessRook","FaChevronCircleDown","FaChevronCircleLeft","FaChevronCircleRight","FaChevronCircleUp","FaChevronDown","FaChevronLeft","FaChevronRight","FaChevronUp","FaChild","FaChrome","FaChromecast","FaChurch","FaCircle","FaCircleNotch","FaCity","FaClinicMedical","FaClipboard","FaClipboardCheck","FaClipboardList","FaClock","FaClone","FaClosedCaptioning","FaCloud","FaCloudDownloadAlt","FaCloudMeatball","FaCloudMoon","FaCloudMoonRain","FaCloudRain","FaCloudShowersHeavy","FaCloudSun","FaCloudSunRain","FaCloudUploadAlt","FaCloudflare","FaCloudscale","FaCloudsmith","FaCloudversify","FaCocktail","FaCode","FaCodeBranch","FaCodepen","FaCodiepie","FaCoffee","FaCog","FaCogs","FaCoins","FaColumns","FaComment","FaCommentAlt","FaCommentDollar","FaCommentDots","FaCommentMedical","FaCommentSlash","FaComments","FaCommentsDollar","FaCompactDisc","FaCompass","FaCompress","FaCompressAlt","FaCompressArrowsAlt","FaConciergeBell","FaConfluence","FaConnectdevelop","FaContao","FaCookie","FaCookieBite","FaCopy","FaCopyright","FaCottonBureau","FaCouch","FaCpanel","FaCreativeCommons","FaCreativeCommonsBy","FaCreativeCommonsNc","FaCreativeCommonsNcEu","FaCreativeCommonsNcJp","FaCreativeCommonsNd","FaCreativeCommonsPd","FaCreativeCommonsPdAlt","FaCreativeCommonsRemix","FaCreativeCommonsSa","FaCreativeCommonsSampling","FaCreativeCommonsSamplingPlus","FaCreativeCommonsShare","FaCreativeCommonsZero","FaCreditCard","FaCriticalRole","FaCrop","FaCropAlt","FaCross","FaCrosshairs","FaCrow","FaCrown","FaCrutch","FaCss3","FaCss3Alt","FaCube","FaCubes","FaCut","FaCuttlefish","FaDAndD","FaDAndDBeyond","FaDailymotion","FaDashcube","FaDatabase","FaDeaf","FaDeezer","FaDelicious","FaDemocrat","FaDeploydog","FaDeskpro","FaDesktop","FaDev","FaDeviantart","FaDharmachakra","FaDhl","FaDiagnoses","FaDiaspora","FaDice","FaDiceD20","FaDiceD6","FaDiceFive","FaDiceFour","FaDiceOne","FaDiceSix","FaDiceThree","FaDiceTwo","FaDigg","FaDigitalOcean","FaDigitalTachograph","FaDirections","FaDiscord","FaDiscourse","FaDisease","FaDivide","FaDizzy","FaDna","FaDochub","FaDocker","FaDog","FaDollarSign","FaDolly","FaDollyFlatbed","FaDonate","FaDoorClosed","FaDoorOpen","FaDotCircle","FaDove","FaDownload","FaDraft2Digital","FaDraftingCompass","FaDragon","FaDrawPolygon","FaDribbble","FaDribbbleSquare","FaDropbox","FaDrum","FaDrumSteelpan","FaDrumstickBite","FaDrupal","FaDumbbell","FaDumpster","FaDumpsterFire","FaDungeon","FaDyalog","FaEarlybirds","FaEbay","FaEdge","FaEdgeLegacy","FaEdit","FaEgg","FaEject","FaElementor","FaEllipsisH","FaEllipsisV","FaEllo","FaEmber","FaEmpire","FaEnvelope","FaEnvelopeOpen","FaEnvelopeOpenText","FaEnvelopeSquare","FaEnvira","FaEquals","FaEraser","FaErlang","FaEthereum","FaEthernet","FaEtsy","FaEuroSign","FaEvernote","FaExchangeAlt","FaExclamation","FaExclamationCircle","FaExclamationTriangle","FaExpand","FaExpandAlt","FaExpandArrowsAlt","FaExpeditedssl","FaExternalLinkAlt","FaExternalLinkSquareAlt","FaEye","FaEyeDropper","FaEyeSlash","FaFacebook","FaFacebookF","FaFacebookMessenger","FaFacebookSquare","FaFan","FaFantasyFlightGames","FaFastBackward","FaFastForward","FaFaucet","FaFax","FaFeather","FaFeatherAlt","FaFedex","FaFedora","FaFemale","FaFighterJet","FaFigma","FaFile","FaFileAlt","FaFileArchive","FaFileAudio","FaFileCode","FaFileContract","FaFileCsv","FaFileDownload","FaFileExcel","FaFileExport","FaFileImage","FaFileImport","FaFileInvoice","FaFileInvoiceDollar","FaFileMedical","FaFileMedicalAlt","FaFilePdf","FaFilePowerpoint","FaFilePrescription","FaFileSignature","FaFileUpload","FaFileVideo","FaFileWord","FaFill","FaFillDrip","FaFilm","FaFilter","FaFingerprint","FaFire","FaFireAlt","FaFireExtinguisher","FaFirefox","FaFirefoxBrowser","FaFirstAid","FaFirstOrder","FaFirstOrderAlt","FaFirstdraft","FaFish","FaFistRaised","FaFlag","FaFlagCheckered","FaFlagUsa","FaFlask","FaFlickr","FaFlipboard","FaFlushed","FaFly","FaFolder","FaFolderMinus","FaFolderOpen","FaFolderPlus","FaFont","FaFontAwesome","FaFontAwesomeAlt","FaFontAwesomeFlag","FaFontAwesomeLogoFull","FaFonticons","FaFonticonsFi","FaFootballBall","FaFortAwesome","FaFortAwesomeAlt","FaForumbee","FaForward","FaFoursquare","FaFreeCodeCamp","FaFreebsd","FaFrog","FaFrown","FaFrownOpen","FaFulcrum","FaFunnelDollar","FaFutbol","FaGalacticRepublic","FaGalacticSenate","FaGamepad","FaGasPump","FaGavel","FaGem","FaGenderless","FaGetPocket","FaGg","FaGgCircle","FaGhost","FaGift","FaGifts","FaGit","FaGitAlt","FaGitSquare","FaGithub","FaGithubAlt","FaGithubSquare","FaGitkraken","FaGitlab","FaGitter","FaGlassCheers","FaGlassMartini","FaGlassMartiniAlt","FaGlassWhiskey","FaGlasses","FaGlide","FaGlideG","FaGlobe","FaGlobeAfrica","FaGlobeAmericas","FaGlobeAsia","FaGlobeEurope","FaGofore","FaGolfBall","FaGoodreads","FaGoodreadsG","FaGoogle","FaGoogleDrive","FaGooglePay","FaGooglePlay","FaGooglePlus","FaGooglePlusG","FaGooglePlusSquare","FaGoogleWallet","FaGopuram","FaGraduationCap","FaGratipay","FaGrav","FaGreaterThan","FaGreaterThanEqual","FaGrimace","FaGrin","FaGrinAlt","FaGrinBeam","FaGrinBeamSweat","FaGrinHearts","FaGrinSquint","FaGrinSquintTears","FaGrinStars","FaGrinTears","FaGrinTongue","FaGrinTongueSquint","FaGrinTongueWink","FaGrinWink","FaGripHorizontal","FaGripLines","FaGripLinesVertical","FaGripVertical","FaGripfire","FaGrunt","FaGuilded","FaGuitar","FaGulp","FaHSquare","FaHackerNews","FaHackerNewsSquare","FaHackerrank","FaHamburger","FaHammer","FaHamsa","FaHandHolding","FaHandHoldingHeart","FaHandHoldingMedical","FaHandHoldingUsd","FaHandHoldingWater","FaHandLizard","FaHandMiddleFinger","FaHandPaper","FaHandPeace","FaHandPointDown","FaHandPointLeft","FaHandPointRight","FaHandPointUp","FaHandPointer","FaHandRock","FaHandScissors","FaHandSparkles","FaHandSpock","FaHands","FaHandsHelping","FaHandsWash","FaHandshake","FaHandshakeAltSlash","FaHandshakeSlash","FaHanukiah","FaHardHat","FaHashtag","FaHatCowboy","FaHatCowboySide","FaHatWizard","FaHdd","FaHeadSideCough","FaHeadSideCoughSlash","FaHeadSideMask","FaHeadSideVirus","FaHeading","FaHeadphones","FaHeadphonesAlt","FaHeadset","FaHeart","FaHeartBroken","FaHeartbeat","FaHelicopter","FaHighlighter","FaHiking","FaHippo","FaHips","FaHireAHelper","FaHistory","FaHive","FaHockeyPuck","FaHollyBerry","FaHome","FaHooli","FaHornbill","FaHorse","FaHorseHead","FaHospital","FaHospitalAlt","FaHospitalSymbol","FaHospitalUser","FaHotTub","FaHotdog","FaHotel","FaHotjar","FaHourglass","FaHourglassEnd","FaHourglassHalf","FaHourglassStart","FaHouseDamage","FaHouseUser","FaHouzz","FaHryvnia","FaHtml5","FaHubspot","FaICursor","FaIceCream","FaIcicles","FaIcons","FaIdBadge","FaIdCard","FaIdCardAlt","FaIdeal","FaIgloo","FaImage","FaImages","FaImdb","FaInbox","FaIndent","FaIndustry","FaInfinity","FaInfo","FaInfoCircle","FaInnosoft","FaInstagram","FaInstagramSquare","FaInstalod","FaIntercom","FaInternetExplorer","FaInvision","FaIoxhost","FaItalic","FaItchIo","FaItunes","FaItunesNote","FaJava","FaJedi","FaJediOrder","FaJenkins","FaJira","FaJoget","FaJoint","FaJoomla","FaJournalWhills","FaJs","FaJsSquare","FaJsfiddle","FaKaaba","FaKaggle","FaKey","FaKeybase","FaKeyboard","FaKeycdn","FaKhanda","FaKickstarter","FaKickstarterK","FaKiss","FaKissBeam","FaKissWinkHeart","FaKiwiBird","FaKorvue","FaLandmark","FaLanguage","FaLaptop","FaLaptopCode","FaLaptopHouse","FaLaptopMedical","FaLaravel","FaLastfm","FaLastfmSquare","FaLaugh","FaLaughBeam","FaLaughSquint","FaLaughWink","FaLayerGroup","FaLeaf","FaLeanpub","FaLemon","FaLess","FaLessThan","FaLessThanEqual","FaLevelDownAlt","FaLevelUpAlt","FaLifeRing","FaLightbulb","FaLine","FaLink","FaLinkedin","FaLinkedinIn","FaLinode","FaLinux","FaLiraSign","FaList","FaListAlt","FaListOl","FaListUl","FaLocationArrow","FaLock","FaLockOpen","FaLongArrowAltDown","FaLongArrowAltLeft","FaLongArrowAltRight","FaLongArrowAltUp","FaLowVision","FaLuggageCart","FaLungs","FaLungsVirus","FaLyft","FaMagento","FaMagic","FaMagnet","FaMailBulk","FaMailchimp","FaMale","FaMandalorian","FaMap","FaMapMarked","FaMapMarkedAlt","FaMapMarker","FaMapMarkerAlt","FaMapPin","FaMapSigns","FaMarkdown","FaMarker","FaMars","FaMarsDouble","FaMarsStroke","FaMarsStrokeH","FaMarsStrokeV","FaMask","FaMastodon","FaMaxcdn","FaMdb","FaMedal","FaMedapps","FaMedium","FaMediumM","FaMedkit","FaMedrt","FaMeetup","FaMegaport","FaMeh","FaMehBlank","FaMehRollingEyes","FaMemory","FaMendeley","FaMenorah","FaMercury","FaMeteor","FaMicroblog","FaMicrochip","FaMicrophone","FaMicrophoneAlt","FaMicrophoneAltSlash","FaMicrophoneSlash","FaMicroscope","FaMicrosoft","FaMinus","FaMinusCircle","FaMinusSquare","FaMitten","FaMix","FaMixcloud","FaMixer","FaMizuni","FaMobile","FaMobileAlt","FaModx","FaMonero","FaMoneyBill","FaMoneyBillAlt","FaMoneyBillWave","FaMoneyBillWaveAlt","FaMoneyCheck","FaMoneyCheckAlt","FaMonument","FaMoon","FaMortarPestle","FaMosque","FaMotorcycle","FaMountain","FaMouse","FaMousePointer","FaMugHot","FaMusic","FaNapster","FaNeos","FaNetworkWired","FaNeuter","FaNewspaper","FaNimblr","FaNode","FaNodeJs","FaNotEqual","FaNotesMedical","FaNpm","FaNs8","FaNutritionix","FaObjectGroup","FaObjectUngroup","FaOctopusDeploy","FaOdnoklassniki","FaOdnoklassnikiSquare","FaOilCan","FaOldRepublic","FaOm","FaOpencart","FaOpenid","FaOpera","FaOptinMonster","FaOrcid","FaOsi","FaOtter","FaOutdent","FaPage4","FaPagelines","FaPager","FaPaintBrush","FaPaintRoller","FaPalette","FaPalfed","FaPallet","FaPaperPlane","FaPaperclip","FaParachuteBox","FaParagraph","FaParking","FaPassport","FaPastafarianism","FaPaste","FaPatreon","FaPause","FaPauseCircle","FaPaw","FaPaypal","FaPeace","FaPen","FaPenAlt","FaPenFancy","FaPenNib","FaPenSquare","FaPencilAlt","FaPencilRuler","FaPennyArcade","FaPeopleArrows","FaPeopleCarry","FaPepperHot","FaPerbyte","FaPercent","FaPercentage","FaPeriscope","FaPersonBooth","FaPhabricator","FaPhoenixFramework","FaPhoenixSquadron","FaPhone","FaPhoneAlt","FaPhoneSlash","FaPhoneSquare","FaPhoneSquareAlt","FaPhoneVolume","FaPhotoVideo","FaPhp","FaPiedPiper","FaPiedPiperAlt","FaPiedPiperHat","FaPiedPiperPp","FaPiedPiperSquare","FaPiggyBank","FaPills","FaPinterest","FaPinterestP","FaPinterestSquare","FaPizzaSlice","FaPlaceOfWorship","FaPlane","FaPlaneArrival","FaPlaneDeparture","FaPlaneSlash","FaPlay","FaPlayCircle","FaPlaystation","FaPlug","FaPlus","FaPlusCircle","FaPlusSquare","FaPodcast","FaPoll","FaPollH","FaPoo","FaPooStorm","FaPoop","FaPortrait","FaPoundSign","FaPowerOff","FaPray","FaPrayingHands","FaPrescription","FaPrescriptionBottle","FaPrescriptionBottleAlt","FaPrint","FaProcedures","FaProductHunt","FaProjectDiagram","FaPumpMedical","FaPumpSoap","FaPushed","FaPuzzlePiece","FaPython","FaQq","FaQrcode","FaQuestion","FaQuestionCircle","FaQuidditch","FaQuinscape","FaQuora","FaQuoteLeft","FaQuoteRight","FaQuran","FaRProject","FaRadiation","FaRadiationAlt","FaRainbow","FaRandom","FaRaspberryPi","FaRavelry","FaReact","FaReacteurope","FaReadme","FaRebel","FaReceipt","FaRecordVinyl","FaRecycle","FaRedRiver","FaReddit","FaRedditAlien","FaRedditSquare","FaRedhat","FaRedo","FaRedoAlt","FaRegAddressBook","FaRegAddressCard","FaRegAngry","FaRegArrowAltCircleDown","FaRegArrowAltCircleLeft","FaRegArrowAltCircleRight","FaRegArrowAltCircleUp","FaRegBell","FaRegBellSlash","FaRegBookmark","FaRegBuilding","FaRegCalendar","FaRegCalendarAlt","FaRegCalendarCheck","FaRegCalendarMinus","FaRegCalendarPlus","FaRegCalendarTimes","FaRegCaretSquareDown","FaRegCaretSquareLeft","FaRegCaretSquareRight","FaRegCaretSquareUp","FaRegChartBar","FaRegCheckCircle","FaRegCheckSquare","FaRegCircle","FaRegClipboard","FaRegClock","FaRegClone","FaRegClosedCaptioning","FaRegComment","FaRegCommentAlt","FaRegCommentDots","FaRegComments","FaRegCompass","FaRegCopy","FaRegCopyright","FaRegCreditCard","FaRegDizzy","FaRegDotCircle","FaRegEdit","FaRegEnvelope","FaRegEnvelopeOpen","FaRegEye","FaRegEyeSlash","FaRegFile","FaRegFileAlt","FaRegFileArchive","FaRegFileAudio","FaRegFileCode","FaRegFileExcel","FaRegFileImage","FaRegFilePdf","FaRegFilePowerpoint","FaRegFileVideo","FaRegFileWord","FaRegFlag","FaRegFlushed","FaRegFolder","FaRegFolderOpen","FaRegFontAwesomeLogoFull","FaRegFrown","FaRegFrownOpen","FaRegFutbol","FaRegGem","FaRegGrimace","FaRegGrin","FaRegGrinAlt","FaRegGrinBeam","FaRegGrinBeamSweat","FaRegGrinHearts","FaRegGrinSquint","FaRegGrinSquintTears","FaRegGrinStars","FaRegGrinTears","FaRegGrinTongue","FaRegGrinTongueSquint","FaRegGrinTongueWink","FaRegGrinWink","FaRegHandLizard","FaRegHandPaper","FaRegHandPeace","FaRegHandPointDown","FaRegHandPointLeft","FaRegHandPointRight","FaRegHandPointUp","FaRegHandPointer","FaRegHandRock","FaRegHandScissors","FaRegHandSpock","FaRegHandshake","FaRegHdd","FaRegHeart","FaRegHospital","FaRegHourglass","FaRegIdBadge","FaRegIdCard","FaRegImage","FaRegImages","FaRegKeyboard","FaRegKiss","FaRegKissBeam","FaRegKissWinkHeart","FaRegLaugh","FaRegLaughBeam","FaRegLaughSquint","FaRegLaughWink","FaRegLemon","FaRegLifeRing","FaRegLightbulb","FaRegListAlt","FaRegMap","FaRegMeh","FaRegMehBlank","FaRegMehRollingEyes","FaRegMinusSquare","FaRegMoneyBillAlt","FaRegMoon","FaRegNewspaper","FaRegObjectGroup","FaRegObjectUngroup","FaRegPaperPlane","FaRegPauseCircle","FaRegPlayCircle","FaRegPlusSquare","FaRegQuestionCircle","FaRegRegistered","FaRegSadCry","FaRegSadTear","FaRegSave","FaRegShareSquare","FaRegSmile","FaRegSmileBeam","FaRegSmileWink","FaRegSnowflake","FaRegSquare","FaRegStar","FaRegStarHalf","FaRegStickyNote","FaRegStopCircle","FaRegSun","FaRegSurprise","FaRegThumbsDown","FaRegThumbsUp","FaRegTimesCircle","FaRegTired","FaRegTrashAlt","FaRegUser","FaRegUserCircle","FaRegWindowClose","FaRegWindowMaximize","FaRegWindowMinimize","FaRegWindowRestore","FaRegistered","FaRemoveFormat","FaRenren","FaReply","FaReplyAll","FaReplyd","FaRepublican","FaResearchgate","FaResolving","FaRestroom","FaRetweet","FaRev","FaRibbon","FaRing","FaRoad","FaRobot","FaRocket","FaRocketchat","FaRockrms","FaRoute","FaRss","FaRssSquare","FaRubleSign","FaRuler","FaRulerCombined","FaRulerHorizontal","FaRulerVertical","FaRunning","FaRupeeSign","FaRust","FaSadCry","FaSadTear","FaSafari","FaSalesforce","FaSass","FaSatellite","FaSatelliteDish","FaSave","FaSchlix","FaSchool","FaScrewdriver","FaScribd","FaScroll","FaSdCard","FaSearch","FaSearchDollar","FaSearchLocation","FaSearchMinus","FaSearchPlus","FaSearchengin","FaSeedling","FaSellcast","FaSellsy","FaServer","FaServicestack","FaShapes","FaShare","FaShareAlt","FaShareAltSquare","FaShareSquare","FaShekelSign","FaShieldAlt","FaShieldVirus","FaShip","FaShippingFast","FaShirtsinbulk","FaShoePrints","FaShopify","FaShoppingBag","FaShoppingBasket","FaShoppingCart","FaShopware","FaShower","FaShuttleVan","FaSign","FaSignInAlt","FaSignLanguage","FaSignOutAlt","FaSignal","FaSignature","FaSimCard","FaSimplybuilt","FaSink","FaSistrix","FaSitemap","FaSith","FaSkating","FaSketch","FaSkiing","FaSkiingNordic","FaSkull","FaSkullCrossbones","FaSkyatlas","FaSkype","FaSlack","FaSlackHash","FaSlash","FaSleigh","FaSlidersH","FaSlideshare","FaSmile","FaSmileBeam","FaSmileWink","FaSmog","FaSmoking","FaSmokingBan","FaSms","FaSnapchat","FaSnapchatGhost","FaSnapchatSquare","FaSnowboarding","FaSnowflake","FaSnowman","FaSnowplow","FaSoap","FaSocks","FaSolarPanel","FaSort","FaSortAlphaDown","FaSortAlphaDownAlt","FaSortAlphaUp","FaSortAlphaUpAlt","FaSortAmountDown","FaSortAmountDownAlt","FaSortAmountUp","FaSortAmountUpAlt","FaSortDown","FaSortNumericDown","FaSortNumericDownAlt","FaSortNumericUp","FaSortNumericUpAlt","FaSortUp","FaSoundcloud","FaSourcetree","FaSpa","FaSpaceShuttle","FaSpeakap","FaSpeakerDeck","FaSpellCheck","FaSpider","FaSpinner","FaSplotch","FaSpotify","FaSprayCan","FaSquare","FaSquareFull","FaSquareRootAlt","FaSquarespace","FaStackExchange","FaStackOverflow","FaStackpath","FaStamp","FaStar","FaStarAndCrescent","FaStarHalf","FaStarHalfAlt","FaStarOfDavid","FaStarOfLife","FaStaylinked","FaSteam","FaSteamSquare","FaSteamSymbol","FaStepBackward","FaStepForward","FaStethoscope","FaStickerMule","FaStickyNote","FaStop","FaStopCircle","FaStopwatch","FaStopwatch20","FaStore","FaStoreAlt","FaStoreAltSlash","FaStoreSlash","FaStrava","FaStream","FaStreetView","FaStrikethrough","FaStripe","FaStripeS","FaStroopwafel","FaStudiovinari","FaStumbleupon","FaStumbleuponCircle","FaSubscript","FaSubway","FaSuitcase","FaSuitcaseRolling","FaSun","FaSuperpowers","FaSuperscript","FaSupple","FaSurprise","FaSuse","FaSwatchbook","FaSwift","FaSwimmer","FaSwimmingPool","FaSymfony","FaSynagogue","FaSync","FaSyncAlt","FaSyringe","FaTable","FaTableTennis","FaTablet","FaTabletAlt","FaTablets","FaTachometerAlt","FaTag","FaTags","FaTape","FaTasks","FaTaxi","FaTeamspeak","FaTeeth","FaTeethOpen","FaTelegram","FaTelegramPlane","FaTemperatureHigh","FaTemperatureLow","FaTencentWeibo","FaTenge","FaTerminal","FaTextHeight","FaTextWidth","FaTh","FaThLarge","FaThList","FaTheRedYeti","FaTheaterMasks","FaThemeco","FaThemeisle","FaThermometer","FaThermometerEmpty","FaThermometerFull","FaThermometerHalf","FaThermometerQuarter","FaThermometerThreeQuarters","FaThinkPeaks","FaThumbsDown","FaThumbsUp","FaThumbtack","FaTicketAlt","FaTiktok","FaTimes","FaTimesCircle","FaTint","FaTintSlash","FaTired","FaToggleOff","FaToggleOn","FaToilet","FaToiletPaper","FaToiletPaperSlash","FaToolbox","FaTools","FaTooth","FaTorah","FaToriiGate","FaTractor","FaTradeFederation","FaTrademark","FaTrafficLight","FaTrailer","FaTrain","FaTram","FaTransgender","FaTransgenderAlt","FaTrash","FaTrashAlt","FaTrashRestore","FaTrashRestoreAlt","FaTree","FaTrello","FaTripadvisor","FaTrophy","FaTruck","FaTruckLoading","FaTruckMonster","FaTruckMoving","FaTruckPickup","FaTshirt","FaTty","FaTumblr","FaTumblrSquare","FaTv","FaTwitch","FaTwitter","FaTwitterSquare","FaTypo3","FaUber","FaUbuntu","FaUikit","FaUmbraco","FaUmbrella","FaUmbrellaBeach","FaUncharted","FaUnderline","FaUndo","FaUndoAlt","FaUniregistry","FaUnity","FaUniversalAccess","FaUniversity","FaUnlink","FaUnlock","FaUnlockAlt","FaUnsplash","FaUntappd","FaUpload","FaUps","FaUsb","FaUser","FaUserAlt","FaUserAltSlash","FaUserAstronaut","FaUserCheck","FaUserCircle","FaUserClock","FaUserCog","FaUserEdit","FaUserFriends","FaUserGraduate","FaUserInjured","FaUserLock","FaUserMd","FaUserMinus","FaUserNinja","FaUserNurse","FaUserPlus","FaUserSecret","FaUserShield","FaUserSlash","FaUserTag","FaUserTie","FaUserTimes","FaUsers","FaUsersCog","FaUsersSlash","FaUsps","FaUssunnah","FaUtensilSpoon","FaUtensils","FaVaadin","FaVectorSquare","FaVenus","FaVenusDouble","FaVenusMars","FaVest","FaVestPatches","FaViacoin","FaViadeo","FaViadeoSquare","FaVial","FaVials","FaViber","FaVideo","FaVideoSlash","FaVihara","FaVimeo","FaVimeoSquare","FaVimeoV","FaVine","FaVirus","FaVirusSlash","FaViruses","FaVk","FaVnv","FaVoicemail","FaVolleyballBall","FaVolumeDown","FaVolumeMute","FaVolumeOff","FaVolumeUp","FaVoteYea","FaVrCardboard","FaVuejs","FaWalking","FaWallet","FaWarehouse","FaWatchmanMonitoring","FaWater","FaWaveSquare","FaWaze","FaWeebly","FaWeibo","FaWeight","FaWeightHanging","FaWeixin","FaWhatsapp","FaWhatsappSquare","FaWheelchair","FaWhmcs","FaWifi","FaWikipediaW","FaWind","FaWindowClose","FaWindowMaximize","FaWindowMinimize","FaWindowRestore","FaWindows","FaWineBottle","FaWineGlass","FaWineGlassAlt","FaWix","FaWizardsOfTheCoast","FaWodu","FaWolfPackBattalion","FaWonSign","FaWordpress","FaWordpressSimple","FaWpbeginner","FaWpexplorer","FaWpforms","FaWpressr","FaWrench","FaXRay","FaXbox","FaXing","FaXingSquare","FaYCombinator","FaYahoo","FaYammer","FaYandex","FaYandexInternational","FaYarn","FaYelp","FaYenSign","FaYinYang","FaYoast","FaYoutube","FaYoutubeSquare","FaZhihu"],iconToSvg=t=>{try{const e=React.createElement(t,{size:24,style:{width:"100%",height:"100%"}});return server_browserExports.renderToStaticMarkup(e)}catch{return""}},IconPickerModal=({isOpen:t,onClose:e,onIconSelect:o,initialSearchTerm:r=""})=>{const[s,i]=reactExports.useState(r),[a,c]=reactExports.useState("fontawesome"),[l,d]=reactExports.useState(!1),u=reactExports.useRef(null),{data:m,refetch:R}=useGetFiles(FileType.ICON);reactExports.useEffect(()=>{t&&r&&i(r)},[t,r]);const p=async h=>{var w;const E=(w=h.target.files)==null?void 0:w[0];if(E){if(E.type!=="image/svg+xml"){toaster.create({title:"Error",description:"Vui lòng chọn một file SVG",type:"error"});return}if(E.size>2*1024*1024){toaster.create({title:"Error",description:"File SVG phải nhỏ hơn 2MB",type:"error"});return}d(!0);try{const b=`${(await uploadFile(E)).path}`,_=await(await fetch(b)).text();o(_),R(),e()}catch{toaster.create({title:"Error",description:"Lỗi khi tải lên SVG",type:"error"})}finally{d(!1),u.current&&(u.current.value="")}}},j=reactExports.useMemo(()=>{if(!s.trim())return popularIcons;const h=s.toLowerCase();return Object.keys(FaIcons).filter(E=>E.toLowerCase().includes(h)&&E.startsWith("Fa")&&typeof FaIcons[E]=="function").slice(0,50)},[s]);if(!t)return null;const x=h=>{const E=FaIcons[h];if(E){const w=iconToSvg(E);w&&(o(w),e())}},g=async h=>{try{const w=await(await fetch((h.startsWith("http"),h))).text();o(w),e()}catch{toaster.create({title:"Error",description:"Lỗi khi tải SVG",type:"error"})}};return jsxRuntimeExports.jsxs(EditorModal,{isOpen:t,onClose:e,title:"Chọn biểu tượng",widthClass:"max-w-[700px] w-full",zIndex:zIndex.iconPicker,children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 font-medium text-sm ${a==="fontawesome"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("fontawesome"),children:"FontAwesome Icons"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 font-medium text-sm ${a==="upload"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("upload"),children:"Upload SVG"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto",children:[a==="fontawesome"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tìm kiếm biểu tượng...",value:s,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 gap-3",children:j.map(h=>{const E=FaIcons[h];return E?jsxRuntimeExports.jsx("div",{className:"aspect-square border border-gray-200 rounded-md p-3 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all flex items-center justify-center group",onClick:()=>x(h),title:h,children:jsxRuntimeExports.jsx(E,{className:"text-2xl text-gray-600 group-hover:text-blue-600"})},h):null})}),j.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không tìm thấy biểu tượng nào"})]}),a==="upload"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("input",{ref:u,type:"file",accept:".svg,image/svg+xml",onChange:p,className:"hidden",disabled:l}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{var h;return(h=u.current)==null?void 0:h.click()},disabled:l,className:"flex flex-col items-center justify-center gap-2 w-full h-32 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 transition-colors disabled:opacity-50",children:[jsxRuntimeExports.jsx(FiUpload,{className:"text-3xl text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:l?"Uploading SVG...":"Nhấn để chọn SVG file tải lên"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Hỗ trợ định dạng SVG, tối đa 2MB"})]})]}),m&&m.length>0&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"SVG Icons đã tải lên"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 gap-3",children:m.map(h=>jsxRuntimeExports.jsx("div",{className:"aspect-square border border-gray-200 rounded-md p-2 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all flex items-center justify-center group",onClick:()=>g(getFileUrl(h)),title:h.originalName,children:jsxRuntimeExports.jsx("img",{src:getFileUrl(h),alt:h.originalName,className:"w-full h-full object-contain"})},h.id))})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Hiển thị ",j.length," biểu tượng",s&&` cho "${s}"`]})})]})},ModalConfirm=t=>{const e=compilerRuntimeExports.c(22),{isOpen:o,title:r,message:s,confirmLabel:i,cancelLabel:a,onConfirm:c,onClose:l,zIndex:d,confirmType:u}=t,m=r===void 0?"Xác nhận":r,R=i===void 0?"Đồng ý":i,p=a===void 0?"Hủy":a,j=u===void 0?"primary":u;if(!o)return null;let x;e[0]!==l||e[1]!==c?(x=async()=>{await c(),l()},e[0]=l,e[1]=c,e[2]=x):x=e[2];const g=x,h=j==="danger"?modalButton.danger:modalButton.primary,E=d||zIndex.modalConfirm;let w;e[3]!==p||e[4]!==l?(w=jsxRuntimeExports.jsx("button",{onClick:l,className:modalButton.secondary,children:p}),e[3]=p,e[4]=l,e[5]=w):w=e[5];let C;e[6]!==h||e[7]!==R||e[8]!==g?(C=jsxRuntimeExports.jsx("button",{onClick:g,className:h,children:R}),e[6]=h,e[7]=R,e[8]=g,e[9]=C):C=e[9];let b;e[10]!==w||e[11]!==C?(b=jsxRuntimeExports.jsxs("div",{className:"flex gap-2 ml-auto",children:[w,C]}),e[10]=w,e[11]=C,e[12]=b):b=e[12];let v;e[13]!==s?(v=jsxRuntimeExports.jsx("div",{className:"text-sm whitespace-pre-line leading-relaxed",children:s}),e[13]=s,e[14]=v):v=e[14];let _;return e[15]!==o||e[16]!==l||e[17]!==v||e[18]!==E||e[19]!==b||e[20]!==m?(_=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:l,title:m,zIndex:E,widthClass:"w-[400px] max-w-[90%]",footer:b,children:v}),e[15]=o,e[16]=l,e[17]=v,e[18]=E,e[19]=b,e[20]=m,e[21]=_):_=e[21],_},debounce=(t,e=300)=>{let o;return function(...r){clearTimeout(o),o=setTimeout(()=>t.apply(this,r),e)}},minimizeStyle=(t,e={})=>{if(!t)return{};const o={};return Object.entries(t).forEach(([r,s])=>{s!=null&&s!==""&&e[r]!==s&&(s==="auto"&&["width","height","minWidth","minHeight"].includes(r)||s==="normal"&&["fontWeight","fontStyle","letterSpacing"].includes(r)||s==="none"&&["textDecoration","boxShadow","transform"].includes(r)||(s==="0px"||s==="0")&&["margin","padding","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight"].includes(r)||(o[r]=s))}),o},getYouTubeVideoId=t=>{if(!t)return null;if(t.includes("youtu.be/"))return t.split("youtu.be/")[1].split("?")[0];if(t.includes("youtube.com")){if(t.includes("/embed/"))return t.split("/embed/")[1].split("?")[0];if(t.includes("watch?v="))return t.split("watch?v=")[1].split("&")[0];const e=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,o=t.match(e);return o?o[1]:null}return null},isBrowser=typeof window<"u",safeSessionStorage={getItem:t=>{if(!isBrowser)return null;try{return sessionStorage.getItem(t)}catch{return null}},setItem:(t,e)=>{if(isBrowser)try{sessionStorage.setItem(t,e)}catch{}},removeItem:t=>{if(isBrowser)try{sessionStorage.removeItem(t)}catch{}}},safeLocalStorage={getItem:t=>{if(!isBrowser)return null;try{return localStorage.getItem(t)}catch{return null}},setItem:(t,e)=>{if(isBrowser)try{localStorage.setItem(t,e)}catch{}},removeItem:t=>{if(isBrowser)try{localStorage.removeItem(t)}catch{}}},COLOR_HISTORY_KEY="color-picker-history",MAX_HISTORY_COLORS=10,ColorPickerModal=({isOpen:t,onClose:e,onColorChange:o,initialColor:r="#ffffff"})=>{const s=r.length===7?`${r}ff`:r;let i;try{i=parse(s)}catch{i=parse("#ffffff")}const[a,c]=reactExports.useState(i),[l,d]=reactExports.useState([]),u=reactExports.useRef(!1),m=reactExports.useRef(t),R=reactExports.useCallback(E=>{const w=E.length===9?E.slice(0,7):E;d(C=>{const b=C.filter(_=>_!==w),v=[w,...b].slice(0,MAX_HISTORY_COLORS);return safeLocalStorage.setItem(COLOR_HISTORY_KEY,JSON.stringify(v)),v})},[]);reactExports.useEffect(()=>{const E=safeLocalStorage.getItem(COLOR_HISTORY_KEY);if(E)try{const w=JSON.parse(E);Array.isArray(w)&&d(w)}catch{}},[]),reactExports.useEffect(()=>{t&&(u.current=!0)},[a,t]),reactExports.useEffect(()=>{if(m.current&&!t&&u.current&&a){const C=a.toString("hex");R(C),u.current=!1}m.current=t},[t,a,R]);const p=reactExports.useCallback(debounce(E=>{o(E)},100),[o]),j=reactExports.useCallback(E=>{try{const w=E.length===7?`${E}ff`:E,C=parse(w);c(C),o(E)}catch{}},[o]),x=reactExports.useCallback(()=>{e()},[e]),g=reactExports.useCallback(E=>{c(E.value),p(E.value.toString("hexa"))},[p]),h=reactExports.useCallback(E=>{E.target===E.currentTarget&&x()},[x]);return t?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center",onClick:h,style:{zIndex:zIndex.colorPicker},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-full border border-gray-300",onClick:E=>E.stopPropagation(),children:[jsxRuntimeExports.jsxs(ColorPickerRoot,{value:a,format:"rgba",onValueChange:g,maxW:"200px",children:[jsxRuntimeExports.jsx(ColorPickerHiddenInput,{}),jsxRuntimeExports.jsxs(ColorPickerControl,{children:[jsxRuntimeExports.jsx(ColorPickerInput,{}),jsxRuntimeExports.jsx(ColorPickerTrigger,{})]}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(ColorPickerPositioner,{children:jsxRuntimeExports.jsxs(ColorPickerContent,{children:[jsxRuntimeExports.jsx(ColorPickerArea,{}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(ColorPickerEyeDropper,{size:"xs",variant:"outline"}),jsxRuntimeExports.jsx(ColorPickerSliders,{})]})]})})})]}),l.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Màu đã sử dụng gần đây"}),jsxRuntimeExports.jsx(HStack,{gap:2,flexWrap:"wrap",children:l.map((E,w)=>jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",p:0,minW:"24px",h:"24px",borderRadius:"sm",onClick:()=>j(E),_hover:{transform:"scale(1.1)"},transition:"transform 0.2s",children:jsxRuntimeExports.jsx(Box,{w:"20px",h:"20px",bg:E,borderRadius:"sm",border:"1px solid",borderColor:"gray.300"})},`${E}-${w}`))})]})]})}):null},ColorControl=({label:t,value:e,onChange:o,size:r="xs",showValueText:s=!1,previewSize:i=16,buttonVariant:a="outline",showHex:c=!0,allowInput:l=!0,copyable:d=!1})=>{const[u,m]=reactExports.useState(!1),[R,p]=reactExports.useState(e||""),[j,x]=reactExports.useState(!1);reactExports.useEffect(()=>{p(e||"")},[e]);const g=()=>{const w=R.trim();if(!w)return;const C=document.createElement("option");C.style.color="",C.style.color=w,C.style.color||w.startsWith("#")||w.startsWith("rgb")?w!==e&&o(w):p(e||"")},h=async()=>{try{await navigator.clipboard.writeText(e||""),x(!0),setTimeout(()=>x(!1),1e3)}catch{}},E={fontSize:"xs",fontWeight:"semibold",color:"#333"};return jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",alignItems:"center",width:"100%",gap:2,children:[t&&jsxRuntimeExports.jsx(Text$1,{...E,children:t}),jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Button$1,{size:r,variant:a,onClick:()=>m(!0),children:jsxRuntimeExports.jsx(Box,{w:`${i}px`,h:`${i}px`,borderRadius:"sm",bg:e,border:"1px solid #e2e8f0"})}),(c||s)&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Input$1,{size:r,value:R,onChange:w=>l?p(w.target.value):void 0,onBlur:l?g:void 0,onKeyDown:w=>{l&&(w.key==="Enter"?(g(),w.target.blur()):w.key==="Escape"&&(p(e||""),w.target.blur()))},width:"110px",fontSize:"xs",className:"transition-colors duration-200"}),d&&jsxRuntimeExports.jsx(Button$1,{size:r,variant:"ghost",onClick:h,"aria-label":"Copy color",px:2,children:j?jsxRuntimeExports.jsx(MdCheck,{}):jsxRuntimeExports.jsx(MdContentCopy,{})})]})]}),jsxRuntimeExports.jsx(ColorPickerModal,{isOpen:u,onClose:()=>m(!1),initialColor:e,onColorChange:o})]})},isVideoFile=t=>new Set(["video/mp4","video/avi","video/mov","video/wmv","video/flv","video/webm","video/mkv","video/3gp","video/quicktime","video/x-msvideo","video/x-flv","video/x-ms-wmv"]).has(t.type.toLowerCase()),getFileFormat=t=>({"audio/mpeg":"MP3","audio/wav":"WAV","audio/ogg":"OGG","audio/midi":"MIDI","audio/aac":"AAC","audio/webm":"WebM","video/mp4":"MP4","video/avi":"AVI","video/mov":"MOV","video/wmv":"WMV","video/flv":"FLV","video/mkv":"MKV","video/3gp":"3GP","video/quicktime":"QuickTime"})[t]||"Unknown",validateFile$1=t=>{const e=["audio/mpeg","audio/wav","audio/ogg","audio/midi","audio/aac","audio/webm"],o=["video/mp4","video/avi","video/mov","video/wmv","video/flv","video/webm","video/mkv","video/3gp","video/quicktime","video/x-msvideo","video/x-flv","video/x-ms-wmv"],r=e.includes(t.type),s=o.includes(t.type);if(!r&&!s)return{isValid:!1,error:"Định dạng file không được hỗ trợ. Vui lòng chọn file audio (MP3, WAV, OGG, MIDI, AAC, WebM) hoặc video (MP4, AVI, MOV, WMV, FLV, MKV, 3GP)."};const a={"audio/mpeg":10*1024*1024,"audio/aac":10*1024*1024,"audio/wav":20*1024*1024,"audio/ogg":20*1024*1024,"audio/webm":20*1024*1024,"audio/midi":1*1024*1024,"video/mp4":25*1024*1024,"video/avi":25*1024*1024,"video/mov":25*1024*1024,"video/wmv":25*1024*1024,"video/flv":25*1024*1024,"video/webm":25*1024*1024,"video/mkv":25*1024*1024,"video/3gp":25*1024*1024,"video/quicktime":25*1024*1024,"video/x-msvideo":25*1024*1024,"video/x-flv":25*1024*1024,"video/x-ms-wmv":25*1024*1024}[t.type];return t.size>a?{isValid:!1,error:`File quá lớn. Kích thước tối đa cho ${getFileFormat(t.type)} là ${formatFileSize$1(a)}.`}:{isValid:!0}},CreateCustomAudioModal=t=>{const e=compilerRuntimeExports.c(64),{isOpen:o,onClose:r}=t,[s,i]=reactExports.useState(""),[a,c]=reactExports.useState("free"),[l,d]=reactExports.useState(null),[u,m]=reactExports.useState(""),R=reactExports.useRef(null),{mutate:p,isPending:j}=useCreateCustomAudioTemplate();let x;e[0]!==s?(x=V=>{var Re;const de=(Re=V.target.files)==null?void 0:Re[0];if(!de)return;const ue=validateFile$1(de);if(!ue.isValid){m(ue.error||"File không hợp lệ"),d(null);return}if(d(de),m(""),!s){const oe=de.name.replace(/\.[^/.]+$/,"");i(oe)}},e[0]=s,e[1]=x):x=e[1];const g=x;let h,E;e[2]!==p||e[3]!==s||e[4]!==r||e[5]!==l||e[6]!==a?(E=async V=>{if(V.preventDefault(),!l){m("Vui lòng chọn file audio hoặc video");return}if(!s.trim()){m("Vui lòng nhập tên âm thanh");return}const de={file:l,name:s.trim(),tier:a};p(de,{onSuccess:()=>{h()}})},h=()=>{i(""),c("free"),d(null),m(""),R.current&&(R.current.value=""),r()},e[2]=p,e[3]=s,e[4]=r,e[5]=l,e[6]=a,e[7]=h,e[8]=E):(h=e[7],E=e[8]);let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{var V;(V=R.current)==null||V.click()},e[9]=w):w=e[9];const C=w;let b;e[10]!==h||e[11]!==j?(b=jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:h,disabled:j,children:"Hủy"}),e[10]=h,e[11]=j,e[12]=b):b=e[12];let v;e[13]!==s||e[14]!==l?(v=!l||!s.trim(),e[13]=s,e[14]=l,e[15]=v):v=e[15];const _=j?"Đang tải lên...":"Tải lên";let I;e[16]!==j||e[17]!==v||e[18]!==_?(I=jsxRuntimeExports.jsx(Button$1,{type:"submit",form:"create-audio-form",colorScheme:"blue",loading:j,disabled:v,children:_}),e[16]=j,e[17]=v,e[18]=_,e[19]=I):I=e[19];let $;e[20]!==b||e[21]!==I?($=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[b,I]}),e[20]=b,e[21]=I,e[22]=$):$=e[22];let A;e[23]!==u?(A=u&&jsxRuntimeExports.jsx(Box,{p:3,bg:"red.50",border:"1px solid",borderColor:"red.200",borderRadius:"md",children:jsxRuntimeExports.jsx(Text$1,{color:"red.600",fontSize:"sm",children:u})}),e[23]=u,e[24]=A):A=e[24];let T;e[25]===Symbol.for("react.memo_cache_sentinel")?(T=V=>i(V.target.value),e[25]=T):T=e[25];let L;e[26]!==j||e[27]!==s?(L=jsxRuntimeExports.jsx(Field,{label:"Tên âm thanh",required:!0,children:jsxRuntimeExports.jsx(Input$1,{value:s,onChange:T,placeholder:"Nhập tên cho âm thanh",disabled:j})}),e[26]=j,e[27]=s,e[28]=L):L=e[28];let P;e[29]===Symbol.for("react.memo_cache_sentinel")?(P=V=>c(V.target.value),e[29]=P):P=e[29];let N,k,B,F;e[30]===Symbol.for("react.memo_cache_sentinel")?(N={width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"},k=jsxRuntimeExports.jsx("option",{value:"free",children:"Free"}),B=jsxRuntimeExports.jsx("option",{value:"pro",children:"Pro"}),F=jsxRuntimeExports.jsx("option",{value:"vip",children:"VIP"}),e[30]=N,e[31]=k,e[32]=B,e[33]=F):(N=e[30],k=e[31],B=e[32],F=e[33]);let W;e[34]!==j||e[35]!==a?(W=jsxRuntimeExports.jsx(Field,{label:"Phân loại",required:!0,children:jsxRuntimeExports.jsxs("select",{value:a,onChange:P,disabled:j,style:N,children:[k,B,F]})}),e[34]=j,e[35]=a,e[36]=W):W=e[36];let z;e[37]===Symbol.for("react.memo_cache_sentinel")?(z={display:"none"},e[37]=z):z=e[37];let H;e[38]!==g||e[39]!==j?(H=jsxRuntimeExports.jsx("input",{ref:R,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/midi,audio/aac,audio/webm,video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm,video/mkv,video/3gp,video/quicktime",onChange:g,style:z,disabled:j}),e[38]=g,e[39]=j,e[40]=H):H=e[40];let U;e[41]!==j||e[42]!==l?(U=l?jsxRuntimeExports.jsxs(Box,{border:"1px solid #d1d5db",borderRadius:"6px",p:4,children:[jsxRuntimeExports.jsxs(HStack,{gap:3,children:[jsxRuntimeExports.jsx(FiMusic,{size:24,color:"green"}),jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontWeight:"medium",children:l.name}),jsxRuntimeExports.jsxs(HStack,{gap:4,fontSize:"sm",color:"gray.600",children:[jsxRuntimeExports.jsx(Text$1,{children:getFileFormat(l.type)}),jsxRuntimeExports.jsx(Text$1,{children:formatFileSize$1(l.size)}),isVideoFile(l)&&jsxRuntimeExports.jsx(Text$1,{color:"blue.600",fontSize:"xs",children:"(Sẽ được convert thành MP3)"})]})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:C,disabled:j,children:"Thay đổi"})]}),!isVideoFile(l)&&jsxRuntimeExports.jsx(Box,{mt:3,children:jsxRuntimeExports.jsx("audio",{controls:!0,style:{width:"100%"},src:URL.createObjectURL(l)})}),isVideoFile(l)&&jsxRuntimeExports.jsx(Box,{mt:3,p:2,bg:"blue.50",borderRadius:"md",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"blue.700",children:"📹 File video sẽ được tự động convert thành MP3 khi tải lên"})})]}):jsxRuntimeExports.jsx(Box,{border:"2px dashed #d1d5db",borderRadius:"6px",p:6,textAlign:"center",cursor:"pointer",_hover:{borderColor:"#3b82f6"},onClick:C,children:jsxRuntimeExports.jsxs(VStack,{gap:2,children:[jsxRuntimeExports.jsx(FiUpload,{size:32,color:"gray"}),jsxRuntimeExports.jsx(Text$1,{color:"gray.600",children:"Nhấn để chọn file audio hoặc video"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",children:"Hỗ trợ: MP3, WAV, OGG, MIDI, AAC, WebM, MP4, AVI, MOV, WMV, FLV, MKV, 3GP"})]})}),e[41]=j,e[42]=l,e[43]=U):U=e[43];let D;e[44]!==H||e[45]!==U?(D=jsxRuntimeExports.jsxs(Field,{label:"File audio hoặc video",required:!0,children:[H,U]}),e[44]=H,e[45]=U,e[46]=D):D=e[46];let O;e[47]!==j||e[48]!==l?(O=j&&jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Text$1,{mb:2,fontSize:"sm",children:l&&isVideoFile(l)?"Đang convert video thành MP3 và tải lên...":"Đang tải lên..."})}),e[47]=j,e[48]=l,e[49]=O):O=e[49];let Q;e[50]!==L||e[51]!==W||e[52]!==D||e[53]!==O||e[54]!==A?(Q=jsxRuntimeExports.jsxs(VStack,{gap:4,align:"stretch",children:[A,L,W,D,O]}),e[50]=L,e[51]=W,e[52]=D,e[53]=O,e[54]=A,e[55]=Q):Q=e[55];let q;e[56]!==E||e[57]!==Q?(q=jsxRuntimeExports.jsx("form",{id:"create-audio-form",onSubmit:E,children:Q}),e[56]=E,e[57]=Q,e[58]=q):q=e[58];let Y;return e[59]!==h||e[60]!==o||e[61]!==q||e[62]!==$?(Y=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:h,title:"Tải lên âm thanh của tôi",widthClass:"max-w-[600px]",zIndex:zIndex.audioSettings+100,footer:$,children:q}),e[59]=h,e[60]=o,e[61]=q,e[62]=$,e[63]=Y):Y=e[63],Y},iconToDataUrl=t=>{try{const e=React.createElement(t,{size:24,style:{width:"100%",height:"100%"}}),o=server_browserExports.renderToStaticMarkup(e);return`data:image/svg+xml;base64,${btoa(o)}`}catch{return""}},applyColorToSvg=(t,e)=>{if(!t||!e)return t;const r=new DOMParser().parseFromString(t,"image/svg+xml"),s=r.querySelector("svg");return s?(s.setAttribute("fill",e),s.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(a=>{const c=a.getAttribute("fill");(!c||c!=="none"&&c!=="transparent")&&a.setAttribute("fill",e)}),new XMLSerializer().serializeToString(r)):t},DEFAULT_PLAY_ICON=iconToDataUrl(FaPlay),DEFAULT_PAUSE_ICON=iconToDataUrl(FaPause),AudioSettingsModal=({isOpen:t,onClose:e,initialValues:o})=>{var te,be;const[r,s]=reactExports.useState(""),[i,a]=reactExports.useState(""),[c,l]=reactExports.useState(""),[d,u]=reactExports.useState(""),[m,R]=reactExports.useState("#000000"),[p,j]=reactExports.useState("#000000"),[x,g]=reactExports.useState(!1),[h,E]=reactExports.useState(!1),[w,C]=reactExports.useState(!0),[b,v]=reactExports.useState(!1),[_,I]=reactExports.useState(!1),[$,A]=reactExports.useState(!1),[T,L]=reactExports.useState("all"),[P,N]=reactExports.useState(!1),[k,B]=reactExports.useState(""),[F,W]=reactExports.useState(!1),z=reactExports.useRef(null),H=reactExports.useRef(null),{mutate:U}=useUpdateTemplate(),{mutate:D}=useUpdatePageContent(),{data:O,isLoading:Q}=useGetUserAudioTemplates(),{id:q,hasFeature:Y,isPage:V,isAgent:de}=useViewport(),ue=Y("background_music_settings"),Re=Y("background_music_settings_vip"),oe=Re||de,ce=Z=>{(V?D:U)(Z)},je=((te=O==null?void 0:O.data)==null?void 0:te.filter(Z=>{if(T!=="all"&&Z.tier!==T)return!1;if(k.trim()){const Ee=k.toLowerCase(),me=Z.name.toLowerCase().includes(Ee),ge=Z.tier.toLowerCase().includes(Ee);return me||ge}return!0}))||[],ie=Z=>de||Z.tier==="basic"||Z.tier==="free"?!1:Z.tier==="pro"?!ue:Z.tier==="vip"?!Re:!1,xe=(be=O==null?void 0:O.data)==null?void 0:be.find(Z=>Z.id.toString()===i);if(reactExports.useEffect(()=>{const Z=Ee=>{z.current&&!z.current.contains(Ee.target)&&W(!1)};return F&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[F]),reactExports.useEffect(()=>{const Z=()=>{if(F&&z.current){const Ee=F;W(!1),setTimeout(()=>W(Ee),0)}};return F&&(window.addEventListener("scroll",Z,!0),window.addEventListener("resize",Z)),()=>{window.removeEventListener("scroll",Z,!0),window.removeEventListener("resize",Z)}},[F]),reactExports.useEffect(()=>{if(o){if(s(o.audioUrl||""),l(o.playIconUrl||DEFAULT_PLAY_ICON),u(o.pauseIconUrl||DEFAULT_PAUSE_ICON),R(o.playIconColor||"#000000"),j(o.pauseIconColor||"#000000"),C(o.enableAnimations!==void 0?o.enableAnimations:!0),v(o.useDefaultIcons!==void 0?o.useDefaultIcons:!0),I(o.autoPlay!==void 0?o.autoPlay:!1),o.audioUrl&&(O!=null&&O.data)){const Z=O.data.find(Ee=>`${Ee.fileUrl}`===o.audioUrl);Z&&a(Z.id.toString())}}else l(DEFAULT_PLAY_ICON),u(DEFAULT_PAUSE_ICON),R("#000000"),j("#000000"),C(!0),v(!0),I(!1),a("")},[o,O]),reactExports.useEffect(()=>{if(H.current)try{H.current.load()}catch{}},[r,_]),reactExports.useEffect(()=>{if(!de&&i&&O!=null&&O.data){const Z=O.data.find(Ee=>Ee.id.toString()===i);if(Z){let Ee=!1;(Z.tier==="pro"&&!ue||Z.tier==="vip"&&!Re)&&(Ee=!0),Ee&&(a(""),s(""))}}},[i,O,ue,Re,de]),!t)return null;const pe=async()=>{if(!r){toaster.create({title:"Error",description:"Vui lòng chọn file âm thanh.",type:"error"});return}const Z={audioUrl:r,playIconUrl:b?"":He(),pauseIconUrl:b?"":fe(),playIconColor:m,pauseIconColor:p,enableAnimations:w,useDefaultIcons:b,autoPlay:_};ce({id:Number(q),data:{audioSettings:Z}}),e()},$e=async()=>{A(!0)},Se=Z=>{if(a(Z),Z&&(O!=null&&O.data)){const Ee=O.data.find(me=>me.id.toString()===Z);if(Ee){const me=`${Ee.fileUrl}`;s(me)}}else s("")},Ie=()=>{g(!0)},Me=()=>{E(!0)},He=()=>{if(c.startsWith("data:image/svg+xml;base64,")){const Z=atob(c.replace("data:image/svg+xml;base64,","")),Ee=applyColorToSvg(Z,m);return"data:image/svg+xml;base64,"+btoa(Ee)}return c},fe=()=>{if(d.startsWith("data:image/svg+xml;base64,")){const Z=atob(d.replace("data:image/svg+xml;base64,","")),Ee=applyColorToSvg(Z,p);return"data:image/svg+xml;base64,"+btoa(Ee)}return d},Ce=Z=>{const Ee=`data:image/svg+xml;base64,${btoa(Z)}`;l(Ee),g(!1)},le=Z=>{const Ee=`data:image/svg+xml;base64,${btoa(Z)}`;u(Ee),E(!1)},J=Z=>Z.startsWith("data:image/svg+xml;base64,")?atob(Z.replace("data:image/svg+xml;base64,","")):Z?`<img src="${Z}" alt="Preview" style="width:100%;height:100%;object-fit:contain;" />`:'<div style="width:100%;height:100%;background:#f0f0f0;border:1px dashed #ccc;"></div>',se={fontSize:"xs",fontWeight:"semibold",color:"#333"};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Cài đặt Âm thanh Nền",zIndex:zIndex.audioSettings,widthClass:"w-[500px] max-w-[90%]",footer:jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:$e,className:modalButton.danger+" flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiX,{size:16})," Xóa âm thanh"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 ml-auto",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:e,className:modalButton.secondary,children:"Hủy"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:pe,className:modalButton.primary,children:"Lưu cài đặt"})]})]}),children:jsxRuntimeExports.jsxs("div",{className:modalSectionSpacing,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Chọn âm thanh"}),oe&&jsxRuntimeExports.jsxs(Button$1,{size:"xs",variant:"outline",onClick:()=>N(!0),colorScheme:"blue",children:[jsxRuntimeExports.jsx(FiPlus,{className:"mr-1"})," Tải lên"]})]}),jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs(HStack,{gap:2,wrap:"wrap",children:[jsxRuntimeExports.jsx(Badge,{cursor:"pointer",colorPalette:T==="all"?"blue":"gray",variant:T==="all"?"solid":"outline",onClick:()=>L("all"),fontSize:"xs",px:3,py:1,children:"Tất cả"}),jsxRuntimeExports.jsx(Badge,{cursor:"pointer",colorPalette:T==="free"?"green":"gray",variant:T==="free"?"solid":"outline",onClick:()=>L("free"),fontSize:"xs",px:3,py:1,children:"Free"}),jsxRuntimeExports.jsx(Badge,{cursor:"pointer",colorPalette:T==="pro"?"orange":"gray",variant:T==="pro"?"solid":"outline",onClick:()=>L("pro"),fontSize:"xs",px:3,py:1,children:"Pro"}),jsxRuntimeExports.jsx(Badge,{cursor:"pointer",colorPalette:T==="vip"?"purple":"gray",variant:T==="vip"?"solid":"outline",onClick:()=>L("vip"),fontSize:"xs",px:3,py:1,children:"VIP"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:z,children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>W(!F),className:"w-full px-3 py-2 text-left bg-white border border-gray-300 rounded-md shadow-sm hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 flex items-center justify-between",disabled:Q,children:[jsxRuntimeExports.jsx("span",{className:"text-sm truncate",children:xe?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[xe.name,jsxRuntimeExports.jsx(Badge,{colorPalette:xe.tier==="free"?"green":xe.tier==="pro"?"orange":"purple",variant:"subtle",fontSize:"xs",children:xe.tier.toUpperCase()}),xe.userId&&jsxRuntimeExports.jsx(Badge,{colorPalette:"teal",variant:"subtle",fontSize:"xs",children:"Custom"})]}):Q?"Đang tải...":"-- Chọn audio template --"}),jsxRuntimeExports.jsx(FiChevronDown,{className:`ml-2 transition-transform ${F?"rotate-180":""}`,size:16})]}),F&&(()=>{var Z,Ee,me;return jsxRuntimeExports.jsxs(Box,{position:"fixed",top:`${((Z=z.current)==null?void 0:Z.getBoundingClientRect().bottom)||0}px`,left:`${((Ee=z.current)==null?void 0:Ee.getBoundingClientRect().left)||0}px`,width:`${((me=z.current)==null?void 0:me.getBoundingClientRect().width)||0}px`,bg:"white",border:"1px solid",borderColor:"gray.300",borderRadius:"md",shadow:"xl",zIndex:zIndex.viewportSettings,maxH:"350px",overflow:"hidden",onClick:()=>{},children:[jsxRuntimeExports.jsx(Box,{p:2,borderBottom:"1px solid",borderColor:"gray.200",children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FiSearch,{size:16,color:"gray"}),jsxRuntimeExports.jsx(Input$1,{placeholder:"Tìm kiếm...",value:k,onChange:ge=>B(ge.target.value),size:"sm",variant:"outline",border:"none",_focus:{boxShadow:"none"},autoFocus:!0})]})}),jsxRuntimeExports.jsx(VStack,{gap:0,align:"stretch",maxH:"300px",overflowY:"auto",p:1,children:je.length===0?jsxRuntimeExports.jsx(Box,{p:4,textAlign:"center",color:"gray.500",fontSize:"sm",children:k?"Không tìm thấy kết quả":"Chưa có audio template"}):je.map(ge=>{const Ke=ie(ge),Ue=ge.id.toString()===i,_e=!!ge.userId;return jsxRuntimeExports.jsxs(Box,{as:"button",onClick:Qe=>{Qe.preventDefault(),Qe.stopPropagation(),Ke||(Se(ge.id.toString()),W(!1))},width:"full",px:3,py:2,textAlign:"left",fontSize:"sm",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",opacity:Ke?.5:1,cursor:Ke?"not-allowed":"pointer",bg:Ue?"blue.50":Ke?"gray.50":"white",color:Ue?"blue.700":"inherit",_hover:Ke?{}:{bg:"gray.100"},_disabled:{opacity:.5,cursor:"not-allowed"},pointerEvents:Ke?"none":"auto",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 flex-1 truncate",children:[ge.name,jsxRuntimeExports.jsx(Badge,{colorPalette:ge.tier==="free"?"green":ge.tier==="pro"?"orange":"purple",variant:"subtle",fontSize:"xs",children:ge.tier.toUpperCase()}),_e&&jsxRuntimeExports.jsx(Badge,{colorPalette:"teal",variant:"subtle",fontSize:"xs",children:"Custom"}),Ke&&jsxRuntimeExports.jsx(FaCrown,{className:"text-orange-500 ml-1",size:12})]}),Ue&&jsxRuntimeExports.jsx(FiCheck,{className:"text-blue-600",size:16})]},ge.id)})})]})})()]}),r&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("audio",{ref:H,controls:!0,className:"w-full",src:r,children:"Trình duyệt của bạn không hỗ trợ audio."},r)})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Biểu tượng mặc định"}),jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:b,onCheckedChange:Z=>v(Z.checked),size:"sm",className:selectorClasses.focusRing,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})})]})]})}),!b&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Khi mở:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-col gap-3",children:[jsxRuntimeExports.jsx(Input$1,{variant:"flushed",type:"url",value:c,onChange:Z=>l(Z.target.value),placeholder:"Nhập URL hoặc chọn từ thư viện",size:"sm",className:"flex-1 "}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ie,className:`${modalButton.secondary} !py-1 !px-3 flex items-center gap-1 w-full justify-center`,children:[jsxRuntimeExports.jsx(FiPlay,{className:"text-red-600"}),"Chọn"]})]}),c&&jsxRuntimeExports.jsxs("div",{className:"mt-3 flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx(Text$1,{...se,children:"Preview: "}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded",dangerouslySetInnerHTML:{__html:J(He())}})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 items-center",children:jsxRuntimeExports.jsx(ColorControl,{label:"Màu",value:m,onChange:R,size:"xs",showValueText:!0,previewSize:24})})]})]}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Khi ngừng:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-col gap-3",children:[jsxRuntimeExports.jsx(Input$1,{variant:"flushed",type:"url",value:d,onChange:Z=>u(Z.target.value),placeholder:"Nhập URL hoặc chọn từ thư viện",size:"sm",className:"flex-1 "}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Me,className:`${modalButton.secondary} !py-1 !px-3 flex items-center gap-1 w-full justify-center`,children:[jsxRuntimeExports.jsx(FiPause,{className:"text-red-600"}),"Chọn"]})]}),d&&jsxRuntimeExports.jsxs("div",{className:"mt-3 flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx(Text$1,{...se,children:"Preview: "}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded",dangerouslySetInnerHTML:{__html:J(fe())}})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 items-center",children:jsxRuntimeExports.jsx(ColorControl,{label:"Màu",value:p,onChange:j,size:"xs",showValueText:!0,previewSize:24})})]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Hiệu ứng chuyển động"}),jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:w,onCheckedChange:Z=>C(Z.checked),size:"sm",className:selectorClasses.focusRing,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})})]})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Phát khi cuộn"}),jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:_,onCheckedChange:Z=>I(Z.checked),size:"sm",className:selectorClasses.focusRing,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})})]})]})})]})}),jsxRuntimeExports.jsx(IconPickerModal,{isOpen:x,onClose:()=>g(!1),onIconSelect:Ce,initialSearchTerm:"play"}),jsxRuntimeExports.jsx(IconPickerModal,{isOpen:h,onClose:()=>E(!1),onIconSelect:le,initialSearchTerm:"pause"}),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:$,onClose:()=>A(!1),onConfirm:async()=>{ce({id:Number(q),data:{audioSettings:{}}}),e()},message:"Bạn có chắc chắn muốn xóa cài đặt âm thanh không?",confirmLabel:"Xóa",confirmType:"danger"}),jsxRuntimeExports.jsx(CreateCustomAudioModal,{isOpen:P,onClose:()=>N(!1)})]})},DraggableNumberInput=React.memo(t=>{const e=compilerRuntimeExports.c(49),{value:o,onChange:r,min:s,max:i,step:a,tooltip:c,sensitivity:l,allowFullRound:d}=t,u=s===void 0?0:s,m=i===void 0?4e3:i,R=a===void 0?1:a,p=c===void 0?"":c;let j;e[0]!==o?(j=o.toString(),e[0]=o,e[1]=j):j=e[1];const[x,g]=reactExports.useState(j),h=reactExports.useRef(null),E=reactExports.useRef(null);let w,C;e[2]!==o?(w=()=>{g(o.toString())},C=[o],e[2]=o,e[3]=w,e[4]=C):(w=e[3],C=e[4]),reactExports.useEffect(w,C);let b;e[5]!==m||e[6]!==u||e[7]!==r?(b=Q=>{g(Q.target.value);const q=Number(Q.target.value);!isNaN(q)&&q>=u&&q<=m&&r(q)},e[5]=m,e[6]=u,e[7]=r,e[8]=b):b=e[8];const v=b;let _;e[9]!==x||e[10]!==m||e[11]!==u||e[12]!==r||e[13]!==o?(_=()=>{const Q=parseFloat(x);if(isNaN(Q))g(o.toString());else{const q=Math.min(m,Math.max(u,Q));r(q),g(q.toString())}},e[9]=x,e[10]=m,e[11]=u,e[12]=r,e[13]=o,e[14]=_):_=e[14];const I=_;let $;e[15]!==m||e[16]!==r||e[17]!==R||e[18]!==o?($=()=>{const Q=Math.min(m,o+R);r(Q)},e[15]=m,e[16]=r,e[17]=R,e[18]=o,e[19]=$):$=e[19];const A=$;let T;e[20]!==u||e[21]!==r||e[22]!==R||e[23]!==o?(T=()=>{const Q=Math.max(u,o-R);r(Q)},e[20]=u,e[21]=r,e[22]=R,e[23]=o,e[24]=T):T=e[24];const L=T;let P;e[25]!==I||e[26]!==v||e[27]!==x||e[28]!==m||e[29]!==u?(P=jsxRuntimeExports.jsx("input",{ref:h,type:"number",value:x,onChange:v,onBlur:I,min:u,max:m,className:`w-12 h-8 text-center text-xs font-semibold text-[#333]
            rounded-md border border-gray-200 bg-white
            hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400
            transition-all duration-200 shadow-[inset_0_0_0_0_rgba(0,0,0,0)] hover:shadow-[inset_0_0_0_9999px_rgba(0,0,0,0.01)]`}),e[25]=I,e[26]=v,e[27]=x,e[28]=m,e[29]=u,e[30]=P):P=e[30];let N;e[31]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsx("div",{ref:E,className:"absolute inset-0 transition-colors duration-100 rounded-md",style:{touchAction:"none"},onClick:Q=>{var q,Y;Q.preventDefault(),Q.stopPropagation(),(q=h.current)==null||q.focus(),(Y=h.current)==null||Y.select()}}),e[31]=N):N=e[31];let k;e[32]!==P||e[33]!==p?(k=jsxRuntimeExports.jsxs("div",{className:"relative flex items-center group","data-tooltip-id":"node-controls","data-tooltip-content":p,children:[P,N]}),e[32]=P,e[33]=p,e[34]=k):k=e[34];const B=o>=m;let F;e[35]===Symbol.for("react.memo_cache_sentinel")?(F={fontSize:"10px"},e[35]=F):F=e[35];let W;e[36]!==A||e[37]!==B?(W=jsxRuntimeExports.jsx("button",{type:"button",onClick:A,disabled:B,className:`w-5 h-4 flex items-center justify-center text-xs font-bold text-gray-600 
            border border-gray-200 bg-white hover:bg-gray-50 hover:border-gray-300
            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white
            transition-all duration-150 rounded-t-sm border-b-0`,style:F,children:"▲"}),e[36]=A,e[37]=B,e[38]=W):W=e[38];const z=o<=u;let H;e[39]===Symbol.for("react.memo_cache_sentinel")?(H={fontSize:"10px"},e[39]=H):H=e[39];let U;e[40]!==L||e[41]!==z?(U=jsxRuntimeExports.jsx("button",{type:"button",onClick:L,disabled:z,className:`w-5 h-4 flex items-center justify-center text-xs font-bold text-gray-600 
            border border-gray-200 bg-white hover:bg-gray-50 hover:border-gray-300
            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white
            transition-all duration-150 rounded-b-sm`,style:H,children:"▼"}),e[40]=L,e[41]=z,e[42]=U):U=e[42];let D;e[43]!==W||e[44]!==U?(D=jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[W,U]}),e[43]=W,e[44]=U,e[45]=D):D=e[45];let O;return e[46]!==k||e[47]!==D?(O=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[k,D]}),e[46]=k,e[47]=D,e[48]=O):O=e[48],O}),CustomEffectsModal=t=>{const e=compilerRuntimeExports.c(37),{isOpen:o,onClose:r,initialValues:s}=t,[i,a]=reactExports.useState(!1),[c,l]=reactExports.useState(1),{mutate:d}=useUpdateTemplate(),{mutate:u}=useUpdatePageContent(),{id:m,isPage:R}=useViewport();let p;e[0]!==R||e[1]!==u||e[2]!==d?(p=N=>{(R?u:d)(N)},e[0]=R,e[1]=u,e[2]=d,e[3]=p):p=e[3];const j=p;let x,g;if(e[4]!==s?(x=()=>{s!=null&&s.autoScroll?(a(s.autoScroll.enabled||!1),l(s.autoScroll.speed||1)):(a(!1),l(1))},g=[s],e[4]=s,e[5]=x,e[6]=g):(x=e[5],g=e[6]),reactExports.useEffect(x,g),!o)return null;let h;e[7]!==i||e[8]!==c||e[9]!==m||e[10]!==r||e[11]!==j?(h=async()=>{const N={autoScroll:{enabled:i,speed:c}};j({id:Number(m),data:{customEffects:N}}),r()},e[7]=i,e[8]=c,e[9]=m,e[10]=r,e[11]=j,e[12]=h):h=e[12];const E=h;let w;e[13]!==r?(w=jsxRuntimeExports.jsx("button",{onClick:r,className:modalButton.secondary,children:"Hủy"}),e[13]=r,e[14]=w):w=e[14];let C;e[15]!==E?(C=jsxRuntimeExports.jsx("button",{onClick:E,className:modalButton.primary,children:"Lưu"}),e[15]=E,e[16]=C):C=e[16];let b;e[17]!==w||e[18]!==C?(b=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[w,C]}),e[17]=w,e[18]=C,e[19]=b):b=e[19];let v;e[20]===Symbol.for("react.memo_cache_sentinel")?(v=jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bật cuộn tự động"}),e[20]=v):v=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=N=>a(N.checked),e[21]=_):_=e[21];let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[22]=I):I=e[22];let $;e[23]===Symbol.for("react.memo_cache_sentinel")?($=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[23]=$):$=e[23];let A;e[24]!==i?(A=jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[v,jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:i,onCheckedChange:_,size:"sm",className:selectorClasses.focusRing,children:[I,$]})]}),e[24]=i,e[25]=A):A=e[25];let T;e[26]!==i||e[27]!==c?(T=i&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tốc độ cuộn (1-10)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(DraggableNumberInput,{value:c,onChange:l,min:1,max:10,step:1}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:10,step:1,value:c,onChange:N=>l(Number(N.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 w-8 text-center",children:c})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Tốc độ cuộn từ chậm (1) đến nhanh (10)"})]}),e[26]=i,e[27]=c,e[28]=T):T=e[28];let L;e[29]!==A||e[30]!==T?(L=jsxRuntimeExports.jsx("div",{className:modalSectionSpacing,children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[A,T]})}),e[29]=A,e[30]=T,e[31]=L):L=e[31];let P;return e[32]!==o||e[33]!==r||e[34]!==L||e[35]!==b?(P=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:r,title:"Cài đặt Hiệu ứng Tùy chỉnh",zIndex:zIndex.customEffects,widthClass:"w-[500px] max-w-[90%]",footer:b,children:L}),e[32]=o,e[33]=r,e[34]=L,e[35]=b,e[36]=P):P=e[36],P},CustomHtmlSettingsModal=t=>{const e=compilerRuntimeExports.c(43),{isOpen:o,onClose:r,initialValues:s}=t,[i,a]=reactExports.useState(""),[c,l]=reactExports.useState(!1),[d]=reactExports.useState(""),{mutate:u}=useUpdateTemplate(),{mutate:m}=useUpdatePageContent();let R,p;e[0]!==s?(R=()=>{s&&a(s||"")},p=[s],e[0]=s,e[1]=R,e[2]=p):(R=e[1],p=e[2]),reactExports.useEffect(R,p);const{id:j,isPage:x}=useViewport();let g;e[3]!==x||e[4]!==m||e[5]!==u?(g=z=>{(x?m:u)(z)},e[3]=x,e[4]=m,e[5]=u,e[6]=g):g=e[6];const h=g;if(!o)return null;let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=z=>{a(z)},e[7]=E):E=e[7];const w=E;let C;e[8]!==i||e[9]!==j||e[10]!==r||e[11]!==h?(C=async()=>{h({id:Number(j),data:{customHtml:i}}),r()},e[8]=i,e[9]=j,e[10]=r,e[11]=h,e[12]=C):C=e[12];const b=C;let v;e[13]!==i?(v=()=>i,e[13]=i,e[14]=v):v=e[14];const _=v;let I;e[15]!==c?(I=()=>l(!c),e[15]=c,e[16]=I):I=e[16];let $;e[17]!==c?($=c?jsxRuntimeExports.jsx(FiCode,{}):jsxRuntimeExports.jsx(FiEye,{}),e[17]=c,e[18]=$):$=e[18];const A=c?"Chỉnh sửa":"Xem trước";let T;e[19]!==I||e[20]!==$||e[21]!==A?(T=jsxRuntimeExports.jsxs("button",{type:"button",onClick:I,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs flex items-center gap-2",children:[$,A]}),e[19]=I,e[20]=$,e[21]=A,e[22]=T):T=e[22];let L;e[23]!==r?(L=jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:modalButton.secondary,children:"Hủy"}),e[23]=r,e[24]=L):L=e[24];const P=!!d;let N;e[25]!==b||e[26]!==P?(N=jsxRuntimeExports.jsx("button",{type:"button",onClick:b,disabled:P,className:`${modalButton.primary} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:"Lưu cài đặt"}),e[25]=b,e[26]=P,e[27]=N):N=e[27];let k;e[28]!==L||e[29]!==N?(k=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[L,N]}),e[28]=L,e[29]=N,e[30]=k):k=e[30];let B;e[31]===Symbol.for("react.memo_cache_sentinel")?(B=jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Thêm mã HTML tùy chỉnh sẽ được chèn vào cuối trang"}),e[31]=B):B=e[31];let F;e[32]!==i||e[33]!==_||e[34]!==c||e[35]!==d?(F=jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[B,jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:c?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Xem trước:"}),jsxRuntimeExports.jsx("div",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm overflow-auto bg-gray-50",style:{minHeight:"300px"},dangerouslySetInnerHTML:{__html:_()}})]}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mã HTML:"}),jsxRuntimeExports.jsx("textarea",{value:i,onChange:z=>w(z.target.value),placeholder:"Nhập mã HTML tùy chỉnh của bạn...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono resize-none",style:{minHeight:"300px"}}),d&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-red-600 text-sm",children:d})]})})]}),e[32]=i,e[33]=_,e[34]=c,e[35]=d,e[36]=F):F=e[36];let W;return e[37]!==o||e[38]!==r||e[39]!==T||e[40]!==k||e[41]!==F?(W=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:r,title:"Cài đặt HTML Tùy chỉnh",zIndex:zIndex.customHtmlSettings,widthClass:"w-[800px] max-w-[90%]",headerActions:T,footer:k,children:F}),e[37]=o,e[38]=r,e[39]=T,e[40]=k,e[41]=F,e[42]=W):W=e[42],W},getFileTypeTitle$1=t=>{switch(t){case FileType.IMAGE:return"Hình ảnh";case FileType.VIDEO:return"Video";case FileType.AUDIO:return"Âm thanh";case FileType.DOCUMENT:return"Tài liệu";case FileType.FONT:return"Font";case FileType.ICON:return"Icon";default:return"Khác"}},getFileTypeTabIcon=(t,e=!1)=>{const o="text-lg";switch(t){case FileType.IMAGE:return jsxRuntimeExports.jsx(FiImage,{className:`${o} text-blue-500`});case FileType.VIDEO:return jsxRuntimeExports.jsx(FiVideo,{className:`${o} text-purple-500`});case FileType.AUDIO:return jsxRuntimeExports.jsx(FiMusic,{className:`${o} text-green-500`});case FileType.DOCUMENT:return jsxRuntimeExports.jsx(FiFileText,{className:`${o} text-red-500`});case FileType.FONT:return jsxRuntimeExports.jsx(FiType,{className:`${o} text-orange-500`});case FileType.ICON:return jsxRuntimeExports.jsx(FiStar,{className:`${o} text-yellow-500`});default:return jsxRuntimeExports.jsx(FiFile,{className:`${o} text-gray-600`})}},getFileTypeTabColors=(t,e)=>{if(!e)return"text-gray-500";switch(t){case FileType.IMAGE:return"border-b-2 border-blue-500 text-blue-500 ";case FileType.VIDEO:return"border-b-2 border-purple-500 text-purple-500 ";case FileType.AUDIO:return"border-b-2 border-green-500 text-green-500 ";case FileType.DOCUMENT:return"border-b-2 border-red-500 text-red-500 ";case FileType.FONT:return"border-b-2 border-orange-500 text-orange-500 ";case FileType.ICON:return"border-b-2 border-yellow-500 text-yellow-500 ";default:return"text-gray-500"}},getFileTypeIcon$1=(t,e="text-4xl")=>t.startsWith("image/")?jsxRuntimeExports.jsx(FiImage,{className:`${e} text-blue-500`}):t.startsWith("video/")?jsxRuntimeExports.jsx(FiVideo,{className:`${e} text-purple-500`}):t.startsWith("audio/")?jsxRuntimeExports.jsx(FiMusic,{className:`${e} text-green-500`}):t.startsWith("application/pdf")||t.startsWith("text/")||t.includes("document")?jsxRuntimeExports.jsx(FiFileText,{className:`${e} text-red-500`}):jsxRuntimeExports.jsx(FiFile,{className:`${e} text-gray-400`}),FILE_TYPES=[FileType.IMAGE,FileType.VIDEO,FileType.AUDIO,FileType.DOCUMENT,FileType.FONT,FileType.ICON,FileType.OTHER],FileManagementModal=({isOpen:t,onClose:e})=>{const[o,r]=reactExports.useState(FileType.IMAGE),[s,i]=reactExports.useState(new Set),[a,c]=reactExports.useState(!1),[l,d]=reactExports.useState(!1),[u,m]=reactExports.useState(""),{isPage:R,hasFeature:p}=useViewport(),j=p("file_manager_access"),x=p("file_manager_access_vip"),h=(()=>{const N=[FileType.IMAGE];return(j||x)&&N.push(FileType.VIDEO),x&&N.push(FileType.AUDIO,FileType.DOCUMENT,FileType.FONT,FileType.ICON,FileType.OTHER),N})(),{data:E,isLoading:w}=useGetAllTags(),{data:C,isLoading:b,error:v,refetch:_}=useGetFiles(o,u||void 0),{mutate:I}=useBatchDeleteFiles();if(reactExports.useEffect(()=>{i(new Set)},[o,u]),reactExports.useEffect(()=>{h.includes(o)||r(FileType.IMAGE)},[h,o]),!t)return null;const $=N=>{const k=new Set(s);k.has(N.id)?k.delete(N.id):k.add(N.id),i(k)},A=()=>{C&&(s.size===C.length?i(new Set):i(new Set(C.map(N=>N.id))))},T=async()=>{if(s.size===0){toaster.create({title:"Error",description:"Vui lòng chọn ít nhất một file để xóa.",type:"error"});return}d(!0)},L=N=>s.has(N),P=N=>{N.target===N.currentTarget&&e()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-opacity-50",onClick:P,style:{zIndex:zIndex.fileManagement,backgroundColor:"rgba(0, 0, 0, 0.5)"},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg w-[800px] max-w-[90%] max-h-[80vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Quản lý File"}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1",children:jsxRuntimeExports.jsx(FiX,{className:"text-2xl text-gray-600 hover:text-gray-800"})})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b overflow-x-auto min-h-[60px]",children:FILE_TYPES.map(N=>{const k=o===N,B=h.includes(N),F=!B;return jsxRuntimeExports.jsxs("button",{className:`py-3 px-4 font-medium whitespace-nowrap flex items-center gap-2 transition-all duration-200 relative ${F?"opacity-50 cursor-not-allowed text-gray-400":getFileTypeTabColors(N,k)}`,onClick:()=>B&&r(N),disabled:F,children:[getFileTypeTabIcon(N,k),getFileTypeTitle$1(N),F&&jsxRuntimeExports.jsx(FaCrown,{size:10,color:"#f97316",className:"absolute top-1 right-1"})]},N)})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 p-4 border-b bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiTag,{className:"text-gray-500"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Lọc theo tag:"}),jsxRuntimeExports.jsxs("select",{value:u,onChange:N=>m(N.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:w,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Tất cả"}),E==null?void 0:E.map(N=>jsxRuntimeExports.jsx("option",{value:N,children:N},N))]}),w&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Đang tải..."})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:A,className:"text-sm text-blue-500 hover:text-blue-700",children:C&&s.size===C.length?"Bỏ chọn tất cả":"Chọn tất cả"}),s.size>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Đã chọn ",s.size," file"]}),u&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:["Tag: ",u]})]}),jsxRuntimeExports.jsxs("button",{onClick:T,disabled:s.size===0||a,className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium ${s.size===0||a?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[jsxRuntimeExports.jsx(FiTrash2,{}),a?"Đang xóa...":"Xóa đã chọn"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto p-4",children:[b&&jsxRuntimeExports.jsx("p",{className:"text-center py-8",children:"Đang tải danh sách file..."}),v&&jsxRuntimeExports.jsxs("p",{className:"text-red-500 text-center py-8",children:["Lỗi khi tải file: ",v.message]}),!b&&!v&&C&&C.length===0&&jsxRuntimeExports.jsx("p",{className:"text-center py-8 text-gray-500",children:"Chưa có file nào thuộc loại này."}),C&&C.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4",children:C.map(N=>{const k=getFileUrl(N),B=L(N.id);return jsxRuntimeExports.jsxs("div",{className:`relative group cursor-pointer border rounded-md overflow-hidden aspect-square flex items-center justify-center transition-all ${B?"border-blue-500 border-2 bg-blue-50":"border-gray-200 hover:border-blue-500"}`,onClick:()=>$(N),children:[N.mimeType.startsWith("image/")?jsxRuntimeExports.jsx("img",{src:k,alt:N.originalName,className:"object-cover w-full h-full"}):getFileTypeIcon$1(N.mimeType),jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${B?"bg-blue-500 border-blue-500":"bg-white border-gray-300"}`,children:B&&jsxRuntimeExports.jsx(FiCheckCircle,{className:"text-white text-sm"})}),N.tag&&jsxRuntimeExports.jsxs("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[jsxRuntimeExports.jsx(FiTag,{className:"text-xs"}),N.tag]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1",children:[jsxRuntimeExports.jsx("p",{className:"truncate",children:N.originalName}),N.tag&&!u&&jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-xs truncate",children:["Tag: ",N.tag]})]})]},N.id)})})]}),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:l,onClose:()=>d(!1),onConfirm:async()=>{c(!0);try{const N=Array.from(s);I({fileIds:N}),i(new Set),_()}catch{toaster.create({title:"Error",description:"Có lỗi xảy ra khi xóa file. Vui lòng thử lại.",type:"error"})}finally{c(!1)}},message:`Bạn có chắc chắn muốn xóa ${s.size} file đã chọn? Hành động này không thể hoàn tác.`,confirmLabel:"Xóa",confirmType:"danger"})]})})},isMobileDevice=()=>typeof window>"u"?!1:window.innerWidth<=768,getImageUrlWithSize=(t,e="full")=>{if(!t)return t;let o=e;e==="full"&&isMobileDevice()&&(o="medium");const r=t.match(/^(.+)-full\.webp$/i);return r?`${r[1]}${o==="full"?"-full":o==="medium"?"-medium":"-preview"}.webp`:(t.match(/^(.+)\.webp$/i),t)},loadImageWithCORS=async t=>{if(t.startsWith("data:"))return t;try{const e=await fetch(t,{mode:"cors",credentials:"omit"});if(!e.ok)throw new Error(`Failed to fetch image: ${e.statusText}`);const o=await e.blob();return new Promise((r,s)=>{const i=new FileReader;i.onloadend=()=>{r(i.result)},i.onerror=s,i.readAsDataURL(o)})}catch{return t}},getFileTypeTitle=t=>{const e="Chọn hoặc Tải lên";switch(t){case FileType.IMAGE:return`${e} Hình ảnh`;case FileType.VIDEO:return`${e} Video`;case FileType.AUDIO:return`${e} Âm thanh`;case FileType.DOCUMENT:return`${e} Tài liệu`;case FileType.FONT:return`${e} Font`;default:return`${e} File`}},getAcceptAttribute=t=>!t||!FILE_TYPE_MIME_MAP[t]?"*/*":FILE_TYPE_MIME_MAP[t].join(","),getFileTypeIcon=(t,e="text-4xl")=>t.startsWith("image/")?jsxRuntimeExports.jsx(FiImage,{className:`${e} text-blue-500`}):t.startsWith("video/")?jsxRuntimeExports.jsx(FiVideo,{className:`${e} text-purple-500`}):t.startsWith("audio/")?jsxRuntimeExports.jsx(FiMusic,{className:`${e} text-green-500`}):t.startsWith("application/pdf")||t.startsWith("text/")||t.includes("document")?jsxRuntimeExports.jsx(FiFileText,{className:`${e} text-red-500`}):jsxRuntimeExports.jsx(FiFile,{className:`${e} text-gray-400`}),getSupportedFormatsText=t=>{switch(t){case FileType.IMAGE:return"Hỗ trợ: JPG, PNG, GIF, WebP, SVG, BMP, TIFF";case FileType.VIDEO:return"Hỗ trợ: MP4, MOV, AVI, WMV, WebM, OGG, 3GP";case FileType.AUDIO:return"Hỗ trợ: MP3, WAV, OGG, MIDI, WebM, AAC";case FileType.DOCUMENT:return"Hỗ trợ: PDF, DOC, DOCX, XLS, XLSX, TXT, CSV";case FileType.FONT:return"Hỗ trợ: TTF, OTF, WOFF, WOFF2";default:return"Hỗ trợ tất cả các loại file"}},getMimeTypeFromExtension=t=>{switch(t.toLowerCase().split(".").pop()){case"pdf":return"application/pdf";case"doc":case"docx":return"application/msword";case"xls":case"xlsx":return"application/vnd.ms-excel";case"mp3":return"audio/mpeg";case"wav":return"audio/wav";case"mp4":return"video/mp4";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";default:return"application/octet-stream"}},fileSizeLimits={jpg:5*1024*1024,jpeg:5*1024*1024,png:5*1024*1024,gif:3*1024*1024,webp:3*1024*1024,svg:2*1024*1024,bmp:5*1024*1024,tiff:10*1024*1024,mp4:20*1024*1024,mov:20*1024*1024,avi:20*1024*1024,wmv:20*1024*1024,webm:20*1024*1024,ogg:20*1024*1024,"3gp":20*1024*1024,pdf:10*1024*1024,doc:5*1024*1024,docx:5*1024*1024,xls:5*1024*1024,xlsx:5*1024*1024,txt:1*1024*1024,csv:5*1024*1024,mp3:10*1024*1024,wav:20*1024*1024,midi:1*1024*1024,mid:1*1024*1024,aac:10*1024*1024,ttf:2*1024*1024,otf:2*1024*1024,woff:1*1024*1024,woff2:1*1024*1024},getFileExtension=t=>t.toLowerCase().split(".").pop()||"",getFileSizeLimit=t=>{const e=getFileExtension(t);return fileSizeLimits[e]||10*1024*1024},formatFileSize=t=>t<1024*1024?`${(t/1024).toFixed(0)}KB`:`${(t/1024/1024).toFixed(2)}MB`,validateFile=(t,e)=>{const o=getFileSizeLimit(t.name);return t.size>o?{isValid:!1,error:`File quá lớn. Kích thước tối đa cho ${getFileExtension(t.name).toUpperCase()} là ${formatFileSize(o)} (file hiện tại: ${formatFileSize(t.size)})`}:e&&FILE_TYPE_MIME_MAP[e]&&!FILE_TYPE_MIME_MAP[e].includes(t.type)?{isValid:!1,error:`Loại file không được hỗ trợ. Vui lòng chọn file: ${getSupportedFormatsText(e)}`}:{isValid:!0}},renderFilePreview=(t,e)=>{const o=t.substring(t.lastIndexOf("/")+1);if(e===FileType.IMAGE||t.match(/\.(jpeg|jpg|gif|png|webp|svg|bmp|tiff)$/i))return jsxRuntimeExports.jsx("img",{src:t,alt:"Preview",className:"max-w-xs max-h-48 object-contain rounded border"});if(e===FileType.AUDIO||t.match(/\.(mp3|wav|ogg|aac|webm|midi)$/i))return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FiMusic,{className:"text-2xl text-green-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:o})]}),jsxRuntimeExports.jsxs("audio",{controls:!0,className:"w-full",children:[jsxRuntimeExports.jsx("source",{src:t}),"Trình duyệt của bạn không hỗ trợ audio."]})]});if(e===FileType.VIDEO||t.match(/\.(mp4|mov|avi|wmv|webm|ogg|3gp)$/i))return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FiVideo,{className:"text-2xl text-purple-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:o})]}),jsxRuntimeExports.jsxs("video",{controls:!0,className:"max-w-xs max-h-48 rounded",children:[jsxRuntimeExports.jsx("source",{src:t}),"Trình duyệt của bạn không hỗ trợ video."]})]});const r=getMimeTypeFromExtension(o);return jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md flex items-center gap-2",children:[getFileTypeIcon(r,"text-2xl"),jsxRuntimeExports.jsx("span",{children:o})]})},FileSelectModal=({isOpen:t,onClose:e,onSelectFile:o,onSelectFiles:r,fileType:s,maxSelection:i=20,allowMultiSelect:a=!1})=>{const[c,l]=reactExports.useState("select"),[d,u]=reactExports.useState(null),[m,R]=reactExports.useState(!1),p=reactExports.useRef(null),[j,x]=reactExports.useState(new Set),[g,h]=reactExports.useState([]),[E,w]=reactExports.useState({}),[C,b]=reactExports.useState({}),[v,_]=reactExports.useState({successful:[],failed:[]}),[I,$]=reactExports.useState(""),[A,T]=reactExports.useState([]),[L,P]=reactExports.useState(""),[N,k]=reactExports.useState(!1);reactExports.useEffect(()=>{if(t&&s){const oe=localStorage.getItem(`fileSelectModal_tag_${s}`);oe&&$(oe)}},[t,s]),reactExports.useEffect(()=>{I&&s&&localStorage.setItem(`fileSelectModal_tag_${s}`,I)},[I,s]);const{data:B,isLoading:F,error:W,refetch:z}=useGetFiles(s||FileType.OTHER),{data:H=[],isLoading:U}=useGetAllTags();if(reactExports.useEffect(()=>{t&&(z(),l("select"),u(null),w({}),b({}),_({successful:[],failed:[]}),k(!1),P(""),T([]))},[t,z]),!t)return null;const D=()=>B?B.map(ce=>ce.tag).filter(ce=>ce&&ce.trim()!=="").filter((ce,je,ie)=>ie.indexOf(ce)===je).sort():[],O=()=>B?I===""?B:B.filter(oe=>oe.tag===I):[],Q=async(oe,ce="")=>{const je=`${oe.name}-${oe.size}`;try{w($e=>({...$e,[je]:0}));const ie=setInterval(()=>{w($e=>({...$e,[je]:Math.min(($e[je]||0)+10,90)}))},100),xe=await uploadFileWithTag(oe,ce);clearInterval(ie),w($e=>({...$e,[je]:100}));const pe=xe.path||xe.filePath;return{file:oe,url:pe}}catch(ie){const xe=ie instanceof Error?ie.message:"Upload failed";throw b(pe=>({...pe,[je]:xe})),new Error(xe)}},q=async oe=>{const ce=oe.target.files;if(!ce||ce.length===0)return;const je=Array.from(ce);k(!0),T(je),p.current&&(p.current.value="")},Y=async()=>{if(!A||A.length===0)return;R(!0),u(null),_({successful:[],failed:[]}),b({});const oe=[],ce=[],je=L.trim();for(const ie of A){const xe=validateFile(ie,s);if(!xe.isValid){ce.push({file:ie,error:xe.error||"File không hợp lệ"});continue}try{const pe=await Q(ie,je);oe.push(pe),oe.length===1&&u(pe.url)}catch(pe){const $e=pe instanceof Error?pe.message:"Upload failed";ce.push({file:ie,error:$e})}}_({successful:oe,failed:ce}),oe.length>0&&(z(),setTimeout(()=>{l("select")},1e3)),R(!1),k(!1),T([]),P("")},V=async()=>{if(v.failed.length===0)return;R(!0);const oe=v.failed.map(ie=>ie.file),ce=[...v.successful],je=[];w({}),b({});for(const ie of oe){const xe=validateFile(ie,s);if(!xe.isValid){je.push({file:ie,error:xe.error||"File không hợp lệ"});continue}try{const pe=await Q(ie);ce.push(pe)}catch(pe){const $e=pe instanceof Error?pe.message:"Upload failed";je.push({file:ie,error:$e})}}_({successful:ce,failed:je}),ce.length>v.successful.length&&z(),R(!1)},de=oe=>{const ce=getFileUrl(oe);if(a){const je=j.has(oe.id),ie=new Set(j),xe=[...g];if(je){ie.delete(oe.id);const pe=xe.indexOf(ce);pe>-1&&xe.splice(pe,1)}else{if(ie.size>=i)return;ie.add(oe.id),xe.push(ce)}x(ie),h(xe)}else o&&(o(ce),e())},ue=()=>{r&&g.length>0&&(r(g),e())},Re=()=>{x(new Set),h([]),e()};return jsxRuntimeExports.jsxs(EditorModal,{isOpen:t,onClose:Re,title:getFileTypeTitle(s),widthClass:"max-w-[600px] w-full",zIndex:zIndex.fileSelect,children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b mb-4",children:[jsxRuntimeExports.jsx("button",{className:`py-2 px-4 font-medium ${c==="select"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,onClick:()=>l("select"),children:"Chọn từ Thư viện"}),jsxRuntimeExports.jsx("button",{className:`py-2 px-4 font-medium ${c==="upload"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,onClick:()=>l("upload"),children:"Tải lên Mới"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto",children:[c==="select"&&jsxRuntimeExports.jsxs("div",{children:[F&&jsxRuntimeExports.jsx("p",{children:"Đang tải danh sách file..."}),W&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Lỗi khi tải file: ",W.message]}),!F&&!W&&B&&B.length===0&&jsxRuntimeExports.jsx("p",{children:"Chưa có file nào được tải lên."}),!F&&!W&&B&&B.length>0&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:(()=>{const oe=D();return oe.length>0?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium mb-2 text-gray-700",children:"Lọc theo tag:"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsxs("button",{className:`px-3 py-1 text-sm rounded-md border cursor-pointer transition-colors ${I===""?"bg-blue-500 text-white border-blue-500":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"}`,onClick:()=>$(""),children:["Tất cả (",B.length,")"]}),oe.map(ce=>jsxRuntimeExports.jsxs("button",{className:`px-3 py-1 text-sm rounded-md border cursor-pointer transition-colors ${I===ce?"bg-blue-500 text-white border-blue-500":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"}`,onClick:()=>$(ce),children:[ce," (",B.filter(je=>je.tag===ce).length,")"]},ce))]})]}):null})()}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:O().map(oe=>{const ce=getFileUrl(oe),je=a&&j.has(oe.id);return jsxRuntimeExports.jsxs("div",{className:`relative group cursor-pointer border rounded-md overflow-hidden aspect-square flex items-center justify-center transition-all ${je?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-500"}`,onClick:()=>de(oe),children:[oe.mimeType.startsWith("image/")?jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(ce,"preview"),alt:oe.originalName,className:"object-cover w-full h-full"}):getFileTypeIcon(oe.mimeType),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity ${je?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:jsxRuntimeExports.jsx(FiCheckCircle,{className:`text-3xl ${je?"text-blue-400":"text-white"}`})}),a&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:je,onChange:()=>{},className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1",children:[jsxRuntimeExports.jsx("p",{className:"truncate",children:oe.originalName}),oe.tag&&jsxRuntimeExports.jsxs("p",{className:"truncate text-blue-200",children:["#",oe.tag]})]})]},oe.id)})}),I!==""&&O().length===0&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-center mt-4",children:['Không có file nào với tag "',I,'"']})]}),c==="upload"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[jsxRuntimeExports.jsx("input",{ref:p,type:"file",accept:getAcceptAttribute(s),onChange:q,className:"hidden",disabled:m,multiple:!0}),!N&&!d&&!m&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{var oe;return(oe=p.current)==null?void 0:oe.click()},className:"flex flex-col items-center justify-center gap-2 w-full h-64 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 transition-colors",children:[jsxRuntimeExports.jsx(FiUpload,{className:"text-5xl text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 font-medium",children:"Nhấn để chọn file tải lên"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Hỗ trợ chọn nhiều file cùng lúc"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:getSupportedFormatsText(s)})]}),N&&A&&A.length>0&&!m&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:A.length===1?"File được chọn:":`${A.length} file được chọn:`}),jsxRuntimeExports.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:A.map((oe,ce)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 truncate flex-1 mr-2",children:oe.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 flex-shrink-0",children:[(oe.size/1024/1024).toFixed(2)," MB"]})]},ce))}),A.length>1&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Tổng: ",(A.reduce((oe,ce)=>oe+ce.size,0)/1024/1024).toFixed(2)," MB"]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tag (tùy chọn)"}),jsxRuntimeExports.jsx("input",{type:"text",value:L,onChange:oe=>P(oe.target.value),placeholder:"Nhập tag cho file (ví dụ: asset, profile-image, ...)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",list:"existing-tags"}),jsxRuntimeExports.jsx("datalist",{id:"existing-tags",children:H.map((oe,ce)=>jsxRuntimeExports.jsx("option",{value:oe},ce))}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tag giúp phân loại và tìm kiếm file dễ dàng hơn.",A.length>1?` Tag này sẽ được áp dụng cho tất cả ${A.length} file được chọn.`:" Bạn có thể chọn từ danh sách có sẵn hoặc nhập tag mới."]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 font-medium",children:A.length>1?`Tải lên ${A.length} file`:"Tải lên"}),jsxRuntimeExports.jsx("button",{onClick:()=>{k(!1),T([]),P("")},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Hủy"})]})]}),m&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center w-full max-w-md",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium mb-4",children:"Đang tải lên file..."}),jsxRuntimeExports.jsx("div",{className:"w-full space-y-2",children:Object.entries(E).map(([oe,ce])=>{const je=oe.split("-")[0],ie=C[oe];return jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 truncate max-w-[200px]",children:je}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:ie?"Lỗi":`${Math.round(ce)}%`})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${ie?"bg-red-500":"bg-blue-500"}`,style:{width:`${ie?100:ce}%`}})}),ie&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:C[oe]})]},oe)})})]}),(d||v.successful.length>0||v.failed.length>0)&&!m&&jsxRuntimeExports.jsxs("div",{className:"mt-4 text-center w-full",children:[v.successful.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2 text-green-600",children:v.successful.length>1?`✓ Tải lên ${v.successful.length} file thành công!`:"✓ Tải lên thành công!"}),v.successful.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:v.successful.map((oe,ce)=>jsxRuntimeExports.jsx("div",{className:"border rounded border-green-200",children:renderFilePreview(oe.url,s)},ce))}):d?renderFilePreview(d,s):null]}),v.failed.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 text-red-600",children:["✗ ",v.failed.length," file tải lên thất bại:"]}),jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 max-h-32 overflow-y-auto mb-3",children:v.failed.map((oe,ce)=>jsxRuntimeExports.jsxs("div",{className:"text-sm text-red-700 mb-1",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[oe.file.name,":"]})," ",oe.error]},ce))}),jsxRuntimeExports.jsx("button",{onClick:V,disabled:m,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:m?"Đang thử lại...":`Thử lại ${v.failed.length} file`})]}),v.successful.length>0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'Bạn có thể chuyển qua tab "Chọn từ Thư viện" để sử dụng file đã tải lên.'})]})]})]}),a&&c==="select"&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Đã chọn: ",j.size,"/",i," file"]}),j.size>0&&jsxRuntimeExports.jsx("button",{onClick:()=>{x(new Set),h([])},className:"text-xs text-red-600 hover:text-red-800",children:"Bỏ chọn tất cả"})]}),j.size>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:['Bấm "Xác nhận" để chọn ',j.size," file này"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a&&j.size>0&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:["Xác nhận (",j.size,")"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Re,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:a&&j.size>0?"Hủy":"Đóng"})]})]})},FontContext=reactExports.createContext({fontMap:{},addFontToFontMap:()=>{},setFontMap:()=>{},loadFont:()=>{}}),isIOS=()=>typeof window>"u"||typeof navigator>"u"?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,FontProvider=({children:t,fontMap:e={}})=>{const[o,r]=reactExports.useState(e),s=reactExports.useRef(new Set),i=reactExports.useRef(new Set),a=reactExports.useCallback((R,p)=>{r(j=>({...j,[`${R}`]:p}))},[]),c=reactExports.useCallback(R=>{r(R)},[]),l=reactExports.useCallback(R=>{if(i.current.has(R))return!0;if(isIOS()){const p=`font-face-${R.replace(/\s+/g,"-")}`;if(!!document.getElementById(p))return i.current.add(R),!0}return document.fonts&&Array.from(document.fonts).some(x=>x.family===R&&x.status==="loaded")?(i.current.add(R),!0):!1},[]),d=reactExports.useCallback((R,p)=>{const j=`font-face-${R.replace(/\s+/g,"-")}`;if(document.getElementById(j))return;const x=document.createElement("style");x.id=j,x.textContent=`
            @font-face {
                font-family: "${R}";
                src: url("${p}");
                font-display: swap;
            }
        `,document.head.appendChild(x),i.current.add(R),s.current.delete(R)},[]),u=reactExports.useCallback(async(R,p,j=0)=>{const g=Math.pow(2,j)*1e3;if(isIOS())try{d(R,p);return}catch{s.current.delete(R);return}try{const h=new FontFace(R,`url(${p})`),E=new Promise((C,b)=>setTimeout(()=>b(new Error("Font load timeout")),15e3)),w=await Promise.race([h.load(),E]);document.fonts.add(w),i.current.add(R),s.current.delete(R)}catch{if(j<3)return await new Promise(E=>setTimeout(E,g)),u(R,p,j+1);try{d(R,p)}catch{s.current.delete(R)}}},[d]),m=reactExports.useCallback(R=>{if(!o[R]||l(R)||s.current.has(R))return;s.current.add(R);const p=o[R];u(R,p).catch(j=>{s.current.delete(R)})},[o,l,u]);return reactExports.useEffect(()=>{const R=Object.keys(o);R.length!==0&&R.forEach(p=>{m(p)})},[o,m]),jsxRuntimeExports.jsx(FontContext.Provider,{value:{fontMap:o,addFontToFontMap:a,setFontMap:c,loadFont:m},children:t})},useFontContext=()=>reactExports.useContext(FontContext),FontSelectModal=({isOpen:t,onClose:e,onSelectFont:o})=>{try{const[r,s]=reactExports.useState("select"),[i,a]=reactExports.useState(null),[c,l]=reactExports.useState(!1),[d,u]=reactExports.useState([]),[m,R]=reactExports.useState(""),p=reactExports.useRef(null),{data:j,isLoading:x,error:g,refetch:h}=useGetFonts(),{addFontToFontMap:E}=useFontContext();reactExports.useEffect(()=>{t&&(h(),s("select"),a(null),R(""))},[t,h]);const w=v=>{if(d.includes(v.fileName))return;const _=getFileUrl(v),I=v.fileName;loadFontFromUrl(I,_,getFontFormat(v.mimeType)),u($=>[...$,I])};if(reactExports.useEffect(()=>{j&&j.length>0&&j.forEach(v=>w(v))},[j]),!t)return null;const C=async v=>{var I;const _=(I=v.target.files)==null?void 0:I[0];if(_){l(!0),a(null);try{const $=await uploadFile(_),A=$.path||$.filePath;a(A),h(),s("select")}catch{}finally{l(!1),p.current&&(p.current.value="")}}},b=async v=>{E(v.fileName,v.filePath),o(v.fileName),e()};return jsxRuntimeExports.jsxs(EditorModal,{isOpen:t,onClose:e,title:"Chọn hoặc Tải lên Font chữ",widthClass:"max-w-[800px] w-full",zIndex:zIndex.fontSelect,children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b mb-4",children:[jsxRuntimeExports.jsx("button",{className:`py-2 px-4 font-medium ${r==="select"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,onClick:()=>s("select"),children:"Chọn từ Thư viện"}),jsxRuntimeExports.jsx("button",{className:`py-2 px-4 font-medium ${r==="upload"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,onClick:()=>s("upload"),children:"Tải lên Font mới"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto",children:[r==="select"&&jsxRuntimeExports.jsxs("div",{children:[x&&jsxRuntimeExports.jsx("p",{children:"Đang tải danh sách font..."}),g&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Lỗi khi tải font: ",g.message]}),!x&&!g&&j&&j.length===0&&jsxRuntimeExports.jsx("p",{children:"Chưa có font nào được tải lên."}),jsxRuntimeExports.jsx("div",{className:"mb-4 relative",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tìm kiếm font theo tên...",value:m,onChange:v=>R(v.target.value),className:"w-full p-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[j==null?void 0:j.filter(v=>v.originalName.toLowerCase().includes(m.toLowerCase())).map(v=>jsxRuntimeExports.jsxs("div",{className:"relative group cursor-pointer border border-gray-200 rounded-md p-4 hover:border-blue-500 transition",onClick:()=>b(v),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"w-full",children:v.originalName}),jsxRuntimeExports.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(FiCheckCircle,{className:"text-blue-500 text-xl"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-lg",style:{fontFamily:`"${v.fileName}"`},children:"meHappy"}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-sm",style:{fontFamily:`"${v.fileName}"`},children:"0123456789 !@#$%^&*()"})]},v.id)),j&&j.filter(v=>v.originalName.toLowerCase().includes(m.toLowerCase())).length===0&&m&&jsxRuntimeExports.jsxs("div",{className:"col-span-3 py-8 text-center text-gray-500",children:['Không tìm thấy font nào phù hợp với "',m,'"']})]})]}),r==="upload"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[jsxRuntimeExports.jsx("input",{ref:p,type:"file",accept:".ttf,.otf,.woff,.woff2,font/ttf,font/otf,font/woff,font/woff2",onChange:C,className:"hidden",disabled:c}),!i&&!c&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{var v;return(v=p.current)==null?void 0:v.click()},className:"flex flex-col items-center justify-center gap-2 w-full h-64 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 transition-colors",children:[jsxRuntimeExports.jsx(FiUpload,{className:"text-5xl text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Nhấn để chọn font tải lên"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Hỗ trợ định dạng TTF, OTF, WOFF, WOFF2"})]}),c&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-2"}),jsxRuntimeExports.jsx("p",{children:"Đang tải lên..."})]}),i&&!c&&jsxRuntimeExports.jsxs("div",{className:"mt-4 text-center",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Tải lên thành công!"}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiFile,{className:"text-2xl"}),jsxRuntimeExports.jsx("span",{children:i.substring(i.lastIndexOf("/")+1)})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'Bạn có thể chuyển qua tab "Chọn từ Thư viện" để sử dụng font này.'})]})]})]})]})}catch{return t?jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Error Loading Font Selector",widthClass:"max-w-[400px] w-full",zIndex:zIndex.fontSelect,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-red-500",children:"Error Loading Font Selector"}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"There was a problem loading the font selector."}),jsxRuntimeExports.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Close"})]})}):null}},DEFAULT_NOTIFICATION_ICON=(()=>{const t=jsxRuntimeExports.jsx(FiBell,{size:24});return`data:image/svg+xml;base64,${btoa(server_browserExports.renderToStaticMarkup(t))}`})(),sizeOptions=createListCollection({items:[{value:"small",label:"Bé"},{value:"medium",label:"Vừa"},{value:"large",label:"Lớn"}]}),NotificationSettingsModal=t=>{const e=compilerRuntimeExports.c(134),{isOpen:o,onClose:r,initialValues:s}=t,[i,a]=reactExports.useState(!0),[c,l]=reactExports.useState(5e3),[d,u]=reactExports.useState("medium"),[m,R]=reactExports.useState(""),[p,j]=reactExports.useState("#000000"),[x,g]=reactExports.useState(!0),[h,E]=reactExports.useState(!0),[w,C]=reactExports.useState(!1),[b,v]=reactExports.useState(!1),{mutate:_}=useUpdateTemplate(),{mutate:I}=useUpdatePageContent();let $,A;e[0]!==s?($=()=>{s?(a(s.enabled!==void 0?s.enabled:!0),l(s.displayDuration||5e3),u(s.size||"medium"),R(s.iconUrl||DEFAULT_NOTIFICATION_ICON),j(s.iconColor||"#000000"),g(s.showIcon!==void 0?s.showIcon:!0),E(s.useDefaultIcon!==void 0?s.useDefaultIcon:!0)):(a(!0),l(5e3),u("medium"),R(DEFAULT_NOTIFICATION_ICON),j("#000000"),g(!0),E(!0))},A=[s],e[0]=s,e[1]=$,e[2]=A):($=e[1],A=e[2]),reactExports.useEffect($,A);const{id:T,hasFeature:L,isPage:P}=useViewport();let N;e[3]!==L?(N=L("wishes_notifications_settings"),e[3]=L,e[4]=N):N=e[4];const k=N;let B;e[5]!==P||e[6]!==I||e[7]!==_?(B=Fe=>{(P?I:_)(Fe)},e[5]=P,e[6]=I,e[7]=_,e[8]=B):B=e[8];const F=B;if(!o)return null;let W;if(e[9]!==c||e[10]!==i||e[11]!==p||e[12]!==m||e[13]!==T||e[14]!==r||e[15]!==F||e[16]!==x||e[17]!==d||e[18]!==h){W=async()=>{const ee={enabled:i,displayDuration:c,size:d,iconUrl:Fe(),iconColor:p,showIcon:x,useDefaultIcon:h};F({id:Number(T),data:{notificationSettings:ee}}),r()};const Fe=()=>{if(h||!m)return DEFAULT_NOTIFICATION_ICON;try{if(m.startsWith("data:image/svg+xml;base64,")){const Be=atob(m.split(",")[1]).replace(/fill="[^"]*"/g,`fill="${p}"`);return`data:image/svg+xml;base64,${btoa(Be)}`}return m}catch{return m}};e[9]=c,e[10]=i,e[11]=p,e[12]=m,e[13]=T,e[14]=r,e[15]=F,e[16]=x,e[17]=d,e[18]=h,e[19]=W}else W=e[19];let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{C(!0)},e[20]=z):z=e[20];const H=z;let U;e[21]===Symbol.for("react.memo_cache_sentinel")?(U=Fe=>{const ee=`data:image/svg+xml;base64,${btoa(Fe)}`;R(ee),E(!1),C(!1)},e[21]=U):U=e[21];const D=U;let O;e[22]!==r?(O=jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:modalButton.secondary,children:"Hủy"}),e[22]=r,e[23]=O):O=e[23];const Q=!k;let q;e[24]!==W||e[25]!==Q?(q=jsxRuntimeExports.jsx("button",{type:"button",onClick:W,className:modalButton.primary,disabled:Q,children:"Lưu cài đặt"}),e[24]=W,e[25]=Q,e[26]=q):q=e[26];let Y;e[27]!==k?(Y=!k&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-xs text-orange-500 font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaCrown,{size:10}),"Premium"]}),e[27]=k,e[28]=Y):Y=e[28];let V;e[29]!==Y||e[30]!==O||e[31]!==q?(V=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[O,q,Y]}),e[29]=Y,e[30]=O,e[31]=q,e[32]=V):V=e[32];let de;e[33]===Symbol.for("react.memo_cache_sentinel")?(de=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bật/Tắt thông báo lời chúc:"}),e[33]=de):de=e[33];let ue;e[34]===Symbol.for("react.memo_cache_sentinel")?(ue=Fe=>a(Fe.checked),e[34]=ue):ue=e[34];const Re=!k;let oe;e[35]===Symbol.for("react.memo_cache_sentinel")?(oe=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[35]=oe):oe=e[35];let ce;e[36]===Symbol.for("react.memo_cache_sentinel")?(ce=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[36]=ce):ce=e[36];let je;e[37]!==i||e[38]!==Re?(je=jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:i,onCheckedChange:ue,className:selectorClasses.focusRing,disabled:Re,children:[oe,ce]}),e[37]=i,e[38]=Re,e[39]=je):je=e[39];const ie=k?"":"text-gray-400",xe=i?"Bật thông báo lời chúc":"Tắt thông báo lời chúc";let pe;e[40]!==ie||e[41]!==xe?(pe=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",className:ie,children:xe}),e[40]=ie,e[41]=xe,e[42]=pe):pe=e[42];let $e;e[43]!==k?($e=!k&&jsxRuntimeExports.jsx(FaCrown,{size:12,color:"#f97316"}),e[43]=k,e[44]=$e):$e=e[44];let Se;e[45]!==je||e[46]!==pe||e[47]!==$e?(Se=jsxRuntimeExports.jsxs(HStack,{children:[je,pe,$e]}),e[45]=je,e[46]=pe,e[47]=$e,e[48]=Se):Se=e[48];let Ie;e[49]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mt:1,children:"Tắt tính năng này nếu trang không có lời chúc hoặc để tắt trong xem trước template"}),e[49]=Ie):Ie=e[49];let Me;e[50]!==Se?(Me=jsxRuntimeExports.jsxs("div",{children:[de,Se,Ie]}),e[50]=Se,e[51]=Me):Me=e[51];const He=i&&k?1:.5,fe=i&&k?"auto":"none";let Ce;e[52]!==He||e[53]!==fe?(Ce={opacity:He,pointerEvents:fe},e[52]=He,e[53]=fe,e[54]=Ce):Ce=e[54];let le;e[55]===Symbol.for("react.memo_cache_sentinel")?(le=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Thời gian hiển thị (s):"}),e[55]=le):le=e[55];const J=k?"":"opacity-50 pointer-events-none",se=c/1e3;let te;e[56]===Symbol.for("react.memo_cache_sentinel")?(te=Fe=>l(Fe*1e3),e[56]=te):te=e[56];let be;e[57]!==se?(be=jsxRuntimeExports.jsx(DraggableNumberInput,{value:se,onChange:te,min:1,max:30,step:.5}),e[57]=se,e[58]=be):be=e[58];let Z;e[59]!==J||e[60]!==be?(Z=jsxRuntimeExports.jsx("div",{className:J,children:be}),e[59]=J,e[60]=be,e[61]=Z):Z=e[61];const Ee=c/1e3;let me;e[62]!==Ee?(me=Ee.toFixed(1),e[62]=Ee,e[63]=me):me=e[63];let ge;e[64]!==me?(ge=jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:[me," giây"]}),e[64]=me,e[65]=ge):ge=e[65];let Ke;e[66]!==Z||e[67]!==ge?(Ke=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[Z,ge]}),e[66]=Z,e[67]=ge,e[68]=Ke):Ke=e[68];let Ue;e[69]!==Ce||e[70]!==Ke?(Ue=jsxRuntimeExports.jsxs("div",{style:Ce,children:[le,Ke]}),e[69]=Ce,e[70]=Ke,e[71]=Ue):Ue=e[71];const _e=i&&k?1:.5,Qe=i&&k?"auto":"none";let qe;e[72]!==_e||e[73]!==Qe?(qe={opacity:_e,pointerEvents:Qe},e[72]=_e,e[73]=Qe,e[74]=qe):qe=e[74];let Ye;e[75]===Symbol.for("react.memo_cache_sentinel")?(Ye=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kích cỡ:"}),e[75]=Ye):Ye=e[75];let nt;e[76]!==d?(nt=[d],e[76]=d,e[77]=nt):nt=e[77];let et;e[78]===Symbol.for("react.memo_cache_sentinel")?(et=Fe=>u(Fe.value[0]),e[78]=et):et=e[78];const re=!k;let Xe;e[79]===Symbol.for("react.memo_cache_sentinel")?(Xe=jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kích cỡ"})}),e[79]=Xe):Xe=e[79];let tt;e[80]===Symbol.for("react.memo_cache_sentinel")?(tt=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:sizeOptions.items.map(_temp$P)})}),e[80]=tt):tt=e[80];let rt;e[81]!==nt||e[82]!==re?(rt=jsxRuntimeExports.jsxs(SelectRoot,{colorPalette:BRAND_COLOR,collection:sizeOptions,value:nt,onValueChange:et,className:selectorClasses.focusRing,disabled:re,children:[Xe,tt]}),e[81]=nt,e[82]=re,e[83]=rt):rt=e[83];let Rt;e[84]!==qe||e[85]!==rt?(Rt=jsxRuntimeExports.jsxs("div",{style:qe,children:[Ye,rt]}),e[84]=qe,e[85]=rt,e[86]=Rt):Rt=e[86];const wt=i&&k?1:.5,St=i&&k?"auto":"none";let bt;e[87]!==wt||e[88]!==St?(bt={opacity:wt,pointerEvents:St},e[87]=wt,e[88]=St,e[89]=bt):bt=e[89];let yt;e[90]===Symbol.for("react.memo_cache_sentinel")?(yt=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Icon hiển thị:"}),e[90]=yt):yt=e[90];let jt;e[91]===Symbol.for("react.memo_cache_sentinel")?(jt=Fe=>g(Fe.checked),e[91]=jt):jt=e[91];const we=!k;let G;e[92]===Symbol.for("react.memo_cache_sentinel")?(G=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[92]=G):G=e[92];let X;e[93]===Symbol.for("react.memo_cache_sentinel")?(X=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[93]=X):X=e[93];let K;e[94]!==x||e[95]!==we?(K=jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:x,onCheckedChange:jt,className:selectorClasses.focusRing,disabled:we,children:[G,X]}),e[94]=x,e[95]=we,e[96]=K):K=e[96];const ne=k?"":"text-gray-400";let ve;e[97]!==ne?(ve=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",className:ne,children:"Hiển thị icon"}),e[97]=ne,e[98]=ve):ve=e[98];let Te;e[99]!==K||e[100]!==ve?(Te=jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs(HStack,{children:[K,ve]})}),e[99]=K,e[100]=ve,e[101]=Te):Te=e[101];let Le;e[102]!==k||e[103]!==p||e[104]!==m||e[105]!==x||e[106]!==h?(Le=x&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsxs(SwitchRoot,{colorPalette:BRAND_COLOR,checked:h,onCheckedChange:Fe=>E(Fe.checked),className:selectorClasses.focusRing,disabled:!k,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})})]}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",className:k?"":"text-gray-400",children:"Sử dụng icon mặc định"})]})}),!h&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"url",value:m,onChange:Fe=>R(Fe.target.value),placeholder:"Nhập URL icon hoặc chọn từ thư viện",disabled:!k,className:`flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm ${k?"":"bg-gray-100 cursor-not-allowed"}`}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:H,disabled:!k,className:`px-4 py-2 text-white rounded-md text-sm flex items-center gap-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 ${k?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:[jsxRuntimeExports.jsx(FiBell,{}),"Chọn icon"]})]}),m&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 flex items-center justify-center",dangerouslySetInnerHTML:{__html:(()=>{try{return m.startsWith("data:image/svg+xml;base64,")?atob(m.split(",")[1]).replace(/fill="[^"]*"/g,`fill="${p}"`):`<img src="${m}" alt="icon" style="width: 100%; height: 100%; object-fit: contain;" />`}catch{return`<img src="${m}" alt="icon" style="width: 100%; height: 100%; object-fit: contain;" />`}})()}}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>v(!0),className:"px-3 py-1 text-xs border border-gray-300 rounded-md bg-gray-100 hover:bg-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:p},children:"Màu icon"})]})]})]}),e[102]=k,e[103]=p,e[104]=m,e[105]=x,e[106]=h,e[107]=Le):Le=e[107];let st;e[108]!==bt||e[109]!==Te||e[110]!==Le?(st=jsxRuntimeExports.jsxs("div",{style:bt,children:[yt,Te,Le]}),e[108]=bt,e[109]=Te,e[110]=Le,e[111]=st):st=e[111];let ft;e[112]!==Me||e[113]!==Ue||e[114]!==Rt||e[115]!==st?(ft=jsxRuntimeExports.jsxs("div",{className:modalSectionSpacing,children:[Me,Ue,Rt,st]}),e[112]=Me,e[113]=Ue,e[114]=Rt,e[115]=st,e[116]=ft):ft=e[116];let ht;e[117]!==o||e[118]!==r||e[119]!==V||e[120]!==ft?(ht=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:r,title:"Cài đặt thông báo lời chúc",zIndex:zIndex.notificationSettings,widthClass:"w-[500px] max-w-[90%]",footer:V,children:ft}),e[117]=o,e[118]=r,e[119]=V,e[120]=ft,e[121]=ht):ht=e[121];let ct;e[122]===Symbol.for("react.memo_cache_sentinel")?(ct=()=>C(!1),e[122]=ct):ct=e[122];let Et;e[123]!==w?(Et=jsxRuntimeExports.jsx(IconPickerModal,{isOpen:w,onClose:ct,onIconSelect:D,initialSearchTerm:"bell"}),e[123]=w,e[124]=Et):Et=e[124];let Tt,vt;e[125]===Symbol.for("react.memo_cache_sentinel")?(Tt=()=>v(!1),vt=Fe=>j(Fe),e[125]=Tt,e[126]=vt):(Tt=e[125],vt=e[126]);let it;e[127]!==p||e[128]!==b?(it=jsxRuntimeExports.jsx(ColorPickerModal,{isOpen:b,onClose:Tt,onColorChange:vt,initialColor:p}),e[127]=p,e[128]=b,e[129]=it):it=e[129];let ae;return e[130]!==ht||e[131]!==Et||e[132]!==it?(ae=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ht,Et,it]}),e[130]=ht,e[131]=Et,e[132]=it,e[133]=ae):ae=e[133],ae};function _temp$P(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:t.label},t.value)}const ParticleEffectsModal=t=>{const e=compilerRuntimeExports.c(159),{isOpen:o,onClose:r,initialValues:s}=t,[i,a]=reactExports.useState("snow"),[c,l]=reactExports.useState(""),[d,u]=reactExports.useState("#ffffff"),[m,R]=reactExports.useState(50),[p,j]=reactExports.useState(5),[x,g]=reactExports.useState(10),[h,E]=reactExports.useState(30),[w,C]=reactExports.useState(!1),{mutate:b}=useUpdateTemplate(),{mutate:v}=useUpdatePageContent(),{hasFeature:_,isPage:I,id:$}=useViewport();let A;e[0]!==_?(A=_("custom_visual_effects"),e[0]=_,e[1]=A):A=e[1];const T=A;let L;e[2]!==_?(L=_("custom_visual_effects_advance"),e[2]=_,e[3]=L):L=e[3];const P=L;let N;e[4]!==I||e[5]!==v||e[6]!==b?(N=ee=>{(I?v:b)(ee)},e[4]=I,e[5]=v,e[6]=b,e[7]=N):N=e[7];const k=N,B=createListCollection({items:[{label:"Hiệu ứng bông tuyết",value:"snow",disabled:!T},{label:"Hiệu ứng trái tim",value:"heart",disabled:!T},{label:"Hiệu ứng tuỳ chọn",value:"custom",disabled:!P}]});let F,W;e[8]!==s?(F=()=>{if(s){const ee=s.imageUrl||"";let Be="";if(ee.startsWith("data:image/svg+xml;base64,"))try{Be=atob(ee.replace("data:image/svg+xml;base64,",""))}catch{Be=""}if(Be.includes("M12 21.35L10.55 20.03C5.4 15.36")){a("heart");const ze=Be.match(/fill="([^"]+)"/);u(ze?ze[1]:"#ff0000")}else if(Be.includes('circle cx="12" cy="12" r="4"')||Be.includes('filter="url(#shadow)"')){a("snow");const ze=Be.match(/fill="([^"]+)"/);u(ze?ze[1]:"#ffffff")}else{a("custom");const ze=Be.match(/fill="([^"]+)"/);u(ze?ze[1]:"#ffffff")}l(ee),R(s.coverageLevel||50),j(s.fallSpeed||5),g(s.minSize||10),E(s.maxSize||30)}},W=[s],e[8]=s,e[9]=F,e[10]=W):(F=e[9],W=e[10]),reactExports.useEffect(F,W);let z,H;e[11]!==T||e[12]!==i?(z=()=>{!T&&i!=="snow"&&(a("snow"),u("#ffffff"))},H=[T,i],e[11]=T,e[12]=i,e[13]=z,e[14]=H):(z=e[13],H=e[14]),reactExports.useEffect(z,H);const{showIconPickerModal:U}=useViewport();if(!o)return null;const D=_temp$O;let O;e[15]!==d||e[16]!==i||e[17]!==c?(O=()=>{switch(i){case"snow":return"data:image/svg+xml;base64,"+btoa(`
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
						<defs>
							<filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
								<feDropShadow dx="1" dy="1" stdDeviation="1" flood-color="rgba(0,0,0,0.3)"/>
							</filter>
						</defs>
						<circle cx="12" cy="12" r="4" fill="${d}" filter="url(#shadow)"/>
					</svg>
				`);case"heart":return"data:image/svg+xml;base64,"+btoa(`
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${d}">
						<path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z"/>
					</svg>
				`);case"custom":{if(c.startsWith("data:image/svg+xml;base64,")){const ee=atob(c.replace("data:image/svg+xml;base64,","")),Be=D(ee,d);return"data:image/svg+xml;base64,"+btoa(Be)}return c}default:return c}},e[15]=d,e[16]=i,e[17]=c,e[18]=O):O=e[18];const Q=O;let q;e[19]!==m||e[20]!==p||e[21]!==Q||e[22]!==i||e[23]!==h||e[24]!==x||e[25]!==r||e[26]!==k||e[27]!==$?(q=async()=>{const ee=Q();if(!ee&&i==="custom"){toaster.create({title:"Lỗi",description:"Vui lòng chọn biểu tượng để sử dụng hiệu ứng.",type:"error"});return}const Be={imageUrl:ee,coverageLevel:m,fallSpeed:p,minSize:x,maxSize:h};k({id:Number($),data:{effects:Be}}),r()},e[19]=m,e[20]=p,e[21]=Q,e[22]=i,e[23]=h,e[24]=x,e[25]=r,e[26]=k,e[27]=$,e[28]=q):q=e[28];const Y=q;let V;e[29]===Symbol.for("react.memo_cache_sentinel")?(V=async()=>{C(!0)},e[29]=V):V=e[29];const de=V;let ue;e[30]!==U?(ue=()=>{U(ee=>{const Be="data:image/svg+xml;base64,"+btoa(ee);l(Be)})},e[30]=U,e[31]=ue):ue=e[31];const Re=ue,oe=EditorModal,ce="Cài đặt Hiệu ứng Rơi";let je;e[32]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsxs("button",{onClick:de,className:modalButton.danger+" flex items-center gap-2",children:[jsxRuntimeExports.jsx(FiX,{size:16})," Xóa hiệu ứng"]}),e[32]=je):je=e[32];let ie;e[33]!==r?(ie=jsxRuntimeExports.jsx("button",{onClick:r,className:modalButton.secondary,children:"Hủy"}),e[33]=r,e[34]=ie):ie=e[34];let xe;e[35]!==Y?(xe=jsxRuntimeExports.jsx("button",{onClick:Y,className:modalButton.primary,children:"Áp dụng"}),e[35]=Y,e[36]=xe):xe=e[36];let pe;e[37]!==ie||e[38]!==xe?(pe=jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center justify-between gap-3",children:[je,jsxRuntimeExports.jsxs("div",{className:"flex gap-2 ml-auto",children:[ie,xe]})]}),e[37]=ie,e[38]=xe,e[39]=pe):pe=e[39];const $e="space-y-6 pb-2",Se="space-y-3";let Ie;e[40]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loại hiệu ứng"}),e[40]=Ie):Ie=e[40];const Me=SelectRoot;let He;e[41]!==i?(He=[i],e[41]=i,e[42]=He):He=e[42];const fe=ee=>{const Be=ee.value[0],ze=B.items.find(Ge=>Ge.value===Be);ze!=null&&ze.disabled||(a(Be),u(Be==="snow"?"#ffffff":Be==="heart"?"#ff0000":"#ffffff"))},Ce="sm";let le;e[43]===Symbol.for("react.memo_cache_sentinel")?(le={placement:"bottom"},e[43]=le):le=e[43];let J;e[44]===Symbol.for("react.memo_cache_sentinel")?(J=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{})}),e[44]=J):J=e[44];const se=SelectContent,te=B.items.map(_temp2$w);let be;e[45]!==se||e[46]!==te?(be=jsxRuntimeExports.jsx(se,{children:te}),e[45]=se,e[46]=te,e[47]=be):be=e[47];let Z;e[48]!==Me||e[49]!==B||e[50]!==He||e[51]!==fe||e[52]!==le||e[53]!==J||e[54]!==be?(Z=jsxRuntimeExports.jsxs(Me,{collection:B,value:He,onValueChange:fe,size:Ce,positioning:le,children:[J,be]}),e[48]=Me,e[49]=B,e[50]=He,e[51]=fe,e[52]=le,e[53]=J,e[54]=be,e[55]=Z):Z=e[55];let Ee;e[56]===Symbol.for("react.memo_cache_sentinel")?(Ee=jsxRuntimeExports.jsx("span",{children:"Xem trước:"}),e[56]=Ee):Ee=e[56];let me;if(e[57]!==Q){e:{const ee=Q();if(ee!=null&&ee.startsWith("data:image/svg+xml;base64,")){me=atob(ee.replace("data:image/svg+xml;base64,",""));break e}else if(ee){me=`<img src="${ee}" alt="Preview" style="width:100%;height:100%;object-fit:cover;" />`;break e}me='<div style="width:100%;height:100%;background:#f0f0f0;border:1px dashed #ccc;"></div>'}e[57]=Q,e[58]=me}else me=e[58];let ge;e[59]!==me?(ge=jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 bg-gray-100 p-2 rounded",children:[Ee,jsxRuntimeExports.jsx("div",{className:"w-10 h-10 flex items-center justify-center border border-gray-300",dangerouslySetInnerHTML:{__html:me}})]}),e[59]=me,e[60]=ge):ge=e[60];let Ke;e[61]!==Ie||e[62]!==Z||e[63]!==ge?(Ke=jsxRuntimeExports.jsxs("div",{className:Se,children:[Ie,Z,ge]}),e[61]=Ie,e[62]=Z,e[63]=ge,e[64]=Ke):Ke=e[64];let Ue;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ue=ee=>u(ee),e[65]=Ue):Ue=e[65];let _e;e[66]!==d?(_e=jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsx(ColorControl,{label:"Màu biểu tượng",value:d,onChange:Ue,size:"sm",showValueText:!0,previewSize:26})}),e[66]=d,e[67]=_e):_e=e[67];let Qe;e[68]!==Re||e[69]!==P||e[70]!==i?(Qe=i==="custom"&&P&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Chọn biểu tượng tuỳ chọn"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:Re,className:modalButton.primary+" flex items-center gap-2 !py-1",children:[jsxRuntimeExports.jsx(FiUpload,{size:16})," Chọn biểu tượng"]})})]}),e[68]=Re,e[69]=P,e[70]=i,e[71]=Qe):Qe=e[71];let qe;e[72]!==m?(qe=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Mức độ phủ: ",m,"%"]}),e[72]=m,e[73]=qe):qe=e[73];let Ye;e[74]!==m?(Ye=jsxRuntimeExports.jsx(DraggableNumberInput,{value:m,onChange:R,min:1,max:100,tooltip:"Điều chỉnh mức độ phủ của hiệu ứng"}),e[74]=m,e[75]=Ye):Ye=e[75];let nt;e[76]===Symbol.for("react.memo_cache_sentinel")?(nt=ee=>R(parseInt(ee.target.value)),e[76]=nt):nt=e[76];let et;e[77]!==m?(et=jsxRuntimeExports.jsx("input",{type:"range",min:"1",max:"100",value:m,onChange:nt,className:"flex-1"}),e[77]=m,e[78]=et):et=e[78];let re;e[79]!==Ye||e[80]!==et?(re=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ye,et]}),e[79]=Ye,e[80]=et,e[81]=re):re=e[81];let Xe;e[82]!==qe||e[83]!==re?(Xe=jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[qe,re]}),e[82]=qe,e[83]=re,e[84]=Xe):Xe=e[84];let tt;e[85]!==p?(tt=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Tốc độ rơi: ",p]}),e[85]=p,e[86]=tt):tt=e[86];let rt;e[87]!==p?(rt=jsxRuntimeExports.jsx(DraggableNumberInput,{value:p,onChange:j,min:1,max:10,tooltip:"Điều chỉnh tốc độ rơi của các hạt"}),e[87]=p,e[88]=rt):rt=e[88];let Rt;e[89]===Symbol.for("react.memo_cache_sentinel")?(Rt=ee=>j(parseInt(ee.target.value)),e[89]=Rt):Rt=e[89];let wt;e[90]!==p?(wt=jsxRuntimeExports.jsx("input",{type:"range",min:"1",max:"10",value:p,onChange:Rt,className:"flex-1"}),e[90]=p,e[91]=wt):wt=e[91];let St;e[92]!==rt||e[93]!==wt?(St=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[rt,wt]}),e[92]=rt,e[93]=wt,e[94]=St):St=e[94];let bt;e[95]!==tt||e[96]!==St?(bt=jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[tt,St]}),e[95]=tt,e[96]=St,e[97]=bt):bt=e[97];let yt;e[98]!==x?(yt=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Kích thước nhỏ nhất: ",x,"px"]}),e[98]=x,e[99]=yt):yt=e[99];let jt;e[100]!==h?(jt=ee=>{g(ee),ee>h&&E(ee)},e[100]=h,e[101]=jt):jt=e[101];let we;e[102]!==x||e[103]!==jt?(we=jsxRuntimeExports.jsx(DraggableNumberInput,{value:x,onChange:jt,min:5,max:100,tooltip:"Kích thước nhỏ nhất của các hạt (px)"}),e[102]=x,e[103]=jt,e[104]=we):we=e[104];let G;e[105]!==h?(G=ee=>{const Be=parseInt(ee.target.value);g(Be),Be>h&&E(Be)},e[105]=h,e[106]=G):G=e[106];let X;e[107]!==x||e[108]!==G?(X=jsxRuntimeExports.jsx("input",{type:"range",min:"5",max:"100",value:x,onChange:G,className:"flex-1"}),e[107]=x,e[108]=G,e[109]=X):X=e[109];let K;e[110]!==we||e[111]!==X?(K=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[we,X]}),e[110]=we,e[111]=X,e[112]=K):K=e[112];let ne;e[113]!==yt||e[114]!==K?(ne=jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[yt,K]}),e[113]=yt,e[114]=K,e[115]=ne):ne=e[115];let ve;e[116]!==h?(ve=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Kích thước lớn nhất: ",h,"px"]}),e[116]=h,e[117]=ve):ve=e[117];let Te;e[118]!==x?(Te=ee=>{E(ee),ee<x&&g(ee)},e[118]=x,e[119]=Te):Te=e[119];let Le;e[120]!==h||e[121]!==Te?(Le=jsxRuntimeExports.jsx(DraggableNumberInput,{value:h,onChange:Te,min:5,max:100,tooltip:"Kích thước lớn nhất của các hạt (px)"}),e[120]=h,e[121]=Te,e[122]=Le):Le=e[122];let st;e[123]!==x?(st=ee=>{const Be=parseInt(ee.target.value);E(Be),Be<x&&g(Be)},e[123]=x,e[124]=st):st=e[124];let ft;e[125]!==h||e[126]!==st?(ft=jsxRuntimeExports.jsx("input",{type:"range",min:"5",max:"100",value:h,onChange:st,className:"flex-1"}),e[125]=h,e[126]=st,e[127]=ft):ft=e[127];let ht;e[128]!==Le||e[129]!==ft?(ht=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Le,ft]}),e[128]=Le,e[129]=ft,e[130]=ht):ht=e[130];let ct;e[131]!==ve||e[132]!==ht?(ct=jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[ve,ht]}),e[131]=ve,e[132]=ht,e[133]=ct):ct=e[133];let Et;e[134]!==Ke||e[135]!==_e||e[136]!==Qe||e[137]!==Xe||e[138]!==bt||e[139]!==ne||e[140]!==ct?(Et=jsxRuntimeExports.jsxs("div",{className:$e,children:[Ke,_e,Qe,Xe,bt,ne,ct]}),e[134]=Ke,e[135]=_e,e[136]=Qe,e[137]=Xe,e[138]=bt,e[139]=ne,e[140]=ct,e[141]=Et):Et=e[141];let Tt;e[142]!==oe||e[143]!==o||e[144]!==r||e[145]!==pe||e[146]!==Et?(Tt=jsxRuntimeExports.jsx(oe,{isOpen:o,onClose:r,title:ce,footer:pe,children:Et}),e[142]=oe,e[143]=o,e[144]=r,e[145]=pe,e[146]=Et,e[147]=Tt):Tt=e[147];let vt;e[148]===Symbol.for("react.memo_cache_sentinel")?(vt=()=>C(!1),e[148]=vt):vt=e[148];let it;e[149]!==r||e[150]!==k||e[151]!==$?(it=async()=>{k({id:Number($),data:{effects:{}}}),r()},e[149]=r,e[150]=k,e[151]=$,e[152]=it):it=e[152];let ae;e[153]!==w||e[154]!==it?(ae=jsxRuntimeExports.jsx(ModalConfirm,{isOpen:w,onClose:vt,onConfirm:it,message:"Bạn có chắc chắn muốn xóa tất cả hiệu ứng không?",confirmLabel:"Xóa",confirmType:"danger"}),e[153]=w,e[154]=it,e[155]=ae):ae=e[155];let Fe;return e[156]!==Tt||e[157]!==ae?(Fe=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Tt,ae]}),e[156]=Tt,e[157]=ae,e[158]=Fe):Fe=e[158],Fe};function _temp$O(t,e){if(!t||!e)return t;const r=new DOMParser().parseFromString(t,"image/svg+xml"),s=r.querySelector("svg");return s?(s.setAttribute("fill",e),s.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(a=>{const c=a.getAttribute("fill");(!c||c!=="none"&&c!=="transparent")&&a.setAttribute("fill",e)}),new XMLSerializer().serializeToString(r)):t}function _temp2$w(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,className:t.disabled?"opacity-50 cursor-not-allowed pointer-events-none":"",children:[jsxRuntimeExports.jsxs(SelectItemText,{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:t.disabled?"text-gray-400":"",children:t.label}),t.disabled&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})})]}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}const SEOSettingsModal=t=>{const e=compilerRuntimeExports.c(165),{isOpen:o,onClose:r,initialValues:s}=t,[i,a]=reactExports.useState(""),[c,l]=reactExports.useState(""),[d,u]=reactExports.useState(""),[m,R]=reactExports.useState("");let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0];const[j,x]=reactExports.useState(p),[g,h]=reactExports.useState(""),[E,w]=reactExports.useState(""),[C,b]=reactExports.useState(""),[v,_]=reactExports.useState(""),{mutate:I}=useUpdateTemplate(),{mutate:$}=useUpdatePageContent(),{showFileSelectModal:A,id:T,hasFeature:L,isPage:P}=useViewport();let N;e[1]!==L?(N=L("seo_settings"),e[1]=L,e[2]=N):N=e[2];const k=N;let B;e[3]!==L?(B=L("seo_settings_vip"),e[3]=L,e[4]=B):B=e[4];const F=B;let W;e[5]!==P||e[6]!==$||e[7]!==I?(W=Ze=>{(P?$:I)(Ze)},e[5]=P,e[6]=$,e[7]=I,e[8]=W):W=e[8];const z=W;let H,U;if(e[9]!==s?(H=()=>{var Ze;Object.keys(s||{}).length&&(a(s.title||""),l(s.titleGuest||""),u(s.description||""),R(s.descriptionGuest||""),x((Ze=s.keywords)!=null&&Ze.length?s.keywords:[]),h(s.imageUrl||""),w(s.favoriteIconUrl||""),_(s.password||""))},U=[s],e[9]=s,e[10]=H,e[11]=U):(H=e[10],U=e[11]),reactExports.useEffect(H,U),!o)return null;let D;e[12]!==d||e[13]!==m||e[14]!==E||e[15]!==T||e[16]!==g||e[17]!==j||e[18]!==r||e[19]!==v||e[20]!==z||e[21]!==i||e[22]!==c?(D=async()=>{if(!i.trim()){toaster.create({title:"Lỗi",description:"Vui lòng nhập tiêu đề trang.",type:"error"});return}if(!d.trim()){toaster.create({title:"Lỗi",description:"Vui lòng nhập mô tả trang.",type:"error"});return}if(!d.trim()){toaster.create({title:"Lỗi",description:"Vui lòng nhập mô tả trang.",type:"error"});return}const Ze={title:i.trim(),titleGuest:c.trim()||void 0,description:d.trim(),descriptionGuest:m.trim()||void 0,keywords:j.filter(_temp$N),imageUrl:g,favoriteIconUrl:E,password:v.trim()||void 0};z({id:Number(T),data:{seoSettings:Ze}}),r()},e[12]=d,e[13]=m,e[14]=E,e[15]=T,e[16]=g,e[17]=j,e[18]=r,e[19]=v,e[20]=z,e[21]=i,e[22]=c,e[23]=D):D=e[23];const O=D;let Q;e[24]!==A?(Q=()=>A(FileType.IMAGE,Ze=>h(Ze)),e[24]=A,e[25]=Q):Q=e[25];const q=Q;let Y;e[26]!==A?(Y=()=>A(FileType.IMAGE,Ze=>w(Ze)),e[26]=A,e[27]=Y):Y=e[27];const V=Y;let de;e[28]!==j||e[29]!==C?(de=()=>{C.trim()&&!j.includes(C.trim())&&(x([...j,C.trim()]),b(""))},e[28]=j,e[29]=C,e[30]=de):de=e[30];const ue=de;let Re;e[31]!==j?(Re=Ze=>x(j.filter((kt,Mt)=>Mt!==Ze)),e[31]=j,e[32]=Re):Re=e[32];const oe=Re;let ce;e[33]!==ue?(ce=Ze=>{Ze.key==="Enter"&&(Ze.preventDefault(),ue())},e[33]=ue,e[34]=ce):ce=e[34];const je=ce;let ie;e[35]!==r?(ie=jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:modalButton.secondary,children:"Hủy"}),e[35]=r,e[36]=ie):ie=e[36];let xe;e[37]!==O?(xe=jsxRuntimeExports.jsx("button",{type:"button",onClick:O,className:modalButton.primary,children:"Lưu cài đặt"}),e[37]=O,e[38]=xe):xe=e[38];let pe;e[39]!==ie||e[40]!==xe?(pe=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ie,xe]}),e[39]=ie,e[40]=xe,e[41]=pe):pe=e[41];let $e;e[42]===Symbol.for("react.memo_cache_sentinel")?($e=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tiêu đề trang (Tiêu đề thiệp cưới) *:"}),e[42]=$e):$e=e[42];let Se;e[43]===Symbol.for("react.memo_cache_sentinel")?(Se=Ze=>a(Ze.target.value),e[43]=Se):Se=e[43];let Ie;e[44]!==i?(Ie=jsxRuntimeExports.jsx("input",{type:"text",value:i,onChange:Se,placeholder:"Nhập tiêu đề trang (hiển thị trên tab trình duyệt)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",maxLength:60}),e[44]=i,e[45]=Ie):Ie=e[45];let Me;e[46]!==i.length?(Me=jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/60 ký tự. VD: Đám cưới của …"]}),e[46]=i.length,e[47]=Me):Me=e[47];let He;e[48]!==Ie||e[49]!==Me?(He=jsxRuntimeExports.jsxs("div",{children:[$e,Ie,Me]}),e[48]=Ie,e[49]=Me,e[50]=He):He=e[50];let fe;e[51]===Symbol.for("react.memo_cache_sentinel")?(fe=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tiêu đề trang cho khách mời (tùy chọn):"}),e[51]=fe):fe=e[51];let Ce;e[52]===Symbol.for("react.memo_cache_sentinel")?(Ce=Ze=>l(Ze.target.value),e[52]=Ce):Ce=e[52];let le;e[53]!==c?(le=jsxRuntimeExports.jsx("input",{type:"text",value:c,onChange:Ce,placeholder:"Nhập tiêu đề trang cho khách mời",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",maxLength:60}),e[53]=c,e[54]=le):le=e[54];let J;e[55]===Symbol.for("react.memo_cache_sentinel")?(J=jsxRuntimeExports.jsx("br",{}),e[55]=J):J=e[55];let se;e[56]!==c.length?(se=jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/60 ký tự. Sử dụng ","{guestName}",", ","{TenChuRe}",", ","{TenCoDau}",", ","{Address}",", ","{ThongTinKhac}"," để thay thế thông tin.",J,"VD: Thiệp cưới ","{TenChuRe}"," & ","{TenCoDau}"," dành cho ","{guestName}"]}),e[56]=c.length,e[57]=se):se=e[57];let te;e[58]!==le||e[59]!==se?(te=jsxRuntimeExports.jsxs("div",{children:[fe,le,se]}),e[58]=le,e[59]=se,e[60]=te):te=e[60];let be;e[61]===Symbol.for("react.memo_cache_sentinel")?(be=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mô tả trang (Thiệp cưới) *:"}),e[61]=be):be=e[61];let Z;e[62]===Symbol.for("react.memo_cache_sentinel")?(Z=Ze=>u(Ze.target.value),e[62]=Z):Z=e[62];let Ee;e[63]!==d?(Ee=jsxRuntimeExports.jsx("textarea",{value:d,onChange:Z,placeholder:"Nhập mô tả trang (hiển thị trong kết quả tìm kiếm)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm h-20 resize-none",maxLength:160}),e[63]=d,e[64]=Ee):Ee=e[64];let me;e[65]!==d.length?(me=jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/160 ký tự."]}),e[65]=d.length,e[66]=me):me=e[66];let ge;e[67]!==Ee||e[68]!==me?(ge=jsxRuntimeExports.jsxs("div",{children:[be,Ee,me]}),e[67]=Ee,e[68]=me,e[69]=ge):ge=e[69];let Ke;e[70]===Symbol.for("react.memo_cache_sentinel")?(Ke=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mô tả trang cho khách mời (tùy chọn):"}),e[70]=Ke):Ke=e[70];let Ue;e[71]===Symbol.for("react.memo_cache_sentinel")?(Ue=Ze=>R(Ze.target.value),e[71]=Ue):Ue=e[71];let _e;e[72]!==m?(_e=jsxRuntimeExports.jsx("textarea",{value:m,onChange:Ue,placeholder:"Nhập mô tả trang cho khách mời",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm h-20 resize-none",maxLength:160}),e[72]=m,e[73]=_e):_e=e[73];let Qe;e[74]===Symbol.for("react.memo_cache_sentinel")?(Qe=jsxRuntimeExports.jsx("br",{}),e[74]=Qe):Qe=e[74];let qe;e[75]!==m.length?(qe=jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[m.length,"/160 ký tự. Sử dụng ","{guestName}",", ","{TenChuRe}",", ","{TenCoDau}",", ","{Address}",", ","{ThongTinKhac}"," để thay thế thông tin.",Qe,"VD: Kính mời ","{guestName}"," tham dự đám cưới ","{TenChuRe}"," và ","{TenCoDau}"]}),e[75]=m.length,e[76]=qe):qe=e[76];let Ye;e[77]!==_e||e[78]!==qe?(Ye=jsxRuntimeExports.jsxs("div",{children:[Ke,_e,qe]}),e[77]=_e,e[78]=qe,e[79]=Ye):Ye=e[79];let nt;e[80]===Symbol.for("react.memo_cache_sentinel")?(nt=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Từ khóa:"}),e[80]=nt):nt=e[80];let et;e[81]===Symbol.for("react.memo_cache_sentinel")?(et=Ze=>b(Ze.target.value),e[81]=et):et=e[81];let re;e[82]!==je||e[83]!==C?(re=jsxRuntimeExports.jsx("input",{type:"text",value:C,onChange:et,onKeyPress:je,placeholder:"Nhập từ khóa và nhấn Enter",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),e[82]=je,e[83]=C,e[84]=re):re=e[84];let Xe;e[85]===Symbol.for("react.memo_cache_sentinel")?(Xe=jsxRuntimeExports.jsx(FiPlus,{size:14}),e[85]=Xe):Xe=e[85];let tt;e[86]!==ue?(tt=jsxRuntimeExports.jsxs("button",{type:"button",onClick:ue,className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm flex items-center gap-1",children:[Xe," Thêm"]}),e[86]=ue,e[87]=tt):tt=e[87];let rt;e[88]!==re||e[89]!==tt?(rt=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[re,tt]}),e[88]=re,e[89]=tt,e[90]=rt):rt=e[90];let Rt;e[91]!==j||e[92]!==oe?(Rt=j.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((Ze,kt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-md text-sm",children:[jsxRuntimeExports.jsx(FiTag,{size:12})," ",Ze,jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>oe(kt),className:"text-blue-600 hover:text-blue-800",children:jsxRuntimeExports.jsx(FiMinus,{size:12})})]},kt))}),e[91]=j,e[92]=oe,e[93]=Rt):Rt=e[93];let wt;e[94]!==rt||e[95]!==Rt?(wt=jsxRuntimeExports.jsxs("div",{children:[nt,rt,Rt]}),e[94]=rt,e[95]=Rt,e[96]=wt):wt=e[96];let St;e[97]===Symbol.for("react.memo_cache_sentinel")?(St=jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hình ảnh chia sẻ mạng xã hội:"}),e[97]=St):St=e[97];let bt;e[98]===Symbol.for("react.memo_cache_sentinel")?(bt=Ze=>h(Ze.target.value),e[98]=bt):bt=e[98];let yt;e[99]!==g?(yt=jsxRuntimeExports.jsx("input",{type:"url",value:g,onChange:bt,placeholder:"Nhập URL hình ảnh hoặc chọn từ thư viện",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),e[99]=g,e[100]=yt):yt=e[100];let jt;e[101]===Symbol.for("react.memo_cache_sentinel")?(jt=jsxRuntimeExports.jsx(FiImage,{}),e[101]=jt):jt=e[101];let we;e[102]!==q?(we=jsxRuntimeExports.jsxs("button",{type:"button",onClick:q,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 text-sm flex items-center gap-2",children:[jt," Chọn hình ảnh"]}),e[102]=q,e[103]=we):we=e[103];let G;e[104]!==yt||e[105]!==we?(G=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[yt,we]}),e[104]=yt,e[105]=we,e[106]=G):G=e[106];let X;e[107]!==g?(X=g&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("img",{src:g,alt:"Social Media Preview",className:"w-20 h-20 object-cover rounded border"})}),e[107]=g,e[108]=X):X=e[108];let K;e[109]===Symbol.for("react.memo_cache_sentinel")?(K=jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Khuyến nghị: 1200x630px (1.91:1)"}),e[109]=K):K=e[109];let ne;e[110]!==G||e[111]!==X?(ne=jsxRuntimeExports.jsxs("div",{children:[St,G,X,K]}),e[110]=G,e[111]=X,e[112]=ne):ne=e[112];const ve=F?"":"opacity-50 pointer-events-none";let Te;e[113]!==F?(Te=!F&&jsxRuntimeExports.jsx(FaCrown,{size:12,color:"#f97316"}),e[113]=F,e[114]=Te):Te=e[114];let Le;e[115]!==Te?(Le=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:["Biểu tượng trang (Favicon):",Te]}),e[115]=Te,e[116]=Le):Le=e[116];let st;e[117]===Symbol.for("react.memo_cache_sentinel")?(st=Ze=>w(Ze.target.value),e[117]=st):st=e[117];const ft=!F;let ht;e[118]!==E||e[119]!==ft?(ht=jsxRuntimeExports.jsx("input",{type:"url",value:E,onChange:st,placeholder:"Nhập URL biểu tượng hoặc chọn từ thư viện",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:ft}),e[118]=E,e[119]=ft,e[120]=ht):ht=e[120];const ct=`px-4 py-2 text-white rounded-md text-sm flex items-center gap-2 ${F?"bg-purple-500 hover:bg-purple-600":"bg-gray-400 cursor-not-allowed"}`,Et=!F;let Tt;e[121]===Symbol.for("react.memo_cache_sentinel")?(Tt=jsxRuntimeExports.jsx(FiGlobe,{}),e[121]=Tt):Tt=e[121];let vt;e[122]!==V||e[123]!==ct||e[124]!==Et?(vt=jsxRuntimeExports.jsxs("button",{type:"button",onClick:V,className:ct,disabled:Et,children:[Tt," Chọn biểu tượng"]}),e[122]=V,e[123]=ct,e[124]=Et,e[125]=vt):vt=e[125];let it;e[126]!==ht||e[127]!==vt?(it=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[ht,vt]}),e[126]=ht,e[127]=vt,e[128]=it):it=e[128];let ae;e[129]!==E?(ae=E&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("img",{src:E,alt:"Favicon Preview",className:"w-8 h-8 object-cover rounded border"})}),e[129]=E,e[130]=ae):ae=e[130];let Fe;e[131]===Symbol.for("react.memo_cache_sentinel")?(Fe=jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Khuyến nghị: 32x32 hoặc 16x16 PNG/ICO"}),e[131]=Fe):Fe=e[131];let ee;e[132]!==ve||e[133]!==Le||e[134]!==it||e[135]!==ae?(ee=jsxRuntimeExports.jsxs("div",{className:ve,children:[Le,it,ae,Fe]}),e[132]=ve,e[133]=Le,e[134]=it,e[135]=ae,e[136]=ee):ee=e[136];const Be=k?"":"opacity-50 pointer-events-none";let ze;e[137]===Symbol.for("react.memo_cache_sentinel")?(ze=jsxRuntimeExports.jsx(FiLock,{}),e[137]=ze):ze=e[137];let Ge;e[138]!==k?(Ge=!k&&jsxRuntimeExports.jsx(FaCrown,{size:12,color:"#f97316"}),e[138]=k,e[139]=Ge):Ge=e[139];let We;e[140]!==Ge?(We=jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[ze," Bảo vệ trang bằng mật khẩu:",Ge]}),e[140]=Ge,e[141]=We):We=e[141];let Ve;e[142]===Symbol.for("react.memo_cache_sentinel")?(Ve=Ze=>_(Ze.target.value),e[142]=Ve):Ve=e[142];const Je=!k;let he;e[143]!==v||e[144]!==Je?(he=jsxRuntimeExports.jsx("input",{type:"password",value:v,onChange:Ve,placeholder:"Nhập mật khẩu (để trống nếu không cần)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:Je,autoComplete:"new-password","data-form-type":"other"}),e[143]=v,e[144]=Je,e[145]=he):he=e[145];let at;e[146]===Symbol.for("react.memo_cache_sentinel")?(at=jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Nếu đặt mật khẩu, người xem cần nhập để truy cập."}),e[146]=at):at=e[146];let xt;e[147]!==Be||e[148]!==We||e[149]!==he?(xt=jsxRuntimeExports.jsxs("div",{className:Be,children:[We,he,at]}),e[147]=Be,e[148]=We,e[149]=he,e[150]=xt):xt=e[150];let gt;e[151]!==He||e[152]!==te||e[153]!==ge||e[154]!==Ye||e[155]!==wt||e[156]!==ne||e[157]!==ee||e[158]!==xt?(gt=jsxRuntimeExports.jsxs("div",{className:modalSectionSpacing,children:[He,te,ge,Ye,wt,ne,ee,xt]}),e[151]=He,e[152]=te,e[153]=ge,e[154]=Ye,e[155]=wt,e[156]=ne,e[157]=ee,e[158]=xt,e[159]=gt):gt=e[159];let Oe;return e[160]!==o||e[161]!==r||e[162]!==pe||e[163]!==gt?(Oe=jsxRuntimeExports.jsx(EditorModal,{isOpen:o,onClose:r,title:"Cài đặt SEO",zIndex:zIndex.albumModal,widthClass:"w-[600px] max-w-[90%]",footer:pe,children:gt}),e[160]=o,e[161]=r,e[162]=pe,e[163]=gt,e[164]=Oe):Oe=e[164],Oe};function _temp$N(t){return t.trim()!==""}const defaultSettings$1={mobileWidth:"380px",desktopWidth:"960px",mobileOnly:!1,mobilePageBackgroundColor:"#ffffff"},ViewportSettingsContext=reactExports.createContext({settings:defaultSettings$1,updateSettings:()=>{},isLoading:!1}),useViewportSettings=()=>reactExports.useContext(ViewportSettingsContext),ViewportSettingsProvider=t=>{const e=compilerRuntimeExports.c(10),{children:o,templateData:r}=t,[s,i]=reactExports.useState(defaultSettings$1),[a]=reactExports.useState(!1);let c,l;e[0]!==r?(c=()=>{r!=null&&r.pageSettings&&i({...defaultSettings$1,...r.pageSettings})},l=[r],e[0]=r,e[1]=c,e[2]=l):(c=e[1],l=e[2]),reactExports.useEffect(c,l);let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=p=>{i(j=>({...j,...p}))},e[3]=d):d=e[3];const u=d;let m;e[4]!==a||e[5]!==s?(m={settings:s,updateSettings:u,isLoading:a},e[4]=a,e[5]=s,e[6]=m):m=e[6];let R;return e[7]!==o||e[8]!==m?(R=jsxRuntimeExports.jsx(ViewportSettingsContext.Provider,{value:m,children:o}),e[7]=o,e[8]=m,e[9]=R):R=e[9],R},getMobileWidth=t=>(t==null?void 0:t.mobileWidth)||defaultSettings$1.mobileWidth,getDesktopWidth=t=>(t==null?void 0:t.desktopWidth)||defaultSettings$1.desktopWidth,getDesktopBreakpoint=t=>{const e=getDesktopWidth(t||defaultSettings$1);return parseInt(e.replace("px",""))},isMobileOnly=t=>(t==null?void 0:t.mobileOnly)||!1,getMobilePageBackgroundColor=t=>(t==null?void 0:t.mobilePageBackgroundColor)||defaultSettings$1.mobilePageBackgroundColor,defaultSettings={mobileWidth:"380px",desktopWidth:"960px",mobileOnly:!1,mobilePageBackgroundColor:"#ffffff"},ViewportSettingsModal=({isOpen:t,onClose:e,initialValues:o})=>{const[r,s]=reactExports.useState(defaultSettings.mobileWidth),[i,a]=reactExports.useState(defaultSettings.desktopWidth),[c,l]=reactExports.useState(""),[d,u]=reactExports.useState(""),[m,R]=reactExports.useState(!1),[p,j]=reactExports.useState(!1),[x,g]=reactExports.useState(defaultSettings.mobileOnly),[h,E]=reactExports.useState(defaultSettings.mobilePageBackgroundColor),[w,C]=reactExports.useState(!1),{id:b,currentEditingPlatform:v,switchToPlatform:_,isPage:I}=useViewport(),{mutate:$}=useUpdateTemplate(),{mutate:A}=useUpdatePageContent(),{updateSettings:T}=useViewportSettings(),L=H=>{(I?A:$)(H)};if(reactExports.useEffect(()=>{if(t){const H=o.mobileWidth||defaultSettings.mobileWidth,U=o.desktopWidth||defaultSettings.desktopWidth;s(H),a(U),g(o.mobileOnly||defaultSettings.mobileOnly),E(o.mobilePageBackgroundColor||defaultSettings.mobilePageBackgroundColor),R(!N.includes(H)),j(!k.includes(U)),N.includes(H)||l(H),k.includes(U)||u(U)}},[t,o]),!t)return null;const P=async()=>{const H={mobileWidth:r,desktopWidth:i,mobileOnly:x,mobilePageBackgroundColor:h};try{if(x&&!o.mobileOnly){C(!0);return}L({id:Number(b),data:{pageSettings:H}}),T(H),x&&v==="desktop"&&(_("mobile"),window.location.reload()),e()}catch{toaster.create({title:"Lỗi",description:"Không thể lưu cài đặt viewport. Vui lòng thử lại.",type:"error"})}},N=["320px","380px","420px"],k=["960px","1200px","1440px"],B=[320,375,390,414,428],F=[960,1024,1200,1366,1440,1920],W=createListCollection({items:(()=>{const H=[...N];return r&&!N.includes(r)&&H.push(r),H.map(U=>({label:U,value:U}))})()}),z=createListCollection({items:(()=>{const H=[...k];return i&&!k.includes(i)&&H.push(i),H.map(U=>({label:U,value:U}))})()});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Cài đặt toàn trang",zIndex:zIndex.viewportSettings,widthClass:"w-[520px] max-w-[90%]",footer:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:e,className:modalButton.secondary,children:"Hủy"}),jsxRuntimeExports.jsx("button",{onClick:P,className:modalButton.primary,children:"Lưu"})]}),children:jsxRuntimeExports.jsxs("div",{className:modalSectionSpacing,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"w-[calc(50%-0.5rem)]",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chiều rộng Mobile"}),m?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:c,onChange:H=>{l(H.target.value),s(H.target.value)},placeholder:"Ví dụ: 375px",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{R(!1),s(N[1])},className:"px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Preset"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Nhập chiều rộng (ví dụ: 375px, 400px)"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(SelectRoot,{collection:W,value:[r],onValueChange:H=>s(H.value[0]),size:"sm",positioning:{placement:"bottom"},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{})}),jsxRuntimeExports.jsx(SelectContent,{children:W.items.map(H=>jsxRuntimeExports.jsxs(SelectItem,{item:H,children:[jsxRuntimeExports.jsx(SelectItemText,{children:H.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},H.value))})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:B.map(H=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>s(`${H}px`),className:`px-2 py-1 text-xs rounded border ${r===`${H}px`?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:H},H))}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{R(!0),l(r)},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Tùy chỉnh"})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-[calc(50%-0.5rem)]",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chiều rộng Desktop"}),p?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:d,onChange:H=>{u(H.target.value),a(H.target.value)},placeholder:"Ví dụ: 1200px",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{j(!1),a(k[0])},className:"px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Preset"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Nhập chiều rộng (ví dụ: 1200px, 1440px)"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(SelectRoot,{collection:z,value:[i],onValueChange:H=>a(H.value[0]),size:"sm",positioning:{placement:"bottom"},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{})}),jsxRuntimeExports.jsx(SelectContent,{children:z.items.map(H=>jsxRuntimeExports.jsxs(SelectItem,{item:H,children:[jsxRuntimeExports.jsx(SelectItemText,{children:H.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},H.value))})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:F.map(H=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>a(`${H}px`),className:`px-2 py-1 text-xs rounded border ${i===`${H}px`?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:H},H))}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{j(!0),u(i)},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Tùy chỉnh"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-baseline",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mode"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"mobileOnly",checked:!x,onChange:()=>g(!1),className:"mr-2"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center text-[#E53E3E]",children:[jsxRuntimeExports.jsx(FaLaptopCode,{size:16}),"  ",jsxRuntimeExports.jsx(FaMobileAlt,{size:16})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"mobileOnly",checked:x,onChange:()=>g(!0),className:"mr-2"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 items-center text-[#E53E3E]",children:jsxRuntimeExports.jsx(FaMobileAlt,{size:16})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nền cho Mobile"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsx("input",{type:"color",value:h,onChange:H=>E(H.target.value),className:"w-12 h-8 border border-gray-300 rounded cursor-pointer"})})]})]})}),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:w,onClose:()=>C(!1),onConfirm:async()=>{const H={mobileWidth:r,desktopWidth:i,mobileOnly:x,mobilePageBackgroundColor:h};L({id:Number(b),data:{pageSettings:H}}),T(H),x&&v==="desktop"&&(_("mobile"),window.location.reload()),e()},message:`Bạn có chắc chắn muốn bật chế độ "Chỉ Mobile"?

Khi bật:
• Editor sẽ chỉ hiển thị giao diện mobile
• Không thể chuyển sang chế độ desktop
• Tính năng đồng bộ giữa mobile và desktop vẫn hoạt động bình thường
• Nội dung desktop vẫn được duy trì và có thể đồng bộ

Nhấn Đồng ý để tiếp tục hoặc Hủy để hủy.`,confirmLabel:"Đồng ý"})]})};class GlobalGuestDataManager{constructor(){Io(this,"guestData",null);Io(this,"guestDataLoading",!1);Io(this,"guestDataError",null);Io(this,"loadedGuestId",null);Io(this,"cache",new Map);Io(this,"initialized",!1);Io(this,"pageId",null);Io(this,"listeners",new Set)}async loadGuestData(e,o){if(this.cache.has(e)){const r=this.cache.get(e);if(r){this.guestData=r,this.loadedGuestId=e,this.notifyListeners();return}}if(!(this.guestDataLoading||this.loadedGuestId===e)){this.guestDataLoading=!0,this.guestDataError=null,this.notifyListeners();try{const r=await getGuestByGuestId(e,o||void 0);r.success&&r.data?(this.cache.set(e,r.data),this.guestData=r.data,this.loadedGuestId=e,this.notifyListeners()):this.guestDataError="Failed to fetch guest data"}catch{this.guestDataError="Error fetching guest data",this.notifyListeners()}finally{this.guestDataLoading=!1,this.notifyListeners()}}}initializeFromURL(){if(this.initialized||(this.initialized=!0,typeof window>"u"))return;const e=window.location.pathname.split("/").filter(i=>i.length>0),o=e.length>0?e[0]:null,s=o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(o)?o:null;s&&this.loadGuestData(s,this.pageId)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){this.listeners.forEach(e=>e())}}const globalGuestDataManager=new GlobalGuestDataManager;typeof window<"u"&&setTimeout(()=>{globalGuestDataManager.initializeFromURL()},0);class PerformanceLogger{constructor(){Io(this,"entries",[]);Io(this,"timers",new Map);Io(this,"enabled",!0)}startTimer(e,o){if(!this.enabled)return"";const r=`${e}:${o}:${Date.now()}`;return this.timers.set(r,performance.now()),r}endTimer(e,o=0){if(!this.enabled||!e)return null;const r=this.timers.get(e);if(!r)return null;const s=performance.now()-r;this.timers.delete(e);const[i,a]=e.split(":");if(s>=o){const c={componentName:i,operation:a,duration:s,timestamp:Date.now()};this.entries.push(c)}return s}measure(e,o,r,s=16){if(!this.enabled)return r();const i=performance.now(),a=r();return performance.now()-i,a}async measureAsync(e,o,r,s=16){if(!this.enabled)return r();const i=performance.now(),a=await r();return performance.now()-i,a}getSummary(){const e=new Map;return this.entries.forEach(o=>{const r=e.get(o.componentName)||{count:0,total:0,max:0,avg:0};r.count++,r.total+=o.duration,r.max=Math.max(r.max,o.duration),e.set(o.componentName,r)}),e.forEach((o,r)=>{o.avg=o.total/o.count}),{byComponent:Array.from(e.entries()).map(([o,r])=>({name:o,...r})).sort((o,r)=>r.total-o.total),totalEntries:this.entries.length}}clear(){this.entries=[],this.timers.clear()}setEnabled(e){this.enabled=e}printSummary(){this.getSummary()}}const perfLogger=new PerformanceLogger;typeof window<"u"&&(window.perfLogger=perfLogger);const fonts=[{value:"inherit",label:"Default"},{value:'"Open Sans", sans-serif',label:"Open Sans"},{value:"Roboto, sans-serif",label:"Roboto"},{value:'"Roboto Slab", serif',label:"Roboto Slab"},{value:'"Roboto Mono", monospace',label:"Roboto Mono"},{value:'"Source Sans Pro", sans-serif',label:"Source Sans Pro"},{value:"Montserrat, sans-serif",label:"Montserrat"},{value:"Quicksand, sans-serif",label:"Quicksand"},{value:"Tinos, serif",label:"Tinos"},{value:"Oswald, sans-serif",label:"Oswald"},{value:"Muli, sans-serif",label:"Muli"},{value:"Mulish, sans-serif",label:"Mulish"},{value:"Sriracha, cursive",label:"Sriracha"},{value:"Philosopher, sans-serif",label:"Philosopher"},{value:"Niramit, sans-serif",label:"Niramit"},{value:'"Paytone One", sans-serif',label:"Paytone One"},{value:"Jura, sans-serif",label:"Jura"},{value:"Judson, serif",label:"Judson"},{value:'"Yeseva One", cursive',label:"Yeseva One"},{value:'"Baloo Bhaina", cursive',label:"Baloo Bhaina"},{value:'"Baloo Bhaina 2", cursive',label:"Baloo Bhaina 2"},{value:"Taviraj, serif",label:"Taviraj"},{value:"Prata, serif",label:"Prata"},{value:"Trirong, serif",label:"Trirong"},{value:"Lobster, cursive",label:"Lobster"},{value:"Itim, cursive",label:"Itim"},{value:"Chonburi, cursive",label:"Chonburi"},{value:"Arima, cursive",label:"Arima"},{value:"Bungee, cursive",label:"Bungee"},{value:'"Bungee Inline", cursive',label:"Bungee Inline"},{value:'"Bungee Outline", cursive',label:"Bungee Outline"},{value:'"Bungee Shade", cursive',label:"Bungee Shade"},{value:'"Cormorant Upright", serif',label:"Cormorant Upright"},{value:"Athiti, sans-serif",label:"Athiti"},{value:"Pattaya, sans-serif",label:"Pattaya"},{value:"Merriweather, serif",label:"Merriweather"},{value:'"Hepta Slab", serif',label:"Hepta Slab"},{value:'"Crimson Pro", serif',label:"Crimson Pro"},{value:'"Playfair Display", serif',label:"Playfair Display"},{value:'"Noto Serif", serif',label:"Noto Serif"},{value:"Dosis, sans-serif",label:"Dosis"},{value:"Anton, sans-serif",label:"Anton"},{value:'"Josefin Sans", sans-serif',label:"Josefin Sans"},{value:'"Dancing Script", cursive',label:"Dancing Script"},{value:"Exo, sans-serif",label:"Exo"},{value:'"EB Garamond", serif',label:"EB Garamond"},{value:"Play, sans-serif",label:"Play"},{value:'"Maven Pro", sans-serif',label:"Maven Pro"},{value:'"Barlow Condensed", sans-serif',label:"Barlow Condensed"},{value:'"Alfa Slab One", cursive',label:"Alfa Slab One"},{value:"Rokkitt, serif",label:"Rokkitt"},{value:"Bahianita, cursive",label:"Bahianita"},{value:"VT323, monospace",label:"VT323"},{value:"Literata, serif",label:"Literata"},{value:"K2D, sans-serif",label:"K2D"},{value:"Thasadith, sans-serif",label:"Thasadith"},{value:'"Shantell Sans", cursive',label:"Shantell Sans"},{value:"Raleway, sans-serif",label:"Raleway"}],gradientTemplates=[{name:"Blue to Purple",colors:["#4158D0","#C850C0"]},{name:"Orange to Red",colors:["#FF8008","#FFC837"]},{name:"Green to Blue",colors:["#11998e","#38ef7d"]},{name:"Pink to Orange",colors:["#F953C6","#F57F17"]}],shadowTypeOptions=[{value:"none",label:"Không chọn"},{value:"outer",label:"Bên ngoài"},{value:"inner",label:"Bên trong"},{value:"filter",label:"Filter"}],backgroundTypeOptions$1=[{value:"color",label:"Màu nền"},{value:"gradient",label:"Gradient"},{value:"image",label:"Hình ảnh"},{value:"video",label:"Video"}],overlayTypeOptions=[{value:"none",label:"Không chọn"},{value:"color",label:"Màu cơ bản"},{value:"gradient",label:"Màu gradient"},{value:"image",label:"Hình ảnh"}],gradientTypeOptions=[{value:"linear",label:"Linear"},{value:"radial",label:"Radial"}],backgroundPositionOptions=[{value:"left top",label:"Left Top"},{value:"left center",label:"Left Center"},{value:"left bottom",label:"Left Bottom"},{value:"center top",label:"Center Top"},{value:"center center",label:"Center Center"},{value:"center bottom",label:"Center Bottom"},{value:"right top",label:"Right Top"},{value:"right center",label:"Right Center"},{value:"right bottom",label:"Right Bottom"}],textTransformOptions=[{value:"none",label:"-"},{value:"uppercase",label:"AAAAAA"},{value:"lowercase",label:"aaaaaa"},{value:"capitalize",label:"Aaaaaa"}],MOBILE_BREAKPOINT=768;function detectMobileDevice(){if(typeof window>"u")return!1;const t=window.innerWidth<=MOBILE_BREAKPOINT,e=navigator.userAgent.toLowerCase(),r=["android","iphone","ipad","ipod","blackberry","windows phone","mobile","webos","opera mini"].some(a=>e.includes(a)),s="ontouchstart"in window||navigator.maxTouchPoints>0;return r&&e.includes("mobile")||t&&s||t&&r||t}function useIsMobile(){const t=compilerRuntimeExports.c(2),[e,o]=reactExports.useState(void 0);let r,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const i=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT}px)`),a=()=>{o(window.innerWidth<=MOBILE_BREAKPOINT)};return i.addEventListener("change",a),o(window.innerWidth<=MOBILE_BREAKPOINT),()=>i.removeEventListener("change",a)},s=[],t[0]=r,t[1]=s):(r=t[0],s=t[1]),reactExports.useEffect(r,s),!!e}const BackgroundSettings=t=>{const e=compilerRuntimeExports.c(72),{value:o,onChange:r,enable:s,embedded:i}=t,a=useIsMobile();let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={sensitivity:"base"},e[0]=c):c=e[0];const{contains:l}=useFilter(c);let d;e[1]!==l?(d={initialItems:backgroundPositionOptions,filter:l},e[1]=l,e[2]=d):d=e[2],useListCollection(d);let u;e[3]!==s?(u=J=>(s==null?void 0:s[J.value])!==!1,e[3]=s,e[4]=u):u=e[4];const m=createListCollection({items:backgroundTypeOptions$1.filter(u)}),R=createListCollection({items:gradientTypeOptions}),p=createListCollection({items:[{value:"youtube",label:"YouTube"},{value:"meHappyVideo",label:"Tập tin (MP4)"}]}),[j,x]=reactExports.useState("auto"),[g,h]=reactExports.useState("100%"),[E,w]=reactExports.useState("auto"),[C,b]=reactExports.useState((o==null?void 0:o.backgroundPosition)||"center center"),[v,_]=reactExports.useState(!1),{showFileSelectModal:I}=useViewport();let $;e[5]!==o?($=()=>{const J=o;if((J==null?void 0:J.backgroundAttachment)==="fixed"&&(J==null?void 0:J.backgroundSize)==="cover")x("parallax");else if(J!=null&&J.backgroundSize&&!["auto","cover","contain"].includes(J==null?void 0:J.backgroundSize)){const se=String(J.backgroundSize).split(" ");se.length===2?(x("custom"),h(se[0]),w(se[1])):x("auto")}else J!=null&&J.backgroundSize&&["auto","cover","contain"].includes(J==null?void 0:J.backgroundSize)?x(J.backgroundSize):x("auto");b((J==null?void 0:J.backgroundPosition)||"center center")},e[5]=o,e[6]=$):$=e[6];const A=o==null?void 0:o.backgroundSize,T=o==null?void 0:o.backgroundAttachment,L=o==null?void 0:o.backgroundPosition;let P;e[7]!==A||e[8]!==T||e[9]!==L?(P=[A,T,L],e[7]=A,e[8]=T,e[9]=L,e[10]=P):P=e[10],reactExports.useEffect($,P);let N;e[11]!==r||e[12]!==o?(N=J=>{const se=o;((se==null?void 0:se.backgroundType)||"color")!==J&&(r("gradientType",void 0),r("gradientAngle",void 0),r("gradientColor1",void 0),r("gradientColor2",void 0),r("backgroundImage",void 0),r("backgroundVideo",void 0),r("backgroundVideoType",void 0),r("backgroundSize",void 0),r("backgroundPosition",void 0),r("backgroundRepeat",void 0),r("backgroundAttachment",void 0),J==="gradient"?(r("gradientType",(se==null?void 0:se.gradientType)||"linear"),r("gradientAngle",(se==null?void 0:se.gradientAngle)||90),r("gradientColor1",(se==null?void 0:se.gradientColor1)||"#4158D0"),r("gradientColor2",(se==null?void 0:se.gradientColor2)||"#C850C0")):J==="image"?(r("backgroundSize","cover"),r("backgroundPosition","center center"),r("backgroundRepeat","no-repeat"),r("backgroundAttachment","scroll"),x("cover"),h("100%"),w("auto"),b("center center")):J==="video"&&r("backgroundVideoType",(se==null?void 0:se.backgroundVideoType)||"youtube")),r("backgroundType",J)},e[11]=r,e[12]=o,e[13]=N):N=e[13];const k=N;let B;e[14]!==E||e[15]!==g||e[16]!==r?(B=J=>{x(J),J==="parallax"?(r("backgroundSize","cover"),r("backgroundAttachment","fixed")):J==="custom"?(r("backgroundSize",`${g} ${E}`),r("backgroundAttachment","scroll")):(r("backgroundSize",J),r("backgroundAttachment","scroll"))},e[14]=E,e[15]=g,e[16]=r,e[17]=B):B=e[17];const F=B;let W;e[18]!==j||e[19]!==E||e[20]!==r?(W=J=>{const se=J.target.value;h(se),j==="custom"&&r("backgroundSize",`${se} ${E}`)},e[18]=j,e[19]=E,e[20]=r,e[21]=W):W=e[21];const z=W;let H;e[22]!==j||e[23]!==g||e[24]!==r?(H=J=>{const se=J.target.value;w(se),j==="custom"&&r("backgroundSize",`${g} ${se}`)},e[22]=j,e[23]=g,e[24]=r,e[25]=H):H=e[25];const U=H;let D;e[26]!==r?(D=J=>{b(J),r("backgroundPosition",J)},e[26]=r,e[27]=D):D=e[27];const O=D;s==null||s.color,s==null||s.gradient,s==null||s.image,s==null||s.video;const Q=Stack,q="3",Y=i?0:2;let V;e[28]===Symbol.for("react.memo_cache_sentinel")?(V=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Loại nền"}),e[28]=V):V=e[28];const de=(o==null?void 0:o.backgroundType)||"color";let ue;e[29]!==de?(ue=[de],e[29]=de,e[30]=ue):ue=e[30];let Re;e[31]!==k?(Re=J=>k(J.value[0]),e[31]=k,e[32]=Re):Re=e[32];const oe=a?"top":"bottom";let ce;e[33]!==oe?(ce={placement:oe},e[33]=oe,e[34]=ce):ce=e[34];let je;e[35]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại nền"})})}),e[35]=je):je=e[35];const ie=m.items.map(_temp$M);let xe;e[36]!==ie?(xe=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:ie})}),e[36]=ie,e[37]=xe):xe=e[37];let pe;e[38]!==m||e[39]!==ue||e[40]!==Re||e[41]!==ce||e[42]!==xe?(pe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[V,jsxRuntimeExports.jsxs(SelectRoot,{collection:m,value:ue,onValueChange:Re,positioning:ce,size:"sm",className:"custom-select",children:[je,xe]})]}),e[38]=m,e[39]=ue,e[40]=Re,e[41]=ce,e[42]=xe,e[43]=pe):pe=e[43];let $e;e[44]!==r||e[45]!==(o==null?void 0:o.backgroundColor)||e[46]!==(o==null?void 0:o.backgroundType)?($e=(o==null?void 0:o.backgroundType)==="color"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu nền"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.backgroundColor)||"#ffffff",onChange:J=>r("backgroundColor",J),size:"xs",previewSize:20,showHex:!0})})]}),e[44]=r,e[45]=o==null?void 0:o.backgroundColor,e[46]=o==null?void 0:o.backgroundType,e[47]=$e):$e=e[47];const Se=(o==null?void 0:o.backgroundType)==="gradient"&&jsxRuntimeExports.jsxs(Stack,{gap:"2",children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Kiểu Gradient"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:R,value:[(o==null?void 0:o.gradientType)||"linear"],onValueChange:J=>r("gradientType",J.value[0]),positioning:{placement:a?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gradient"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:R.items.map(_temp2$v)})})]})]}),(o==null?void 0:o.gradientType)==="linear"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Góc"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(DraggableNumberInput,{value:(o==null?void 0:o.gradientAngle)||0,onChange:J=>r("gradientAngle",J),min:0,max:360})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu 1"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.gradientColor1)||"#ffffff",onChange:J=>r("gradientColor1",J),size:"xs",previewSize:20,showHex:!0})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu 2"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.gradientColor2)||"#000000",onChange:J=>r("gradientColor2",J),size:"xs",previewSize:20,showHex:!0})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mt:1,children:"Mẫu Gradient"}),jsxRuntimeExports.jsx(HStack,{className:"w-[55%]",gap:"2",flexWrap:"wrap",justifyContent:"flex-end",children:gradientTemplates.map((J,se)=>jsxRuntimeExports.jsx(Tooltip,{content:J.name,positioning:{placement:"top"},children:jsxRuntimeExports.jsx(Box,{as:"button",onClick:()=>{r("gradientColor1",J.colors[0]),r("gradientColor2",J.colors[1])},width:"24px",height:"24px",borderRadius:"sm",style:{background:`linear-gradient(45deg, ${J.colors[0]}, ${J.colors[1]})`},className:"border border-gray-300 cursor-pointer"})},se))})]})]});let Ie;e[48]!==C||e[49]!==j||e[50]!==E||e[51]!==g||e[52]!==O||e[53]!==F||e[54]!==U||e[55]!==z||e[56]!==r||e[57]!==I||e[58]!==v||e[59]!==o?(Ie=(o==null?void 0:o.backgroundType)==="image"&&jsxRuntimeExports.jsxs(Stack,{gap:"3",mt:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Hình ảnh"}),jsxRuntimeExports.jsxs(HStack,{alignItems:"center",gap:"3",children:[jsxRuntimeExports.jsx(Box,{width:"60px",height:"60px",borderRadius:"md",border:"1px solid",borderColor:"gray.200",bg:o!=null&&o.backgroundImage?void 0:"gray.100",style:o!=null&&o.backgroundImage?{backgroundImage:`url(${o.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{}}),jsxRuntimeExports.jsx(Box,{flex:1,children:jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx(Input$1,{size:"sm",value:(o==null?void 0:o.backgroundImage)||"",onChange:J=>r("backgroundImage",J.target.value),placeholder:"https://..."}),jsxRuntimeExports.jsx(Button$1,{size:"sm",colorScheme:"blue",onClick:()=>I(FileType.IMAGE,J=>{r("backgroundImage",J)}),children:"Chọn"}),(o==null?void 0:o.backgroundImage)&&jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>r("backgroundImage",""),children:"Xóa"})]})})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"Kích thước"}),jsxRuntimeExports.jsx(HStack,{gap:"1",flexWrap:"wrap",children:[{label:"Auto",value:"auto"},{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Tùy chỉnh",value:"custom"},{label:"Parallax",value:"parallax"}].map(J=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:j===J.value?"solid":"outline",colorScheme:"blue",onClick:()=>F(J.value),children:J.label},J.value))}),j==="parallax"&&jsxRuntimeExports.jsx(Text$1,{fontSize:"10px",color:"gray.600",mt:1,children:"Parallax: cố định nền khi cuộn (cover + fixed)."})]}),j==="custom"&&jsxRuntimeExports.jsxs(HStack,{gap:"2",mt:1,children:[jsxRuntimeExports.jsxs(Box,{flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"W"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:g,onChange:z,placeholder:"e.g., 200px or 50%"})]}),jsxRuntimeExports.jsxs(Box,{flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"H"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:E,onChange:U,placeholder:"e.g., 300px or auto"})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",alignItems:"center",mb:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Vị trí"}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",onClick:()=>_(_temp3$o),children:v?"Ẩn nâng cao":"Tùy chỉnh"})]}),jsxRuntimeExports.jsx(Box,{display:"flex",w:"full",justifyContent:"center",children:jsxRuntimeExports.jsx(Box,{display:"grid",gridTemplateColumns:"repeat(3, 28px)",gridGap:"6px",children:[{v:"top left",k:"↖︎"},{v:"top center",k:"↑"},{v:"top right",k:"↗︎"},{v:"center left",k:"←"},{v:"center center",k:"•"},{v:"center right",k:"→"},{v:"bottom left",k:"↙︎"},{v:"bottom center",k:"↓"},{v:"bottom right",k:"↘︎"}].map(J=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:C===J.v?"solid":"outline",colorScheme:"blue",onClick:()=>{b(J.v),O(J.v)},padding:0,children:J.k},J.v))})}),v&&jsxRuntimeExports.jsx(HStack,{mt:2,children:jsxRuntimeExports.jsx(Input$1,{size:"sm",value:C,onChange:J=>{b(J.target.value),O(J.target.value)},placeholder:"e.g., 20px 30px or left center"})})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"Lặp lại"}),jsxRuntimeExports.jsx(HStack,{gap:"1",flexWrap:"wrap",children:[{label:"Không lặp",value:"no-repeat"},{label:"Lặp",value:"repeat"},{label:"Lặp X",value:"repeat-x"},{label:"Lặp Y",value:"repeat-y"}].map(J=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:((o==null?void 0:o.backgroundRepeat)||"no-repeat")===J.value?"solid":"outline",colorScheme:"blue",onClick:()=>r("backgroundRepeat",J.value),children:J.label},J.value))})]})]}),e[48]=C,e[49]=j,e[50]=E,e[51]=g,e[52]=O,e[53]=F,e[54]=U,e[55]=z,e[56]=r,e[57]=I,e[58]=v,e[59]=o,e[60]=Ie):Ie=e[60];const Me=(o==null?void 0:o.backgroundType)==="video"&&jsxRuntimeExports.jsxs(Stack,{gap:"3",mt:2,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Nguồn video"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:p,value:[(o==null?void 0:o.backgroundVideoType)||"youtube"],onValueChange:J=>r("backgroundVideoType",J.value[0]),positioning:{placement:a?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn nguồn video"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:p.items.map(_temp4$g)})})]})]}),(o==null?void 0:o.backgroundVideoType)==="youtube"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"YouTube URL"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:(o==null?void 0:o.backgroundVideo)||"",onChange:J=>r("backgroundVideo",J.target.value),placeholder:"https://www.youtube.com/watch?v=..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"URL Video (MP4)"}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Input$1,{size:"sm",value:(o==null?void 0:o.backgroundVideo)||"",onChange:J=>r("backgroundVideo",J.target.value),placeholder:"https://...mp4"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>I(FileType.VIDEO,J=>{r("backgroundVideo",J)}),children:"Chọn video"})]})]})]});let He;e[61]!==Q||e[62]!==Y||e[63]!==pe||e[64]!==$e||e[65]!==Se||e[66]!==Ie||e[67]!==Me?(He=jsxRuntimeExports.jsxs(Q,{gap:q,mt:Y,children:[pe,$e,Se,Ie,Me]}),e[61]=Q,e[62]=Y,e[63]=pe,e[64]=$e,e[65]=Se,e[66]=Ie,e[67]=Me,e[68]=He):He=e[68];const fe=He;if(i)return fe;let Ce;e[69]===Symbol.for("react.memo_cache_sentinel")?(Ce=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Màu & Hình nền"}),e[69]=Ce):Ce=e[69];let le;return e[70]!==fe?(le=jsxRuntimeExports.jsxs(Box,{borderBottom:"1px solid #e0e0e0",borderRadius:4,p:4,children:[Ce,fe]}),e[70]=fe,e[71]=le):le=e[71],le};function _temp$M(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$v(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp3$o(t){return!t}function _temp4$g(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}const borderStyles=[{value:"none",label:"Không có"},{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"},{value:"groove",label:"Groove"},{value:"ridge",label:"Ridge"},{value:"inset",label:"Inset"},{value:"outset",label:"Outset"}],borderStylesCollection=createListCollection({items:borderStyles}),BorderStylePreview=t=>{const e=compilerRuntimeExports.c(5),{style:o,width:r}=t,s=r===void 0?40:r;if(o==="none"){const l=`${s}px`;let d;return e[0]!==l?(d=jsxRuntimeExports.jsx(Box,{width:l,height:"2px"}),e[0]=l,e[1]=d):d=e[1],d}const i=`${s}px`,a=`2px ${o} #333`;let c;return e[2]!==i||e[3]!==a?(c=jsxRuntimeExports.jsx(Box,{width:i,height:"2px",borderTop:a,marginY:"6px"}),e[2]=i,e[3]=a,e[4]=c):c=e[4],c},CustomBorderStyleSelect=t=>{const e=compilerRuntimeExports.c(15),{value:o,onChange:r}=t;let s;e[0]!==o?(s=[o],e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=R=>r(R.value[0]),e[2]=r,e[3]=i):i=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a={placement:"bottom"},e[4]=a):a=e[4];let c;e[5]!==o?(c=jsxRuntimeExports.jsx(BorderStylePreview,{style:o}),e[5]=o,e[6]=c):c=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=jsxRuntimeExports.jsx(SelectValueText,{}),e[7]=l):l=e[7];let d;e[8]!==c?(d=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,flex:1,children:[c,l]})}),e[8]=c,e[9]=d):d=e[9];let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=jsxRuntimeExports.jsx(SelectContent,{children:borderStylesCollection.items.map(_temp$L)}),e[10]=u):u=e[10];let m;return e[11]!==s||e[12]!==i||e[13]!==d?(m=jsxRuntimeExports.jsxs(SelectRoot,{collection:borderStylesCollection,value:s,onValueChange:i,size:"sm",positioning:a,className:"custom-select",children:[d,u]}),e[11]=s,e[12]=i,e[13]=d,e[14]=m):m=e[14],m},BorderSettings=t=>{var $,A,T,L,P,N,k,B,F,W;const e=compilerRuntimeExports.c(35),{value:o,onChange:r,embedded:s}=t,[i,a]=reactExports.useState(!1),[c,l]=reactExports.useState(!1);let d;e[0]!==r||e[1]!==o?(d=z=>{r("borderRadius",[z,z,z,z]),"radius"in(o||{})&&r("radius",z)},e[0]=r,e[1]=o,e[2]=d):d=e[2];const u=d;let m;e[3]!==r||e[4]!==o?(m=(z,H)=>{const U=[...(o==null?void 0:o.borderRadius)||[0,0,0,0]];U[z]=H,r("borderRadius",U),"radius"in(o||{})&&r("radius",U[0])},e[3]=r,e[4]=o,e[5]=m):m=e[5];const R=m;let p;e[6]!==r?(p=z=>{r("borderWidth",[z,z,z,z])},e[6]=r,e[7]=p):p=e[7];const j=p;let x;e[8]!==r||e[9]!==(o==null?void 0:o.borderWidth)?(x=(z,H)=>{const U=[...(o==null?void 0:o.borderWidth)||[0,0,0,0]];U[z]=H,r("borderWidth",U)},e[8]=r,e[9]=o==null?void 0:o.borderWidth,e[10]=x):x=e[10];const g=x;let h;e[11]!==r||e[12]!==o?(h="borderStyle"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Kiểu viền"}),jsxRuntimeExports.jsx(CustomBorderStyleSelect,{value:(o==null?void 0:o.borderStyle)||"none",onChange:z=>r("borderStyle",z)})]}),e[11]=r,e[12]=o,e[13]=h):h=e[13];let E;e[14]!==r||e[15]!==o?(E=(o==null?void 0:o.borderStyle)&&(o==null?void 0:o.borderStyle)!=="none"&&"borderColor"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu viền"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.borderColor)||"#000000",onChange:z=>r("borderColor",z),size:"xs",previewSize:20,showHex:!0})})]}),e[14]=r,e[15]=o,e[16]=E):E=e[16];let w;e[17]!==j||e[18]!==g||e[19]!==i||e[20]!==o?(w=(o==null?void 0:o.borderStyle)&&(o==null?void 0:o.borderStyle)!=="none"&&"borderWidth"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full",children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Độ dày"}),jsxRuntimeExports.jsxs(HStack,{className:"w-[55%]",gap:2,justifyContent:"flex-end",children:[jsxRuntimeExports.jsx(DraggableNumberInput,{value:(($=o==null?void 0:o.borderWidth)==null?void 0:$[0])||0,onChange:j,min:0,max:20}),jsxRuntimeExports.jsx(Box,{className:"cursor-pointer",onClick:()=>a(_temp2$u),role:"button","aria-label":"Tùy chọn độ dày",title:"Tùy chọn độ dày",children:jsxRuntimeExports.jsx(CiSettings,{size:16})})]})]}),i&&jsxRuntimeExports.jsx(Box,{className:"mt-2",children:jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:2,children:[jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(CgBorderTop,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((A=o==null?void 0:o.borderWidth)==null?void 0:A[0])||0,onChange:z=>g(0,z),min:0,max:20})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(CgBorderRight,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((T=o==null?void 0:o.borderWidth)==null?void 0:T[1])||0,onChange:z=>g(1,z),min:0,max:20})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(CgBorderBottom,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((L=o==null?void 0:o.borderWidth)==null?void 0:L[2])||0,onChange:z=>g(2,z),min:0,max:20})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(CgBorderLeft,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((P=o==null?void 0:o.borderWidth)==null?void 0:P[3])||0,onChange:z=>g(3,z),min:0,max:20})]})]})})]}),e[17]=j,e[18]=g,e[19]=i,e[20]=o,e[21]=w):w=e[21];let C;e[22]!==u||e[23]!==R||e[24]!==c||e[25]!==o?(C="borderRadius"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full",children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Bo góc"}),jsxRuntimeExports.jsxs(HStack,{className:"w-[55%]",gap:2,justifyContent:"flex-end",children:[jsxRuntimeExports.jsx(DraggableNumberInput,{value:((N=o==null?void 0:o.borderRadius)==null?void 0:N[0])||0,onChange:u,min:0}),jsxRuntimeExports.jsx(Box,{className:"cursor-pointer",onClick:()=>l(_temp3$n),role:"button","aria-label":"Tùy chọn bo góc",title:"Tùy chọn bo góc",children:jsxRuntimeExports.jsx(CiSettings,{size:16})})]})]}),c&&jsxRuntimeExports.jsx(Box,{className:"mt-2",children:jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:2,children:[jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(TbRadiusTopLeft,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((k=o==null?void 0:o.borderRadius)==null?void 0:k[0])||0,onChange:z=>R(0,z),min:0})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(TbRadiusTopRight,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((B=o==null?void 0:o.borderRadius)==null?void 0:B[1])||0,onChange:z=>R(1,z),min:0})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(TbRadiusBottomRight,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((F=o==null?void 0:o.borderRadius)==null?void 0:F[2])||0,onChange:z=>R(2,z),min:0})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,flexDirection:"column",children:[jsxRuntimeExports.jsx(Box,{as:"span",display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",color:"#666",children:jsxRuntimeExports.jsx(TbRadiusBottomLeft,{size:16})}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:((W=o==null?void 0:o.borderRadius)==null?void 0:W[3])||0,onChange:z=>R(3,z),min:0})]})]})})]}),e[22]=u,e[23]=R,e[24]=c,e[25]=o,e[26]=C):C=e[26];let b;e[27]!==h||e[28]!==E||e[29]!==w||e[30]!==C?(b=jsxRuntimeExports.jsxs(Stack,{gap:3,children:[h,E,w,C]}),e[27]=h,e[28]=E,e[29]=w,e[30]=C,e[31]=b):b=e[31];const v=b;if(s)return v;let _;e[32]===Symbol.for("react.memo_cache_sentinel")?(_=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",mb:2,fontWeight:"bold",children:"Viền & Bo góc"}),e[32]=_):_=e[32];let I;return e[33]!==v?(I=jsxRuntimeExports.jsxs(Box,{borderBottom:"1px solid #e0e0e0",borderRadius:4,p:4,children:[_,v]}),e[33]=v,e[34]=I):I=e[34],I};function _temp$L(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(BorderStylePreview,{style:t.value}),jsxRuntimeExports.jsx(SelectItemText,{children:t.label})]})},t.value)}function _temp2$u(t){return!t}function _temp3$n(t){return!t}const OverlaySettings=t=>{const e=compilerRuntimeExports.c(27),{value:o,onChange:r,blendModeOptions:s,embedded:i}=t,a=useIsMobile(),{showFileSelectModal:c}=useViewport(),[l,d]=reactExports.useState((o==null?void 0:o.overlayImagePosition)||"center center"),[u,m]=reactExports.useState(!1),R=createListCollection({items:overlayTypeOptions}),p=createListCollection({items:s}),j=createListCollection({items:gradientTypeOptions}),x=createListCollection({items:[{value:"auto",label:"Mặc định"},{value:"cover",label:"Vừa khung cao (Cover)"},{value:"contain",label:"Vừa khung rộng (Contain)"}]});let g;e[0]!==(o==null?void 0:o.overlayImagePosition)?(g=()=>{d((o==null?void 0:o.overlayImagePosition)||"center center")},e[0]=o==null?void 0:o.overlayImagePosition,e[1]=g):g=e[1];const h=o==null?void 0:o.overlayImagePosition;let E;e[2]!==h?(E=[h],e[2]=h,e[3]=E):E=e[3],reactExports.useEffect(g,E);let w;e[4]!==r?(w=D=>{d(D),r("overlayImagePosition",D)},e[4]=r,e[5]=w):w=e[5];const C=w,b=Stack,v="3",_=i?0:2;let I;e[6]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Chọn kiểu"}),e[6]=I):I=e[6];const $=(o==null?void 0:o.overlayType)||"none";let A;e[7]!==$?(A=[$],e[7]=$,e[8]=A):A=e[8];let T;e[9]!==r?(T=D=>r("overlayType",D.value[0]),e[9]=r,e[10]=T):T=e[10];const L=a?"top":"bottom";let P;e[11]!==L?(P={placement:L},e[11]=L,e[12]=P):P=e[12];let N;e[13]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu overlay"})})}),e[13]=N):N=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:R.items.map(_temp$K)})}),e[14]=k):k=e[14];let B;e[15]!==T||e[16]!==P||e[17]!==A?(B=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[I,jsxRuntimeExports.jsxs(SelectRoot,{collection:R,value:A,onValueChange:T,positioning:P,size:"sm",className:"custom-select",children:[N,k]})]}),e[15]=T,e[16]=P,e[17]=A,e[18]=B):B=e[18];const F=(o==null?void 0:o.overlayType)!=="none"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Blend mode"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:p,value:[(o==null?void 0:o.overlayBlendMode)||"normal"],onValueChange:D=>r("overlayBlendMode",D.value[0]),positioning:{placement:a?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn blend mode"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:p.items.map(_temp2$t)})})]})]}),(o==null?void 0:o.overlayType)==="color"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu lớp phủ"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.overlayColor)||"rgba(0, 0, 0, 0.5)",onChange:D=>r("overlayColor",D),size:"xs",previewSize:20,showHex:!0})})]}),(o==null?void 0:o.overlayType)==="gradient"&&jsxRuntimeExports.jsxs(Stack,{gap:"2",children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Kiểu Gradient"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:j,value:[(o==null?void 0:o.overlayGradientType)||"linear"],onValueChange:D=>r("overlayGradientType",D.value[0]),positioning:{placement:a?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gradient"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:j.items.map(_temp3$m)})})]})]}),(o==null?void 0:o.overlayGradientType)==="linear"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Góc"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(DraggableNumberInput,{value:(o==null?void 0:o.overlayGradientAngle)||90,onChange:D=>r("overlayGradientAngle",D),min:0,max:360})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu 1"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.overlayGradientColor1)||"#4158D0",onChange:D=>r("overlayGradientColor1",D),size:"xs",previewSize:20,showHex:!0})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu 2"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.overlayGradientColor2)||"#C850C0",onChange:D=>r("overlayGradientColor2",D),size:"xs",previewSize:20,showHex:!0})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mt:1,children:"Mẫu Gradient"}),jsxRuntimeExports.jsx(HStack,{className:"w-[55%]",gap:"2",flexWrap:"wrap",justifyContent:"flex-end",children:gradientTemplates.map((D,O)=>jsxRuntimeExports.jsx(Tooltip,{content:D.name,positioning:{placement:"top"},children:jsxRuntimeExports.jsx(Box,{as:"button",onClick:()=>{r("overlayGradientColor1",D.colors[0]),r("overlayGradientColor2",D.colors[1])},width:"24px",height:"24px",borderRadius:"sm",style:{background:`linear-gradient(45deg, ${D.colors[0]}, ${D.colors[1]})`},className:"border border-gray-300 cursor-pointer"})},O))})]})]}),(o==null?void 0:o.overlayType)==="image"&&jsxRuntimeExports.jsxs(Stack,{gap:"3",mt:2,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex flex-col justify-between gap-4",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"URL Hình ảnh"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full gap-2",children:[jsxRuntimeExports.jsx(Input$1,{size:"sm",value:(o==null?void 0:o.overlayImage)||"",onChange:D=>r("overlayImage",D.target.value),placeholder:"https://..."}),jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>c(FileType.IMAGE,D=>{r("overlayImage",D)}),children:"Chọn"})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Kích thước"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:x,value:[(o==null?void 0:o.overlayImageSize)||"cover"],onValueChange:D=>r("overlayImageSize",D.value[0]),positioning:{placement:a?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kích thước"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:x.items.map(_temp4$f)})})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",alignItems:"center",mb:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Vị trí"}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",onClick:()=>m(_temp5$9),children:u?"Ẩn nâng cao":"Tùy chỉnh"})]}),jsxRuntimeExports.jsx(Box,{display:"flex",w:"full",justifyContent:"center",children:jsxRuntimeExports.jsx(Box,{display:"grid",gridTemplateColumns:"repeat(3, 28px)",gridGap:"6px",children:[{v:"top left",k:"↖︎"},{v:"top center",k:"↑"},{v:"top right",k:"↗︎"},{v:"center left",k:"←"},{v:"center center",k:"•"},{v:"center right",k:"→"},{v:"bottom left",k:"↙︎"},{v:"bottom center",k:"↓"},{v:"bottom right",k:"↘︎"}].map(D=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:l===D.v?"solid":"outline",colorScheme:"blue",onClick:()=>{d(D.v),C(D.v)},padding:0,children:D.k},D.v))})}),u&&jsxRuntimeExports.jsx(HStack,{mt:2,children:jsxRuntimeExports.jsx(Input$1,{size:"sm",value:l,onChange:D=>{d(D.target.value),C(D.target.value)},placeholder:"e.g., 20px 30px or left center"})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Lặp lại"}),jsxRuntimeExports.jsx(HStack,{gap:"1",flexWrap:"wrap",className:"w-[55%]",justifyContent:"flex-end",children:[{label:"Không lặp",value:"no-repeat"},{label:"Lặp",value:"repeat"},{label:"Lặp X",value:"repeat-x"},{label:"Lặp Y",value:"repeat-y"}].map(D=>jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:((o==null?void 0:o.overlayImageRepeat)||"no-repeat")===D.value?"solid":"outline",colorScheme:"blue",onClick:()=>r("overlayImageRepeat",D.value),children:D.label},D.value))})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Trong suốt"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(DraggableNumberInput,{value:(o==null?void 0:o.overlayOpacity)||50,onChange:D=>r("overlayOpacity",D),min:0,max:100})})]})]});let W;e[19]!==b||e[20]!==B||e[21]!==F||e[22]!==_?(W=jsxRuntimeExports.jsxs(b,{gap:v,mt:_,children:[B,F]}),e[19]=b,e[20]=B,e[21]=F,e[22]=_,e[23]=W):W=e[23];const z=W;if(i)return z;let H;e[24]===Symbol.for("react.memo_cache_sentinel")?(H=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Overlay"}),e[24]=H):H=e[24];let U;return e[25]!==z?(U=jsxRuntimeExports.jsxs(Box,{borderBottom:"1px solid #e0e0e0",borderRadius:4,p:4,children:[H,z]}),e[25]=z,e[26]=U):U=e[26],U};function _temp$K(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$t(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp3$m(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp4$f(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp5$9(t){return!t}const ShadowSettings=t=>{const e=compilerRuntimeExports.c(55),{value:o,onChange:r,embedded:s}=t,i=useIsMobile();let a,c,l;if(e[0]!==i||e[1]!==r||e[2]!==o){const F=createListCollection({items:shadowTypeOptions});a=Stack,c=3,l="shadowType"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Kiểu đổ bóng"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:F,value:[(o==null?void 0:o.shadowType)||"none"],onValueChange:W=>r("shadowType",W.value[0]),positioning:{placement:i?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu đổ bóng"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:F.items.map(_temp$J)})})]})]}),e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=c,e[5]=l}else a=e[3],c=e[4],l=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Mẫu có sẵn"}),e[6]=d):d=e[6];let u;e[7]!==r?(u=jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:()=>{r("shadowX",27),r("shadowY",15),r("shadowBlur",20),r("shadowSpread",-15),r("shadowColor","#000000")},colorScheme:"blue",variant:"outline",children:"Soft Drop"}),e[7]=r,e[8]=u):u=e[8];let m;e[9]!==r?(m=jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:()=>{r("shadowX",0),r("shadowY",5),r("shadowBlur",15),r("shadowSpread",0),r("shadowColor","rgba(0,0,0,0.3)")},colorScheme:"blue",variant:"outline",children:"Subtle"}),e[9]=r,e[10]=m):m=e[10];let R;e[11]!==u||e[12]!==m?(R=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[d,jsxRuntimeExports.jsxs(HStack,{className:"w-[55%]",gap:2,justifyContent:"flex-end",flexWrap:"wrap",children:[u,m]})]}),e[11]=u,e[12]=m,e[13]=R):R=e[13];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Dịch chuyển"}),e[14]=p):p=e[14];let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"X"}),e[15]=j):j=e[15];const x=(o==null?void 0:o.shadowX)||0;let g;e[16]!==r?(g=F=>r("shadowX",F),e[16]=r,e[17]=g):g=e[17];let h;e[18]!==g||e[19]!==x?(h=jsxRuntimeExports.jsxs(HStack,{gap:1,children:[j,jsxRuntimeExports.jsx(DraggableNumberInput,{value:x,onChange:g,min:-50,max:50})]}),e[18]=g,e[19]=x,e[20]=h):h=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"Y"}),e[21]=E):E=e[21];const w=(o==null?void 0:o.shadowY)||0;let C;e[22]!==r?(C=F=>r("shadowY",F),e[22]=r,e[23]=C):C=e[23];let b;e[24]!==w||e[25]!==C?(b=jsxRuntimeExports.jsxs(HStack,{gap:1,children:[E,jsxRuntimeExports.jsx(DraggableNumberInput,{value:w,onChange:C,min:-50,max:50})]}),e[24]=w,e[25]=C,e[26]=b):b=e[26];let v;e[27]!==h||e[28]!==b?(v=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[p,jsxRuntimeExports.jsxs(HStack,{className:"w-[55%]",gap:2,justifyContent:"flex-end",children:[h,b]})]}),e[27]=h,e[28]=b,e[29]=v):v=e[29];let _;e[30]===Symbol.for("react.memo_cache_sentinel")?(_=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Độ mờ"}),e[30]=_):_=e[30];const I=(o==null?void 0:o.shadowBlur)||0;let $;e[31]!==r?($=F=>r("shadowBlur",F),e[31]=r,e[32]=$):$=e[32];let A;e[33]!==I||e[34]!==$?(A=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[_,jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(DraggableNumberInput,{value:I,onChange:$,min:0,max:100})})]}),e[33]=I,e[34]=$,e[35]=A):A=e[35];let T;e[36]!==r||e[37]!==(o==null?void 0:o.shadowSpread)||e[38]!==(o==null?void 0:o.shadowType)?(T=(o==null?void 0:o.shadowType)!=="filter"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Độ tối"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(DraggableNumberInput,{value:(o==null?void 0:o.shadowSpread)||0,onChange:F=>r("shadowSpread",F),min:-20,max:100})})]}),e[36]=r,e[37]=o==null?void 0:o.shadowSpread,e[38]=o==null?void 0:o.shadowType,e[39]=T):T=e[39];let L;e[40]!==r||e[41]!==o?(L="shadowColor"in(o||{})&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Màu bóng"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",display:"flex",justifyContent:"flex-end",children:jsxRuntimeExports.jsx(ColorControl,{value:(o==null?void 0:o.shadowColor)||"rgba(0, 0, 0, 0.2)",onChange:F=>r("shadowColor",F),size:"xs",previewSize:20,showHex:!0})})]}),e[40]=r,e[41]=o,e[42]=L):L=e[42];let P;e[43]!==a||e[44]!==c||e[45]!==v||e[46]!==l||e[47]!==A||e[48]!==T||e[49]!==L||e[50]!==R?(P=jsxRuntimeExports.jsxs(a,{gap:c,children:[l,R,v,A,T,L]}),e[43]=a,e[44]=c,e[45]=v,e[46]=l,e[47]=A,e[48]=T,e[49]=L,e[50]=R,e[51]=P):P=e[51];const N=P;if(s)return N;let k;e[52]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",mb:2,fontWeight:"bold",children:"Đổ bóng"}),e[52]=k):k=e[52];let B;return e[53]!==N?(B=jsxRuntimeExports.jsxs(Box,{borderBottom:"1px solid #e0e0e0",borderRadius:4,p:4,children:[k,N]}),e[53]=N,e[54]=B):B=e[54],B};function _temp$J(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}const keyframesCache=Object.create(null);function getKeyframes(t){if(keyframesCache[t])return keyframesCache[t];let e;switch(t){case"fadeIn":e=[{opacity:0},{opacity:1}];break;case"fadeInUp":e=[{opacity:0,transform:"translateY(20px)"},{opacity:1,transform:"translateY(0)"}];break;case"fadeInDown":e=[{opacity:0,transform:"translateY(-20px)"},{opacity:1,transform:"translateY(0)"}];break;case"fadeInLeft":e=[{opacity:0,transform:"translateX(-30px)"},{opacity:1,transform:"translateX(0)"}];break;case"fadeInRight":e=[{opacity:0,transform:"translateX(30px)"},{opacity:1,transform:"translateX(0)"}];break;case"fadeInDownBig":e=[{opacity:0,transform:"translateY(-60px)"},{opacity:1,transform:"translateY(0)"}];break;case"fadeInLeftBig":e=[{opacity:0,transform:"translateX(-60px)"},{opacity:1,transform:"translateX(0)"}];break;case"fadeInRightBig":e=[{opacity:0,transform:"translateX(60px)"},{opacity:1,transform:"translateX(0)"}];break;case"fadeInUpBig":e=[{opacity:0,transform:"translateY(60px)"},{opacity:1,transform:"translateY(0)"}];break;case"bounceIn":e=[{transform:"scale(0.9)",opacity:0},{transform:"scale(1.05)",opacity:1,offset:.6},{transform:"scale(1)",opacity:1}];break;case"bounceInDown":e=[{opacity:0,transform:"translateY(-30px) scale(0.9)"},{opacity:1,transform:"translateY(5px) scale(1.02)",offset:.6},{opacity:1,transform:"translateY(0) scale(1)"}];break;case"bounceInLeft":e=[{opacity:0,transform:"translateX(-30px) scale(0.9)"},{opacity:1,transform:"translateX(5px) scale(1.02)",offset:.6},{opacity:1,transform:"translateX(0) scale(1)"}];break;case"bounceInRight":e=[{opacity:0,transform:"translateX(30px) scale(0.9)"},{opacity:1,transform:"translateX(-5px) scale(1.02)",offset:.6},{opacity:1,transform:"translateX(0) scale(1)"}];break;case"bounceInUp":e=[{opacity:0,transform:"translateY(30px) scale(0.9)"},{opacity:1,transform:"translateY(-5px) scale(1.02)",offset:.6},{opacity:1,transform:"translateY(0) scale(1)"}];break;case"slideInUp":e=[{opacity:0,transform:"translateY(50px)"},{opacity:1,transform:"translateY(0)"}];break;case"slideInDown":e=[{opacity:0,transform:"translateY(-50px)"},{opacity:1,transform:"translateY(0)"}];break;case"slideInLeft":e=[{opacity:0,transform:"translateX(-50px)"},{opacity:1,transform:"translateX(0)"}];break;case"slideInRight":e=[{opacity:0,transform:"translateX(50px)"},{opacity:1,transform:"translateX(0)"}];break;case"bounce":e=[{transform:"translateY(0)",offset:0},{transform:"translateY(-15px)",offset:.4},{transform:"translateY(0)",offset:.5},{transform:"translateY(-8px)",offset:.65},{transform:"translateY(0)",offset:.8},{transform:"translateY(-4px)",offset:.9},{transform:"translateY(0)",offset:1}];break;case"flash":e=[{opacity:1,offset:0},{opacity:0,offset:.25},{opacity:1,offset:.5},{opacity:0,offset:.75},{opacity:1,offset:1}];break;case"pulse":e=[{transform:"scale(1)"},{transform:"scale(1.05)",offset:.5},{transform:"scale(1)"}];break;case"rubberBand":e=[{transform:"scale(1)"},{transform:"scaleX(1.25) scaleY(0.75)",offset:.3},{transform:"scaleX(0.75) scaleY(1.25)",offset:.4},{transform:"scaleX(1.15) scaleY(0.85)",offset:.5},{transform:"scaleX(0.95) scaleY(1.05)",offset:.65},{transform:"scaleX(1.05) scaleY(0.95)",offset:.75},{transform:"scale(1)"}];break;case"shake":e=[{transform:"translateX(0)"},{transform:"translateX(-10px)",offset:.1},{transform:"translateX(10px)",offset:.2},{transform:"translateX(-10px)",offset:.3},{transform:"translateX(10px)",offset:.4},{transform:"translateX(-10px)",offset:.5},{transform:"translateX(10px)",offset:.6},{transform:"translateX(-10px)",offset:.7},{transform:"translateX(10px)",offset:.8},{transform:"translateX(-10px)",offset:.9},{transform:"translateX(0)"}];break;case"swing":e=[{transform:"rotate(0deg)"},{transform:"rotate(15deg)",offset:.2},{transform:"rotate(-10deg)",offset:.4},{transform:"rotate(5deg)",offset:.6},{transform:"rotate(-5deg)",offset:.8},{transform:"rotate(0deg)"}];break;case"tada":e=[{transform:"scale(1) rotate(0deg)"},{transform:"scale(0.9) rotate(-3deg)",offset:.1},{transform:"scale(0.9) rotate(-3deg)",offset:.2},{transform:"scale(1.1) rotate(3deg)",offset:.3},{transform:"scale(1.1) rotate(-3deg)",offset:.4},{transform:"scale(1.1) rotate(3deg)",offset:.5},{transform:"scale(1.1) rotate(-3deg)",offset:.6},{transform:"scale(1.1) rotate(3deg)",offset:.7},{transform:"scale(1.1) rotate(-3deg)",offset:.8},{transform:"scale(1.1) rotate(3deg)",offset:.9},{transform:"scale(1) rotate(0deg)"}];break;case"wobble":e=[{transform:"translateX(0%) rotate(0deg)"},{transform:"translateX(-25%) rotate(-5deg)",offset:.15},{transform:"translateX(20%) rotate(3deg)",offset:.3},{transform:"translateX(-15%) rotate(-3deg)",offset:.45},{transform:"translateX(10%) rotate(2deg)",offset:.6},{transform:"translateX(-5%) rotate(-1deg)",offset:.75},{transform:"translateX(0%) rotate(0deg)"}];break;case"flip":e=[{transform:"perspective(400px) rotateY(0)",opacity:1},{transform:"perspective(400px) rotateY(180deg)",opacity:0,offset:.5},{transform:"perspective(400px) rotateY(360deg)",opacity:1}];break;case"flipInX":e=[{transform:"perspective(400px) rotateX(90deg)",opacity:0},{transform:"perspective(400px) rotateX(-10deg)",offset:.4},{transform:"perspective(400px) rotateX(10deg)",offset:.6},{transform:"perspective(400px) rotateX(0)",opacity:1}];break;case"flipInY":e=[{transform:"perspective(400px) rotateY(90deg)",opacity:0},{transform:"perspective(400px) rotateY(-10deg)",offset:.4},{transform:"perspective(400px) rotateY(10deg)",offset:.6},{transform:"perspective(400px) rotateY(0)",opacity:1}];break;case"lightSpeedIn":e=[{transform:"translateX(100%) skewX(-30deg)",opacity:0},{transform:"translateX(0) skewX(20deg)",opacity:1,offset:.6},{transform:"translateX(0) skewX(-5deg)",opacity:1,offset:.8},{transform:"translateX(0) skewX(0)",opacity:1}];break;case"rotateIn":e=[{transform:"rotate(-200deg)",opacity:0},{transform:"rotate(0deg)",opacity:1}];break;case"rotateInDownLeft":e=[{transform:"rotate(-45deg)",opacity:0,transformOrigin:"left bottom"},{transform:"rotate(0deg)",opacity:1,transformOrigin:"left bottom"}];break;case"rotateInDownRight":e=[{transform:"rotate(45deg)",opacity:0,transformOrigin:"right bottom"},{transform:"rotate(0deg)",opacity:1,transformOrigin:"right bottom"}];break;case"rotateInUpLeft":e=[{transform:"rotate(45deg)",opacity:0,transformOrigin:"left bottom"},{transform:"rotate(0deg)",opacity:1,transformOrigin:"left bottom"}];break;case"rotateInUpRight":e=[{transform:"rotate(-90deg)",opacity:0,transformOrigin:"right bottom"},{transform:"rotate(0deg)",opacity:1,transformOrigin:"right bottom"}];break;case"hinge":e=[{transform:"rotate(0deg)",transformOrigin:"top left",opacity:1},{transform:"rotate(80deg)",transformOrigin:"top left",opacity:1,offset:.2},{transform:"rotate(60deg)",transformOrigin:"top left",opacity:1,offset:.4},{transform:"rotate(80deg) translateY(0)",transformOrigin:"top left",opacity:1,offset:.6},{transform:"rotate(60deg) translateY(0)",transformOrigin:"top left",opacity:1,offset:.8},{transform:"translateY(700px)",opacity:0}];break;case"rollIn":e=[{transform:"translateX(-100%) rotate(-120deg)",opacity:0},{transform:"translateX(0) rotate(0deg)",opacity:1}];break;default:e=[{opacity:1},{opacity:1}]}return keyframesCache[t]=e,e}const animMap=new WeakMap,cfgMap=new WeakMap;function playDisplayAnimation(t,e){var i;const o=`${e.effect}|${e.duration}|${e.repeat}|${e.delay??0}|${e.easing??""}`;if(cfgMap.get(t)===o&&((i=animMap.get(t))==null?void 0:i.playState)==="running")return;stopDisplayAnimation(t);const r=getKeyframes(e.effect),s=t.animate(r,{duration:Math.max(50,e.duration*1e3),iterations:e.repeat?1/0:1,easing:e.easing||"cubic-bezier(.2,.7,.3,1)",delay:e.delay?Math.max(0,e.delay):0,fill:"both"});cfgMap.set(t,o),animMap.set(t,s)}function stopDisplayAnimation(t){const e=animMap.get(t);if(e){try{e.cancel()}catch{}animMap.delete(t)}cfgMap.delete(t)}function useAnimationPreviewLite(){const t=compilerRuntimeExports.c(3),{query:e,enabled:o}=Pe(_temp$I);let r;return t[0]!==o||t[1]!==e?(r={preview(s,i){const a=i===void 0?1:i;if(!o)return;const c=e.getEvent("selected").first();if(!c)return;const l=e.node(c).get(),d=l==null?void 0:l.dom;d&&(stopDisplayAnimation(d),playDisplayAnimation(d,{effect:s,duration:a,repeat:!1}))},clear(){if(!o)return;const s=e.getEvent("selected").first();if(!s)return;const i=e.node(s).get(),a=i==null?void 0:i.dom;a&&stopDisplayAnimation(a)}},t[0]=o,t[1]=e,t[2]=r):r=t[2],r}function _temp$I(t){return{enabled:t.options.enabled,query:t}}const animationEffectOptions=[{value:"none",label:"Không chọn"},{value:"bounce",label:"Bounce"},{value:"flash",label:"Flash"},{value:"pulse",label:"Pulse"},{value:"rubberBand",label:"Rubber Band"},{value:"shake",label:"Shake"},{value:"swing",label:"Swing"},{value:"tada",label:"Tada"},{value:"wobble",label:"Wobble"},{value:"bounceIn",label:"Bounce In"},{value:"bounceInDown",label:"Bounce In Down"},{value:"bounceInLeft",label:"Bounce In Left"},{value:"bounceInRight",label:"Bounce In Right"},{value:"bounceInUp",label:"Bounce In Up"},{value:"fadeIn",label:"Fade In"},{value:"fadeInDown",label:"Fade In Down"},{value:"fadeInDownBig",label:"Fade In Down Big"},{value:"fadeInLeft",label:"Fade In Left"},{value:"fadeInLeftBig",label:"Fade In Left Big"},{value:"fadeInRight",label:"Fade In Right"},{value:"fadeInRightBig",label:"Fade In Right Big"},{value:"fadeInUp",label:"Fade In Up"},{value:"fadeInUpBig",label:"Fade In Up Big"},{value:"flip",label:"Flip"},{value:"flipInX",label:"Flip In X"},{value:"flipInY",label:"Flip In Y"},{value:"lightSpeedIn",label:"Light Speed In"},{value:"rotateIn",label:"Rotate In"},{value:"rotateInDownLeft",label:"Rotate In Down Left"},{value:"rotateInDownRight",label:"Rotate In Down Right"},{value:"rotateInUpLeft",label:"Rotate In Up Left"},{value:"rotateInUpRight",label:"Rotate In Up Right"},{value:"slideInUp",label:"Slide In Up"},{value:"slideInDown",label:"Slide In Down"},{value:"slideInLeft",label:"Slide In Left"},{value:"slideInRight",label:"Slide In Right"},{value:"hinge",label:"Hinge"},{value:"rollIn",label:"Roll In"}],SectionHeader$i=t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:22})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs(HStack,{gap:2,children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a},SectionCard$i=t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:3,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i},labelProps$2={fontSize:"xs",fontWeight:"semibold",color:"#333"},globalTriggeredElements=new Map,initialViewElementsWithAnimation=new Map;let eventListenersSetup=!1,currentUrl=typeof window<"u"?window.location.href:"";const clearTriggeredElementsOnPageChange=()=>{const t=window.location.href;t!==currentUrl&&(currentUrl=t,globalTriggeredElements.clear(),initialViewElementsWithAnimation.clear())};typeof window<"u"&&!eventListenersSetup&&(eventListenersSetup=!0,window.addEventListener("load",()=>{clearTriggeredElementsOnPageChange()}),window.addEventListener("beforeunload",()=>{}),window.addEventListener("popstate",()=>{setTimeout(()=>clearTriggeredElementsOnPageChange(),100)}));const useAnimationPreview=()=>{const t=compilerRuntimeExports.c(3),{query:e,enabled:o}=Pe(_temp3$l);let r;return t[0]!==o||t[1]!==e?(r={previewHoverAnimation:i=>{if(!o)return;const a=e.getEvent("selected").first();if(!a)return;const l=e.node(a).get().dom;if(!l||!i.enabled)return;const d={borderColor:l.style.borderColor||"",opacity:l.style.opacity||"",transform:l.style.transform||"",filter:l.style.filter||"",transition:l.style.transition||"",color:l.style.color||"",backgroundColor:l.style.backgroundColor||""},u=l.style;if(u.transition="all 0.3s ease",i.borderColor&&(u.borderColor=i.borderColor),i.textColor&&(u.color=i.textColor),i.backgroundColor&&(u.backgroundColor=i.backgroundColor),i.iconColor&&l.querySelectorAll("svg, [data-icon]").forEach(g=>{(g instanceof HTMLElement||g instanceof SVGElement)&&(g.dataset.originalPreviewColor||(g.dataset.originalPreviewColor=g.style.color||g.style.fill||""),g instanceof SVGElement?g.style.fill=i.iconColor:g.style.color=i.iconColor)}),i.opacity!==void 0){const x=(i.opacity/100).toString();u.opacity=x}const m=[],R=d.transform;R&&!R.includes("scale")&&!R.includes("rotate")&&m.push(R),i.scale!==void 0&&i.scale!==100&&m.push(`scale(${i.scale/100})`),i.rotate!==void 0&&i.rotate!==0&&m.push(`rotate(${i.rotate}deg)`),m.length>0&&(u.transform=m.join(" "));const p=[],j=d.filter;j&&j!=="none"&&!j.includes("blur")&&!j.includes("grayscale")&&p.push(j),i.blur!==void 0&&i.blur>0&&p.push(`blur(${i.blur}px)`),i.grayscale!==void 0&&i.grayscale>0&&p.push(`grayscale(${i.grayscale}%)`),p.length>0?u.filter=p.join(" "):i.blur===0&&i.grayscale===0&&(u.filter=d.filter||"none"),setTimeout(()=>{u.transition=d.transition,u.borderColor=d.borderColor,u.opacity=d.opacity,u.transform=d.transform,u.filter=d.filter,u.color=d.color,u.backgroundColor=d.backgroundColor,l.querySelectorAll("svg, [data-icon]").forEach(_temp4$e)},2e3)}},t[0]=o,t[1]=e,t[2]=r):r=t[2],r},AnimationManager=t=>{const e=compilerRuntimeExports.c(52),{displayAnimation:o,onDisplayAnimationChange:r,hoverAnimation:s,onHoverAnimationChange:i,hideHoverSection:a}=t,c=a===void 0?!1:a,[l,d]=reactExports.useState("display"),{previewHoverAnimation:u}=useAnimationPreview(),{preview:m,clear:R}=useAnimationPreviewLite(),{query:p}=Pe(),j=useIsMobile();let x;e[0]!==p?(x=()=>{const O=p.getEvent("selected").first();if(!O)return null;const Q=p.node(O).get();return{displayName:Q.data.displayName,name:Q.data.name,node:Q}},e[0]=p,e[1]=x):x=e[1];const g=x;let h;e[2]!==g?(h=()=>{const O=g();if(!O)return!1;const{displayName:Q,name:q}=O;return Q==="Text"||q==="Text"||Q==="Button"||q==="Button"||Q==="Count"||q==="Count"||Q==="Input"||q==="Input"||Q==="Form"||q==="Form"||Q==="Calendar"||q==="Calendar"},e[2]=g,e[3]=h):h=e[3];const E=h;let w;e[4]!==g?(w=()=>{const O=g();if(!O)return!1;const{displayName:Q,name:q}=O;return Q==="Icon"||q==="Icon"||Q==="Button"||q==="Button"},e[4]=g,e[5]=w):w=e[5];const C=w;let b;e[6]!==o||e[7]!==r?(b=O=>{if(o)r({...o,...O});else{const Q={id:`animation-${Date.now()}`,effect:"none",duration:1,repeat:!1,...O};r(Q)}},e[6]=o,e[7]=r,e[8]=b):b=e[8];const v=b;let _;e[9]!==r?(_=()=>{r(null)},e[9]=r,e[10]=_):_=e[10];const I=_;let $;e[11]!==l?($=O=>{d(l===O?null:O)},e[11]=l,e[12]=$):$=e[12];const A=$;let T;e[13]!==A?(T=()=>A("display"),e[13]=A,e[14]=T):T=e[14];let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L={bg:"gray.100"},e[15]=L):L=e[15];let P;e[16]!==l?(P=l==="display"?jsxRuntimeExports.jsx(FiChevronDown,{}):jsxRuntimeExports.jsx(FiChevronRight,{}),e[16]=l,e[17]=P):P=e[17];let N;e[18]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsx(SectionHeader$i,{icon:MdAnimation,title:"Hiệu ứng Hiển thị"}),e[18]=N):N=e[18];let k;e[19]!==P?(k=jsxRuntimeExports.jsxs(HStack,{children:[P,N]}),e[19]=P,e[20]=k):k=e[20];let B;e[21]!==I||e[22]!==o?(B=o&&o.effect!=="none"&&jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:O=>{O.stopPropagation(),I()},colorScheme:"red",variant:"outline",children:jsxRuntimeExports.jsx(FiTrash2,{})}),e[21]=I,e[22]=o,e[23]=B):B=e[23];let F;e[24]!==k||e[25]!==B?(F=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[k,B]}),e[24]=k,e[25]=B,e[26]=F):F=e[26];let W;e[27]!==F||e[28]!==T?(W=jsxRuntimeExports.jsx(Box,{onClick:T,cursor:"pointer",_hover:L,borderRadius:6,p:2,children:F}),e[27]=F,e[28]=T,e[29]=W):W=e[29];let z;e[30]!==R||e[31]!==o||e[32]!==l||e[33]!==j||e[34]!==m||e[35]!==v?(z=l==="display"&&jsxRuntimeExports.jsx(Box,{p:2,pt:0,children:jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsx(Box,{className:"w-full flex items-center justify-between gap-2",children:jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center flex-col gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:()=>{o!=null&&o.effect&&o.effect!=="none"&&m(o.effect,o.duration||1)},colorScheme:"blue",variant:"outline",className:"w-full",disabled:!(o!=null&&o.effect)||o.effect==="none",children:[jsxRuntimeExports.jsx(FiPlay,{style:{marginRight:"4px"}}),"Xem trước"]}),jsxRuntimeExports.jsx(Box,{flex:1,className:"w-full",children:jsxRuntimeExports.jsxs(SelectRoot,{value:[(o==null?void 0:o.effect)||"none"],onValueChange:O=>{v({effect:O.value[0]}),R()},collection:createListCollection({items:animationEffectOptions}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200",children:jsxRuntimeExports.jsx(SelectValueText,{})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:j?"200px":"400px",children:animationEffectOptions.map(O=>jsxRuntimeExports.jsx(SelectItem,{item:O.value,onMouseEnter:()=>{O.value!=="none"?m(O.value,.8):R()},onMouseLeave:()=>{R()},children:jsxRuntimeExports.jsx(SelectItemText,{children:O.label})},O.value))})})]})})]})}),o&&o.effect!=="none"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Thời gian (giây)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.duration,onChange:O=>v({duration:parseFloat(O.target.value)||1}),min:.1,step:.1,className:"w-[55%] p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Lặp lại"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:o.repeat,onChange:O=>v({repeat:O.target.checked}),className:"w-[16px] h-[16px] accent-blue-500"})]})]})]})}),e[30]=R,e[31]=o,e[32]=l,e[33]=j,e[34]=m,e[35]=v,e[36]=z):z=e[36];let H;e[37]!==W||e[38]!==z?(H=jsxRuntimeExports.jsxs(SectionCard$i,{children:[W,z]}),e[37]=W,e[38]=z,e[39]=H):H=e[39];let U;e[40]!==l||e[41]!==C||e[42]!==E||e[43]!==c||e[44]!==s||e[45]!==i||e[46]!==u||e[47]!==A?(U=!c&&jsxRuntimeExports.jsxs(SectionCard$i,{children:[jsxRuntimeExports.jsx(Box,{onClick:()=>A("hover"),cursor:"pointer",_hover:{bg:"gray.100"},borderRadius:6,p:2,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[l==="hover"?jsxRuntimeExports.jsx(FiChevronDown,{}):jsxRuntimeExports.jsx(FiChevronRight,{}),jsxRuntimeExports.jsx(SectionHeader$i,{icon:FiMousePointer,title:"Hiệu ứng Rê chuột"})]})}),l==="hover"&&jsxRuntimeExports.jsx(Box,{p:2,pt:0,children:jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Trạng thái"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:s.enabled,onChange:O=>i({...s,enabled:O.target.checked}),className:"w-[16px] h-[16px] accent-blue-500"})]}),s.enabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:()=>u(s),colorScheme:"blue",variant:"outline",width:"100%",children:[jsxRuntimeExports.jsx(FiPlay,{style:{marginRight:"4px"}}),"Xem trước hiệu ứng rê chuột"]})}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Màu viền"}),jsxRuntimeExports.jsxs("div",{className:"w-[55%] flex items-center gap-2",children:[jsxRuntimeExports.jsx(ColorControl,{label:"",value:s.borderColor||"#000000",onChange:O=>i({...s,borderColor:O}),size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>i({...s,borderColor:void 0}),title:"Xóa màu viền",children:"×"})]})]}),E()&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Màu chữ"}),jsxRuntimeExports.jsxs("div",{className:"w-[55%] flex items-center gap-2",children:[jsxRuntimeExports.jsx(ColorControl,{label:"",value:s.textColor||"#000000",onChange:O=>i({...s,textColor:O}),size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>i({...s,textColor:void 0}),title:"Xóa màu chữ",children:"×"})]})]}),C()&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Màu icon"}),jsxRuntimeExports.jsxs("div",{className:"w-[55%] flex items-center gap-2",children:[jsxRuntimeExports.jsx(ColorControl,{label:"",value:s.iconColor||"#000000",onChange:O=>i({...s,iconColor:O}),size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>i({...s,iconColor:void 0}),title:"Xóa màu icon",children:"×"})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Màu nền"}),jsxRuntimeExports.jsxs("div",{className:"w-[55%] flex items-center gap-2",children:[jsxRuntimeExports.jsx(ColorControl,{label:"",value:s.backgroundColor||"#ffffff",onChange:O=>i({...s,backgroundColor:O}),size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>i({...s,backgroundColor:void 0}),title:"Xóa màu nền",children:"×"})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Trong suốt (%)"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:s.opacity||100,onChange:O=>i({...s,opacity:O}),min:0,max:100})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Phóng to (%)"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:s.scale||100,onChange:O=>i({...s,scale:O}),min:10,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Xoay đều (độ)"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:s.rotate||0,onChange:O=>i({...s,rotate:O}),min:-360,max:360})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Độ mờ (px)"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:s.blur||0,onChange:O=>i({...s,blur:O}),min:0,max:20})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$2,children:"Trắng đen (%)"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:s.grayscale||0,onChange:O=>i({...s,grayscale:O}),min:0,max:100})]})]})]})})]}),e[40]=l,e[41]=C,e[42]=E,e[43]=c,e[44]=s,e[45]=i,e[46]=u,e[47]=A,e[48]=U):U=e[48];let D;return e[49]!==H||e[50]!==U?(D=jsxRuntimeExports.jsxs(Stack,{gap:4,overflow:"visible",children:[H,U]}),e[49]=H,e[50]=U,e[51]=D):D=e[51],D};function _temp3$l(t){return{enabled:t.options.enabled}}function _temp4$e(t){if(t instanceof HTMLElement||t instanceof SVGElement){const e=t.dataset.originalPreviewColor;e!==void 0&&(t instanceof SVGElement?t.style.fill=e:t.style.color=e,delete t.dataset.originalPreviewColor)}}const CrossPlatformSyncToggle=t=>{const e=compilerRuntimeExports.c(21),{className:o,embedded:r}=t,s=o===void 0?"":o,i=r===void 0?!1:r,{actions:a,syncCrossPlatform:c}=Ne(_temp$H),{setProp:l}=a,d=c===void 0?!0:c;useViewport();let u;e[0]!==l?(u=I=>{l($=>{$.syncCrossPlatform=I})},e[0]=l,e[1]=u):u=e[1];const m=u,p=`${i?"flex items-center justify-between":"flex items-center justify-between p-3 bg-gray-50 rounded-lg border"} ${s}`;let j;e[2]!==d?(j=d?jsxRuntimeExports.jsx(FaSync,{className:"text-blue-500 text-lg"}):jsxRuntimeExports.jsx(FaSyncAlt,{className:"text-gray-400 text-lg"}),e[2]=d,e[3]=j):j=e[3];let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:"Đồng bộ đa nền tảng"}),e[4]=x):x=e[4];const g=d?"Phần tử sẽ đồng bộ giữa Desktop và Mobile":"Phần tử không đồng bộ giữa các nền tảng";let h;e[5]!==g?(h=jsxRuntimeExports.jsxs("div",{children:[x,jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:g})]}),e[5]=g,e[6]=h):h=e[6];let E;e[7]!==h||e[8]!==j?(E=jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[j,h]})}),e[7]=h,e[8]=j,e[9]=E):E=e[9];let w;e[10]!==m?(w=I=>m(I.checked),e[10]=m,e[11]=w):w=e[11];let C;e[12]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[12]=C):C=e[12];let b;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[13]=b):b=e[13];let v;e[14]!==d||e[15]!==w?(v=jsxRuntimeExports.jsxs(SwitchRoot,{checked:d,onCheckedChange:w,children:[C,b]}),e[14]=d,e[15]=w,e[16]=v):v=e[16];let _;return e[17]!==E||e[18]!==v||e[19]!==p?(_=jsxRuntimeExports.jsxs("div",{className:p,children:[E,v]}),e[17]=E,e[18]=v,e[19]=p,e[20]=_):_=e[20],_};function _temp$H(t){var e;return{syncCrossPlatform:(e=t.data.props)==null?void 0:e.syncCrossPlatform}}const isValidActionType=t=>["click","first-click","second-click","hover","submit"].includes(t),isValidEventType=t=>["none","navigate-section","call","link","toggle-element","copy-clipboard","email","open-popup","open-dropbox","open-lightbox","open-album-modal","add-to-calendar"].includes(t),isValidDropboxPosition=t=>["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left-top","left-center","left-bottom","right-top","right-center","right-bottom"].includes(t),actionTypeOptions=[{value:"click",label:"Nhấp chuột"},{value:"first-click",label:"Nhấp chuột đầu tiên"},{value:"second-click",label:"Nhấp chuột thứ 2"},{value:"hover",label:"Rê chuột (hover)"},{value:"submit",label:"Gửi form (submit)"}],eventTypeOptions=[{value:"none",label:"Không chọn"},{value:"navigate-section",label:"Chuyển Section"},{value:"call",label:"Mở cuộc gọi"},{value:"link",label:"Mở liên kết"},{value:"toggle-element",label:"Ẩn/Hiện phần tử"},{value:"copy-clipboard",label:"Copy Clipboard"},{value:"email",label:"Mở email"},{value:"open-popup",label:"Mở Popup"},{value:"open-dropbox",label:"Mở Dropbox"},{value:"open-lightbox",label:"Mở LightBox"},{value:"open-album-modal",label:"Mở Album Modal"},{value:"add-to-calendar",label:"Thêm vào lịch"}],SectionHeader$h=t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:22})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs(HStack,{gap:2,mb:2,children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a},SectionCard$h=t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:3,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i},labelProps$1={fontSize:"xs",fontWeight:"semibold",color:"#333"},getDOMElement=(t,e)=>{var o;try{let r=t;const s=e.getNodes(),i=Object.keys(s).find(d=>{var m;return((m=s[d].data.custom)==null?void 0:m.customId)===t});i&&(r=i);try{const d=e.node(r).get();if(d&&d.dom&&document.contains(d.dom))return d.dom}catch{}let a=document.querySelector(`[data-node-id="${t}"]`);if(a||i&&r!==t&&(a=document.querySelector(`[data-node-id="${r}"]`),a))return a;const c=[`[data-custom-id="${t}"]`,`#${t}`,`.${t}`,`[id="${t}"]`,`[class*="${t}"]`];for(const d of c)try{if(a=document.querySelector(d),a&&document.contains(a))return a}catch{}const l=document.querySelectorAll("[data-node-id]");for(const d of l){const u=d.getAttribute("data-node-id");if(u===t)return d;try{const m=e.node(u).get();if(m&&((o=m.data.custom)==null?void 0:o.customId)===t)return d}catch{}}return null}catch{return null}},scrollToElement=(t,e={})=>{try{const{behavior:o="smooth",offset:r=0,container:s=null,duration:i=500}=e;let a=s||window;if(!s){const u=document.querySelector(".craftjs-renderer");u&&(a=u)}const c=a===window,l=t.getBoundingClientRect();let d;if(c){const u=window.pageYOffset||document.documentElement.scrollTop;d=l.top+u+r,window.scrollTo({top:d,behavior:o})}else{const u=a,m=u.getBoundingClientRect();d=l.top-m.top+u.scrollTop+r,u.scrollTo({top:d,behavior:o})}}catch{t.scrollIntoView({behavior:"smooth"})}},debugToggleElement=(t,e)=>{try{const o=e.getNodes(),r=Object.keys(o).find(i=>{var c;return((c=o[i].data.custom)==null?void 0:c.customId)===t});Object.keys(o).filter(i=>{var a,c;return i.toLowerCase().includes(t.toLowerCase())||((c=(a=o[i].data.custom)==null?void 0:a.customId)==null?void 0:c.toLowerCase().includes(t.toLowerCase()))}).length>0}catch{}},useEventHandling=(t=[],e)=>{const[o,r]=reactExports.useState(0),s=reactExports.useRef(null),{enabled:i,query:a,actions:c}=Pe(T=>({enabled:T.options.enabled})),{openPopup:l,openDropbox:d,setDropboxHoverState:u,scheduleDropboxClose:m,cancelDropboxClose:R,openLightBox:p,showCalendarProviderModal:j,pageContent:x}=useViewport();x==null||x.date;const g=reactExports.useMemo(()=>{const T=new Map;return t.forEach(L=>{const P=T.get(L.actionType)||[];T.set(L.actionType,[...P,L])}),T},[t]),h=reactExports.useCallback(T=>{if(i||!t||t.length===0)return;(g.get(T)||[]).forEach(P=>{try{switch(P.eventType){case"navigate-section":if(P.sectionId)try{const N=getDOMElement(P.sectionId,a);if(N)scrollToElement(N,{behavior:"smooth",offset:-20});else{const k=getDOMElement(P.sectionId,a);k&&scrollToElement(k,{behavior:"smooth",offset:-20})}}catch{}break;case"call":P.phoneNumber&&window.open(`tel:${P.phoneNumber}`,"_self");break;case"link":if(P.url){let N=P.url;if(P.forwardGuestInfo){const k=window.location.pathname.split("/").filter(z=>z.length>0),B=k.length>0?k[0]:null,W=B&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(B)?B:null;if(W)try{const z=new URL(P.url,window.location.origin);z.pathname=z.pathname.endsWith("/")?`${z.pathname}${W}`:`${z.pathname}/${W}`,N=z.toString()}catch{const H=P.url.endsWith("/")?"":"/";N=`${P.url}${H}${W}`}}P.openInNewTab?window.open(N,"_blank"):window.open(N,"_self")}break;case"toggle-element":P.hideElementIds&&P.hideElementIds.split(/[,\n]/).map(k=>k.trim()).filter(k=>k.length>0).forEach(k=>{try{let B=k;const F=a.getNodes(),W=Object.keys(F).find(H=>{var D;return((D=F[H].data.custom)==null?void 0:D.customId)===k});W&&(B=W);try{if(a.node(B).get()){c.setProp(B,U=>{U.hidden=!0});return}}catch{}const z=getDOMElement(k,a);if(z){if(!document.contains(z)){debugToggleElement(k,a);return}if(!z.dataset.originalDisplay){const O=window.getComputedStyle(z);z.dataset.originalDisplay=O.display}z.style.display="none",z.style.setProperty("display","none","important"),z.classList.add("craft-toggle-hidden"),z.style.setProperty("visibility","hidden","important"),z.style.setProperty("opacity","0","important"),z.offsetHeight;const H=window.getComputedStyle(z).display,U=window.getComputedStyle(z).visibility,D=window.getComputedStyle(z).opacity}else debugToggleElement(k,a)}catch{debugToggleElement(k,a)}}),P.showElementIds&&P.showElementIds.split(/[,\n]/).map(k=>k.trim()).filter(k=>k.length>0).forEach(k=>{try{let B=k;const F=a.getNodes(),W=Object.keys(F).find(H=>{var D;return((D=F[H].data.custom)==null?void 0:D.customId)===k});W&&(B=W);try{if(a.node(B).get()){c.setProp(B,U=>{U.hidden=!1});return}}catch{}const z=getDOMElement(k,a);if(z){if(!document.contains(z)){debugToggleElement(k,a);return}const H=z.dataset.originalDisplay||"block";z.classList.remove("craft-toggle-hidden"),z.style.removeProperty("display"),z.style.removeProperty("visibility"),z.style.removeProperty("opacity"),z.style.removeProperty("pointer-events"),z.style.setProperty("display",H,"important"),z.style.setProperty("visibility","visible","important"),z.style.setProperty("opacity","1","important"),z.offsetHeight;const U=window.getComputedStyle(z).display,D=window.getComputedStyle(z).visibility,O=window.getComputedStyle(z).opacity}else debugToggleElement(k,a)}catch{debugToggleElement(k,a)}});break;case"copy-clipboard":if(P.copyElementId)try{const N=getDOMElement(P.copyElementId,a);if(N){const k=N.textContent||P.defaultValue||"";navigator.clipboard.writeText(k).then(()=>{}).catch(B=>{})}else P.defaultValue&&navigator.clipboard.writeText(P.defaultValue).then(()=>{}).catch(k=>{})}catch{P.defaultValue&&navigator.clipboard.writeText(P.defaultValue).then(()=>{}).catch(k=>{})}else P.defaultValue&&navigator.clipboard.writeText(P.defaultValue).then(()=>{}).catch(N=>{});break;case"email":P.email&&window.open(`mailto:${P.email}`,"_self");break;case"open-popup":P.popupId&&l(P.popupId);break;case"open-dropbox":if(P.dropboxId){const N=P.actionType==="hover"?"hover":"click";d(P.dropboxId,P.dropboxPosition||"bottom-center",P.dropboxDistance||10,e,N)}break;case"open-lightbox":P.lightboxMediaType&&p(P);break;case"open-album-modal":P.albumModalId&&l(P.albumModalId);break;case"add-to-calendar":try{const N=P.calendarTitle||"Sự kiện quan trọng",B=new Date().toISOString().slice(0,10),F=P.calendarDate||(x==null?void 0:x.date)||B,W={title:N,startDate:F,startTime:P.calendarStartTime||"09:00",endTime:P.calendarEndTime||"10:00",description:P.calendarDescription||"",location:P.calendarLocation||""};j(W)}catch{}break;default:break}}catch{}})},[i,t,g,a,l,d,p,e,x]),E=reactExports.useCallback(()=>h("click"),[h]),w=reactExports.useCallback(()=>h("first-click"),[h]),C=reactExports.useCallback(()=>h("second-click"),[h]),b=reactExports.useCallback(()=>h("hover"),[h]),v=reactExports.useCallback(()=>h("submit"),[h]),_=reactExports.useCallback(()=>{r(T=>T+1),s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{o===0?w():o===1&&C(),E(),r(0)},300)},[o,w,C,E]),I=reactExports.useMemo(()=>t.filter(T=>T.actionType==="hover"&&T.eventType==="open-dropbox"&&T.dropboxId),[t]),$=reactExports.useCallback(()=>{i||!e||(I.forEach(T=>{T.dropboxId&&(u(e,!0),R(T.dropboxId))}),b())},[i,e,I,u,R,b]),A=reactExports.useCallback(()=>{i||!e||I.forEach(T=>{T.dropboxId&&(u(e,!1),m(T.dropboxId))})},[i,e,I,u,m]);return{handleClick:E,handleFirstClick:w,handleSecondClick:C,handleHover:b,handleSubmit:v,handleContainerClick:_,handleTriggerMouseEnter:$,handleTriggerMouseLeave:A}},EventManager=React.memo(({events:t,onEventsChange:e})=>{const{query:o}=Pe(D=>({nodes:D.nodes})),{showFileSelectModal:r,showCalendarProviderModal:s,pageContent:i,hasFeature:a}=useViewport(),c=a("editor_event_action_limits"),l=a("editor_event_action_limits_vip"),d=a("wedding_reminders"),u=reactExports.useMemo(()=>actionTypeOptions.map(D=>({...D,disabled:l?!1:c?D.value==="submit":D.value!=="click"})),[c,l]),m=reactExports.useMemo(()=>eventTypeOptions.map(D=>({...D,disabled:c||l?!1:D.value==="add-to-calendar"?!d:["open-popup","open-dropbox"].includes(D.value)})),[c,l,d]),R=i==null?void 0:i.date,[p,j]=reactExports.useState(null),[x,g]=reactExports.useState([]),[h,E]=reactExports.useState([]),[w,C]=reactExports.useState([]),[b,v]=reactExports.useState([]),_=reactExports.useCallback((D,O)=>{var Q;return((Q=O.data.custom)==null?void 0:Q.customId)||D},[]),I=reactExports.useCallback((D,O,Q)=>{var Y;const q=_(D,O);return(Y=O.data.custom)!=null&&Y.customId?`${Q} - ${q}`:`${Q} - ${q.substring(0,8)}...`},[_]),$=reactExports.useCallback(()=>{try{const D=o.getNodes();return Object.keys(D).filter(O=>{try{const Q=D[O];return Q.data.displayName==="Sections"||Q.data.custom&&Q.data.custom.displayName==="Sections"}catch{return!1}}).map(O=>{var q;const Q=D[O];return{id:O,displayId:((q=Q.data.custom)==null?void 0:q.customId)||O,name:I(O,Q,"Section")}})}catch{return[]}},[o,_,I]),A=reactExports.useCallback(()=>{try{const D=o.getNodes();return Object.keys(D).filter(O=>{try{const Q=D[O];return Q.data.displayName==="Popup"||Q.data.custom&&Q.data.custom.displayName==="Popup"}catch{return!1}}).map(O=>{var q;const Q=D[O];return{id:O,displayId:((q=Q.data.custom)==null?void 0:q.customId)||O,name:I(O,Q,"Popup")}})}catch{return[]}},[o,_,I]),T=reactExports.useCallback(()=>{try{const D=o.getNodes();return Object.keys(D).filter(O=>{try{const Q=D[O];return Q.data.displayName==="Dropbox"||Q.data.custom&&Q.data.custom.displayName==="Dropbox"}catch{return!1}}).map(O=>{var q;const Q=D[O];return{id:O,displayId:((q=Q.data.custom)==null?void 0:q.customId)||O,name:I(O,Q,"Dropbox")}})}catch{return[]}},[o,_,I]),L=reactExports.useCallback(()=>{try{const D=o.getNodes();return Object.keys(D).filter(O=>{try{const Q=D[O];return Q&&Q.data&&Q.data.displayName==="Album Modal"}catch{return!1}}).map(O=>{var q;const Q=D[O];return{id:O,displayId:((q=Q.data.custom)==null?void 0:q.customId)||O,name:I(O,Q,"Album Modal")}})}catch{return[]}},[o,_,I]);React.useEffect(()=>{try{const D=$(),O=A(),Q=T(),q=L();g(D),E(O),C(Q),v(q)}catch{}},[$,A,T,L]);const P=reactExports.useCallback(()=>`event-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,[]),N=reactExports.useCallback(()=>{try{const D={id:P(),actionType:"click",eventType:"none"};e([...t,D]),j(D.id)}catch{}},[t,e,P]),k=reactExports.useCallback(D=>{try{e(t.filter(O=>O.id!==D)),p===D&&j(null)}catch{}},[t,e,p]),B=reactExports.useCallback((D,O)=>{try{if(O.eventType==="add-to-calendar"&&R){const Q=t.find(q=>q.id===D);Q&&!Q.calendarDate&&(O.calendarDate=R)}e(t.map(Q=>Q.id===D?{...Q,...O}:Q))}catch{}},[t,e,R]),F=reactExports.useCallback(D=>{j(p===D?null:D)},[p]),W=reactExports.useCallback(D=>{var O;return((O=actionTypeOptions.find(Q=>Q.value===D))==null?void 0:O.label)||D},[]),z=reactExports.useCallback(D=>{var O;return((O=eventTypeOptions.find(Q=>Q.value===D))==null?void 0:O.label)||D},[]),H=reactExports.useCallback((D,O)=>{try{O.dropboxPosition&&!isValidDropboxPosition(O.dropboxPosition)&&(O.dropboxPosition="bottom-center"),O.actionType&&!isValidActionType(O.actionType)&&(O.actionType="click"),O.eventType&&!isValidEventType(O.eventType)&&(O.eventType="none"),B(D,O)}catch{}},[B]),U=D=>{switch(D.eventType){case"navigate-section":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Chọn Section:"}),jsxRuntimeExports.jsxs(SelectRoot,{value:D.sectionId?[D.sectionId]:[],onValueChange:V=>B(D.id,{sectionId:V.value[0]}),collection:createListCollection({items:x.map(V=>({label:V.name,value:V.id}))}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn section"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:x.map(V=>jsxRuntimeExports.jsx(SelectItem,{item:V.id,children:jsxRuntimeExports.jsx(SelectItemText,{children:V.name})},V.id))})})]})]});case"call":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Số điện thoại:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.phoneNumber||"",onChange:V=>B(D.id,{phoneNumber:V.target.value}),placeholder:"0123456789"})]});case"link":return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Liên kết:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.url||"",onChange:V=>B(D.id,{url:V.target.value}),placeholder:"https://example.com"})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Tuỳ chọn mở:"}),jsxRuntimeExports.jsxs(SelectRoot,{value:D.openInNewTab?["new-tab"]:["current"],onValueChange:V=>B(D.id,{openInNewTab:V.value[0]==="new-tab"}),collection:createListCollection({items:[{label:"Trang hiện tại",value:"current"},{label:"Cửa sổ mới",value:"new-tab"}]}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{item:"current",children:jsxRuntimeExports.jsx(SelectItemText,{children:"Trang hiện tại"})}),jsxRuntimeExports.jsx(SelectItem,{item:"new-tab",children:jsxRuntimeExports.jsx(SelectItemText,{children:"Cửa sổ mới"})})]})})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Checkbox,{checked:D.forwardGuestInfo||!1,onCheckedChange:V=>B(D.id,{forwardGuestInfo:V.checked===!0}),size:"sm",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Chuyển tiếp thông tin khách"})}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mt:1,children:"Thông tin khách (guestId) sẽ được tự động thêm vào liên kết"})]})]});case"toggle-element":return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"ID phần tử để ẩn (mỗi ID một dòng hoặc cách nhau bằng dấu phẩy):"}),jsxRuntimeExports.jsx(Textarea,{size:"sm",value:D.hideElementIds||"",onChange:V=>B(D.id,{hideElementIds:V.target.value}),placeholder:`element-id-1
element-id-2
hoặc: element-id-1, element-id-2`,rows:3})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"ID phần tử để hiện (mỗi ID một dòng hoặc cách nhau bằng dấu phẩy):"}),jsxRuntimeExports.jsx(Textarea,{size:"sm",value:D.showElementIds||"",onChange:V=>B(D.id,{showElementIds:V.target.value}),placeholder:`element-id-3
element-id-4
hoặc: element-id-3, element-id-4`,rows:3})]})]});case"copy-clipboard":return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"ID phần tử để copy:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.copyElementId||"",onChange:V=>B(D.id,{copyElementId:V.target.value}),placeholder:"element-id"})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Giá trị mặc định:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.defaultValue||"",onChange:V=>B(D.id,{defaultValue:V.target.value}),placeholder:"Văn bản mặc định để copy"})]})]});case"email":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Địa chỉ email:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.email||"",onChange:V=>B(D.id,{email:V.target.value}),placeholder:"example@email.com"})]});case"open-popup":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Chọn Popup:"}),h.length>0?jsxRuntimeExports.jsxs(SelectRoot,{value:D.popupId?[D.popupId]:[],onValueChange:V=>B(D.id,{popupId:V.value[0]}),collection:createListCollection({items:h.map(V=>({label:V.name,value:V.id}))}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn popup"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:h.map(V=>jsxRuntimeExports.jsx(SelectItem,{item:V.id,children:jsxRuntimeExports.jsx(SelectItemText,{children:V.name})},V.id))})})]}):jsxRuntimeExports.jsx(Box,{p:2,bg:"gray.50",borderRadius:"md",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có popup nào. Tạo popup trước để sử dụng."})})]});case"open-dropbox":const O=[{value:"top-left",label:"Trên cùng trái"},{value:"top-center",label:"Trên cùng giữa"},{value:"top-right",label:"Trên cùng phải"},{value:"bottom-left",label:"Dưới cùng trái"},{value:"bottom-center",label:"Dưới cùng giữa"},{value:"bottom-right",label:"Dưới cùng phải"},{value:"left-top",label:"Trái trên"},{value:"left-center",label:"Trái giữa"},{value:"left-bottom",label:"Trái dưới"},{value:"right-top",label:"Phải trên"},{value:"right-center",label:"Phải giữa"},{value:"right-bottom",label:"Phải dưới"}];return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Chọn Dropbox:"}),w.length>0?jsxRuntimeExports.jsxs(SelectRoot,{value:D.dropboxId?[D.dropboxId]:[],onValueChange:V=>B(D.id,{dropboxId:V.value[0]}),collection:createListCollection({items:w.map(V=>({label:V.name,value:V.id}))}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn dropbox"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:w.map(V=>jsxRuntimeExports.jsx(SelectItem,{item:V.id,children:jsxRuntimeExports.jsx(SelectItemText,{children:V.name})},V.id))})})]}):jsxRuntimeExports.jsx(Box,{p:2,bg:"gray.50",borderRadius:"md",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có dropbox nào. Tạo dropbox trước để sử dụng."})})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Vị trí:"}),jsxRuntimeExports.jsxs(SelectRoot,{value:D.dropboxPosition?[D.dropboxPosition]:["bottom-center"],onValueChange:V=>H(D.id,{dropboxPosition:V.value[0]}),collection:createListCollection({items:O}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:O.map(V=>jsxRuntimeExports.jsx(SelectItem,{item:V.value,children:jsxRuntimeExports.jsx(SelectItemText,{children:V.label})},V.value))})})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Khoảng cách (px):"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:D.dropboxDistance||10,onChange:V=>B(D.id,{dropboxDistance:parseInt(V.target.value)||10}),min:0,max:100})]})]});case"open-lightbox":return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Kiểu:"}),jsxRuntimeExports.jsxs(SelectRoot,{value:D.lightboxMediaType?[D.lightboxMediaType]:[],onValueChange:V=>B(D.id,{lightboxMediaType:V.value[0],lightboxImageUrl:void 0,lightboxVideoType:void 0,lightboxVideoUrl:void 0}),collection:createListCollection({items:[{label:"Hình ảnh",value:"image"},{label:"Video",value:"video"}]}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại media"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{item:"image",children:jsxRuntimeExports.jsx(SelectItemText,{children:"Hình ảnh"})}),jsxRuntimeExports.jsx(SelectItem,{item:"video",children:jsxRuntimeExports.jsx(SelectItemText,{children:"Video"})})]})})]})]}),D.lightboxMediaType==="image"&&jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Hình ảnh:"}),jsxRuntimeExports.jsxs(Stack,{gap:2,children:[jsxRuntimeExports.jsx(HStack,{gap:2,children:jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>{try{r(FileType.IMAGE,V=>{V&&H(D.id,{lightboxImageUrl:V})})}catch{}},children:D.lightboxImageUrl?"Thay đổi hình ảnh":"Chọn từ thư viện"})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"Hoặc dán URL hình ảnh:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.lightboxImageUrl||"",onChange:V=>H(D.id,{lightboxImageUrl:V.target.value}),placeholder:"https://example.com/image.jpg"})]}),D.lightboxImageUrl&&jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("img",{src:D.lightboxImageUrl,alt:"Preview",style:{maxWidth:"100px",maxHeight:"60px",objectFit:"cover",borderRadius:"4px",border:"1px solid #e0e0e0"},onError:V=>{V.currentTarget.style.display="none"}}),jsxRuntimeExports.jsxs(HStack,{mt:1,gap:2,children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>{H(D.id,{lightboxImageUrl:void 0})},children:"Xóa"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",flex:1,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D.lightboxImageUrl.includes("/")?D.lightboxImageUrl.split("/").pop():D.lightboxImageUrl})]})]})]})]}),D.lightboxMediaType==="video"&&jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Loại video:"}),jsxRuntimeExports.jsxs(SelectRoot,{value:D.lightboxVideoType?[D.lightboxVideoType]:[],onValueChange:V=>B(D.id,{lightboxVideoType:V.value[0],lightboxVideoUrl:void 0}),collection:createListCollection({items:[{label:"Youtube",value:"youtube"},{label:"meHappyVideo",value:"meHappyVideo"}]}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại video"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{item:"youtube",children:jsxRuntimeExports.jsx(SelectItemText,{children:"Youtube"})}),jsxRuntimeExports.jsx(SelectItem,{item:"meHappyVideo",children:jsxRuntimeExports.jsx(SelectItemText,{children:"meHappyVideo"})})]})})]})]}),D.lightboxVideoType&&jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:D.lightboxVideoType==="youtube"?"URL Youtube:":"Video:"}),jsxRuntimeExports.jsxs(Stack,{gap:2,children:[D.lightboxVideoType==="meHappyVideo"&&jsxRuntimeExports.jsx(HStack,{gap:2,children:jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>{try{r(FileType.VIDEO,V=>{V&&B(D.id,{lightboxVideoUrl:V})})}catch{}},children:D.lightboxVideoUrl?"Thay đổi video":"Chọn từ thư viện"})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:D.lightboxVideoType==="youtube"?"URL Youtube:":"Hoặc dán URL video:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.lightboxVideoUrl||"",onChange:V=>B(D.id,{lightboxVideoUrl:V.target.value}),placeholder:D.lightboxVideoType==="youtube"?"https://www.youtube.com/watch?v=...":"https://example.com/video.mp4"})]}),D.lightboxVideoUrl&&jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>{B(D.id,{lightboxVideoUrl:void 0})},children:"Xóa"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",flex:1,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D.lightboxVideoUrl.includes("/")?D.lightboxVideoUrl.split("/").pop():D.lightboxVideoUrl})]})]})]})]})]});case"open-album-modal":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Chọn Album Modal:"}),b.length>0?jsxRuntimeExports.jsxs(SelectRoot,{value:D.albumModalId?[D.albumModalId]:[],onValueChange:V=>B(D.id,{albumModalId:V.value[0]}),collection:createListCollection({items:b.map(V=>({label:V.name,value:V.id}))}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn Album Modal"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:b.map(V=>jsxRuntimeExports.jsx(SelectItem,{item:V.id,children:jsxRuntimeExports.jsx(SelectItemText,{children:V.name})},V.id))})})]}):jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mb:2,children:"Không có Album Modal nào. Hãy thêm Album Modal vào trang trước."})})]});case"add-to-calendar":const q=new Date().toISOString().slice(0,10),Y=D.calendarDate||(i==null?void 0:i.date)||q;return jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Tiêu đề sự kiện:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.calendarTitle||"",onChange:V=>B(D.id,{calendarTitle:V.target.value}),placeholder:"Lễ cưới"})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Mô tả:"}),jsxRuntimeExports.jsx(Textarea,{size:"sm",value:D.calendarDescription||"",onChange:V=>B(D.id,{calendarDescription:V.target.value}),placeholder:"Mô tả về sự kiện...",rows:3})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Địa điểm:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:D.calendarLocation||"",onChange:V=>B(D.id,{calendarLocation:V.target.value}),placeholder:"Nhà hàng tiệc cưới..."})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Ngày sự kiện:"}),jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"date",value:D.calendarDate||"",onChange:V=>B(D.id,{calendarDate:V.target.value}),placeholder:"yyyy-mm-dd",flex:1}),R&&jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>B(D.id,{calendarDate:R}),colorScheme:"blue",fontSize:"xs",children:"Tự động điền"})]}),R&&!D.calendarDate&&jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",mt:1,children:['💡 Nhấn "Tự động điền" để sử dụng ngày từ trang: ',new Date(R).toLocaleDateString("vi-VN")]})]}),jsxRuntimeExports.jsxs(HStack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Giờ bắt đầu:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"time",value:D.calendarStartTime||"09:00",onChange:V=>B(D.id,{calendarStartTime:V.target.value})})]}),jsxRuntimeExports.jsxs(Box,{flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Giờ kết thúc:"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"time",value:D.calendarEndTime||"10:00",onChange:V=>B(D.id,{calendarEndTime:V.target.value})})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:2,children:"Preview:"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>{const V={title:D.calendarTitle||"Lễ cưới",startDate:Y,startTime:D.calendarStartTime||"09:00",endTime:D.calendarEndTime||"10:00",description:D.calendarDescription||"",location:D.calendarLocation||""};s(V)},children:"📅 Thêm vào lịch (Preview)"})]})]});default:return null}};return jsxRuntimeExports.jsx(Stack,{gap:4,children:jsxRuntimeExports.jsxs(SectionCard$h,{children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",alignItems:"center",mb:2,children:[jsxRuntimeExports.jsx(SectionHeader$h,{icon:MdOutlineEvent,title:"Sự kiện"}),jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:N,colorScheme:"blue",variant:"outline",children:"Thêm sự kiện"})]}),t.length===0?jsxRuntimeExports.jsx(Box,{p:4,textAlign:"center",border:"1px dashed",borderColor:"gray.300",borderRadius:"md",color:"gray.500",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",children:'Chưa có sự kiện nào. Nhấn "Thêm sự kiện" để bắt đầu.'})}):jsxRuntimeExports.jsx(VStack,{gap:2,align:"stretch",children:t.map(D=>jsxRuntimeExports.jsxs(SectionCard$h,{children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",cursor:"pointer",onClick:()=>F(D.id),_hover:{bg:"gray.100"},p:1,borderRadius:6,children:[jsxRuntimeExports.jsxs(HStack,{gap:2,children:[p===D.id?jsxRuntimeExports.jsx(FiChevronDown,{}):jsxRuntimeExports.jsx(FiChevronRight,{}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",fontWeight:"medium",children:[W(D.actionType)," → ",z(D.eventType)]})]}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:O=>{O.stopPropagation(),k(D.id)},children:jsxRuntimeExports.jsx(FiTrash2,{})})]}),p===D.id&&jsxRuntimeExports.jsx(Box,{pt:2,children:jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$1,children:"Hành động"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",children:jsxRuntimeExports.jsxs(SelectRoot,{value:[D.actionType],onValueChange:O=>B(D.id,{actionType:O.value[0]}),collection:createListCollection({items:u}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200",children:jsxRuntimeExports.jsx(SelectValueText,{})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:u.map(O=>jsxRuntimeExports.jsx(SelectItem,{item:O.value,className:O.disabled?"opacity-50 cursor-not-allowed pointer-events-none":"",children:jsxRuntimeExports.jsxs(SelectItemText,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:O.disabled?"text-gray-400":"",children:O.label}),O.disabled&&jsxRuntimeExports.jsx(FaCrown,{size:10,color:"#f97316"})]})},O.value))})})]})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps$1,children:"Sự kiện"}),jsxRuntimeExports.jsx(Box,{className:"w-[55%]",children:jsxRuntimeExports.jsxs(SelectRoot,{value:[D.eventType],onValueChange:O=>B(D.id,{eventType:O.value[0],sectionId:void 0,phoneNumber:void 0,url:void 0,openInNewTab:void 0,hideElementIds:void 0,showElementIds:void 0,copyElementId:void 0,defaultValue:void 0,email:void 0,popupId:void 0,dropboxId:void 0,dropboxPosition:void 0,dropboxDistance:void 0,lightboxMediaType:void 0,lightboxImageUrl:void 0,lightboxVideoType:void 0,lightboxVideoUrl:void 0}),collection:createListCollection({items:m}),children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200",children:jsxRuntimeExports.jsx(SelectValueText,{})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:m.map(O=>jsxRuntimeExports.jsx(SelectItem,{item:O.value,className:O.disabled?"opacity-50 cursor-not-allowed pointer-events-none":"",children:jsxRuntimeExports.jsxs(SelectItemText,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:O.disabled?"text-gray-400":"",children:O.label}),O.disabled&&jsxRuntimeExports.jsx(FaCrown,{size:10,color:"#f97316"})]})},O.value))})})]})})]}),D.eventType!=="none"&&U(D)]})})]},D.id))})]})})});EventManager.displayName="EventManager";const useNodeState=({id:t,dom:e,locked:o,parentNode:r,actions:s,props:i})=>{const[a,c]=reactExports.useState(!1),[l,d]=reactExports.useState(!1),[u,m]=reactExports.useState(!1),[R,p]=reactExports.useState(!1),[j,x]=reactExports.useState(null),g=reactExports.useRef(!1);reactExports.useEffect(()=>(g.current=!0,()=>{g.current=!1}),[]),reactExports.useEffect(()=>{r!=null&&r.dom&&x(r.dom.getBoundingClientRect())},[r]);const h=reactExports.useCallback(()=>{const w=!(typeof o=="boolean"?o:a);e&&(s.setProp(t,C=>{C.locked=w}),e.style.cursor=w?"":"move"),c(w)},[e,s,t,o,a]);return reactExports.useEffect(()=>{typeof o=="boolean"?c(o):(i==null?void 0:i.locked)!==void 0&&c(i.locked)},[o,i==null?void 0:i.locked]),{isLocked:typeof o=="boolean"?o:(i==null?void 0:i.locked)!==void 0?i.locked:a,showLayerControls:l,isNearVerticalCenter:u,isNearHorizontalCenter:R,parentRect:j,toggleLock:h,setShowLayerControls:d,setIsNearVerticalCenter:m,setIsNearHorizontalCenter:p,setParentRect:x}};dt.div`
  height: 30px;
  margin-top: -29px;
  font-size: 12px;
  line-height: 12px;
  z-index: ${zIndex.renderNodeHighlight};
  background-color: #2266EE;
  display: flex;
  align-items: center;
  padding: 0 8px;
  border-radius: 3px;
  color: white;
  position: fixed;

  svg {
    fill: #fff;
    width: 15px;
    height: 15px;
  }
`;const Btn=dt.a`
  padding: 0 8px;
  opacity: 0.9;
  display: flex;
  gap: 5px;
  align-items: center;
  cursor: pointer;
  color: #000000;
  &:hover {
    opacity: 1;
  }
`;dt.div`
  position: absolute;
  top: 30px;
  right: 0;
  background-color: #2266EE;
  border-radius: 3px;
  padding: 8px;
  display: ${t=>t.isOpen?"flex":"none"};
  flex-direction: column;
  gap: 8px;
  min-width: 150px;
  z-index: ${zIndex.renderNodeHighlight};
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
`;const SectionIndicatorDiv=dt.div`
  height: 30px;
  width: 100%;
  font-size: 12px;
  line-height: 12px;
  z-index: ${zIndex.renderNodeHighlight};
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: center;
  border-radius: 0 0 3px 3px;
  color: white;
  position: absolute;
  bottom: 0px;
  left: 0;
  cursor: default;
`,SafeAreaBorders=dt.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: ${zIndex.renderNode};

  &::before, &::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 1px;
    border-left: 1px dashed #2266EE;
    z-index: ${zIndex.quickActions};
  }

  &::before {
    left: ${t=>t.platform==="mobile"?`calc((100% - ${t.mobileWidth||"420px"}) / 2)`:`calc((100% - ${t.desktopWidth||"960px"}) / 2)`};
  }

  &::after {
    right: ${t=>t.platform==="mobile"?`calc((100% - ${t.mobileWidth||"420px"}) / 2)`:`calc((100% - ${t.desktopWidth||"960px"}) / 2)`};
  }
`;dt.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: ${zIndex.renderNodeHighlight};

  &::before {
    content: ${t=>t.isVertical?"''":"none"};
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 1px;
    border-left: ${t=>(t.isSection,"1px")} dashed #f97316;
    z-index: ${zIndex.renderNodeHighlight};
    transform: translateX(-50%);
  }

  &::after {
    content: ${t=>t.isHorizontal?"''":"none"};
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    border-top: ${t=>(t.isSection,"1px")} dashed #f97316;
    z-index: ${zIndex.renderNodeHighlight};
    transform: translateY(-50%);
  }
`;const NodeControlsPanel=t=>{const e=compilerRuntimeExports.c(106),{showDragHandle:o,showLayerControls:r,showContainerSpecificControls:s}=t,i=r===void 0?!0:r,{id:a}=Ne(),{actions:c,query:l}=Pe();let d;e[0]!==l?(d=re=>({name:re.data.custom.displayName||re.data.displayName,deletable:l.node(re.id).isDeletable(),parent:re.data.parent,props:re.data.props}),e[0]=l,e[1]=d):d=e[1];const{name:u,deletable:m,parent:R,props:p}=Ne(d),{showAssetSaveModal:j,currentEditingPlatform:x,desktopContent:g,mobileContent:h,closePopup:E,closeDropboxEditor:w,hasFeature:C}=useViewport(),[b,v]=reactExports.useState(!1),[_,I]=reactExports.useState(!1),$=reactExports.useRef(null),A=useSelector(selectAuth);let T;e[2]!==A?(T=isAdmin(A),e[2]=A,e[3]=T):T=e[3];const L=T;let P;e[4]!==C||e[5]!==p.isBrand||e[6]!==L?(P=(p==null?void 0:p.isBrand)&&!L&&!C("remove_mewedding_logo"),e[4]=C,e[5]=p.isBrand,e[6]=L,e[7]=P):P=e[7];const N=P;useIsMobile();let k,B;e[8]!==_?(k=()=>{const re=Xe=>{$.current&&!$.current.contains(Xe.target)&&I(!1)};return _&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},B=[_],e[8]=_,e[9]=k,e[10]=B):(k=e[9],B=e[10]),reactExports.useEffect(k,B);const F=p.locked||p.isChildOfButton||p.isEditing||p.isCropMode;let W;e[11]!==R||e[12]!==l?(W=R?l.node(R).get():null,e[11]=R,e[12]=l,e[13]=W):W=e[13];let z;e[14]!==c||e[15]!==a||e[16]!==p||e[17]!==W||e[18]!==F?(z={id:a,dom:null,locked:F,parentNode:W,actions:c,props:p},e[14]=c,e[15]=a,e[16]=p,e[17]=W,e[18]=F,e[19]=z):z=e[19];const H=useNodeState(z),{isLocked:U,toggleLock:D}=H,{duplicateNode:O}=useDuplication();let Q;e[20]!==c||e[21]!==a||e[22]!==l?(Q=()=>{try{l.node(a).get()&&c.delete(a)}catch{try{c.setProp(a,_temp$G),c.selectNode()}catch{}}},e[20]=c,e[21]=a,e[22]=l,e[23]=Q):Q=e[23];const q=Q;let Y;e[24]!==c||e[25]!==a?(Y=()=>{c.setProp(a,_temp2$s)},e[24]=c,e[25]=a,e[26]=Y):Y=e[26];const V=Y;let de;e[27]!==c||e[28]!==a||e[29]!==R||e[30]!==l?(de=()=>{if(!R)return;const re=l.node(R).get(),Xe=re.data.nodes.indexOf(a);Xe<re.data.nodes.length-1&&c.move(a,R,Xe+2)},e[27]=c,e[28]=a,e[29]=R,e[30]=l,e[31]=de):de=e[31];const ue=de;let Re;e[32]!==c||e[33]!==a||e[34]!==R||e[35]!==l?(Re=()=>{if(!R)return;const Xe=l.node(R).get().data.nodes.indexOf(a);Xe>0&&c.move(a,R,Xe-1)},e[32]=c,e[33]=a,e[34]=R,e[35]=l,e[36]=Re):Re=e[36];const oe=Re;let ce;e[37]!==O||e[38]!==a?(ce=()=>{try{O(a)}catch{}},e[37]=O,e[38]=a,e[39]=ce):ce=e[39];const je=ce;let ie;e[40]!==c||e[41]!==a?(ie=re=>{c.setProp(a,Xe=>{Xe.backgroundColor=re})},e[40]=c,e[41]=a,e[42]=ie):ie=e[42];const xe=ie,pe=_temp3$k;if(p.isChildOfButton||p.isChildOfGroup||p.isChildOfForm)return null;let $e;e[43]===Symbol.for("react.memo_cache_sentinel")?($e=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Hiển thị & Khóa"}),e[43]=$e):$e=e[43];const Se=p.hidden?"Hiện phần tử":"Ẩn phần tử",Ie=`p-3 border rounded-lg transition-all ${p.hidden?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`;let Me;e[44]!==p.hidden?(Me=p.hidden?jsxRuntimeExports.jsx(TbEyeOff,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbEye,{className:"text-2xl"}),e[44]=p.hidden,e[45]=Me):Me=e[45];let He;e[46]!==V||e[47]!==Se||e[48]!==Ie||e[49]!==Me?(He=jsxRuntimeExports.jsx(Btn,{onClick:V,"data-tooltip-id":"node-controls-panel","data-tooltip-content":Se,className:Ie,children:Me}),e[46]=V,e[47]=Se,e[48]=Ie,e[49]=Me,e[50]=He):He=e[50];let fe;e[51]!==U||e[52]!==N||e[53]!==D?(fe=!N&&jsxRuntimeExports.jsx(Btn,{onClick:D,"data-tooltip-id":"node-controls-panel","data-tooltip-content":U?"Mở khóa phần tử":"Khóa phần tử",className:`p-3 border rounded-lg transition-all ${U?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:U?jsxRuntimeExports.jsx(TbLock,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbLockOpen,{className:"text-2xl"})}),e[51]=U,e[52]=N,e[53]=D,e[54]=fe):fe=e[54];let Ce;e[55]!==He||e[56]!==fe?(Ce=jsxRuntimeExports.jsxs(Box,{mb:3,children:[$e,jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[He,fe]})]}),e[55]=He,e[56]=fe,e[57]=Ce):Ce=e[57];let le;e[58]!==ue||e[59]!==oe||e[60]!==N||e[61]!==i?(le=i&&!N&&jsxRuntimeExports.jsxs(Box,{mb:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Lớp"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Btn,{onClick:ue,"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Đưa lên trước",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:jsxRuntimeExports.jsx(TbArrowUp,{className:"text-2xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:oe,"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Đưa xuống sau",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:jsxRuntimeExports.jsx(TbArrowDown,{className:"text-2xl"})})]})]}),e[58]=ue,e[59]=oe,e[60]=N,e[61]=i,e[62]=le):le=e[62];let J;e[63]===Symbol.for("react.memo_cache_sentinel")?(J=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Thao tác"}),e[63]=J):J=e[63];let se;e[64]===Symbol.for("react.memo_cache_sentinel")?(se=jsxRuntimeExports.jsx(TbCopy,{className:"text-2xl"}),e[64]=se):se=e[64];let te;e[65]!==je?(te=jsxRuntimeExports.jsx(Btn,{onClick:je,"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Nhân bản phần tử",className:"p-3 border border-green-200 rounded-lg bg-green-50 hover:bg-green-100 transition-all",children:se}),e[65]=je,e[66]=te):te=e[66];let be;e[67]!==a||e[68]!==u||e[69]!==j?(be=()=>j(u,a),e[67]=a,e[68]=u,e[69]=j,e[70]=be):be=e[70];let Z;e[71]===Symbol.for("react.memo_cache_sentinel")?(Z=jsxRuntimeExports.jsx(TbDeviceFloppy,{className:"text-2xl"}),e[71]=Z):Z=e[71];let Ee;e[72]!==be?(Ee=jsxRuntimeExports.jsx(Btn,{onClick:be,"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Lưu mẫu phần tử",className:"p-3 border border-blue-200 rounded-lg bg-blue-50 hover:bg-blue-100 transition-all",children:Z}),e[72]=be,e[73]=Ee):Ee=e[73];let me;e[74]!==x||e[75]!==g||e[76]!==h?(me=(x==="desktop"&&h||x==="mobile"&&g)&&jsxRuntimeExports.jsx(Btn,{onClick:pe,"data-tooltip-id":"node-controls-panel","data-tooltip-content":x==="desktop"?"Đồng bộ từ Mobile":"Đồng bộ từ Desktop",className:"p-3 border border-cyan-200 rounded-lg bg-cyan-50 hover:bg-cyan-100 transition-all",children:jsxRuntimeExports.jsx(TbRefresh,{className:"text-2xl"})}),e[74]=x,e[75]=g,e[76]=h,e[77]=me):me=e[77];let ge;e[78]!==E||e[79]!==u?(ge=u==="Popup"&&jsxRuntimeExports.jsx(Btn,{onClick:()=>E(),"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Đóng popup",className:"p-3 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-all",children:jsxRuntimeExports.jsx(TbX,{className:"text-2xl"})}),e[78]=E,e[79]=u,e[80]=ge):ge=e[80];let Ke;e[81]!==w||e[82]!==u?(Ke=u==="Dropbox"&&jsxRuntimeExports.jsx(Btn,{onClick:w,"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Đóng dropbox",className:"p-3 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-all",children:jsxRuntimeExports.jsx(TbX,{className:"text-2xl"})}),e[81]=w,e[82]=u,e[83]=Ke):Ke=e[83];let Ue;e[84]!==m||e[85]!==q||e[86]!==N?(Ue=m&&!N&&jsxRuntimeExports.jsx(Btn,{onMouseDown:re=>{re.stopPropagation(),q()},"data-tooltip-id":"node-controls-panel","data-tooltip-content":"Xóa phần tử",className:"p-3 border border-red-300 rounded-lg bg-red-100 hover:bg-red-200 transition-all",children:jsxRuntimeExports.jsx(TbTrash,{className:"text-2xl text-red-600"})}),e[84]=m,e[85]=q,e[86]=N,e[87]=Ue):Ue=e[87];let _e;e[88]!==te||e[89]!==Ee||e[90]!==me||e[91]!==ge||e[92]!==Ke||e[93]!==Ue?(_e=jsxRuntimeExports.jsxs(Box,{mb:3,children:[J,jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[te,Ee,me,ge,Ke,Ue]})]}),e[88]=te,e[89]=Ee,e[90]=me,e[91]=ge,e[92]=Ke,e[93]=Ue,e[94]=_e):_e=e[94];let Qe;e[95]===Symbol.for("react.memo_cache_sentinel")?(Qe=jsxRuntimeExports.jsx(M,{id:"node-controls-panel"}),e[95]=Qe):Qe=e[95];let qe;e[96]===Symbol.for("react.memo_cache_sentinel")?(qe=()=>v(!1),e[96]=qe):qe=e[96];const Ye=(p==null?void 0:p.backgroundColor)||"#ffffff";let nt;e[97]!==xe||e[98]!==b||e[99]!==Ye?(nt=jsxRuntimeExports.jsx(ColorPickerModal,{isOpen:b,onClose:qe,onColorChange:xe,initialColor:Ye}),e[97]=xe,e[98]=b,e[99]=Ye,e[100]=nt):nt=e[100];let et;return e[101]!==Ce||e[102]!==le||e[103]!==_e||e[104]!==nt?(et=jsxRuntimeExports.jsx(Box,{className:"block sm:hidden",children:jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 justify-between",borderBottom:"1px solid #e0e0e0",borderRadius:4,p:1,px:4,children:[Ce,le,_e,Qe,nt]})}),e[101]=Ce,e[102]=le,e[103]=_e,e[104]=nt,e[105]=et):et=e[105],et};function _temp$G(t){t.opacity=0,t.pointerEvents="none"}function _temp2$s(t){t.hidden=!t.hidden}function _temp3$k(){}const pinPositionOptions=[{label:"Trên dưới tự động",value:"auto"},{label:"Trên cùng trái",value:"top-left"},{label:"Trên cùng giữa",value:"top-center"},{label:"Trên cùng phải",value:"top-right"},{label:"Giữa trái",value:"middle-left"},{label:"Giữa phải",value:"middle-right"},{label:"Dưới cùng trái",value:"bottom-left"},{label:"Dưới cùng giữa",value:"bottom-center"},{label:"Dưới cùng phải",value:"bottom-right"}],usePinning=(t,e)=>{const o=compilerRuntimeExports.c(4),{enabled:r}=Pe(_temp$F);let s;return o[0]!==e||o[1]!==r||o[2]!==t?(s={getPinningStyles:_temp2$r,applyPinningToStyles:_temp3$j,PinnedWrapper:l=>{const{children:d}=l;if(!t||!t.enabled||r)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d});if(t.position==="auto")return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d});const u=()=>{const p=typeof t.topDistance=="number"?t.topDistance:0,j=typeof t.leftDistance=="number"?t.leftDistance:0,x=typeof t.rightDistance=="number"?t.rightDistance:0,g=typeof t.bottomDistance=="number"?t.bottomDistance:0,h={position:"fixed",zIndex:zIndex.pinningManager};switch(t.position){case"top":return{...h,top:`${p}px`,left:"50%",transform:"translateX(-50%)"};case"bottom":return{...h,bottom:`${g}px`,left:"50%",transform:"translateX(-50%)"};case"top-left":return{...h,top:`${p}px`,left:`${j}px`};case"top-center":return{...h,top:`${p}px`,left:"50%",transform:"translateX(-50%)"};case"top-right":return{...h,top:`${p}px`,right:`${x}px`};case"bottom-left":return{...h,bottom:`${g}px`,left:`${j}px`};case"bottom-center":return{...h,bottom:`${g}px`,left:"50%",transform:"translateX(-50%)"};case"bottom-right":return{...h,bottom:`${g}px`,right:`${x}px`};case"middle-left":return{...h,top:"50%",left:`${j}px`,transform:"translateY(-50%)"};case"middle-right":return{...h,top:"50%",right:`${x}px`,transform:"translateY(-50%)"};default:return{...h,top:`${p}px`,left:`${j}px`}}},R=e!=="Group"?"pinned-content-override":"pinned-content-preserve";return jsxRuntimeExports.jsx("div",{style:u(),children:jsxRuntimeExports.jsx("div",{className:R,style:{width:"100%",height:"100%"},children:d})})}},o[0]=e,o[1]=r,o[2]=t,o[3]=s):s=o[3],s},PinningManager=t=>{const e=compilerRuntimeExports.c(35),{pinning:o,onPinningChange:r,embedded:s}=t,i=s===void 0?!1:s,[a,c]=reactExports.useState(!!i);let l;e[0]!==r||e[1]!==o?(l=$=>{r({...o,enabled:$})},e[0]=r,e[1]=o,e[2]=l):l=e[2];const d=l;let u;e[3]!==r||e[4]!==o?(u=$=>{const A={...o,position:$};$==="auto"?A.topDistance===0&&(A.topDistance=0):(($==="top-left"||$==="top-center"||$==="top-right")&&A.topDistance===0&&(A.topDistance=10),($==="bottom-left"||$==="bottom-center"||$==="bottom-right")&&A.bottomDistance===0&&(A.bottomDistance=10),($==="top-left"||$==="bottom-left"||$==="middle-left")&&A.leftDistance===0&&(A.leftDistance=10),($==="top-right"||$==="bottom-right"||$==="middle-right")&&A.rightDistance===0&&(A.rightDistance=10)),r(A)},e[3]=r,e[4]=o,e[5]=u):u=e[5];const m=u;let R;e[6]!==r||e[7]!==o?(R=$=>{const A=parseInt($)||0;r({...o,topDistance:A})},e[6]=r,e[7]=o,e[8]=R):R=e[8];const p=R;let j;e[9]!==r||e[10]!==o?(j=$=>{const A=parseInt($)||0;r({...o,bottomDistance:A})},e[9]=r,e[10]=o,e[11]=j):j=e[11];const x=j;let g;e[12]!==r||e[13]!==o?(g=$=>{const A=parseInt($)||0;r({...o,leftDistance:A})},e[12]=r,e[13]=o,e[14]=g):g=e[14];const h=g;let E;e[15]!==r||e[16]!==o?(E=$=>{const A=parseInt($)||0;r({...o,rightDistance:A})},e[15]=r,e[16]=o,e[17]=E):E=e[17];const w=E;let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=createListCollection({items:pinPositionOptions}),e[18]=C):C=e[18];const b=C;let v;e[19]!==i||e[20]!==a?(v=!i&&jsxRuntimeExports.jsxs(HStack,{onClick:()=>c(!a),cursor:"pointer",userSelect:"none",py:2,children:[a?jsxRuntimeExports.jsx(FiChevronDown,{}):jsxRuntimeExports.jsx(FiChevronRight,{}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"medium",children:"Ghim phần tử"})]}),e[19]=i,e[20]=a,e[21]=v):v=e[21];let _;e[22]!==i||e[23]!==x||e[24]!==h||e[25]!==d||e[26]!==m||e[27]!==w||e[28]!==p||e[29]!==a||e[30]!==o?(_=a&&jsxRuntimeExports.jsxs(Stack,{gap:4,pl:i?0:6,mt:i?0:2,children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Bật ghim phần tử"}),jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.enabled,onCheckedChange:$=>d($.checked),children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})})]})]}),o.enabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Vị trí"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsxs(SelectRoot,{collection:b,value:[o.position],onValueChange:$=>m($.value[0]),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200",children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn vị trí"})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:pinPositionOptions.map(_temp4$d)})})]})})]}),o.position==="auto"&&jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách dính từ trên (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.topDistance,onChange:$=>p($.target.value),min:0,max:1e3,placeholder:"0"})})]}),(o.position==="top"||o.position==="top-center")&&jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trên (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.topDistance,onChange:$=>p($.target.value),min:0,max:1e3})})]}),(o.position==="bottom"||o.position==="bottom-center")&&jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ dưới (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.bottomDistance,onChange:$=>x($.target.value),min:0,max:1e3})})]}),o.position==="top-left"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trên (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.topDistance,onChange:$=>p($.target.value),min:0,max:1e3})})]}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trái (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.leftDistance,onChange:$=>h($.target.value),min:0,max:1e3})})]})]}),o.position==="top-right"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trên (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.topDistance,onChange:$=>p($.target.value),min:0,max:1e3})})]}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ phải (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.rightDistance,onChange:$=>w($.target.value),min:0,max:1e3})})]})]}),o.position==="middle-left"&&jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trái (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.leftDistance,onChange:$=>h($.target.value),min:0,max:1e3})})]}),o.position==="middle-right"&&jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ phải (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.rightDistance,onChange:$=>w($.target.value),min:0,max:1e3})})]}),o.position==="bottom-left"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ dưới (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.bottomDistance,onChange:$=>x($.target.value),min:0,max:1e3})})]}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ trái (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.leftDistance,onChange:$=>h($.target.value),min:0,max:1e3})})]})]}),o.position==="bottom-right"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ dưới (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.bottomDistance,onChange:$=>x($.target.value),min:0,max:1e3})})]}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"semibold",color:"#333",children:"Khoảng cách từ phải (px)"}),jsxRuntimeExports.jsx("div",{className:"w-[55%]",children:jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:o.rightDistance,onChange:$=>w($.target.value),min:0,max:1e3})})]})]})]})]}),e[22]=i,e[23]=x,e[24]=h,e[25]=d,e[26]=m,e[27]=w,e[28]=p,e[29]=a,e[30]=o,e[31]=_):_=e[31];let I;return e[32]!==_||e[33]!==v?(I=jsxRuntimeExports.jsxs(Box,{children:[v,_]}),e[32]=_,e[33]=v,e[34]=I):I=e[34],I};function _temp$F(t){return{enabled:t.options.enabled}}function _temp2$r(){return{}}function _temp3$j(t){return t}function _temp4$d(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:t.label},t.value)}const SectionHeader$g=t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:24})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs(HStack,{gap:2,mb:3,children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a},SectionCard$g=React.memo(t=>{const e=compilerRuntimeExports.c(7),{color:o,children:r}=t,s=o===void 0?"blue":o;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={blue:"blue.400",teal:"blue.400",purple:"blue.400",gray:"blue.400"},e[0]=i):i=e[0];const c=i[s]||"blue.400";let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={bg:"gray.800",borderColor:"gray.700"},e[1]=l):l=e[1];let d;e[2]!==c?(d=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:c,borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[2]=c,e[3]=d):d=e[3];let u;return e[4]!==r||e[5]!==d?(u=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:l,children:[d,r]}),e[4]=r,e[5]=d,e[6]=u):u=e[6],u});SectionCard$g.displayName="SectionCard";const CommonSettings=React.memo(t=>{const e=compilerRuntimeExports.c(120),{initialTab:o,tabs:r,showNodeControlsPanel:s,enableSize:i,enableFilter:a,enableTransform:c,enableBackground:l,enableBorder:d,enableShadow:u,enableOverlay:m,enablePinning:R,design:p,eventExtra:j,animationExtra:x,advancedExtra:g}=t,h=o===void 0?"default":o,E=s===void 0?!0:s,w=R===void 0?!0:R,{actions:C,props:b,name:v}=Ne(_temp$E),{setProp:_}=C,I=useIsMobile(),[$,A]=reactExports.useState(h),T=useSelector(selectAuth);let L;e[0]!==T?(L=isAdmin(T),e[0]=T,e[1]=L):L=e[1];const P=L,N=(r==null?void 0:r.default)!==!1,k=(r==null?void 0:r.event)!==!1,B=(r==null?void 0:r.animation)!==!1,F=(r==null?void 0:r.advanced)!==!1;let W;e[2]!==N||e[3]!==k||e[4]!==B||e[5]!==F?(W={default:N,event:k,animation:B,advanced:F},e[2]=N,e[3]=k,e[4]=B,e[5]=F,e[6]=W):W=e[6];const z=W;let H;e[7]!==_?(H=(he,at)=>{_(xt=>{xt[he]=at})},e[7]=_,e[8]=H):H=e[8];const U=H;let D;e[9]!==b||e[10]!==U?(D={props:b,updateProp:U},e[9]=b,e[10]=U,e[11]=D):D=e[11];const O=D;let Q;e[12]===Symbol.for("react.memo_cache_sentinel")?(Q=["Sections","AlbumSection","Pages Container"],e[12]=Q):Q=e[12];const q=Q.includes(v);let Y;e[13]===Symbol.for("react.memo_cache_sentinel")?(Y=["Text"],e[13]=Y):Y=e[13];const V=Y.includes(v),de=b.isChildOfButton||b.isChildOfGroup||b.isChildOfForm,ue=b==null?void 0:b.events,Re=b==null?void 0:b.displayAnimation,oe=b==null?void 0:b.hoverAnimation,ce=b==null?void 0:b.pinning;let je;e[14]!==b?(je=b&&Object.prototype.hasOwnProperty.call(b,"width"),e[14]=b,e[15]=je):je=e[15];const ie=je;let xe;e[16]!==b?(xe=b&&Object.prototype.hasOwnProperty.call(b,"height"),e[16]=b,e[17]=xe):xe=e[17];const pe=xe;let $e;e[18]!==b?($e=b&&Object.prototype.hasOwnProperty.call(b,"lockAspectRatio"),e[18]=b,e[19]=$e):$e=e[19];const Se=$e,Ie=(i&&!de)??(ie&&pe);let Me;e[20]!==b?(Me=["contrast","brightness","saturate","grayscale","invert","sepia","hueRotate","opacity","blendMode"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[20]=b,e[21]=Me):Me=e[21];const fe=(a&&!de)??Me;let Ce;e[22]!==b?(Ce=["transformOrigin","rotate","rotateX","rotateY","skewX","skewY","perspective"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[22]=b,e[23]=Ce):Ce=e[23];const J=(c&&!de)??Ce;let se;e[24]!==b?(se=["backgroundType","backgroundColor","gradientType","gradientAngle","gradientColor1","gradientColor2","backgroundImage","backgroundVideo","backgroundVideoType","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[24]=b,e[25]=se):se=e[25];const be=l??se;let Z;e[26]!==b?(Z=["borderStyle","borderColor","borderWidth","borderRadius","radius"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[26]=b,e[27]=Z):Z=e[27];const me=d??Z;let ge;e[28]!==b?(ge=["shadowType","shadowX","shadowY","shadowBlur","shadowSpread","shadowColor"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[28]=b,e[29]=ge):ge=e[29];const Ue=u??ge;let _e;e[30]!==b?(_e=["overlayType","overlayBlendMode","overlayOpacity","overlayColor","overlayGradientType","overlayGradientAngle","overlayGradientColor1","overlayGradientColor2","overlayImage","overlayImageSize","overlayImageAttachment","overlayImagePosition","overlayImageRepeat"].some(at=>b&&Object.prototype.hasOwnProperty.call(b,at)),e[30]=b,e[31]=_e):_e=e[31];const qe=m??_e;let Ye;e[32]!==Re||e[33]!==ue||e[34]!==Se||e[35]!==oe||e[36]!==de||e[37]!==q||e[38]!==V||e[39]!==ce||e[40]!==be||e[41]!==me||e[42]!==fe||e[43]!==qe||e[44]!==Ue||e[45]!==Ie||e[46]!==J?(Ye={onlySizeHeight:q,onlySizeWidth:V,isInsideElm:de,events:ue,displayAnimation:Re,hoverAnimation:oe,pinning:ce,showSize:Ie,showFilter:fe,showTransform:J,showBackground:be,showBorder:me,showShadow:Ue,showOverlay:qe,hasLock:Se},e[32]=Re,e[33]=ue,e[34]=Se,e[35]=oe,e[36]=de,e[37]=q,e[38]=V,e[39]=ce,e[40]=be,e[41]=me,e[42]=fe,e[43]=qe,e[44]=Ue,e[45]=Ie,e[46]=J,e[47]=Ye):Ye=e[47];const nt=Ye,{onlySizeHeight:et,onlySizeWidth:re,events:Xe,displayAnimation:tt,hoverAnimation:rt,pinning:Rt,showSize:wt,showFilter:St,showTransform:bt,showBackground:yt,showBorder:jt,showShadow:we,showOverlay:G,hasLock:X}=nt,K=_temp2$q;let ne,ve;e[48]===Symbol.for("react.memo_cache_sentinel")?(ne=[{value:"normal",label:"Normal"},{value:"multiply",label:"Multiply"},{value:"screen",label:"Screen"},{value:"overlay",label:"Overlay"},{value:"darken",label:"Darken"},{value:"lighten",label:"Lighten"},{value:"color-dodge",label:"Color Dodge"},{value:"color-burn",label:"Color Burn"},{value:"hard-light",label:"Hard Light"},{value:"soft-light",label:"Soft Light"},{value:"difference",label:"Difference"},{value:"exclusion",label:"Exclusion"},{value:"hue",label:"Hue"},{value:"saturation",label:"Saturation"},{value:"color",label:"Color"},{value:"luminosity",label:"Luminosity"}],ve=createListCollection({items:ne}),e[48]=ne,e[49]=ve):(ne=e[48],ve=e[49]);const Te=ve;let Le,st;e[50]===Symbol.for("react.memo_cache_sentinel")?(st=[{value:"center center",label:"Giữa"},{value:"top left",label:"Trên trái"},{value:"top center",label:"Trên giữa"},{value:"top right",label:"Trên phải"},{value:"center left",label:"Giữa trái"},{value:"center right",label:"Giữa phải"},{value:"bottom left",label:"Dưới trái"},{value:"bottom center",label:"Dưới giữa"},{value:"bottom right",label:"Dưới phải"}],Le=createListCollection({items:st}),e[50]=Le,e[51]=st):(Le=e[50],st=e[51]);const ft=Le;let ht;e[52]===Symbol.for("react.memo_cache_sentinel")?(ht={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[52]=ht):ht=e[52];const ct=ht;let Et;e[53]===Symbol.for("react.memo_cache_sentinel")?(Et=he=>{A(he.value)},e[53]=Et):Et=e[53];const Tt=Et,vt=I?"top":"bottom";let it;e[54]!==z.default||e[55]!==$?(it=z.default&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"default",className:"!text-xs !p-2 !h-[60px] flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsx(MdDesignServices,{size:18,color:$==="default"?"#E53E3E":void 0}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Thiết kế"})]}),e[54]=z.default,e[55]=$,e[56]=it):it=e[56];let ae;e[57]!==z.event||e[58]!==$?(ae=z.event&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"event",className:"!text-xs !p-2 !h-[60px] flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsx(MdOutlineEvent,{size:18,color:$==="event"?"#E53E3E":void 0}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Sự kiện"})]}),e[57]=z.event,e[58]=$,e[59]=ae):ae=e[59];let Fe;e[60]!==z.animation||e[61]!==$?(Fe=z.animation&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"animation",className:"!text-xs !p-2 !h-[60px]  flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsx(MdAnimation,{size:18,color:$==="animation"?"#E53E3E":void 0}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Hiệu ứng"})]}),e[60]=z.animation,e[61]=$,e[62]=Fe):Fe=e[62];let ee;e[63]!==z.advanced||e[64]!==$?(ee=z.advanced&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"advanced",className:"!text-xs !p-2 !h-[60px]  flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsx(MdSettings,{size:18,color:$==="advanced"?"#E53E3E":void 0}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Nâng cao"})]}),e[63]=z.advanced,e[64]=$,e[65]=ee):ee=e[65];let Be;e[66]!==it||e[67]!==ae||e[68]!==Fe||e[69]!==ee?(Be=jsxRuntimeExports.jsxs(TabsList,{className:"!h-[70px] flex justify-center gap-2 !px-1 !border-b-[0px] !sm:border-b",children:[it,ae,Fe,ee]}),e[66]=it,e[67]=ae,e[68]=Fe,e[69]=ee,e[70]=Be):Be=e[70];let ze;e[71]!==O||e[72]!==p||e[73]!==z.default||e[74]!==X||e[75]!==I||e[76]!==v||e[77]!==et||e[78]!==re||e[79]!==b||e[80]!==vt||e[81]!==_||e[82]!==yt||e[83]!==jt||e[84]!==St||e[85]!==E||e[86]!==G||e[87]!==we||e[88]!==wt||e[89]!==bt||e[90]!==U||e[91]!==P?(ze=z.default&&jsxRuntimeExports.jsx(TabsContent,{value:"default",className:"p-1 !pt-0 !sm:pt-[1rem]",children:jsxRuntimeExports.jsxs(Stack,{children:[E&&jsxRuntimeExports.jsx(NodeControlsPanel,{showDragHandle:!1,showLayerControls:!0,showContainerSpecificControls:!0}),typeof p=="function"?p(O):p,wt&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:TbRulerMeasure,title:"Kích thước"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[et?null:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[jsxRuntimeExports.jsxs(HStack,{gap:1,className:"translate-y-[2px]",children:[jsxRuntimeExports.jsx(TbArrowsHorizontal,{size:18}),jsxRuntimeExports.jsx(Text$1,{...ct,children:"W"})]}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:K(b.width),onChange:he=>{if(X&&b.lockAspectRatio){const xt=K(b.width),gt=K(b.height),Oe=xt>0?gt/xt:1,Ze=Math.max(1,Math.round(he*Oe));_(kt=>{kt.width=`${he}px`,kt.height=`${Ze}px`})}else U("width",`${he}px`)},min:1})]}),re?null:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[jsxRuntimeExports.jsxs(HStack,{gap:1,className:"translate-y-[2px]",children:[jsxRuntimeExports.jsx(TbArrowsVertical,{size:18}),jsxRuntimeExports.jsx(Text$1,{...ct,children:"H"})]}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:K(b.height),onChange:he=>{if(X&&b.lockAspectRatio){const xt=K(b.width),gt=K(b.height),Oe=gt>0?xt/gt:1,Ze=Math.max(1,Math.round(he*Oe));_(kt=>{kt.height=`${he}px`,kt.width=`${Ze}px`})}else U("height",`${he}px`)},min:1})]}),X&&jsxRuntimeExports.jsx(Box,{onClick:()=>U("lockAspectRatio",!b.lockAspectRatio),color:b.lockAspectRatio?"blue.500":"gray.400",cursor:"pointer",p:2,display:"flex",alignItems:"center",justifyContent:"center",children:b.lockAspectRatio?jsxRuntimeExports.jsx(FaLock,{size:18}):jsxRuntimeExports.jsx(FaUnlock,{size:18})})]})]}),yt&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdFormatColorFill,title:"Nền"}),jsxRuntimeExports.jsx(BackgroundSettings,{embedded:!0,value:b,onChange:(he,at)=>U(he,at),enable:{video:v==="Sections"}})]}),jt&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdBorderAll,title:"Bo & Viền"}),jsxRuntimeExports.jsx(BorderSettings,{embedded:!0,value:b,onChange:(he,at)=>U(he,at)})]}),St&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdFilterAlt,title:"Bộ lọc"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Object.prototype.hasOwnProperty.call(b,"blendMode")&&jsxRuntimeExports.jsxs(Box,{className:"col-span-2 flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Blend Mode"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:Te,value:[b.blendMode||"normal"],onValueChange:he=>U("blendMode",he.value[0]),size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[55%]",children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Select blend mode"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:I?"200px":"500px",children:ne.map(_temp3$i)})})]})]}),Object.prototype.hasOwnProperty.call(b,"contrast")&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Tương phản"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.contrast??100,onChange:he=>U("contrast",he),min:0,max:200})]}),Object.prototype.hasOwnProperty.call(b,"brightness")&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Độ sáng"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.brightness??100,onChange:he=>U("brightness",he),min:0,max:200})]}),Object.prototype.hasOwnProperty.call(b,"saturate")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Hòa màu"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.saturate??100,onChange:he=>U("saturate",he),min:0,max:200})]}),Object.prototype.hasOwnProperty.call(b,"grayscale")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Trắng đen"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.grayscale??0,onChange:he=>U("grayscale",he),min:0,max:100})]}),Object.prototype.hasOwnProperty.call(b,"opacity")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Độ mờ"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.opacity??100,onChange:he=>U("opacity",he),min:0,max:100})]}),Object.prototype.hasOwnProperty.call(b,"invert")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Đảo ngược"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.invert??0,onChange:he=>U("invert",he),min:0,max:100})]}),Object.prototype.hasOwnProperty.call(b,"sepia")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Sepia"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.sepia??0,onChange:he=>U("sepia",he),min:0,max:100})]}),Object.prototype.hasOwnProperty.call(b,"hueRotate")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Xoay màu"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.hueRotate??0,onChange:he=>U("hueRotate",he),min:0,max:360})]})]})]}),bt&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdTransform,title:"Biến đổi"}),jsxRuntimeExports.jsxs(Stack,{gap:3,children:[Object.prototype.hasOwnProperty.call(b,"transformOrigin")&&jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Điểm gốc"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:ft,value:[b.transformOrigin||"center center"],onValueChange:he=>U("transformOrigin",he.value[0]),size:"sm",className:"custom-select",positioning:{placement:vt},children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[55%]",children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Select origin"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:I?"200px":"500px",children:st.map(_temp4$c)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[(Object.prototype.hasOwnProperty.call(b,"rotate")||Object.prototype.hasOwnProperty.call(b,"rotateX")||Object.prototype.hasOwnProperty.call(b,"rotateY"))&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Xoay"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Object.prototype.hasOwnProperty.call(b,"rotateX")&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"X"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.rotateX||0,onChange:he=>U("rotateX",he),min:-360,max:360})]}),Object.prototype.hasOwnProperty.call(b,"rotateY")&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"Y"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.rotateY||0,onChange:he=>U("rotateY",he),min:-360,max:360})]}),Object.prototype.hasOwnProperty.call(b,"rotate")&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"Z"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.rotate||0,onChange:he=>U("rotate",he),min:-360,max:360})]})]})]}),(Object.prototype.hasOwnProperty.call(b,"skewX")||Object.prototype.hasOwnProperty.call(b,"skewY"))&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Nghiêng"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Object.prototype.hasOwnProperty.call(b,"skewX")&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"X"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.skewX||0,onChange:he=>U("skewX",he),min:-89,max:89})]}),Object.prototype.hasOwnProperty.call(b,"skewY")&&jsxRuntimeExports.jsxs(HStack,{gap:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"#666",children:"Y"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.skewY||0,onChange:he=>U("skewY",he),min:-89,max:89})]})]})]}),Object.prototype.hasOwnProperty.call(b,"perspective")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Phối cảnh"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.perspective||0,onChange:he=>U("perspective",he),min:0})]}),Object.prototype.hasOwnProperty.call(b,"opacity")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Độ mờ"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:b.opacity??100,onChange:he=>U("opacity",he),min:0,max:100})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Mẫu có sẵn"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded text-xs flex items-center gap-1 border-gray-200 hover:border-gray-300 transition-colors duration-200 shrink-0",onClick:()=>{Object.prototype.hasOwnProperty.call(b,"rotate")&&U("rotate",0),Object.prototype.hasOwnProperty.call(b,"rotateX")&&U("rotateX",0),Object.prototype.hasOwnProperty.call(b,"rotateY")&&U("rotateY",0),Object.prototype.hasOwnProperty.call(b,"skewX")&&U("skewX",0),Object.prototype.hasOwnProperty.call(b,"skewY")&&U("skewY",0),Object.prototype.hasOwnProperty.call(b,"perspective")&&U("perspective",0),Object.prototype.hasOwnProperty.call(b,"opacity")&&U("opacity",100)},children:"Reset"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded text-xs flex items-center gap-1 border-gray-200 hover:border-gray-300 transition-colors duration-200 shrink-0",onClick:()=>{Object.prototype.hasOwnProperty.call(b,"rotate")&&U("rotate",0),Object.prototype.hasOwnProperty.call(b,"rotateX")&&U("rotateX",15),Object.prototype.hasOwnProperty.call(b,"rotateY")&&U("rotateY",15),Object.prototype.hasOwnProperty.call(b,"skewX")&&U("skewX",0),Object.prototype.hasOwnProperty.call(b,"skewY")&&U("skewY",0),Object.prototype.hasOwnProperty.call(b,"perspective")&&U("perspective",500)},children:"3D Card"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded text-xs flex items-center gap-1 border-gray-200 hover:border-gray-300 transition-colors duration-200 shrink-0",onClick:()=>{Object.prototype.hasOwnProperty.call(b,"rotate")&&U("rotate",0),Object.prototype.hasOwnProperty.call(b,"rotateX")&&U("rotateX",0),Object.prototype.hasOwnProperty.call(b,"rotateY")&&U("rotateY",0),Object.prototype.hasOwnProperty.call(b,"skewX")&&U("skewX",10),Object.prototype.hasOwnProperty.call(b,"skewY")&&U("skewY",0),Object.prototype.hasOwnProperty.call(b,"perspective")&&U("perspective",0)},children:"Nghiêng"}),Object.prototype.hasOwnProperty.call(b,"opacity")&&jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded text-xs flex items-center gap-1 border-gray-200 hover:border-gray-300 transition-colors duration-200 shrink-0",onClick:()=>{const at=(b.opacity??100)<100?100:30;U("opacity",at)},children:"Trong suốt"})]})]})]})]}),we&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdBlurOn,title:"Đổ bóng"}),jsxRuntimeExports.jsx(ShadowSettings,{embedded:!0,value:b,onChange:(he,at)=>U(he,at)})]}),G&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"blue",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdLayers,title:"Lớp phủ"}),jsxRuntimeExports.jsx(OverlaySettings,{embedded:!0,value:b,onChange:(he,at)=>U(he,at),blendModeOptions:ne})]}),P&&jsxRuntimeExports.jsxs(SectionCard$g,{color:"purple",children:[jsxRuntimeExports.jsx(SectionHeader$g,{icon:MdDesignServices,title:"Bảo vệ thương hiệu"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text$1,{...ct,children:"Phần tử thương hiệu"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",mt:1,children:"Đánh dấu phần tử này là thương hiệu để bảo vệ khỏi xóa Cần khóa phần tử lại sau khi chỉnh xong"})]}),jsxRuntimeExports.jsxs(SwitchRoot,{checked:b.isBrand||!1,onCheckedChange:he=>U("isBrand",he.checked),size:"sm",children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),jsxRuntimeExports.jsx(SwitchLabel,{})]})]})]})]})}),e[71]=O,e[72]=p,e[73]=z.default,e[74]=X,e[75]=I,e[76]=v,e[77]=et,e[78]=re,e[79]=b,e[80]=vt,e[81]=_,e[82]=yt,e[83]=jt,e[84]=St,e[85]=E,e[86]=G,e[87]=we,e[88]=wt,e[89]=bt,e[90]=U,e[91]=P,e[92]=ze):ze=e[92];let Ge;e[93]!==O||e[94]!==z.event||e[95]!==j||e[96]!==Xe||e[97]!==U?(Ge=z.event&&jsxRuntimeExports.jsx(TabsContent,{value:"event",className:"p-1",children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(EventManager,{events:Xe||[],onEventsChange:he=>U("events",he)}),typeof j=="function"?j(O):j]})}),e[93]=O,e[94]=z.event,e[95]=j,e[96]=Xe,e[97]=U,e[98]=Ge):Ge=e[98];let We;e[99]!==x||e[100]!==O||e[101]!==tt||e[102]!==z.animation||e[103]!==rt||e[104]!==U?(We=z.animation&&jsxRuntimeExports.jsx(TabsContent,{value:"animation",className:"p-1",children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(AnimationManager,{displayAnimation:tt||null,onDisplayAnimationChange:he=>U("displayAnimation",he),hoverAnimation:rt||{enabled:!1},onHoverAnimationChange:he=>U("hoverAnimation",he)}),typeof x=="function"?x(O):x]})}),e[99]=x,e[100]=O,e[101]=tt,e[102]=z.animation,e[103]=rt,e[104]=U,e[105]=We):We=e[105];let Ve;e[106]!==g||e[107]!==O||e[108]!==w||e[109]!==z.advanced||e[110]!==Rt||e[111]!==U?(Ve=z.advanced&&jsxRuntimeExports.jsx(TabsContent,{value:"advanced",className:"p-1",children:jsxRuntimeExports.jsxs(Stack,{gap:4,children:[jsxRuntimeExports.jsx(SectionCard$g,{color:"blue",children:jsxRuntimeExports.jsxs(Stack,{gap:4,children:[jsxRuntimeExports.jsx(CrossPlatformSyncToggle,{embedded:!0}),w&&jsxRuntimeExports.jsx(PinningManager,{embedded:!0,pinning:Rt||{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},onPinningChange:he=>U("pinning",he)})]})}),typeof g=="function"?g(O):g]})}),e[106]=g,e[107]=O,e[108]=w,e[109]=z.advanced,e[110]=Rt,e[111]=U,e[112]=Ve):Ve=e[112];let Je;return e[113]!==$||e[114]!==Be||e[115]!==ze||e[116]!==Ge||e[117]!==We||e[118]!==Ve?(Je=jsxRuntimeExports.jsx(Box,{className:"w-full h-full",children:jsxRuntimeExports.jsxs(TabsRoot,{className:"!pb-5",value:$,onValueChange:Tt,variant:"line",children:[Be,ze,Ge,We,Ve]},"common-settings")}),e[113]=$,e[114]=Be,e[115]=ze,e[116]=Ge,e[117]=We,e[118]=Ve,e[119]=Je):Je=e[119],Je});CommonSettings.displayName="CommonSettings";function _temp$E(t){return{props:t.data.props,name:t.data.custom.displayName||t.data.displayName}}function _temp2$q(t){if(typeof t=="number")return t;const e=parseFloat(String(t).replace(/[^\d.-]/g,""));return Number.isNaN(e)?0:e}function _temp3$i(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp4$c(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}const ContainerSettings=t=>{const e=compilerRuntimeExports.c(11);let o;e[0]!==t?(o=t===void 0?{}:t,e[0]=t,e[1]=o):o=e[1];const{backgroundSetting:r,borderSetting:s,shadowSetting:i,overlaySetting:a,sizeSetting:c,filterSetting:l,transformSetting:d,showNodeControlsPanel:u,borderSetiing:m}=o,R=s??m??!0;let p;return e[2]!==r||e[3]!==l||e[4]!==R||e[5]!==a||e[6]!==i||e[7]!==u||e[8]!==c||e[9]!==d?(p=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableSize:c,enableFilter:l,enableTransform:d,enableBackground:r,enableBorder:R,enableShadow:i,enableOverlay:a,showNodeControlsPanel:u}),e[2]=r,e[3]=l,e[4]=R,e[5]=a,e[6]=i,e[7]=u,e[8]=c,e[9]=d,e[10]=p):p=e[10],p},OverlayHidden=t=>{const e=compilerRuntimeExports.c(2),{borderRadius:o}=t;let r;return e[0]!==o?(r=jsxRuntimeExports.jsx("div",{className:"overlay-hidden",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:o,zIndex:zIndex.overlayHidden,pointerEvents:"none",opacity:1}}),e[0]=o,e[1]=r):r=e[1],r},EditableWrapper=({propKey:t,children:e,lockAspectRatio:o,enable:r=!0,className:s,style:i,innerRef:a,enableDrag:c=!0,onDoubleClick:l,onBlur:d,onMouseDown:u,...m})=>{const{id:R,connectors:{connect:p},fillSpace:j,nodeWidth:x,nodeHeight:g,nodeLeft:h,nodeTop:E,parent:w,active:C,inNodeContext:b,isChildOfButton:v,isChildOfGroup:_,isChildOfForm:I}=Ne(N=>({parent:N.data.parent,active:N.events.selected,nodeWidth:t!=null&&t.width?N.data.props[t.width]:void 0,nodeHeight:t!=null&&t.height?N.data.props[t.height]:void 0,nodeLeft:N.data.props.left,nodeTop:N.data.props.top,fillSpace:N.data.props.fillSpace,isChildOfButton:N.data.props.isChildOfButton,isChildOfGroup:N.data.props.isChildOfGroup,isChildOfForm:N.data.props.isChildOfForm})),{isRootNode:$}=Pe((N,k)=>({parentDirection:w&&N.nodes[w]&&N.nodes[w].data.props.flexDirection,isRootNode:k.node(R).isRoot()})),A=v||_||I,T=reactExports.useMemo(()=>cx([s,{"m-auto":$,flex:!0}]),[$,s]),L=reactExports.useMemo(()=>{const N=(s==null?void 0:s.includes("modal"))||(s==null?void 0:s.includes("popup"))||(s==null?void 0:s.includes("dropbox")),k={position:"relative",boxSizing:"border-box",...i};return!N&&!(i!=null&&i.display)&&(k.display="flex",k.alignItems="center",k.justifyContent="center"),x!==void 0&&(k.width=x),g!==void 0&&(k.height=g),N?(k.left=void 0,k.top=void 0):(h!==void 0&&(k.left=h),E!==void 0&&(k.top=E)),k},[i,x,g,h,E]),P=reactExports.useMemo(()=>({"data-node-id":R,"data-prop-width":t==null?void 0:t.width,"data-prop-height":t==null?void 0:t.height,"data-lock-aspect-ratio":o,"data-resize-enabled":r&&!A,"data-can-resize-width":!!(t!=null&&t.width),"data-can-resize-height":!!(t!=null&&t.height),"data-enable-drag":c}),[R,t,o,r,A,c]);return jsxRuntimeExports.jsx("div",{ref:N=>{N&&(p(N),a&&a(N))},className:T,style:L,...P,onDoubleClick:l,onBlur:d,onMouseDown:u,...m,children:e})},buildShadow=t=>{const{shadow:e,shadowType:o,shadowX:r=0,shadowY:s=0,shadowBlur:i=0,shadowSpread:a=0,shadowColor:c="rgba(0,0,0,0.2)"}=t;return!o||o==="none"?e&&e>0?{boxShadow:`0px 3px ${e}px rgba(0,0,0,0.13)`}:{}:o==="outer"?{boxShadow:`${r}px ${s}px ${i}px ${a}px ${c}`}:o==="inner"?{boxShadow:`inset ${r}px ${s}px ${i}px ${a}px ${c}`}:o==="filter"?{filterShadow:`drop-shadow(${r}px ${s}px ${i}px ${c})`}:{}},buildFilter=(t,e,o)=>{const{opacity:r=100,brightness:s=100,contrast:i=100,saturate:a=100,grayscale:c=0,invert:l=0,sepia:d=0,hueRotate:u=0,blur:m=0}=t,R=[];e==="filter"&&o&&R.push(o),R.push(`contrast(${i}%)`,`brightness(${s}%)`,`saturate(${a}%)`,`grayscale(${c}%)`,`opacity(${r}%)`,`invert(${l}%)`,`sepia(${d}%)`,`hue-rotate(${u}deg)`,`blur(${m}px)`);const p="contrast(100%) brightness(100%) saturate(100%) grayscale(0%) opacity(100%) invert(0%) sepia(0%) hue-rotate(0deg) blur(0px)",j=R.join(" ");return j===p?void 0:j},computeBorderRadius=({borderRadius:t,radius:e})=>{if(typeof e=="string"&&e.includes("%"))return e;if(Array.isArray(t)&&t.length===4)return t.every(r=>r===t[0])?t[0]?`${t[0]}px`:void 0:t.map(r=>`${r}px`).join(" ");if(typeof t=="number")return t?`${t}px`:void 0;if(typeof e=="number")return e?`${e}px`:void 0},computeBorder=({borderWidth:t,borderStyle:e="none",borderColor:o="#000000"})=>{if(e!=="none"){if(Array.isArray(t)&&t.length===4)return t.every(s=>s===t[0])?t[0]?{border:`${t[0]}px ${e} ${o}`}:void 0:{borderTopWidth:`${t[0]}px`,borderRightWidth:`${t[1]}px`,borderBottomWidth:`${t[2]}px`,borderLeftWidth:`${t[3]}px`,borderStyle:e,borderColor:o};if(typeof t=="number"&&t>0)return{border:`${t}px ${e} ${o}`}}},normalizeBackgroundType=t=>t==="solid"?"color":t,buildBackground=t=>{const{backgroundType:e="color",backgroundColor:o,gradientType:r="linear",gradientAngle:s=90,gradientColor1:i="#4158D0",gradientColor2:a="#C850C0",backgroundImage:c}=t,l=normalizeBackgroundType(e);if(l==="color")return o;if(l==="gradient"){const d=r==="radial"?"radial-gradient":"linear-gradient",u=r==="linear"?`${s}deg, `:"";return`${d}(${u}${i}, ${a})`}if(l==="image"&&c)return`url(${c})`},augmentImageBackground=t=>normalizeBackgroundType(t.backgroundType)!=="image"||!t.backgroundImage?{}:{backgroundSize:t.backgroundSize||"cover",backgroundPosition:t.backgroundPosition||"center center",backgroundRepeat:t.backgroundRepeat||"no-repeat",backgroundAttachment:t.backgroundAttachment||"scroll"},buildTransform=t=>{const{rotate:e=0,rotateX:o=0,rotateY:r=0,rotateZ:s=0,scale:i=100,skewX:a=0,skewY:c=0,perspective:l=0}=t,d=[];return e&&d.push(`rotate(${e}deg)`),o&&d.push(`rotateX(${o}deg)`),r&&d.push(`rotateY(${r}deg)`),s&&d.push(`rotateZ(${s}deg)`),a&&d.push(`skewX(${a}deg)`),c&&d.push(`skewY(${c}deg)`),l&&d.push(`perspective(${l}px)`),i!==void 0&&i!==100&&d.push(`scale(${i/100})`),d.length?d.join(" "):void 0},ensurePx=t=>{if(!(t==null||t==="")){if(typeof t=="number")return`${t}px`;if(typeof t=="string")return/px|%|rem|vh|vw/.test(t)?t:`${t}px`}},assembleBaseStyles=(t,e)=>{const o=e.defaults,r=buildShadow(t),s=buildFilter(t,t.shadowType,r.filterShadow),i=computeBorderRadius(t),a=computeBorder(t),c=buildBackground(t),l=augmentImageBackground(t),d=buildTransform(t),u={width:t.width,height:t.height,background:c,...l,boxShadow:r.boxShadow,filter:s,borderRadius:i,...a||{},opacity:t.opacity!==void 0?t.opacity/100:void 0,position:e.allowPosition?"absolute":void 0,top:e.allowPosition&&t.top!==o.top?ensurePx(t.top):void 0,left:e.allowPosition&&t.left!==o.left?ensurePx(t.left):void 0,mixBlendMode:t.blendMode&&t.blendMode!==o.blendMode?t.blendMode:void 0,transform:d,transformOrigin:t.transformOrigin&&t.transformOrigin!==o.transformOrigin?t.transformOrigin:void 0,minHeight:t.minHeight&&t.minHeight!==o.minHeight?t.minHeight:void 0,flex:t.fillSpace==="yes"?1:void 0};return minimizeStyle(u)},buildOverlayLayers=(t,e)=>{if(!t.overlayType||t.overlayType==="none")return{backgroundOverlay:null,contentOverlay:null};const o={position:"absolute",top:0,left:0,width:"100%",height:"100%",mixBlendMode:t.overlayBlendMode||"normal",opacity:(t.overlayOpacity??100)/100,pointerEvents:"none",borderRadius:e},r=(()=>{if(t.overlayType==="color")return t.overlayColor||"rgba(0,0,0,0.5)";if(t.overlayType==="gradient"){const i=t.overlayGradientType==="radial"?"radial-gradient":"linear-gradient",a=t.overlayGradientType==="linear"?`${t.overlayGradientAngle||90}deg, `:"";return`${i}(${a}${t.overlayGradientColor1||"#4158D0"}, ${t.overlayGradientColor2||"#C850C0"})`}return t.overlayType==="image"&&t.overlayImage?`url(${t.overlayImage})`:"none"})(),s=t.overlayType==="image"?{backgroundSize:t.overlayImageSize||"cover",backgroundPosition:t.overlayImagePosition||"center",backgroundRepeat:t.overlayImageRepeat||"no-repeat",backgroundAttachment:t.overlayImageAttachment||"scroll"}:{};return t.overlayType==="image"?{backgroundOverlay:null,contentOverlay:{...o,background:r,...s}}:{backgroundOverlay:{...o,background:r,...s},contentOverlay:null}};function getScrollRoot(t){if(!t)return null;let e=t.parentElement;for(;e;){const o=getComputedStyle(e),r=o.overflowY,s=o.overflowX;if((r==="auto"||r==="scroll"||s==="auto"||s==="scroll")&&e.scrollHeight>e.clientHeight)return e;e=e.parentElement}return null}function isNearScrollEnd(t,e=1){if(!t){const o=window.scrollY||document.documentElement.scrollTop,r=document.documentElement.scrollHeight,s=window.innerHeight;return o+s>=r-e}return t.scrollTop+t.clientHeight>=t.scrollHeight-e}function isInViewport(t,e){const o=t.getBoundingClientRect();if(!e)return o.top<window.innerHeight&&o.bottom>0&&o.left<window.innerWidth&&o.right>0;const r=e.getBoundingClientRect();return o.top<r.bottom&&o.bottom>r.top&&o.left<r.right&&o.right>r.left}function useEntrance(t,e,o=.7,r){const{enabled:s}=Pe(i=>({enabled:i.options.enabled}));reactExports.useEffect(()=>{const i=t.current;if(!i)return;if(s||e==="none"){i.classList.remove("pre-enter","enter-active","pre-enter--up","pre-enter--down","pre-enter--left","pre-enter--right"),i.style.removeProperty("--enter-dur"),i.style.removeProperty("--enter-dist");return}switch(i.style.setProperty("--enter-dur",`${Math.max(.1,o)}s`),i.classList.add("pre-enter"),e){case"fadeInUp":case"slideInUp":case"bounceInUp":i.classList.add("pre-enter--up");break;case"fadeInDown":case"slideInDown":case"bounceInDown":i.classList.add("pre-enter--down");break;case"fadeInLeft":case"slideInLeft":case"bounceInLeft":i.classList.add("pre-enter--left");break;case"fadeInRight":case"slideInRight":case"bounceInRight":i.classList.add("pre-enter--right");break}const a=getScrollRoot(i),c=new IntersectionObserver(d=>{d.forEach(u=>{const m=u.target;if(m.isConnected&&u.isIntersecting){const R=setTimeout(()=>{m.classList.add("enter-active"),m.classList.remove("pre-enter","pre-enter--up","pre-enter--down","pre-enter--left","pre-enter--right"),c.unobserve(m)},60);m._entranceTimer=R}})},{threshold:[0,.05,.1,.2,.35,.5,.75],root:a||null,rootMargin:"0px 0px -35% 0px"});c.observe(i);const l=()=>{if(i.isConnected&&!i.classList.contains("enter-active")&&isNearScrollEnd(a)){i.classList.add("enter-active"),i.classList.remove("pre-enter","pre-enter--up","pre-enter--down","pre-enter--left","pre-enter--right");try{c.unobserve(i)}catch{}}};return a?a.addEventListener("scroll",l):window.addEventListener("scroll",l),isInViewport(i,a)&&setTimeout(l,0),()=>{const d=i._entranceTimer;d&&clearTimeout(d);try{c.disconnect()}catch{}a?a.removeEventListener("scroll",l):window.removeEventListener("scroll",l),i.classList.remove("enter-active","pre-enter","pre-enter--up","pre-enter--down","pre-enter--left","pre-enter--right"),i.style.removeProperty("--enter-dur"),i.style.removeProperty("--enter-dist")}},[t.current,e,o,r,s])}function hoverVarsFromSettings(t,e){if(!t.enabled||e)return{};const o={};t.opacity!==void 0&&(o["--hover-opacity"]=String((t.opacity??100)/100)),t.scale!==void 0&&(o["--hover-scale"]=String((t.scale??100)/100)),t.rotate!==void 0&&(o["--hover-rotate"]=`${t.rotate??0}deg`);const r=[];return(t.blur??0)>0&&r.push(`blur(${t.blur}px)`),(t.grayscale??0)>0&&r.push(`grayscale(${t.grayscale}%)`),r.length&&(o["--hover-filter"]=r.join(" ")),t.textColor&&(o["--hover-color"]=t.textColor),t.backgroundColor&&(o["--hover-bg"]=t.backgroundColor),t.borderColor&&(o["--hover-border"]=t.borderColor),o}const useCraftInteractions=t=>{const e=compilerRuntimeExports.c(20),{id:o,events:r,hoverAnimation:s,displayAnimation:i,enabled:a}=t;let c;e[0]!==r?(c=r===void 0?[]:r,e[0]=r,e[1]=c):c=e[1];const l=c,d=reactExports.useRef(null),u=(i==null?void 0:i.effect)||"none",m=(i==null?void 0:i.duration)??.6;useEntrance(d,u,m);let R;e[2]!==s?(R=s||{enabled:!1},e[2]=s,e[3]=R):R=e[3];let p;e[4]!==a||e[5]!==R?(p=hoverVarsFromSettings(R,a),e[4]=a,e[5]=R,e[6]=p):p=e[6];const j=p,{handleContainerClick:x,handleHover:g}=useEventHandling(l,o);let h;e[7]!==a||e[8]!==g?(h=()=>{a||g()},e[7]=a,e[8]=g,e[9]=h):h=e[9];const E=h,w=_temp$D;let C;e[10]!==a||e[11]!==x?(C=()=>{a||x()},e[10]=a,e[11]=x,e[12]=C):C=e[12];const b=C,v=(s==null?void 0:s.enabled)&&!a;let _;e[13]!==b||e[14]!==E?(_={onClick:b,onMouseEnter:E,onMouseLeave:w},e[13]=b,e[14]=E,e[15]=_):_=e[15];const I=v?"hover-anim":"";let $;return e[16]!==j||e[17]!==_||e[18]!==I?($={ref:d,eventHandlers:_,hoverVars:j,hoverClassName:I},e[16]=j,e[17]=_,e[18]=I,e[19]=$):$=e[19],$};function _temp$D(){}const defaultProps$n={lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"100%",height:"auto",minHeight:"none",top:0,left:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Container=t=>{const e=perfLogger.startTimer("Container","render"),{connectors:{connect:o},id:r}=Ne(C=>({id:C.id})),s={...defaultProps$n,...t},{events:i,displayAnimation:a,hoverAnimation:c,hidden:l,className:d}=s,u=s.padding||defaultProps$n.padding,m=s.margin||defaultProps$n.margin;s.borderRadius||defaultProps$n.borderRadius,s.borderWidth||defaultProps$n.borderWidth;const{enabled:R}=Pe(C=>({enabled:C.options.enabled})),p=reactExports.useRef(null),j=useCraftInteractions({id:r,events:i,hoverAnimation:c,displayAnimation:a,enabled:R}),x=React.useMemo(()=>{const C=assembleBaseStyles(s,{allowPosition:!0,defaults:defaultProps$n});return s.justifyContent!==defaultProps$n.justifyContent&&(C.justifyContent=s.justifyContent),s.flexDirection!==defaultProps$n.flexDirection&&(C.flexDirection=s.flexDirection),s.alignItems!==defaultProps$n.alignItems&&(C.alignItems=s.alignItems),u.some((b,v)=>b!==defaultProps$n.padding[v])&&(C.padding=`${u[0]}px ${u[1]}px ${u[2]}px ${u[3]}px`),m.some((b,v)=>b!==defaultProps$n.margin[v])&&(C.margin=`${m[0]}px ${m[1]}px ${m[2]}px ${m[3]}px`),s.backgroundType==="video"&&(C.background="none"),C},[s]),g=React.useMemo(()=>({overlayType:s.overlayType,overlayBlendMode:s.overlayBlendMode,overlayOpacity:s.overlayOpacity,overlayColor:s.overlayColor,overlayGradientType:s.overlayGradientType,overlayGradientAngle:s.overlayGradientAngle,overlayGradientColor1:s.overlayGradientColor1,overlayGradientColor2:s.overlayGradientColor2,overlayImage:s.overlayImage,overlayImageSize:s.overlayImageSize,overlayImagePosition:s.overlayImagePosition,overlayImageRepeat:s.overlayImageRepeat,overlayImageAttachment:s.overlayImageAttachment}),[s.overlayType,s.overlayBlendMode,s.overlayOpacity,s.overlayColor,s.overlayGradientType,s.overlayGradientAngle,s.overlayGradientColor1,s.overlayGradientColor2,s.overlayImage,s.overlayImageSize,s.overlayImagePosition,s.overlayImageRepeat,s.overlayImageAttachment]),{backgroundOverlay:h,contentOverlay:E}=React.useMemo(()=>buildOverlayLayers(g,x.borderRadius),[g,x.borderRadius]),w=jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[h&&jsxRuntimeExports.jsx("div",{style:h}),s.children,E&&jsxRuntimeExports.jsx("div",{style:E}),l&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:x.borderRadius})]});return perfLogger.endTimer(e,10),R?jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:x,className:`${d||""} container`,lockAspectRatio:s.lockAspectRatio,children:w}):l?null:jsxRuntimeExports.jsx("div",{ref:C=>{p.current=C,C&&o(C),j.ref.current=C},style:x,className:`${d||""} container`,"data-node-id":r,...j.eventHandlers,children:w})};Container.craft={displayName:"Container",props:defaultProps$n,rules:{canDrag:()=>!0},related:{toolbar:ContainerSettings}};const useMultiSelect=()=>{const{actions:t,query:e,enabled:o}=Pe(F=>({enabled:F.options.enabled})),r=["Popup","Dropbox","Album Modal","Sections","Content Wrapper"],[s,i]=reactExports.useState([]),[a,c]=reactExports.useState(!1),[l,d]=reactExports.useState(null),[u,m]=reactExports.useState(!1),R=reactExports.useRef(0),p=reactExports.useRef(!1);reactExports.useEffect(()=>{if(!o)return;const F=H=>{(H.key==="Control"||H.key==="Meta"||H.ctrlKey||H.metaKey)&&m(!0)},W=H=>{(H.key==="Control"||H.key==="Meta"||!H.ctrlKey&&!H.metaKey)&&m(!1)},z=()=>{m(!1)};return window.addEventListener("keydown",F),window.addEventListener("keyup",W),window.addEventListener("blur",z),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keyup",W),window.removeEventListener("blur",z)}},[o]);const j=reactExports.useCallback(F=>{const z=e.getNodes()[F];z&&r.includes(z.data.displayName)||i(H=>H.includes(F)?H:[...H,F])},[e]),x=reactExports.useCallback(F=>{const z=e.getNodes()[F];if(z&&r.includes(z.data.displayName)){i([]);return}i([F])},[e]),g=reactExports.useCallback(F=>{const z=e.getNodes()[F];z&&r.includes(z.data.displayName)||i(H=>H.includes(F)?H:[...H,F])},[e,s.length]),h=reactExports.useCallback(F=>{i(W=>W.filter(z=>z!==F))},[]),E=reactExports.useCallback(()=>{i([])},[]),w=reactExports.useCallback(F=>{const W=F.tagName==="SPAN"||F.tagName==="P"||F.tagName==="H1"||F.tagName==="H2"||F.tagName==="H3"||F.tagName==="H4"||F.tagName==="H5"||F.tagName==="H6",z=F.textContent&&F.textContent.trim().length>0,H=F.contentEditable==="true"||F.tagName==="INPUT"||F.tagName==="TEXTAREA";return W&&z||H},[]),C=reactExports.useCallback(F=>{const z=e.getNodes()[F];z&&r.includes(z.data.displayName)||i(H=>H.includes(F)?H.filter(U=>U!==F):[...H,F])},[e]),b=reactExports.useCallback(F=>s.includes(F),[s]),v=reactExports.useCallback((F,W)=>{R.current=Date.now(),p.current=!1,d({startX:F,startY:W,endX:F,endY:W})},[]),_=reactExports.useCallback((F,W)=>{p.current=!0,a||c(!0),d(z=>z?{...z,endX:F,endY:W}:null)},[a]),I=reactExports.useCallback((F,W,z)=>{const H=z[F];if(!H||!H.data.parent)return!1;let U=H.data.parent;for(;U&&U!=="ROOT";){if(U===W)return!0;const D=z[U];if(!D)break;U=D.data.parent}return!1},[]),$=reactExports.useCallback((F,W)=>F.filter(z=>!F.some(H=>z===H?!1:I(z,H,W))),[I]),A=reactExports.useCallback(F=>{const W=document.querySelector(".craftjs-renderer");if(!W)return;const z=W.getBoundingClientRect(),H={left:Math.min(F.startX,F.endX)-z.left,top:Math.min(F.startY,F.endY)-z.top,right:Math.max(F.startX,F.endX)-z.left,bottom:Math.max(F.startY,F.endY)-z.top},U=e.getNodes(),D=[];Object.keys(U).forEach(Q=>{const q=U[Q];if(!q.dom||r.includes(q.data.displayName)||q.data.props.isChildOfButton||q.data.props.isChildOfForm||q.data.props.isChildOfGroup)return;const Y=q.dom.getBoundingClientRect(),V={left:Y.left-z.left,top:Y.top-z.top,right:Y.right-z.left,bottom:Y.bottom-z.top};!(V.right<H.left||V.left>H.right||V.bottom<H.top||V.top>H.bottom)&&D.push(Q)});const O=$(D,U);i(O)},[e,$]),T=reactExports.useCallback(()=>{d(F=>{if(!F)return c(!1),p.current=!1,null;const W=Math.abs(F.endX-F.startX),z=Math.abs(F.endY-F.startY);return(W>=50||z>=50)&&A(F),c(!1),p.current=!1,null})},[A]),L=reactExports.useCallback(()=>{c(!1),d(null),p.current=!1,R.current=0},[]);reactExports.useEffect(()=>{if(!o)return;const F=W=>{W.key==="Escape"&&(L(),E())};return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}},[o,L,E]);const P=reactExports.useCallback(()=>s.length>=2,[s]),N=reactExports.useCallback(()=>s.length>=2,[s]),k=reactExports.useCallback(()=>{if(P())try{let F=1/0,W=1/0,z=-1/0,H=-1/0;const U=e.getNodes(),D=[];if(s.forEach(xe=>{const pe=U[xe],$e=pe.data.props,Se=parseFloat(String($e.left||"0").replace("px",""))||0,Ie=parseFloat(String($e.top||"0").replace("px",""))||0,Me=parseFloat(String($e.width||"100").replace("px",""))||100,He=parseFloat(String($e.height||"50").replace("px",""))||50;D.push({id:xe,node:pe,left:Se,top:Ie,width:Me,height:He}),F=Math.min(F,Se),W=Math.min(W,Ie),z=Math.max(z,Se+Me),H=Math.max(H,Ie+He)}),D.length===0)return;const O=10,Q=F-O,q=W-O,Y=z-F+O*2,V=H-W+O*2,ue=D[0].node.data.parent||"ROOT",Re="group-"+ye(),oe=React.createElement(ke,{canvas:!0,is:Group,width:`${Y}px`,height:`${V}px`,left:`${Q}px`,top:`${q}px`,events:[],id:Re,className:`group-container ${Re}`,"data-group-id":Re,displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0}}),ce=e.parseReactElement(oe).toNodeTree(),je=Object.keys(ce.nodes)[0],ie=ce.nodes[je];t.add(ie,ue),D.forEach(({id:xe,left:pe,top:$e},Se)=>{const Ie=pe-Q,Me=$e-q;t.setProp(xe,He=>{He.left=`${Ie}px`,He.top=`${Me}px`,He.isChildOfGroup=!0,He.className=`${Re} ${He.id}`}),t.move(xe,je,Se)}),E(),setTimeout(()=>{t.selectNode(je)},100)}catch{}},[s,P,t,e,E]),B=reactExports.useCallback(()=>{const F=e.getEvent("selected").first();if(!F)return;const W=e.node(F).get();if(W.data.displayName==="Group")try{const z=W.data.props,H=parseFloat(String(z.left||"0").replace("px",""))||0,U=parseFloat(String(z.top||"0").replace("px",""))||0,D=W.data.parent||"ROOT";(W.data.nodes||[]).forEach(Q=>{const Y=e.node(Q).get().data.props,V=parseFloat(String(Y.left||"0").replace("px",""))||0,de=parseFloat(String(Y.top||"0").replace("px",""))||0,ue=H+V,Re=U+de;t.setProp(Q,oe=>{oe.left=`${ue}px`,oe.top=`${Re}px`,oe.isChildOfGroup=!1}),t.move(Q,D,0)});try{e.node(F).get()&&t.delete(F)}catch{try{t.setProp(F,q=>{q.opacity=0,q.pointerEvents="none"})}catch{}}setTimeout(()=>{t.clearEvents()},50)}catch{try{e.node(F).get()&&t.delete(F)}catch{try{t.setProp(F,U=>{U.opacity=0,U.pointerEvents="none"})}catch{}}setTimeout(()=>{t.clearEvents()},50)}},[t,e]);return{selectedNodes:s,isMultiSelecting:a,selectionBox:l,isCtrlPressed:u,addToSelection:j,addToSelectionIfNotPresent:g,removeFromSelection:h,clearSelection:E,setCurrentSelection:x,toggleSelection:C,startBoxSelection:v,updateBoxSelection:_,endBoxSelection:T,forceEndSelection:L,isNodeSelected:b,canCreateGroup:P,canUseNativeGroup:N,createGroup:k,ungroupSelection:B,shouldPreventClearSelection:w}},MultiSelectContext=reactExports.createContext(void 0),MultiSelectProvider=t=>{const e=compilerRuntimeExports.c(3),{children:o}=t,r=useMultiSelect();let s;return e[0]!==o||e[1]!==r?(s=jsxRuntimeExports.jsx(MultiSelectContext.Provider,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},useMultiSelectContext=()=>{const t=reactExports.useContext(MultiSelectContext);if(!t)throw new Error("useMultiSelectContext must be used within a MultiSelectProvider");return t},ResponsivePlatformContext=React.createContext(null),useResponsivePlatformContext=()=>React.useContext(ResponsivePlatformContext),SectionsNodeControlsPanel=()=>{const t=compilerRuntimeExports.c(98),{id:e}=Ne(),{actions:o,query:r}=Pe();let s;t[0]!==r?(s=me=>({name:me.data.custom.displayName||me.data.displayName,deletable:r.node(me.id).isDeletable(),parent:me.data.parent,props:me.data.props}),t[0]=r,t[1]=s):s=t[1];const{name:i,deletable:a,parent:c,props:l}=Ne(s),{showAssetSaveModal:d,currentEditingPlatform:u,desktopContent:m,mobileContent:R}=useViewport(),[p,j]=reactExports.useState(!1),x=reactExports.useRef(null);let g,h;t[2]!==p?(g=()=>{const me=ge=>{x.current&&!x.current.contains(ge.target)&&j(!1)};return p&&document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},h=[p],t[2]=p,t[3]=g,t[4]=h):(g=t[3],h=t[4]),reactExports.useEffect(g,h);const E=l.locked||l.isChildOfButton||l.isEditing||l.isCropMode;let w;t[5]!==c||t[6]!==r?(w=c?r.node(c).get():null,t[5]=c,t[6]=r,t[7]=w):w=t[7];let C;t[8]!==o||t[9]!==e||t[10]!==l||t[11]!==E||t[12]!==w?(C={id:e,dom:null,locked:E,parentNode:w,actions:o,props:l},t[8]=o,t[9]=e,t[10]=l,t[11]=E,t[12]=w,t[13]=C):C=t[13];const b=useNodeState(C),{isLocked:v,toggleLock:_}=b,{duplicateSection:I}=useDuplication();let $;t[14]!==o||t[15]!==e||t[16]!==r?($=()=>{try{r.node(e).get()&&o.delete(e)}catch{try{o.setProp(e,_temp$C),o.selectNode()}catch{}}},t[14]=o,t[15]=e,t[16]=r,t[17]=$):$=t[17];const A=$;let T;t[18]!==o||t[19]!==e?(T=()=>{o.setProp(e,_temp2$p)},t[18]=o,t[19]=e,t[20]=T):T=t[20];const L=T;let P;t[21]!==o||t[22]!==e||t[23]!==c||t[24]!==r?(P=()=>{if(!c)return;const ge=r.node(c).get().data.nodes.indexOf(e);ge>0&&o.move(e,"ROOT",ge-1)},t[21]=o,t[22]=e,t[23]=c,t[24]=r,t[25]=P):P=t[25];const N=P;let k;t[26]!==o||t[27]!==e||t[28]!==c||t[29]!==r?(k=()=>{if(!c)return;const me=r.node(c).get(),ge=me.data.nodes.indexOf(e);ge<me.data.nodes.length-1&&o.move(e,"ROOT",ge+2)},t[26]=o,t[27]=e,t[28]=c,t[29]=r,t[30]=k):k=t[30];const B=k;let F;t[31]!==I||t[32]!==e?(F=()=>{try{I(e)}catch{}},t[31]=I,t[32]=e,t[33]=F):F=t[33];const W=F;let z;t[34]!==o||t[35]!==e||t[36]!==r?(z=()=>{try{const me=_temp3$h,ge=r.parseReactElement(me()).toNodeTree(),Ke=Object.keys(ge.nodes)[0],Ue=ge.nodes[Ke],Qe=r.node("ROOT").get().data.nodes.indexOf(e);o.add(Ue,"ROOT",Qe+1)}catch{}},t[34]=o,t[35]=e,t[36]=r,t[37]=z):z=t[37];const H=z,U=_temp4$b;let D;t[38]===Symbol.for("react.memo_cache_sentinel")?(D=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Hiển thị & Khóa"}),t[38]=D):D=t[38];const O=l.hidden?"Hiện section":"Ẩn section",Q=`p-3 border rounded-lg transition-all ${l.hidden?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`;let q;t[39]!==l.hidden?(q=l.hidden?jsxRuntimeExports.jsx(TbEyeOff,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbEye,{className:"text-2xl"}),t[39]=l.hidden,t[40]=q):q=t[40];let Y;t[41]!==L||t[42]!==O||t[43]!==Q||t[44]!==q?(Y=jsxRuntimeExports.jsx(Btn,{onClick:L,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":O,className:Q,children:q}),t[41]=L,t[42]=O,t[43]=Q,t[44]=q,t[45]=Y):Y=t[45];const V=v?"Mở khóa section":"Khóa section",de=`p-3 border rounded-lg transition-all ${v?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`;let ue;t[46]!==v?(ue=v?jsxRuntimeExports.jsx(TbLock,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbLockOpen,{className:"text-2xl"}),t[46]=v,t[47]=ue):ue=t[47];let Re;t[48]!==V||t[49]!==de||t[50]!==ue||t[51]!==_?(Re=jsxRuntimeExports.jsx(Btn,{onClick:_,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":V,className:de,children:ue}),t[48]=V,t[49]=de,t[50]=ue,t[51]=_,t[52]=Re):Re=t[52];let oe;t[53]!==Y||t[54]!==Re?(oe=jsxRuntimeExports.jsxs(Box,{mb:3,children:[D,jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Y,Re]})]}),t[53]=Y,t[54]=Re,t[55]=oe):oe=t[55];let ce;t[56]===Symbol.for("react.memo_cache_sentinel")?(ce=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Lớp Section"}),t[56]=ce):ce=t[56];let je;t[57]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsx(TbArrowUp,{className:"text-2xl"}),t[57]=je):je=t[57];let ie;t[58]!==N?(ie=jsxRuntimeExports.jsx(Btn,{onClick:N,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Đưa section lên trước",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:je}),t[58]=N,t[59]=ie):ie=t[59];let xe;t[60]===Symbol.for("react.memo_cache_sentinel")?(xe=jsxRuntimeExports.jsx(TbArrowDown,{className:"text-2xl"}),t[60]=xe):xe=t[60];let pe;t[61]!==B?(pe=jsxRuntimeExports.jsx(Btn,{onClick:B,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Đưa section xuống sau",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:xe}),t[61]=B,t[62]=pe):pe=t[62];let $e;t[63]!==ie||t[64]!==pe?($e=jsxRuntimeExports.jsxs(Box,{mb:3,children:[ce,jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[ie,pe]})]}),t[63]=ie,t[64]=pe,t[65]=$e):$e=t[65];let Se;t[66]===Symbol.for("react.memo_cache_sentinel")?(Se=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Thao tác"}),t[66]=Se):Se=t[66];let Ie;t[67]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx(TbPlus,{className:"text-2xl"}),t[67]=Ie):Ie=t[67];let Me;t[68]!==H?(Me=jsxRuntimeExports.jsx(Btn,{onClick:H,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Thêm section mới",className:"p-3 border border-purple-200 rounded-lg bg-purple-50 hover:bg-purple-100 transition-all",children:Ie}),t[68]=H,t[69]=Me):Me=t[69];let He;t[70]===Symbol.for("react.memo_cache_sentinel")?(He=jsxRuntimeExports.jsx(TbCopy,{className:"text-2xl"}),t[70]=He):He=t[70];let fe;t[71]!==W?(fe=jsxRuntimeExports.jsx(Btn,{onClick:W,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Nhân bản section",className:"p-3 border border-green-200 rounded-lg bg-green-50 hover:bg-green-100 transition-all",children:He}),t[71]=W,t[72]=fe):fe=t[72];let Ce;t[73]!==e||t[74]!==i||t[75]!==d?(Ce=()=>d(i,e),t[73]=e,t[74]=i,t[75]=d,t[76]=Ce):Ce=t[76];let le;t[77]===Symbol.for("react.memo_cache_sentinel")?(le=jsxRuntimeExports.jsx(TbDeviceFloppy,{className:"text-2xl"}),t[77]=le):le=t[77];let J;t[78]!==Ce?(J=jsxRuntimeExports.jsx(Btn,{onClick:Ce,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Lưu mẫu section",className:"p-3 border border-blue-200 rounded-lg bg-blue-50 hover:bg-blue-100 transition-all",children:le}),t[78]=Ce,t[79]=J):J=t[79];let se;t[80]!==u||t[81]!==m||t[82]!==R?(se=(u==="desktop"&&R||u==="mobile"&&m)&&jsxRuntimeExports.jsx(Btn,{onClick:U,"data-tooltip-id":"sections-controls-panel","data-tooltip-content":u==="desktop"?"Đồng bộ từ Mobile":"Đồng bộ từ Desktop",className:"p-3 border border-cyan-200 rounded-lg bg-cyan-50 hover:bg-cyan-100 transition-all",children:jsxRuntimeExports.jsx(TbRefresh,{className:"text-2xl"})}),t[80]=u,t[81]=m,t[82]=R,t[83]=se):se=t[83];let te;t[84]!==a||t[85]!==A?(te=a&&jsxRuntimeExports.jsx(Btn,{onMouseDown:me=>{me.stopPropagation(),A()},"data-tooltip-id":"sections-controls-panel","data-tooltip-content":"Xóa section",className:"p-3 border border-red-300 rounded-lg bg-red-100 hover:bg-red-200 transition-all",children:jsxRuntimeExports.jsx(TbTrash,{className:"text-2xl text-red-600"})}),t[84]=a,t[85]=A,t[86]=te):te=t[86];let be;t[87]!==Me||t[88]!==fe||t[89]!==J||t[90]!==se||t[91]!==te?(be=jsxRuntimeExports.jsxs(Box,{mb:3,children:[Se,jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Me,fe,J,se,te]})]}),t[87]=Me,t[88]=fe,t[89]=J,t[90]=se,t[91]=te,t[92]=be):be=t[92];let Z;t[93]===Symbol.for("react.memo_cache_sentinel")?(Z=jsxRuntimeExports.jsx(M,{id:"sections-controls-panel"}),t[93]=Z):Z=t[93];let Ee;return t[94]!==oe||t[95]!==$e||t[96]!==be?(Ee=jsxRuntimeExports.jsx(Box,{className:"block sm:hidden",children:jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 justify-between",borderBottom:"1px solid #e0e0e0",borderRadius:4,p:1,px:4,children:[oe,$e,be,Z]})}),t[94]=oe,t[95]=$e,t[96]=be,t[97]=Ee):Ee=t[97],Ee};function _temp$C(t){t.opacity=0,t.pointerEvents="none"}function _temp2$p(t){t.hidden=!t.hidden}function _temp3$h(){return jsxRuntimeExports.jsx(ke,{canvas:!0,is:Sections,height:"400px",backgroundColor:"#f8f9fa"})}function _temp4$b(){}const DesignPanel$6=React.memo(t=>{const e=compilerRuntimeExports.c(1),{props:o,updateProp:r}=t;let s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=jsxRuntimeExports.jsx(Stack,{gap:4,children:jsxRuntimeExports.jsx(SectionsNodeControlsPanel,{})}),e[0]=s):s=e[0],s});DesignPanel$6.displayName="DesignPanel";const SectionsSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$B);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableSize:!0,enableFilter:!0,enableBackground:!0,enableOverlay:!0,showNodeControlsPanel:!1,design:_temp2$o,tabs:{default:!0,animation:!0,advanced:!0,event:!1}}),t[0]=e):e=t[0],e};function _temp$B(){return{props:{}}}function _temp2$o(t){return jsxRuntimeExports.jsx(DesignPanel$6,{...t})}const defaultProps$m={height:"auto",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",fillSpace:"no",backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundVideoType:"youtube",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",backgroundOpacity:100,opacity:100,blendMode:"normal",brightness:100,contrast:100,saturate:100,grayscale:0,hueRotate:0,blur:0,sepia:0,invert:0,locked:!1,overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Sections=t=>{const e=perfLogger.startTimer("Sections","render"),{connectors:{connect:o},id:r}=Ne(),{query:s,isActive:i}=Pe((re,Xe)=>({isActive:Xe.getEvent("selected").contains(r)})),a={...defaultProps$m,...t},l=(()=>{try{return s.node("ROOT").get().data.nodes.indexOf(r)}catch{return 0}})(),{height:d,flexDirection:u,alignItems:m,justifyContent:R,fillSpace:p,backgroundType:j,backgroundColor:x,gradientType:g,gradientAngle:h,gradientColor1:E,gradientColor2:w,backgroundImage:C,backgroundVideo:b,backgroundSize:v,backgroundPosition:_,backgroundRepeat:I,backgroundAttachment:$,backgroundOpacity:A,opacity:T,blendMode:L,brightness:P,contrast:N,saturate:k,grayscale:B,hueRotate:F,blur:W,sepia:z,invert:H,children:U,displayAnimation:D,pinning:O,backgroundVideoType:Q,hidden:q}=a,{enabled:Y}=Pe(re=>({enabled:re.options.enabled})),V=reactExports.useRef(null),de=(D==null?void 0:D.effect)||"none",ue=(D==null?void 0:D.duration)??.6;useEntrance(V,de,ue);const{currentEditingPlatform:Re}=useViewport(),ce=useResponsivePlatformContext()||Re,{settings:je}=useViewportSettings(),ie=()=>ce==="mobile"?{width:"100%",left:"auto",transform:"none",margin:"0 auto"}:{width:"100vw",left:"50%",transform:"translateX(-50%)"},xe=useMultiSelectContext(),{startBoxSelection:pe,updateBoxSelection:$e,endBoxSelection:Se,forceEndSelection:Ie,clearSelection:Me,isMultiSelecting:He,shouldPreventClearSelection:fe}=xe,le=(re=>{const{enabled:Xe}=Pe(bt=>({enabled:bt.options.enabled})),tt=(re==null?void 0:re.enabled)&&!Xe,rt=tt&&re.position==="auto",Rt=tt&&re.position!=="auto";return{shouldPin:tt,isAutoPin:rt,isFixedPin:Rt,getStickyProps:()=>rt?{topOffset:-(re.topDistance||0),bottomOffset:0,stickyClassName:"auto-pinned-element sticky",stickyStyle:{zIndex:zIndex.sectionsControls}}:{},getFixedPositionStyles:()=>{if(!Rt)return null;const bt=typeof re.topDistance=="number"?re.topDistance:0,yt=typeof re.leftDistance=="number"?re.leftDistance:0,jt=typeof re.rightDistance=="number"?re.rightDistance:0,we=typeof re.bottomDistance=="number"?re.bottomDistance:0,G={position:"fixed",zIndex:zIndex.sectionsControls,width:"100vw"};switch(re.position){case"top-left":return{...G,top:`${bt}px`,left:`${yt}px`};case"top-center":return{...G,top:`${bt}px`,left:"50%",transform:"translateX(-50%)"};case"top-right":return{...G,top:`${bt}px`,right:`${jt}px`};case"bottom-left":return{...G,bottom:`${we}px`,left:`${yt}px`};case"bottom-center":return{...G,bottom:`${we}px`,left:"50%",transform:"translateX(-50%)"};case"bottom-right":return{...G,bottom:`${we}px`,right:`${jt}px`};case"middle-left":return{...G,top:"50%",left:`${yt}px`,transform:"translateY(-50%)"};case"middle-right":return{...G,top:"50%",right:`${jt}px`,transform:"translateY(-50%)"};default:return{...G,top:`${bt}px`,left:`${yt}px`}}}}})(O),J=()=>{if(j==="color")return x;if(j==="gradient"){const re=g||"linear",Xe=h||0,tt=E||"#ffffff",rt=w||"#000000";return re==="linear"?`linear-gradient(${Xe}deg, ${tt}, ${rt})`:`radial-gradient(circle, ${tt}, ${rt})`}else if(j==="image"&&C)return`url(${C})`;return"none"},se=()=>{const re=J();return j==="image"&&C&&re!=="none"?`${re} ${_} / ${v} ${I} ${$}`:re},te=(re=!1)=>{let Xe="";return Xe+=`brightness(${P}%)`,Xe+=` contrast(${N}%)`,Xe+=` saturate(${k}%)`,Xe+=` hue-rotate(${F}deg)`,Xe+=` blur(${W}px)`,Xe+=` sepia(${z}%)`,Xe+=` grayscale(${B}%)`,Xe+=` invert(${H}%)`,Xe.trim()||"none"},be=minimizeStyle({position:"relative",height:d,isolation:"isolate",zIndex:calculateSectionZIndex(l,!0),...ie(),...Y&&(i?{borderTop:"1px solid #4158D0",borderBottom:"1px solid #4158D0",boxSizing:"border-box"}:{borderTop:"1px dashed #4158D0",borderBottom:"1px dashed #4158D0",boxSizing:"border-box"})}),Z=React.useMemo(()=>assembleBaseStyles({width:"100%",height:"100%",blendMode:L,brightness:P,contrast:N,saturate:k,grayscale:B,hueRotate:F,blur:W,sepia:z,invert:H,opacity:T,backgroundType:j,backgroundColor:x,gradientType:g,gradientAngle:h,gradientColor1:E,gradientColor2:w,backgroundImage:C,backgroundSize:v,backgroundPosition:_,backgroundRepeat:I,backgroundAttachment:$},{allowPosition:!1,defaults:defaultProps$m}),[L,P,N,k,B,F,W,z,H,T,j,x,g,h,E,w,C,v,_,I,$]),{backgroundOverlay:Ee,contentOverlay:me}=React.useMemo(()=>buildOverlayLayers({overlayType:a.overlayType,overlayBlendMode:a.overlayBlendMode,overlayOpacity:a.overlayOpacity,overlayColor:a.overlayColor,overlayGradientType:a.overlayGradientType,overlayGradientAngle:a.overlayGradientAngle,overlayGradientColor1:a.overlayGradientColor1,overlayGradientColor2:a.overlayGradientColor2,overlayImage:a.overlayImage,overlayImageSize:a.overlayImageSize,overlayImagePosition:a.overlayImagePosition,overlayImageRepeat:a.overlayImageRepeat,overlayImageAttachment:a.overlayImageAttachment},void 0),[a.overlayType,a.overlayBlendMode,a.overlayOpacity,a.overlayColor,a.overlayGradientType,a.overlayGradientAngle,a.overlayGradientColor1,a.overlayGradientColor2,a.overlayImage,a.overlayImageSize,a.overlayImagePosition,a.overlayImageRepeat,a.overlayImageAttachment]),ge=minimizeStyle({width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:u,alignItems:m,justifyContent:R,flex:p==="yes"?1:void 0,...Z}),Ke=minimizeStyle({content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:zIndex.base,background:j!=="video"?se():void 0,opacity:j!=="video"&&A!==defaultProps$m.backgroundOpacity?A/100:void 0,filter:`brightness(${P}%) contrast(${N}%) saturate(${k}%) hue-rotate(${F}deg) blur(${W}px) sepia(${z}%) grayscale(${B}%) invert(${H}%)`.trim()||void 0}),Ue=minimizeStyle({position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",zIndex:zIndex.base,opacity:A!==defaultProps$m.backgroundOpacity?A/100:void 0,filter:te(!0)}),_e=minimizeStyle({position:"relative",zIndex:calculateSectionZIndex(l,!1),width:"100%",maxWidth:ce==="mobile"?getMobileWidth(je):getDesktopWidth(je),height:"100%",margin:"0 auto",minHeight:"100px",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",padding:ce==="mobile"?"0 16px":"0"}),Qe=()=>{if(!a.overlayType||a.overlayType==="none")return"none";if(a.overlayType==="color")return a.overlayColor||"rgba(0, 0, 0, 0.5)";if(a.overlayType==="gradient"){const re=a.overlayGradientType||"linear",Xe=a.overlayGradientAngle||90,tt=a.overlayGradientColor1||"#4158D0",rt=a.overlayGradientColor2||"#C850C0";return re==="linear"?`linear-gradient(${Xe}deg, ${tt}, ${rt})`:`radial-gradient(circle, ${tt}, ${rt})`}else if(a.overlayType==="image"&&a.overlayImage)return`url(${a.overlayImage})`;return"none"},qe=a.overlayType&&a.overlayType!=="none"?minimizeStyle({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:Qe(),mixBlendMode:a.overlayBlendMode||"normal",opacity:(a.overlayOpacity||100)/100,pointerEvents:"none",...a.overlayType==="image"?{backgroundSize:a.overlayImageSize||"cover",backgroundPosition:a.overlayImagePosition||"center",backgroundRepeat:a.overlayImageRepeat||"no-repeat",backgroundAttachment:a.overlayImageAttachment||"scroll"}:{}}):null,Ye=()=>{if(!b)return jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",color:"#666",fontSize:"14px",zIndex:zIndex.base},children:"..."});if(Q==="youtube"){const re=getYouTubeVideoId(b);if(!re)return jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",color:"#666",fontSize:"14px",zIndex:zIndex.base},children:"Invalid YouTube URL"});const Xe=`https://www.youtube.com/embed/${re}?rel=0&modestbranding=1&playsinline=1&controls=0&autoplay=1&mute=1&loop=1&showinfo=0`;return jsxRuntimeExports.jsx("iframe",{id:"section_background_video",className:"section-background-video",src:Xe,style:Ue,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!1,referrerPolicy:"strict-origin-when-cross-origin",title:"Background Video"},`${re}-${Q}`)}else if(Q==="meHappyVideo")return jsxRuntimeExports.jsx("video",{src:b,autoPlay:!0,loop:!0,muted:!0,style:Ue},`${b}-${Q}`);return null},nt=re=>{var ne,ve;if(!Y)return;const Xe=re.target,tt=re.target===re.currentTarget||Xe.classList.contains("content-container")||Xe.classList.contains("sections-wrapper"),rt=Xe.tagName==="SPAN"||Xe.tagName==="P"||Xe.tagName==="H1"||Xe.tagName==="H2"||Xe.tagName==="H3"||Xe.tagName==="H4"||Xe.tagName==="H5"||Xe.tagName==="H6",Rt=Xe.contentEditable==="true"||Xe.tagName==="INPUT"||Xe.tagName==="TEXTAREA",wt=Xe.textContent&&Xe.textContent.trim().length>0,St=((ne=Xe.closest("[data-node-id]"))==null?void 0:ne.getAttribute("data-node-id"))!==((ve=Xe.closest(".sections-wrapper"))==null?void 0:ve.getAttribute("data-node-id")),bt=Xe.closest(".button-container")!==null;if(!tt||rt&&wt||Rt||St||bt)return;re.preventDefault(),re.stopPropagation();let yt=!1;const jt=re.clientX,we=re.clientY,G=5;pe(jt,we);const X=Te=>{const Le=Math.abs(Te.clientX-jt),st=Math.abs(Te.clientY-we);!yt&&(Le>G||st>G)&&(yt=!0),yt&&$e(Te.clientX,Te.clientY)},K=Te=>{if(yt)Se();else{const Le=Te.target,st=fe(Le);Ie(),st||Me()}document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",K)};if(Y)return jsxRuntimeExports.jsxs("div",{"data-node-id":r,className:"sections-wrapper",ref:re=>{re&&o(re)},style:be,onMouseDown:nt,children:[j!=="video"&&jsxRuntimeExports.jsx("div",{style:Ke}),j==="video"&&Ye(),qe&&jsxRuntimeExports.jsx("div",{style:qe}),q&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:be.borderRadius}),jsxRuntimeExports.jsx("div",{className:"content-wrapper",style:ge,children:jsxRuntimeExports.jsx("div",{className:"content-container",style:_e,onMouseDown:nt,children:U})})]});if(q)return null;const et=jsxRuntimeExports.jsxs("div",{"data-node-id":r,className:"sections-wrapper",ref:V,style:le.isFixedPin?{...be,...le.getFixedPositionStyles()}:be,children:[j!=="video"&&jsxRuntimeExports.jsx("div",{style:Ke}),j==="video"&&Ye(),q&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:be.borderRadius}),qe&&jsxRuntimeExports.jsx("div",{style:qe}),jsxRuntimeExports.jsx("div",{className:"content-wrapper",style:ge,children:jsxRuntimeExports.jsx("div",{className:"content-container",style:_e,children:U})})]});return perfLogger.endTimer(e,10),le.isAutoPin?jsxRuntimeExports.jsx(Sticky,{...le.getStickyProps(),children:et}):(le.isFixedPin,et)};Sections.craft={displayName:"Sections",props:defaultProps$m,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!0},related:{toolbar:SectionsSettings}};const heartIcon='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 1792 1896.0833" class="" fill="rgba(232, 59, 48, 1.0)"> <path d="M896 1664q-26 0-44-18l-624-602q-10-8-27.5-26T145 952.5 77 855 23.5 734 0 596q0-220 127-344t351-124q62 0 126.5 21.5t120 58T820 276t76 68q36-36 76-68t95.5-68.5 120-58T1314 128q224 0 351 124t127 344q0 221-229 450l-623 600q-18 18-44 18z"></path> </svg>',SectionHeader$f=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$f.displayName="SectionHeader";const SectionCard$f=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$f.displayName="SectionCard";const IconDesign=React.memo(t=>{const e=compilerRuntimeExports.c(25),{ctx:o}=t,{showIconPickerModal:r}=useViewport(),{props:s,updateProp:i}=o;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[0]=a):a=e[0];const c=a;let l;e[1]!==i?(l=I=>{i("svgCode",I.target.value)},e[1]=i,e[2]=l):l=e[2];const d=l;let u;e[3]!==i?(u=I=>{i("iconColor",I)},e[3]=i,e[4]=u):u=e[4];const m=u;let R;e[5]!==i?(R=I=>{i("svgCode",I)},e[5]=i,e[6]=R):R=e[6];const p=R;let j;e[7]===Symbol.for("react.memo_cache_sentinel")?(j=jsxRuntimeExports.jsx(SectionHeader$f,{icon:MdApps,title:"Thiết lập biểu tượng"}),e[7]=j):j=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=jsxRuntimeExports.jsx(Text$1,{...c,className:"flex-shrink-0",children:"SVG"}),e[8]=x):x=e[8];const g=s.svgCode||"";let h;e[9]!==d||e[10]!==g?(h=jsxRuntimeExports.jsx(Input$1,{value:g,onChange:d,placeholder:"Nhập code svg của biểu tượng",size:"sm"}),e[9]=d,e[10]=g,e[11]=h):h=e[11];let E;e[12]!==p||e[13]!==r?(E=jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:()=>r(p),colorScheme:"blue",variant:"outline",children:"Chọn"}),e[12]=p,e[13]=r,e[14]=E):E=e[14];let w;e[15]!==h||e[16]!==E?(w=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[x,jsxRuntimeExports.jsxs(Box,{className:"flex items-center gap-2 flex-1 min-w-0",children:[h,E]})]}),e[15]=h,e[16]=E,e[17]=w):w=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsx(Text$1,{...c,className:"flex-shrink-0",children:"Màu"}),e[18]=C):C=e[18];const b=s.iconColor||"";let v;e[19]!==m||e[20]!==b?(v=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[C,jsxRuntimeExports.jsx(Box,{className:"flex-1 flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:b,onChange:m,size:"xs",showValueText:!0,previewSize:20})})]}),e[19]=m,e[20]=b,e[21]=v):v=e[21];let _;return e[22]!==w||e[23]!==v?(_=jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsxs(SectionCard$f,{children:[j,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[w,v]})]})}),e[22]=w,e[23]=v,e[24]=_):_=e[24],_});IconDesign.displayName="IconDesign";const IconSettings=()=>{const t=compilerRuntimeExports.c(4),{props:e}=Ne(_temp$A),o=!!(e!=null&&e.isChildOfButton),r=!o,s=!o,i=!o;let a;return t[0]!==r||t[1]!==s||t[2]!==i?(a=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",tabs:{event:r,animation:s,advanced:i},design:_temp2$n,enableOverlay:!1}),t[0]=r,t[1]=s,t[2]=i,t[3]=a):a=t[3],a};function _temp$A(t){return{props:t.data.props}}function _temp2$n(t){return jsxRuntimeExports.jsx(IconDesign,{ctx:t})}const defaultProps$l={svgCode:"",iconColor:"",lockAspectRatio:!0,width:"100%",height:"auto",objectFit:"cover",borderWidth:[0,0,0,0],borderColor:"#000000",borderStyle:"solid",borderRadius:[0,0,0,0],radius:0,shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",opacity:100,brightness:100,contrast:100,saturate:100,grayscale:0,invert:0,hueRotate:0,blur:0,sepia:0,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,rotateZ:0,scale:100,skewX:0,skewY:0,perspective:0,overlayColor:"#000000",overlayOpacity:0,blendMode:"normal",top:0,left:0,isChildOfButton:!1,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Icon=t=>{const{connectors:{connect:e},actions:{setProp:o},parent:r,selected:s,id:i}=Ne(Ce=>({parent:Ce.data.parent,selected:Ce.events.selected,id:Ce.id})),{actions:a,enabled:c}=Pe(Ce=>({enabled:Ce.options.enabled})),l={...defaultProps$l,...t},[d,u]=React.useState(!!l.isChildOfButton);React.useEffect(()=>{if(l.isChildOfButton){u(!0);return}if(r){const Ce=r.includes("Button");u(Ce),Ce&&o(le=>{le.position="static",le.top="auto",le.left="auto"})}},[r,l.isChildOfButton,o]),React.useEffect(()=>{s&&d&&a.setProp(r,Ce=>{Ce.currentSetting="icon"})},[s,d]);const{svgCode:m,iconColor:R,width:p,height:j,borderWidth:x,borderColor:g,borderStyle:h,borderRadius:E,radius:w,shadowType:C,shadow:b,shadowX:v,shadowY:_,shadowBlur:I,shadowSpread:$,shadowColor:A,opacity:T,brightness:L,contrast:P,saturate:N,grayscale:k,invert:B,hueRotate:F,blur:W,sepia:z,transformOrigin:H,rotate:U,rotateX:D,rotateY:O,rotateZ:Q,scale:q,skewX:Y,skewY:V,perspective:de,blendMode:ue,top:Re,left:oe,events:ce,displayAnimation:je,hoverAnimation:ie,hidden:xe,className:pe}=l,{handleContainerClick:$e,handleHover:Se}=useEventHandling(ce,i);reactExports.useRef(null);const Ie=useCraftInteractions({id:i,events:ce,hoverAnimation:ie,displayAnimation:je,enabled:c}),Me=R?(()=>{const Ce=new DOMParser;try{const le=Ce.parseFromString(m,"image/svg+xml"),J=le.querySelector("svg");if(J)return J.setAttribute("fill",R),J.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(se=>{const te=se.getAttribute("fill");(!te||te!=="none"&&te!=="transparent")&&se.setAttribute("fill",R)}),new XMLSerializer().serializeToString(le)}catch{}return m})():m,He=React.useMemo(()=>{const Ce=assembleBaseStyles({width:d?"20px":p,height:d?"20px":j,borderWidth:x,borderColor:g,borderStyle:h,borderRadius:E,radius:w,shadowType:C,shadow:b,shadowX:v,shadowY:_,shadowBlur:I,shadowSpread:$,shadowColor:A,opacity:T,brightness:L,contrast:P,saturate:N,grayscale:k,invert:B,hueRotate:F,blur:W,sepia:z,transformOrigin:H,rotate:U,rotateX:D,rotateY:O,rotateZ:Q,scale:q,skewX:Y,skewY:V,perspective:de,blendMode:ue,top:Re,left:oe},{allowPosition:!d,defaults:defaultProps$l});return delete Ce.background,Ce},[d,p,j,x,g,h,E,w,C,b,v,_,I,$,A,T,L,P,N,k,B,F,W,z,H,U,D,O,Q,q,Y,V,de,ue,Re,oe]),fe=React.useMemo(()=>({width:"100%",height:"100%",objectFit:"contain",overflow:"hidden"}),[]);return c?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width",height:"height"},style:He,className:`${pe||""} icon-container`,lockAspectRatio:l.lockAspectRatio,enable:!d,isChildOfButton:d,onClick:d?Ie.eventHandlers.onClick:null,onMouseEnter:d?Ie.eventHandlers.onMouseEnter:null,children:[Me?jsxRuntimeExports.jsx("div",{className:"wrapper-svg",dangerouslySetInnerHTML:{__html:Me},style:fe}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#888",border:"1px dashed #ccc",fontSize:"12px"},children:"No SVG code"}),xe&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:He.borderRadius})]}):xe?null:jsxRuntimeExports.jsx("div",{ref:Ce=>{Ce&&e(Ce),Ie.ref.current=Ce},style:He,className:`${pe||""} icon-container`,"data-node-id":i,...Ie.eventHandlers,children:Me?jsxRuntimeExports.jsx("div",{className:"wrapper-svg",dangerouslySetInnerHTML:{__html:Me},style:fe}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#888",border:"1px dashed #ccc",fontSize:"12px"},children:"No SVG code"})})};Icon.craft={displayName:"Icon",props:defaultProps$l,rules:{canDrag:t=>{const e=t.data.props.isChildOfButton||t.data.parent&&t.data.parent.includes("Button"),o=t.data.props.isChildOfGroup||t.data.parent&&t.data.parent.includes("Group");return!e&&!o}},related:{toolbar:IconSettings}};const useDebouncedProp=(t,e)=>{const o=compilerRuntimeExports.c(6),r=e,s=reactExports.useRef(null);let i;o[0]!==r||o[1]!==t?(i=(u,m)=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{t(u,m)},r)},o[0]=r,o[1]=t,o[2]=i):i=o[2];const a=i;let c;o[3]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{s.current&&clearTimeout(s.current)},o[3]=c):c=o[3];const l=c;let d;return o[4]!==a?(d={debouncedUpdate:a,cleanup:l},o[4]=a,o[5]=d):d=o[5],d},useThrottledProp=(t,e)=>{const o=compilerRuntimeExports.c(6),r=e,s=reactExports.useRef(null),i=reactExports.useRef(0);let a;o[0]!==r||o[1]!==t?(a=(m,R)=>{const p=Date.now(),j=p-i.current;j>=r?(t(m,R),i.current=p):(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{t(m,R),i.current=Date.now()},r-j))},o[0]=r,o[1]=t,o[2]=a):a=o[2];const c=a;let l;o[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{s.current&&clearTimeout(s.current)},o[3]=l):l=o[3];const d=l;let u;return o[4]!==c?(u={throttledUpdate:c,cleanup:d},o[4]=c,o[5]=u):u=o[5],u},StyledFontSelector=t=>{var B;const e=compilerRuntimeExports.c(37),{value:o,options:r,onChange:s,className:i}=t,a=i===void 0?"":i,[c,l]=reactExports.useState(!1);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[0]=d):d=e[0];const[u,m]=reactExports.useState(d),R=reactExports.useRef(null),{showFontSelectModal:p}=useViewport(),{data:j}=useGetFonts(),{hasFeature:x}=useViewport();let g;e[1]!==x?(g=x("custom_colors_font_advance"),e[1]=x,e[2]=g):g=e[2];const h=g;let E;e[3]!==u||e[4]!==r||e[5]!==o?(E=r.find(F=>F.value===o)||u.find(F=>F.value===o)||r[0],e[3]=u,e[4]=r,e[5]=o,e[6]=E):E=e[6];const w=E;let C,b;e[7]!==j?(C=()=>{if(j&&j.length>0){const F=j.map(_temp$z);m(F)}},b=[j],e[7]=j,e[8]=C,e[9]=b):(C=e[8],b=e[9]),reactExports.useEffect(C,b);let v,_;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{const F=W=>{R.current&&!R.current.contains(W.target)&&l(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},_=[],e[10]=v,e[11]=_):(v=e[10],_=e[11]),reactExports.useEffect(v,_);let I;e[12]!==c?(I=()=>l(!c),e[12]=c,e[13]=I):I=e[13];let $;e[14]!==w.value?($=w.value==="inherit"?"inherit":w.value.includes("'")||w.value.includes('"')||w.value.includes(",")?w.value:`'${w.value}'`,e[14]=w.value,e[15]=$):$=e[15];let A;e[16]!==$?(A={fontFamily:$},e[16]=$,e[17]=A):A=e[17];let T;e[18]!==w.label||e[19]!==A?(T=jsxRuntimeExports.jsx(Text$1,{style:A,children:w.label}),e[18]=w.label,e[19]=A,e[20]=T):T=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L=jsxRuntimeExports.jsx(Box,{as:"span",ml:2,children:"▼"}),e[21]=L):L=e[21];let P;e[22]!==T||e[23]!==I?(P=jsxRuntimeExports.jsxs(Box,{onClick:I,padding:"0.5rem",borderRadius:"md",border:"1px solid #e2e8f0",cursor:"pointer",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"space-between",children:[T,L]}),e[22]=T,e[23]=I,e[24]=P):P=e[24];let N;e[25]!==u||e[26]!==h||e[27]!==c||e[28]!==s||e[29]!==r||e[30]!==p||e[31]!==o?(N=c&&jsxRuntimeExports.jsxs(Box,{position:"absolute",top:"100%",right:"0",width:"250px",zIndex:zIndex.styledFontSelector,backgroundColor:"white",borderRadius:"md",border:"1px solid #e2e8f0",boxShadow:"md",display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"auto",maxHeight:"350px",overflowY:"auto",children:[u.length>0&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:u.find(F=>F.value===o)&&jsxRuntimeExports.jsx(Box,{padding:"0.5rem",cursor:"pointer",backgroundColor:"#e6f7ff",style:{fontFamily:o==="inherit"?"inherit":o.includes("'")||o.includes('"')||o.includes(",")?o:`'${o}'`},gridColumn:"1 / -1",children:((B=u.find(F=>F.value===o))==null?void 0:B.label)||o},o)}),h&&jsxRuntimeExports.jsx(Box,{padding:"0.5rem",cursor:"pointer",backgroundColor:"#f0f7ff",_hover:{backgroundColor:"#e0f0ff"},color:"blue.600",fontWeight:"medium",gridColumn:"1 / -1",textAlign:"center",onClick:()=>{p(F=>{const W={value:F,label:F,isCustom:!0};m(z=>z.some(H=>H.value===F)?z:[...z,W]),s(F)}),setTimeout(()=>{l(!1)},100)},children:"Chọn từ Thư viện"}),!h&&jsxRuntimeExports.jsxs(Box,{padding:"0.5rem",cursor:"pointer",backgroundColor:"#f5f5f5",fontWeight:"medium",gridColumn:"1 / -1",textAlign:"center",className:"flex items-center justify-center gap-2",color:"gray.600",children:["Chọn từ Thư viện ",jsxRuntimeExports.jsx(FaCrown,{className:"text-orange-500"})]}),r.map(F=>jsxRuntimeExports.jsx(Box,{padding:"0.5rem",cursor:"pointer",_hover:{backgroundColor:"#f7fafc"},onClick:()=>{s(F.value),l(!1)},style:{fontFamily:F.value==="inherit"?"inherit":F.value.includes("'")||F.value.includes('"')||F.value.includes(",")?F.value:`'${F.value}'`},children:F.label},F.value))]}),e[25]=u,e[26]=h,e[27]=c,e[28]=s,e[29]=r,e[30]=p,e[31]=o,e[32]=N):N=e[32];let k;return e[33]!==a||e[34]!==P||e[35]!==N?(k=jsxRuntimeExports.jsxs(Box,{position:"relative",ref:R,className:a,children:[P,N]}),e[33]=a,e[34]=P,e[35]=N,e[36]=k):k=e[36],k};function _temp$z(t){return{value:t.fileName,label:t.originalName||t.fileName,isCustom:!0,fontPath:t.filePath}}const SectionHeader$e=t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a},SectionCard$e=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$e.displayName="SectionCard";const Tip=React.memo(t=>{const e=compilerRuntimeExports.c(8),{label:o,children:r}=t;let s;e[0]!==r?(s=jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:r}),e[0]=r,e[1]=s):s=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=jsxRuntimeExports.jsx(TooltipArrow,{}),e[2]=i):i=e[2];let a;e[3]!==o?(a=jsxRuntimeExports.jsx(TooltipPositioner,{children:jsxRuntimeExports.jsxs(TooltipContent,{px:2,py:1,borderRadius:"md",bg:"gray.700",color:"white",fontSize:"xs",children:[o,i]})}),e[3]=o,e[4]=a):a=e[4];let c;return e[5]!==s||e[6]!==a?(c=jsxRuntimeExports.jsxs(TooltipRoot,{children:[s,a]}),e[5]=s,e[6]=a,e[7]=c):c=e[7],c});Tip.displayName="Tip";const TextDesign=React.memo(t=>{const e=compilerRuntimeExports.c(233),{ctx:o}=t,{props:r,updateProp:s}=o,{id:i}=Ne(_temp$y),a=useIsMobile(),{debouncedUpdate:c}=useDebouncedProp(s,300),{throttledUpdate:l}=useThrottledProp(s,50),[d,u]=React.useState(r.text||"");let m,R;e[0]!==r.text?(m=()=>{u(r.text||"")},R=[r.text],e[0]=r.text,e[1]=m,e[2]=R):(m=e[1],R=e[2]),React.useEffect(m,R);const{hasFeature:p}=useViewport();let j;e[3]!==p?(j=p("custom_colors_fonts"),e[3]=p,e[4]=j):j=e[4];const x=j;let g;e[5]!==p?(g=p("element_text_limits"),e[5]=p,e[6]=g):g=e[6];const h=g,E=useSelector(selectAuth);let w;e[7]!==E?(w=isAdmin(E),e[7]=E,e[8]=w):w=e[8];const C=w;let b;e[9]!==r.textShadow?(b=r.textShadow||{x:0,y:0,blur:0,color:"#000000",enabled:!1},e[9]=r.textShadow,e[10]=b):b=e[10];const v=b;let _;e[11]!==r.textStroke?(_=r.textStroke||{width:0,color:"#000000"},e[11]=r.textStroke,e[12]=_):_=e[12];const I=_;let $;e[13]===Symbol.for("react.memo_cache_sentinel")?($=createListCollection({items:textTransformOptions}),e[13]=$):$=e[13];const A=$,T=a?"top":"bottom";let L;e[14]!==i?(L=()=>{const Ct=document.querySelector(`[data-node-id="${i}"]`);return Ct?Ct.querySelector('[contenteditable="true"]')||Ct.querySelector("[contenteditable]")||Ct.querySelector("span"):null},e[14]=i,e[15]=L):L=e[15];const P=L,N=_temp2$m;let k;e[16]!==s?(k=Ct=>{setTimeout(()=>{s("text",Ct.innerHTML)},10)},e[16]=s,e[17]=k):k=e[17];const B=k;let F;e[18]!==r||e[19]!==s?(F=Ct=>{const Ot=String(r.textDecoration||"none"),Wt=new Set(Ot==="none"?[]:Ot.split(/\s+/));Wt.has(Ct)?Wt.delete(Ct):Wt.add(Ct);const lo=Wt.size?Array.from(Wt).join(" "):"none";s("textDecoration",lo)},e[18]=r,e[19]=s,e[20]=F):F=e[20];const W=F;let z;e[21]!==P||e[22]!==B?(z=(Ct,Ot)=>{const Wt=P();N(Wt)&&Wt?(document.execCommand(Ct,!1),B(Wt)):Ot()},e[21]=P,e[22]=B,e[23]=z):z=e[23];const H=z;let U;e[24]!==c?(U=Ct=>{const Ot=Ct.target.value;u(Ot),c("text",Ot)},e[24]=c,e[25]=U):U=e[25];const D=U;let O;e[26]!==x||e[27]!==s?(O=Ct=>{x&&s("fontFamily",Ct)},e[26]=x,e[27]=s,e[28]=O):O=e[28];const Q=O;let q;e[29]!==l?(q=Ct=>{l("fontSize",String(Ct))},e[29]=l,e[30]=q):q=e[30];const Y=q;let V;e[31]===Symbol.for("react.memo_cache_sentinel")?(V={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[31]=V):V=e[31];const de=V;let ue;e[32]===Symbol.for("react.memo_cache_sentinel")?(ue=jsxRuntimeExports.jsx(SectionHeader$e,{icon:MdTextFields,title:"Nội dung"}),e[32]=ue):ue=e[32];let Re;e[33]!==D||e[34]!==d?(Re=jsxRuntimeExports.jsxs(SectionCard$e,{children:[ue,jsxRuntimeExports.jsx(Textarea,{value:d,onChange:D,rows:4,placeholder:"Nhập nội dung văn bản"})]}),e[33]=D,e[34]=d,e[35]=Re):Re=e[35];let oe;e[36]===Symbol.for("react.memo_cache_sentinel")?(oe=jsxRuntimeExports.jsx(SectionHeader$e,{icon:MdFormatSize,title:"Thiết lập chữ"}),e[36]=oe):oe=e[36];let ce;e[37]!==h||e[38]!==a||e[39]!==r||e[40]!==T||e[41]!==s||e[42]!==C?(ce=Array.isArray(r.initFieldOptions)&&r.initFieldOptions.length>0&&C&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...de,className:h?"":"text-gray-400",children:"Tự điền"}),jsxRuntimeExports.jsxs(Box,{className:"relative",children:[jsxRuntimeExports.jsxs(SelectRoot,{collection:createListCollection({items:r.initFieldOptions}),value:[r.initField||""],onValueChange:Ct=>s("initField",Ct.value[0]),size:"sm",positioning:{placement:T},className:`custom-select ${h?"":"opacity-50 pointer-events-none"}`,disabled:!h,children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn trường tự điền"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:a?"200px":"500px",children:r.initFieldOptions.map(_temp3$g)})})]}),!h&&jsxRuntimeExports.jsx(FaCrown,{size:10,color:"#f97316",className:"absolute top-1 right-1"})]})]}),e[37]=h,e[38]=a,e[39]=r,e[40]=T,e[41]=s,e[42]=C,e[43]=ce):ce=e[43];let je;e[44]!==h||e[45]!==a||e[46]!==r||e[47]!==T||e[48]!==s||e[49]!==C?(je=Array.isArray(r.guestInfoFieldOptions)&&r.guestInfoFieldOptions.length>0&&C&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...de,className:h?"":"text-gray-400",children:"Thông tin khách"}),jsxRuntimeExports.jsxs(Box,{className:"relative",children:[jsxRuntimeExports.jsxs(SelectRoot,{collection:createListCollection({items:r.guestInfoFieldOptions}),value:[r.guestInfoField||""],onValueChange:Ct=>s("guestInfoField",Ct.value[0]),size:"sm",positioning:{placement:T},className:`custom-select ${h?"":"opacity-50 pointer-events-none"}`,disabled:!h,children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn thông tin khách mời"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:a?"200px":"500px",children:r.guestInfoFieldOptions.map(_temp4$a)})})]}),!h&&jsxRuntimeExports.jsx(FaCrown,{size:10,color:"#f97316",className:"absolute top-1 right-1"})]})]}),e[44]=h,e[45]=a,e[46]=r,e[47]=T,e[48]=s,e[49]=C,e[50]=je):je=e[50];const ie=x?"":"text-gray-400";let xe;e[51]!==ie?(xe=jsxRuntimeExports.jsx(Text$1,{...de,className:ie,children:"Font chữ"}),e[51]=ie,e[52]=xe):xe=e[52];const pe=`text-sm ${x?"":"opacity-50 cursor-not-allowed pointer-events-none"}`,$e=r.fontFamily||"inherit";let Se;e[53]!==Q||e[54]!==pe||e[55]!==$e?(Se=jsxRuntimeExports.jsx(StyledFontSelector,{className:pe,value:$e,options:fonts,onChange:Q}),e[53]=Q,e[54]=pe,e[55]=$e,e[56]=Se):Se=e[56];let Ie;e[57]!==x?(Ie=!x&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})}),e[57]=x,e[58]=Ie):Ie=e[58];let Me;e[59]!==Se||e[60]!==Ie?(Me=jsxRuntimeExports.jsxs("div",{className:"w-[50%] relative",children:[Se,Ie]}),e[59]=Se,e[60]=Ie,e[61]=Me):Me=e[61];let He;e[62]!==xe||e[63]!==Me?(He=jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[xe,Me]}),e[62]=xe,e[63]=Me,e[64]=He):He=e[64];let fe;e[65]===Symbol.for("react.memo_cache_sentinel")?(fe=jsxRuntimeExports.jsx(Text$1,{...de,children:"Cỡ chữ"}),e[65]=fe):fe=e[65];const Ce=Number(r.fontSize||15);let le;e[66]!==Y||e[67]!==Ce?(le=jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[fe,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Ce,onChange:Y,min:1,max:300})]}),e[66]=Y,e[67]=Ce,e[68]=le):le=e[68];const J=String(r.fontWeight||"400")==="bold"||Number(r.fontWeight)>=600,se=(r.fontStyle||"normal")==="italic",te=String(r.textDecoration||"none"),be=te.includes("underline"),Z=te.includes("line-through"),Ee=(r.textTransform||"none")==="uppercase",me=`px-2 py-1 border rounded text-sm ${J?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let ge;e[69]!==H||e[70]!==P||e[71]!==J||e[72]!==s?(ge=Ct=>{N(P())||Ct.preventDefault(),H("bold",()=>s("fontWeight",J?"400":"bold"))},e[69]=H,e[70]=P,e[71]=J,e[72]=s,e[73]=ge):ge=e[73];let Ke;e[74]===Symbol.for("react.memo_cache_sentinel")?(Ke=jsxRuntimeExports.jsx(MdFormatBold,{}),e[74]=Ke):Ke=e[74];let Ue;e[75]!==me||e[76]!==ge?(Ue=jsxRuntimeExports.jsx(Tip,{label:"In đậm",children:jsxRuntimeExports.jsx("button",{type:"button",className:me,onMouseDown:ge,children:Ke})}),e[75]=me,e[76]=ge,e[77]=Ue):Ue=e[77];const _e=`px-2 py-1 border rounded text-sm ${se?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Qe;e[78]!==H||e[79]!==P||e[80]!==se||e[81]!==s?(Qe=Ct=>{N(P())||Ct.preventDefault(),H("italic",()=>s("fontStyle",se?"normal":"italic"))},e[78]=H,e[79]=P,e[80]=se,e[81]=s,e[82]=Qe):Qe=e[82];let qe;e[83]===Symbol.for("react.memo_cache_sentinel")?(qe=jsxRuntimeExports.jsx(MdFormatItalic,{}),e[83]=qe):qe=e[83];let Ye;e[84]!==_e||e[85]!==Qe?(Ye=jsxRuntimeExports.jsx(Tip,{label:"In nghiêng",children:jsxRuntimeExports.jsx("button",{type:"button",className:_e,onMouseDown:Qe,children:qe})}),e[84]=_e,e[85]=Qe,e[86]=Ye):Ye=e[86];const nt=`px-2 py-1 border rounded text-sm ${be?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let et;e[87]!==H||e[88]!==P||e[89]!==W?(et=Ct=>{N(P())||Ct.preventDefault(),H("underline",()=>W("underline"))},e[87]=H,e[88]=P,e[89]=W,e[90]=et):et=e[90];let re;e[91]===Symbol.for("react.memo_cache_sentinel")?(re=jsxRuntimeExports.jsx(MdFormatUnderlined,{}),e[91]=re):re=e[91];let Xe;e[92]!==nt||e[93]!==et?(Xe=jsxRuntimeExports.jsx(Tip,{label:"Gạch chân",children:jsxRuntimeExports.jsx("button",{type:"button",className:nt,onMouseDown:et,children:re})}),e[92]=nt,e[93]=et,e[94]=Xe):Xe=e[94];const tt=`px-2 py-1 border rounded text-sm ${Z?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let rt;e[95]!==H||e[96]!==P||e[97]!==W?(rt=Ct=>{N(P())||Ct.preventDefault(),H("strikeThrough",()=>W("line-through"))},e[95]=H,e[96]=P,e[97]=W,e[98]=rt):rt=e[98];let Rt;e[99]===Symbol.for("react.memo_cache_sentinel")?(Rt=jsxRuntimeExports.jsx(MdStrikethroughS,{}),e[99]=Rt):Rt=e[99];let wt;e[100]!==tt||e[101]!==rt?(wt=jsxRuntimeExports.jsx(Tip,{label:"Gạch ngang",children:jsxRuntimeExports.jsx("button",{type:"button",className:tt,onMouseDown:rt,children:Rt})}),e[100]=tt,e[101]=rt,e[102]=wt):wt=e[102];const St=`px-2 py-1 border rounded text-sm ${Ee?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let bt;e[103]!==P||e[104]!==r||e[105]!==B||e[106]!==s?(bt=Ct=>{const Ot=P(),Wt=window.getSelection(),lo=N(Ot);if(lo||Ct.preventDefault(),lo&&Ot&&Wt){const go=Wt.getRangeAt(0),mo=go.toString(),bo=document.createElement("span");bo.style.textTransform="uppercase",bo.textContent=mo,go.deleteContents(),go.insertNode(bo),Wt.removeAllRanges(),B(Ot)}else if(Ot){const go=r.text||"";let mo=go.replace(/<span[^>]*style="[^"]*text-transform:\s*uppercase[^"]*"[^>]*>(.*?)<\/span>/gi,"$1");const bo=mo!==go?!0:(r.textTransform||"")==="uppercase";bo||(mo=`<span style="text-transform: uppercase">${mo}</span>`),s("text",mo),s("textTransform",bo?"none":"uppercase")}},e[103]=P,e[104]=r,e[105]=B,e[106]=s,e[107]=bt):bt=e[107];let yt;e[108]===Symbol.for("react.memo_cache_sentinel")?(yt=jsxRuntimeExports.jsx(RxLetterCaseUppercase,{}),e[108]=yt):yt=e[108];let jt;e[109]!==St||e[110]!==bt?(jt=jsxRuntimeExports.jsx(Tip,{label:"Chữ hoa",children:jsxRuntimeExports.jsx("button",{type:"button",className:St,onMouseDown:bt,children:yt})}),e[109]=St,e[110]=bt,e[111]=jt):jt=e[111];let we;e[112]!==Ue||e[113]!==Ye||e[114]!==Xe||e[115]!==wt||e[116]!==jt?(we=jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ue,Ye,Xe,wt,jt]})}),e[112]=Ue,e[113]=Ye,e[114]=Xe,e[115]=wt,e[116]=jt,e[117]=we):we=e[117];const G=`p-1.5 rounded border ${(r.textAlign||"left")==="left"?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let X;e[118]!==s?(X=()=>s("textAlign","left"),e[118]=s,e[119]=X):X=e[119];let K;e[120]===Symbol.for("react.memo_cache_sentinel")?(K=jsxRuntimeExports.jsx(MdFormatAlignLeft,{}),e[120]=K):K=e[120];let ne;e[121]!==G||e[122]!==X?(ne=jsxRuntimeExports.jsx(Tip,{label:"Căn trái",children:jsxRuntimeExports.jsx("button",{type:"button",className:G,onClick:X,children:K})}),e[121]=G,e[122]=X,e[123]=ne):ne=e[123];const ve=`p-1.5 rounded border ${(r.textAlign||"left")==="center"?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Te;e[124]!==s?(Te=()=>s("textAlign","center"),e[124]=s,e[125]=Te):Te=e[125];let Le;e[126]===Symbol.for("react.memo_cache_sentinel")?(Le=jsxRuntimeExports.jsx(MdFormatAlignCenter,{}),e[126]=Le):Le=e[126];let st;e[127]!==ve||e[128]!==Te?(st=jsxRuntimeExports.jsx(Tip,{label:"Căn giữa",children:jsxRuntimeExports.jsx("button",{type:"button",className:ve,onClick:Te,children:Le})}),e[127]=ve,e[128]=Te,e[129]=st):st=e[129];const ft=`p-1.5 rounded border ${(r.textAlign||"left")==="right"?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let ht;e[130]!==s?(ht=()=>s("textAlign","right"),e[130]=s,e[131]=ht):ht=e[131];let ct;e[132]===Symbol.for("react.memo_cache_sentinel")?(ct=jsxRuntimeExports.jsx(MdFormatAlignRight,{}),e[132]=ct):ct=e[132];let Et;e[133]!==ft||e[134]!==ht?(Et=jsxRuntimeExports.jsx(Tip,{label:"Căn phải",children:jsxRuntimeExports.jsx("button",{type:"button",className:ft,onClick:ht,children:ct})}),e[133]=ft,e[134]=ht,e[135]=Et):Et=e[135];const Tt=`p-1.5 rounded border ${(r.textAlign||"left")==="justify"?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let vt;e[136]!==s?(vt=()=>s("textAlign","justify"),e[136]=s,e[137]=vt):vt=e[137];let it;e[138]===Symbol.for("react.memo_cache_sentinel")?(it=jsxRuntimeExports.jsx(MdFormatAlignJustify,{}),e[138]=it):it=e[138];let ae;e[139]!==Tt||e[140]!==vt?(ae=jsxRuntimeExports.jsx(Tip,{label:"Căn đều",children:jsxRuntimeExports.jsx("button",{type:"button",className:Tt,onClick:vt,children:it})}),e[139]=Tt,e[140]=vt,e[141]=ae):ae=e[141];let Fe;e[142]!==ne||e[143]!==st||e[144]!==Et||e[145]!==ae?(Fe=jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[ne,st,Et,ae]})}),e[142]=ne,e[143]=st,e[144]=Et,e[145]=ae,e[146]=Fe):Fe=e[146];const ee=r.color||"#000000";let Be;e[147]!==s?(Be=Ct=>s("color",Ct),e[147]=s,e[148]=Be):Be=e[148];let ze;e[149]!==ee||e[150]!==Be?(ze=jsxRuntimeExports.jsx(ColorControl,{label:"Màu chữ",value:ee,onChange:Be,size:"xs",showValueText:!0,previewSize:24}),e[149]=ee,e[150]=Be,e[151]=ze):ze=e[151];let Ge;e[152]===Symbol.for("react.memo_cache_sentinel")?(Ge=jsxRuntimeExports.jsx(RiLineHeight2,{}),e[152]=Ge):Ge=e[152];const We=Number(r.lineHeight||1.4);let Ve;e[153]!==l?(Ve=Ct=>l("lineHeight",Ct),e[153]=l,e[154]=Ve):Ve=e[154];let Je;e[155]!==We||e[156]!==Ve?(Je=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[Ge,jsxRuntimeExports.jsx(DraggableNumberInput,{value:We,onChange:Ve,min:.5,max:5,step:.1})]}),e[155]=We,e[156]=Ve,e[157]=Je):Je=e[157];let he;e[158]===Symbol.for("react.memo_cache_sentinel")?(he=jsxRuntimeExports.jsx(RiLetterSpacing2,{}),e[158]=he):he=e[158];const at=Number(r.letterSpacing||0);let xt;e[159]!==l?(xt=Ct=>l("letterSpacing",Ct),e[159]=l,e[160]=xt):xt=e[160];let gt;e[161]!==at||e[162]!==xt?(gt=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[he,jsxRuntimeExports.jsx(DraggableNumberInput,{value:at,onChange:xt,min:-10,max:50,step:.1})]}),e[161]=at,e[162]=xt,e[163]=gt):gt=e[163];let Oe;e[164]!==Je||e[165]!==gt?(Oe=jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[Je,gt]}),e[164]=Je,e[165]=gt,e[166]=Oe):Oe=e[166];let Ze;e[167]===Symbol.for("react.memo_cache_sentinel")?(Ze=jsxRuntimeExports.jsx(Text$1,{...de,children:"Text Transform"}),e[167]=Ze):Ze=e[167];const kt=r.textTransform||"none";let Mt;e[168]!==kt?(Mt=[kt],e[168]=kt,e[169]=Mt):Mt=e[169];let At;e[170]!==s?(At=Ct=>s("textTransform",Ct.value[0]),e[170]=s,e[171]=At):At=e[171];let pt;e[172]!==T?(pt={placement:T},e[172]=T,e[173]=pt):pt=e[173];let It;e[174]===Symbol.for("react.memo_cache_sentinel")?(It=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn transform"})}),e[174]=It):It=e[174];let Nt;e[175]===Symbol.for("react.memo_cache_sentinel")?(Nt=jsxRuntimeExports.jsxs(SelectControl,{children:[It,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[175]=Nt):Nt=e[175];const $t=a?"200px":"500px";let zt;e[176]===Symbol.for("react.memo_cache_sentinel")?(zt=textTransformOptions.map(_temp5$8),e[176]=zt):zt=e[176];let _t;e[177]!==$t?(_t=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:$t,children:zt})}),e[177]=$t,e[178]=_t):_t=e[178];let Xt;e[179]!==Mt||e[180]!==At||e[181]!==pt||e[182]!==_t?(Xt=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ze,jsxRuntimeExports.jsxs(SelectRoot,{collection:A,value:Mt,onValueChange:At,size:"sm",positioning:pt,className:"custom-select",children:[Nt,_t]})]}),e[179]=Mt,e[180]=At,e[181]=pt,e[182]=_t,e[183]=Xt):Xt=e[183];let Gt;e[184]!==ce||e[185]!==je||e[186]!==He||e[187]!==le||e[188]!==we||e[189]!==Fe||e[190]!==ze||e[191]!==Oe||e[192]!==Xt?(Gt=jsxRuntimeExports.jsxs(SectionCard$e,{children:[oe,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ce,je,He,le,we,Fe,ze,Oe,Xt]})]}),e[184]=ce,e[185]=je,e[186]=He,e[187]=le,e[188]=we,e[189]=Fe,e[190]=ze,e[191]=Oe,e[192]=Xt,e[193]=Gt):Gt=e[193];let Vt;e[194]===Symbol.for("react.memo_cache_sentinel")?(Vt=jsxRuntimeExports.jsx(SectionHeader$e,{icon:MdBlurOn,title:"Đổ bóng chữ"}),e[194]=Vt):Vt=e[194];let Kt;e[195]===Symbol.for("react.memo_cache_sentinel")?(Kt=jsxRuntimeExports.jsx(Text$1,{...de,children:"Bật"}),e[195]=Kt):Kt=e[195];const fo=!!v.enabled;let Yt;e[196]!==v||e[197]!==s?(Yt=Ct=>s("textShadow",{...v,enabled:Ct.checked}),e[196]=v,e[197]=s,e[198]=Yt):Yt=e[198];let eo;e[199]===Symbol.for("react.memo_cache_sentinel")?(eo=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[199]=eo):eo=e[199];let no;e[200]===Symbol.for("react.memo_cache_sentinel")?(no=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[200]=no):no=e[200];let co;e[201]!==fo||e[202]!==Yt?(co=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Kt,jsxRuntimeExports.jsxs(SwitchRoot,{checked:fo,onCheckedChange:Yt,children:[eo,no]})]}),e[201]=fo,e[202]=Yt,e[203]=co):co=e[203];let oo;e[204]!==v||e[205]!==l||e[206]!==s?(oo=!!v.enabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...de,children:"X"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:v.x||0,onChange:Ct=>l("textShadow",{...v,x:Ct})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...de,children:"Y"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:v.y||0,onChange:Ct=>l("textShadow",{...v,y:Ct})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...de,children:"Blur"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:v.blur||0,onChange:Ct=>l("textShadow",{...v,blur:Ct})})]})]}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu bóng",value:v.color||"#000000",onChange:Ct=>s("textShadow",{...v,color:Ct}),size:"xs",showValueText:!0,previewSize:24})]}),e[204]=v,e[205]=l,e[206]=s,e[207]=oo):oo=e[207];let qt;e[208]!==co||e[209]!==oo?(qt=jsxRuntimeExports.jsxs(SectionCard$e,{children:[Vt,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[co,oo]})]}),e[208]=co,e[209]=oo,e[210]=qt):qt=e[210];let Qt;e[211]===Symbol.for("react.memo_cache_sentinel")?(Qt=jsxRuntimeExports.jsx(SectionHeader$e,{icon:MdBorderAll,title:"Viền chữ"}),e[211]=Qt):Qt=e[211];let po;e[212]===Symbol.for("react.memo_cache_sentinel")?(po=jsxRuntimeExports.jsx(Text$1,{...de,children:"Độ dày"}),e[212]=po):po=e[212];const ro=I.width||0;let io;e[213]!==I||e[214]!==l?(io=Ct=>l("textStroke",{...I,width:Ct}),e[213]=I,e[214]=l,e[215]=io):io=e[215];let to;e[216]!==ro||e[217]!==io?(to=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-3",children:[po,jsxRuntimeExports.jsx(DraggableNumberInput,{value:ro,onChange:io,min:0,max:20})]}),e[216]=ro,e[217]=io,e[218]=to):to=e[218];const so=I.color||"#000000";let Jt;e[219]!==I||e[220]!==s?(Jt=Ct=>s("textStroke",{...I,color:Ct}),e[219]=I,e[220]=s,e[221]=Jt):Jt=e[221];let ao;e[222]!==so||e[223]!==Jt?(ao=jsxRuntimeExports.jsx(ColorControl,{label:"Màu viền",value:so,onChange:Jt,size:"xs",showValueText:!0,previewSize:24}),e[222]=so,e[223]=Jt,e[224]=ao):ao=e[224];let uo;e[225]!==to||e[226]!==ao?(uo=jsxRuntimeExports.jsxs(SectionCard$e,{children:[Qt,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[to,ao]})]}),e[225]=to,e[226]=ao,e[227]=uo):uo=e[227];let Bt;return e[228]!==qt||e[229]!==uo||e[230]!==Re||e[231]!==Gt?(Bt=jsxRuntimeExports.jsxs(Stack,{children:[Re,Gt,qt,uo]}),e[228]=qt,e[229]=uo,e[230]=Re,e[231]=Gt,e[232]=Bt):Bt=e[232],Bt});TextDesign.displayName="TextDesign";const TextSettings=()=>{const t=compilerRuntimeExports.c(4),{props:e}=Ne(_temp6$6),o=!!e.isChildOfButton,r=!o,s=!o,i=!o;let a;return t[0]!==r||t[1]!==s||t[2]!==i?(a=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",tabs:{event:r,animation:s,advanced:i},design:_temp7$5,enableSize:!0,enableBackground:!0,enableFilter:!0,enableTransform:!0,enableOverlay:!0}),t[0]=r,t[1]=s,t[2]=i,t[3]=a):a=t[3],a};function _temp$y(t){return{id:t.id}}function _temp2$m(t){const e=window.getSelection();if(!e||e.isCollapsed||e.rangeCount===0)return!1;const{anchorNode:o,focusNode:r}=e;return!!(t&&o&&r&&t.contains(o)&&t.contains(r))}function _temp3$g(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp4$a(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp5$8(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp6$6(t){return{props:t.data.props}}function _temp7$5(t){return jsxRuntimeExports.jsx(TextDesign,{ctx:t})}class GlobalSelectorInitManager{constructor(){Io(this,"initStates",new Map)}getInitState(e){return this.initStates.has(e)||this.initStates.set(e,{hasEverInitialized:!1,lastGuestId:null,lastInitField:"",lastGuestInfoField:""}),this.initStates.get(e)}markAsInitialized(e,o,r,s){const i=this.getInitState(e);i.hasEverInitialized=!0,i.lastGuestId=o,i.lastInitField=r,i.lastGuestInfoField=s}shouldInitialize(e,o,r,s){const i=this.getInitState(e);return!!(!i.hasEverInitialized||o&&i.lastGuestId!==o)}updateFields(e,o,r){const s=this.getInitState(e);s.lastInitField=o,s.lastGuestInfoField=r}resetPageContentInitializations(){this.initStates.forEach((e,o)=>{e.lastGuestId||(e.hasEverInitialized=!1)})}resetAllInitializations(){this.initStates.clear()}}const globalSelectorInitManager=new GlobalSelectorInitManager,userInfoKeys={all:["userInfo"],lists:()=>[...userInfoKeys.all,"list"],list:t=>[...userInfoKeys.lists(),t],details:()=>[...userInfoKeys.all,"detail"],detail:t=>[...userInfoKeys.details(),t],summary:()=>[...userInfoKeys.all,"summary"]},useGetUserInfo=t=>{const e=compilerRuntimeExports.c(10),o=useSelector(selectAuth);let r;e[0]!==t?(r=userInfoKeys.list(t),e[0]=t,e[1]=r):r=e[1];let s;e[2]!==t?(s=async()=>(await apiClient.get("/user-info",{params:t?{type:t.type}:void 0})).data.data||[],e[2]=t,e[3]=s):s=e[3];let i;e[4]!==o?(i=isAuthenticated(o),e[4]=o,e[5]=i):i=e[5];let a;return e[6]!==r||e[7]!==s||e[8]!==i?(a={queryKey:r,queryFn:s,enabled:i},e[6]=r,e[7]=s,e[8]=i,e[9]=a):a=e[9],useQuery(a)},useGetUserInfoSummary=()=>{const t=compilerRuntimeExports.c(5),e=useSelector(selectAuth);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=userInfoKeys.summary(),t[0]=o):o=t[0];let r;t[1]!==e?(r=isAuthenticated(e),t[1]=e,t[2]=r):r=t[2];let s;return t[3]!==r?(s={queryKey:o,queryFn:_temp3$f,enabled:r},t[3]=r,t[4]=s):s=t[4],useQuery(s)},useUpsertUserInfo=()=>{const t=compilerRuntimeExports.c(2),e=useQueryClient();let o;return t[0]!==e?(o={mutationFn:_temp4$9,onSuccess:()=>{e.invalidateQueries({queryKey:userInfoKeys.all})}},t[0]=e,t[1]=o):o=t[1],useMutation(o)};async function _temp3$f(){return(await apiClient.get("/user-info/summary")).data.data}async function _temp4$9(t){const{data:e,hasExistingData:o}=t,r={...e,groomBirthday:e.groomBirthday?new Date(e.groomBirthday):null,brideBirthday:e.brideBirthday?new Date(e.brideBirthday):null,weddingDate:e.weddingDate?new Date(e.weddingDate):null};return o?(await apiClient.patch("/user-info",r)).data:(await apiClient.post("/user-info",r)).data}const sanitizeHtml=t=>{if(!t)return"";const e=document.createElement("div");e.innerHTML=t;const o=["b","strong","i","em","u","br","div","p","span"];return e.querySelectorAll("script").forEach(i=>i.remove()),e.querySelectorAll("div").forEach(i=>{var a,c,l,d;if((a=i.textContent)!=null&&a.trim()){const u=document.createElement("br");for((l=i.parentNode)==null||l.insertBefore(u,i);i.firstChild;)(d=i.parentNode)==null||d.insertBefore(i.firstChild,i);i.remove()}else{const u=document.createElement("br");(c=i.parentNode)==null||c.replaceChild(u,i)}}),e.querySelectorAll("*").forEach(i=>{var c;const a=i.tagName.toLowerCase();if(!o.includes(a)){const l=document.createTextNode(i.textContent||"");(c=i.parentNode)==null||c.replaceChild(l,i);return}if(i.hasAttribute("style")){const l=i.getAttribute("style")||"",d=[],u=["color","font-size","font-weight","font-style","font-family","text-decoration","text-align","line-height","letter-spacing","text-transform","background-color","background","padding","margin"];l.split(";").forEach(m=>{const[R,p]=m.split(":").map(j=>j.trim());R&&p&&u.some(j=>R.toLowerCase().includes(j))&&d.push(`${R}: ${p}`)}),d.length?i.setAttribute("style",d.join("; ")):i.removeAttribute("style")}}),e.innerHTML},arcLengthFromDegrees=(t,e)=>e*(t*Math.PI/180),initFieldOptions$1=[{value:"none",label:"None"},{value:"groom",label:"Tên chú rể"},{value:"bride",label:"Tên cô dâu"},{value:"date",label:"Ngày cưới"},{value:"location",label:"Địa điểm"},{value:"groomPhone",label:"SĐT chú rể"},{value:"groomLocation",label:"Địa chỉ chú rể"},{value:"groomDescription",label:"Mô tả chú rể"},{value:"groomParents.father",label:"Cha chú rể"},{value:"groomParents.mother",label:"Mẹ chú rể"},{value:"groomBankInfo.bankName",label:"Ngân hàng chú rể"},{value:"groomBankInfo.accountNumber",label:"STK chú rể"},{value:"groomBankInfo.accountHolder",label:"Chủ TK chú rể"},{value:"bridePhone",label:"SĐT cô dâu"},{value:"brideLocation",label:"Địa chỉ cô dâu"},{value:"brideDescription",label:"Mô tả cô dâu"},{value:"brideParents.father",label:"Cha cô dâu"},{value:"brideParents.mother",label:"Mẹ cô dâu"},{value:"brideBankInfo.bankName",label:"Ngân hàng cô dâu"},{value:"brideBankInfo.accountNumber",label:"STK cô dâu"},{value:"brideBankInfo.accountHolder",label:"Chủ TK cô dâu"},{value:"domain",label:"Tên miền"},{value:"subDomain",label:"Tên miền phụ"},{value:"groomSocialLinks.0.url",label:"Link MXH 1 chú rể"},{value:"groomSocialLinks.1.url",label:"Link MXH 2 chú rể"},{value:"groomSocialLinks.2.url",label:"Link MXH 3 chú rể"},{value:"brideSocialLinks.0.url",label:"Link MXH 1 cô dâu"},{value:"brideSocialLinks.1.url",label:"Link MXH 2 cô dâu"},{value:"brideSocialLinks.2.url",label:"Link MXH 3 cô dâu"}],guestInfoFieldOptions$1=[{value:"none",label:"None"},{value:"fullName",label:"Tên khách mời"},{value:"email",label:"Email khách mời"},{value:"phone",label:"SĐT khách mời"},{value:"address",label:"Địa chỉ khách mời"},{value:"additionalNote",label:"Ghi chú khách mời"}],defaultProps$k={fontSize:"15",textAlign:"left",fontWeight:"400",fontStyle:"normal",color:"#000000",shadow:0,text:"Text",enabled:!0,isChildOfButton:!1,fontFamily:"inherit",lineHeight:"1.4",letterSpacing:"0",textTransform:"none",textDecoration:"none",width:"auto",height:"auto",textShadow:{x:0,y:0,blur:0,color:"#000000",enabled:!1},textStroke:{width:0,color:"#000000"},textBend:{enabled:!1,intensity:0,height:200},backgroundType:"color",backgroundColor:"transparent",gradientType:"linear",gradientAngle:90,gradientColor1:"#4158D0",gradientColor2:"#C850C0",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",opacity:100,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,invert:0,sepia:0,hueRotate:0,initField:"none",guestInfoField:"none",position:"absolute",top:0,left:0,isEditing:!1,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,syncCrossPlatform:!0,isBrand:!1,className:"",initFieldOptions:initFieldOptions$1,guestInfoFieldOptions:guestInfoFieldOptions$1},StyledText=dt(ContentEditable)`
  width: ${t=>t.width||"auto"};
  outline: ${({$isSelected:t})=>t?"2px dashed #2680eb":"none"};
  outline-offset: ${({$isSelected:t})=>t?"2px":"0"};
  position: ${({$isChildOfButton:t})=>t?"static":"absolute"};
`,getNested=(t,e)=>!e||e==="none"?"":e.split(".").reduce((o,r)=>Array.isArray(o)&&!isNaN(Number(r))?o[Number(r)]:o&&typeof o=="object"&&r in o?o[r]:"",t)||"",Text=t=>{var L,P,N;const e=perfLogger.startTimer("Text","render"),{connectors:{connect:o},actions:{setProp:r},selected:s,parent:i,id:a}=Ne(k=>({selected:k.events.selected,parent:k.data.parent,id:k.id})),{actions:c,enabled:l}=Pe(k=>({enabled:k.options.enabled})),{pageContent:d,setPageContent:u,guestData:m,guestDataLoading:R}=useViewport(),{data:p}=useGetUserInfo(),j=p&&p.length>0?p[0]:null,x=React.useMemo(()=>({...defaultProps$k,...t}),[t]),g=useCraftInteractions({id:a,events:x.events||[],hoverAnimation:x.hoverAnimation,displayAnimation:x.displayAnimation,enabled:l}),[h,E]=React.useState(!!x.isChildOfButton);React.useEffect(()=>{if(x.isChildOfButton){E(!0);return}if(i){const k=i.includes("Button");E(k),k&&r(B=>{B.position="static",B.top="auto",B.left="auto"})}},[i,x.isChildOfButton,r]),React.useEffect(()=>{s&&h&&c.setProp(i,k=>{k.currentSetting="text"})},[s,h]);const w=`text-${a}`;globalSelectorInitManager.getInitState(w);const C=React.useRef(null);React.useEffect(()=>{C.current&&clearTimeout(C.current);const k=async()=>{var F,W,z;globalSelectorInitManager.updateFields(w,x.initField||"",x.guestInfoField||"");const B=globalSelectorInitManager.shouldInitialize(w,((F=m==null?void 0:m.id)==null?void 0:F.toString())||null,x.initField||"",x.guestInfoField||"");if(x.guestInfoField&&x.guestInfoField!=="none"){if(R)return;if(m&&B){const H={fullName:m.fullName||"",email:m.email||"",phone:m.phone||"",address:m.address||"",additionalNote:m.additionalNote||""},U=getNested(H,x.guestInfoField);U&&(r(D=>{D.text=U},500),globalSelectorInitManager.markAsInitialized(w,((W=m.id)==null?void 0:W.toString())||null,x.initField||"",x.guestInfoField))}return}if(d&&x.initField!=="none"&&B){let H=getNested(d,x.initField||"none");if(!H&&j){const U={groom:j.groomName||"",bride:j.brideName||"",date:j.weddingDate?new Date(j.weddingDate).toLocaleDateString("vi-VN"):"",location:j.weddingLocation||"",groomPhone:j.groomPhone||"",groomLocation:j.groomAddress||"",bridePhone:j.bridePhone||"",brideLocation:j.brideAddress||""};H=getNested(U,x.initField||"none")}H&&(r(U=>{U.text=H},500),globalSelectorInitManager.markAsInitialized(w,((z=m==null?void 0:m.id)==null?void 0:z.toString())||null,x.initField||"",x.guestInfoField||""))}};return C.current=setTimeout(()=>{k()},100),()=>{C.current&&clearTimeout(C.current)}},[d,x.initField,x.guestInfoField,m,R,r,u]);const b=React.useRef(null);React.useEffect(()=>{if(x.guestInfoField&&x.guestInfoField!=="none"&&m&&!R){const k=x.text||"",B=m.fullName||"";if(k!==B&&B){b.current&&clearTimeout(b.current);const W={fullName:m.fullName||"",email:m.email||"",phone:m.phone||"",address:m.address||"",additionalNote:m.additionalNote||""}[x.guestInfoField];W&&(b.current=setTimeout(()=>{r(z=>{z.text=W},100)},200))}}return()=>{b.current&&clearTimeout(b.current)}},[x.text,x.guestInfoField,m,R,r,w,c,a]);const v=React.useRef(null);React.useEffect(()=>{x.isEditing&&v.current&&setTimeout(()=>{const k=v.current;if(!k)return;k.focus();const B=document.createRange(),F=window.getSelection();B.selectNodeContents(k),B.collapse(!1),F==null||F.removeAllRanges(),F==null||F.addRange(B)},0)},[x.isEditing]);const _=k=>r(B=>{B.isEditing=k},100),I=React.useMemo(()=>({width:x.width,opacity:x.opacity,contrast:x.contrast,brightness:x.brightness,saturate:x.saturate,grayscale:x.grayscale,invert:x.invert,sepia:x.sepia,hueRotate:x.hueRotate,rotate:x.rotate,rotateX:x.rotateX,rotateY:x.rotateY,skewX:x.skewX,skewY:x.skewY,perspective:x.perspective,transformOrigin:x.transformOrigin,blendMode:x.blendMode,top:x.top,left:x.left,backgroundType:x.backgroundType,backgroundColor:x.backgroundColor,gradientType:x.gradientType,gradientAngle:x.gradientAngle,gradientColor1:x.gradientColor1,gradientColor2:x.gradientColor2,backgroundImage:x.backgroundImage,backgroundSize:x.backgroundSize,backgroundPosition:x.backgroundPosition,backgroundRepeat:x.backgroundRepeat,backgroundAttachment:x.backgroundAttachment}),[x.width,x.opacity,x.contrast,x.brightness,x.saturate,x.grayscale,x.invert,x.sepia,x.hueRotate,x.rotate,x.rotateX,x.rotateY,x.skewX,x.skewY,x.perspective,x.transformOrigin,x.blendMode,x.top,x.left,x.backgroundType,x.backgroundColor,x.gradientType,x.gradientAngle,x.gradientColor1,x.gradientColor2,x.backgroundImage,x.backgroundSize,x.backgroundPosition,x.backgroundRepeat,x.backgroundAttachment]),$=React.useMemo(()=>assembleBaseStyles(I,{allowPosition:!h,defaults:defaultProps$k}),[I,h]),A=React.useMemo(()=>{var F,W;const k={...$},B=x;if(B.color!==defaultProps$k.color&&(k.color=B.color),B.fontSize&&(k.fontSize=(F=B.fontSize)!=null&&F.includes("px")?B.fontSize:B.fontSize+"px"),B.fontFamily!==defaultProps$k.fontFamily&&B.fontFamily&&(k.fontFamily=/["',]/.test(B.fontFamily)||B.fontFamily==="inherit"?B.fontFamily:`'${B.fontFamily}'`),B.fontStyle!==defaultProps$k.fontStyle&&(k.fontStyle=B.fontStyle),B.lineHeight!==defaultProps$k.lineHeight&&(k.lineHeight=B.lineHeight),B.letterSpacing!==defaultProps$k.letterSpacing&&(k.letterSpacing=ensurePx(B.letterSpacing)),B.textTransform!==defaultProps$k.textTransform&&(k.textTransform=B.textTransform),B.textDecoration!==defaultProps$k.textDecoration&&(k.textDecoration=B.textDecoration),B.fontWeight!==defaultProps$k.fontWeight&&(k.fontWeight=B.fontWeight),B.textAlign!==defaultProps$k.textAlign&&(k.textAlign=B.textAlign),(W=B.textShadow)!=null&&W.enabled){const z=B.textShadow;k.textShadow=`${z.x}px ${z.y}px ${z.blur}px ${z.color}`}return B.textStroke&&(B.textStroke.width||B.textStroke.color!=="#000000")&&(k.WebkitTextStroke=`${B.textStroke.width}px ${B.textStroke.color}`),h&&(k.position="static",k.display="block"),k.opacity=(B.opacity||100)/100,minimizeStyle(k)},[$,h,x.color,x.fontSize,x.fontFamily,x.fontStyle,x.lineHeight,x.letterSpacing,x.textTransform,x.textDecoration,x.fontWeight,x.textAlign,x.textShadow,x.textStroke,x.opacity]),T=k=>{k.preventDefault();const B=k.clipboardData.getData("text/plain");if(B){const F=window.getSelection();if(F&&F.rangeCount>0){const W=F.getRangeAt(0);W.deleteContents();const z=document.createTextNode(B);W.insertNode(z),W.setStartAfter(z),W.setEndAfter(z),F.removeAllRanges(),F.addRange(W),r(H=>{H.text=k.currentTarget.innerHTML||""},500)}}};return h?jsxRuntimeExports.jsx(StyledText,{innerRef:k=>{k&&o(k)},html:x.text||"",disabled:!s,onChange:k=>r(B=>{B.text=k.currentTarget.innerHTML||""},500),tagName:"span",style:A,$isSelected:s,$isChildOfButton:h}):l?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width",height:(L=x.textBend)!=null&&L.enabled?"height":void 0},style:A,className:`${x.className||""} text-container`,innerRef:k=>{k&&o(k)},onDoubleClick:k=>{k.stopPropagation(),_(!0)},onBlur:()=>_(!1),enableDrag:!t.isEditing,onMouseDown:k=>{t.isEditing&&k.stopPropagation()},children:[(P=x.textBend)!=null&&P.enabled&&x.textBend.intensity!==0&&!t.isEditing?(()=>{const k=x.textBend.intensity,B=k<0,F=Math.abs(k),W=Math.max(10,F*3.6),z=140;x.height=="auto"&&r(q=>{q.height=z*2+40+"px"},200),x.width=="auto"&&r(q=>{q.width="400px"},200);const H=parseInt(x.width||"400"),U=parseInt(x.height||"200"),D=H/2,O=U/2,Q=arcLengthFromDegrees(W,z);return jsxRuntimeExports.jsx(Pt,{width:H,height:U,cx:D,cy:O,rx:z,ry:z,reversed:B,text:sanitizeHtml(x.text||"").replace(/<[^>]*>/g,""),textProps:{style:{fontSize:x.fontSize||"15px",fontWeight:x.fontWeight||"normal",fontStyle:x.fontStyle||"normal",fontFamily:x.fontFamily||"inherit",fill:x.color||"#000000",letterSpacing:"0.3em"}},textPathProps:{lengthAdjust:"spacing",textLength:Q},svgProps:{style:{overflow:"visible"}}})})():jsxRuntimeExports.jsx(ContentEditable,{innerRef:v,html:x.text||"",disabled:!t.isEditing,onChange:k=>r(B=>{B.text=k.currentTarget.innerHTML||""},500),onPaste:T,onClick:k=>{k.stopPropagation(),t.isEditing},onFocus:()=>{t.isEditing||_(!0)},style:{width:"100%",outline:"none",cursor:t.isEditing?"text":"default",pointerEvents:t.isEditing?"auto":"none"},tagName:"span"}),x.hidden&&jsxRuntimeExports.jsx(OverlayHidden,{})]}):x.hidden?null:(perfLogger.endTimer(e,10),jsxRuntimeExports.jsx("div",{ref:k=>{k&&(o(k),g.ref.current=k)},style:A,className:`${x.className||""} text-container`,"data-node-id":a,...g.eventHandlers,children:(N=x.textBend)!=null&&N.enabled&&x.textBend.intensity!==0?(()=>{const k=x.textBend.intensity,B=k<0,F=Math.abs(k),W=Math.max(10,F*3.6),z=140,H=x.width&&x.width!=="auto"?parseInt(x.width):400,U=x.height&&x.height!=="auto"?parseInt(x.height):200,D=H/2,O=U/2,Q=arcLengthFromDegrees(W,z);return jsxRuntimeExports.jsx("div",{style:{width:`${H}px`,height:`${U}px`,overflow:"visible",position:"relative"},children:jsxRuntimeExports.jsx(Pt,{width:H,height:U,cx:D,cy:O,rx:z,ry:z,startOffset:50,reversed:B,text:sanitizeHtml(x.text||"").replace(/<[^>]*>/g,""),textProps:{style:{fontSize:x.fontSize||"15px",fontWeight:x.fontWeight||"normal",fontStyle:x.fontStyle||"normal",fontFamily:x.fontFamily||"inherit",fill:x.color||"#000000",letterSpacing:"0.3em"}},textPathProps:{lengthAdjust:"spacing",textLength:Q},svgProps:{style:{overflow:"visible"}}})})})():jsxRuntimeExports.jsx("span",{style:{width:"100%",outline:"none"},dangerouslySetInnerHTML:{__html:sanitizeHtml(x.text||"")}})}))};Text.craft={displayName:"Text",props:defaultProps$k,related:{toolbar:TextSettings},rules:{canDrag:t=>{const e=t.data.props.isChildOfButton||t.data.parent&&t.data.parent.includes("Button"),o=t.data.props.isChildOfGroup||t.data.parent&&t.data.parent.includes("Group");return t.data.props.isEditing?!1:!e&&!o},canMoveIn:()=>!1,canMoveOut:t=>{const e=t.data.props.isChildOfButton||t.data.parent&&t.data.parent.includes("Button"),o=t.data.props.isChildOfGroup||t.data.parent&&t.data.parent.includes("Group");return!e&&!o}}};const SectionHeader$d=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$d.displayName="SectionHeader";const SectionCard$d=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$d.displayName="SectionCard";const ButtonDesign=React.memo(t=>{const e=compilerRuntimeExports.c(19),{ctx:o}=t,{props:r,updateProp:s}=o;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[0]=i):i=e[0];const a=i;let c;e[1]!==s?(c=w=>{s("showIcon",w.checked)},e[1]=s,e[2]=c):c=e[2];const l=c;let d;e[3]!==s?(d=w=>{s("iconHorizontalPosition",w)},e[3]=s,e[4]=d):d=e[4];const u=d;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=jsxRuntimeExports.jsx(SectionHeader$d,{icon:MdTouchApp,title:"Thiết lập biểu tượng"}),e[5]=m):m=e[5];let R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R=jsxRuntimeExports.jsx(Text$1,{...a,children:"Hiển thị icon"}),e[6]=R):R=e[6];const p=r.showIcon||!1;let j;e[7]===Symbol.for("react.memo_cache_sentinel")?(j=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[7]=j):j=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[8]=x):x=e[8];let g;e[9]!==l||e[10]!==p?(g=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[R,jsxRuntimeExports.jsxs(SwitchRoot,{checked:p,onCheckedChange:l,children:[j,x]})]}),e[9]=l,e[10]=p,e[11]=g):g=e[11];let h;e[12]!==u||e[13]!==r.iconHorizontalPosition||e[14]!==r.showIcon?(h=r.showIcon&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...a,children:"Vị trí ngang"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:r.iconHorizontalPosition||16,onChange:u,min:0,max:200})]}),e[12]=u,e[13]=r.iconHorizontalPosition,e[14]=r.showIcon,e[15]=h):h=e[15];let E;return e[16]!==h||e[17]!==g?(E=jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsxs(SectionCard$d,{children:[m,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[g,h]})]})}),e[16]=h,e[17]=g,e[18]=E):E=e[18],E});ButtonDesign.displayName="ButtonDesign";const ButtonSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$x);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableSize:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableFilter:!0,enableTransform:!0,enableOverlay:!0,design:_temp2$l}),t[0]=e):e=t[0],e},ButtonMenuSettings=React.memo(()=>{const t=compilerRuntimeExports.c(14),{actions:e,props:o}=Ne(_temp3$e),{setProp:r}=e;let s;t[0]!==r?(s=(p,j)=>{r(x=>{x[p]=j})},t[0]=r,t[1]=s):s=t[1];const i=s;let a;t[2]!==i?(a=p=>i("currentSetting",p.value),t[2]=i,t[3]=a):a=t[3];const c=a;let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=jsxRuntimeExports.jsxs(TabsTrigger,{value:"button",className:"!text-sm !py-0 flex flex-col",children:[jsxRuntimeExports.jsx(HiMiniCursorArrowRipple,{size:16}),jsxRuntimeExports.jsx(Text$1,{className:"text-xs",children:"Nút bấm"})]}),t[4]=l):l=t[4];let d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=jsxRuntimeExports.jsxs(TabsTrigger,{value:"text",className:"!text-sm !py-0 flex flex-col",children:[jsxRuntimeExports.jsx(BsLayoutTextSidebar,{size:16}),jsxRuntimeExports.jsx(Text$1,{className:"text-xs",children:"Văn bản"})]}),t[5]=d):d=t[5];let u;t[6]!==o.showIcon?(u=o.showIcon?jsxRuntimeExports.jsxs(TabsTrigger,{value:"icon",className:"!text-sm !py-0 flex flex-col",children:[jsxRuntimeExports.jsx(SiIconify,{size:16}),jsxRuntimeExports.jsx(Text$1,{className:"text-xs",children:"Biểu tượng"})]}):null,t[6]=o.showIcon,t[7]=u):u=t[7];let m;t[8]!==u?(m=jsxRuntimeExports.jsxs(TabsList,{className:"!bg-transparent",children:[l,d,u]}),t[8]=u,t[9]=m):m=t[9];let R;return t[10]!==c||t[11]!==o.currentSetting||t[12]!==m?(R=jsxRuntimeExports.jsx(Box,{className:"flex w-full justify-center",p:4,children:jsxRuntimeExports.jsx(TabsRoot,{value:o.currentSetting,onValueChange:c,variant:"enclosed",children:m},"buttonsetting")}),t[10]=c,t[11]=o.currentSetting,t[12]=m,t[13]=R):R=t[13],R});ButtonMenuSettings.displayName="ButtonMenuSettings";function _temp$x(t){return{props:t.data.props}}function _temp2$l(t){return jsxRuntimeExports.jsx(ButtonDesign,{ctx:t})}function _temp3$e(t){return{props:t.data.props}}const useButtonInteraction=t=>{const e=compilerRuntimeExports.c(24),{id:o,enabled:r,containerRef:s}=t,i=useMultiSelectContext(),{setCurrentSelection:a}=i,c=useIsMobile(),[l,d]=reactExports.useState(!1),[u,m]=reactExports.useState(0),R=reactExports.useRef(null),p=reactExports.useRef(null),[j,x]=reactExports.useState(0),g=reactExports.useRef(null),h=reactExports.useRef(0);let E,w;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=()=>()=>{R.current&&clearTimeout(R.current),p.current&&clearTimeout(p.current),g.current&&clearTimeout(g.current)},w=[],e[0]=E,e[1]=w):(E=e[0],w=e[1]),reactExports.useEffect(E,w);let C,b;e[2]!==s||e[3]!==r||e[4]!==l?(C=()=>{if(!l||!r)return;const N=k=>{s.current&&!s.current.contains(k.target)&&(d(!1),p.current&&(clearTimeout(p.current),p.current=null))};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},b=[l,r,s],e[2]=s,e[3]=r,e[4]=l,e[5]=C,e[6]=b):(C=e[5],b=e[6]),reactExports.useEffect(C,b);let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{d(!0),p.current&&clearTimeout(p.current),p.current=window.setTimeout(()=>{d(!1)},5e3)},e[7]=v):v=e[7];const _=v;let I;e[8]!==r||e[9]!==o||e[10]!==a||e[11]!==j?(I=N=>{N.stopPropagation(),N.preventDefault();const k=Date.now(),B=k-h.current;g.current&&clearTimeout(g.current),B<500&&j===1?(_(),x(0),h.current=0):(x(1),h.current=k,r&&a(o),g.current=window.setTimeout(()=>{x(0),h.current=0},500))},e[8]=r,e[9]=o,e[10]=a,e[11]=j,e[12]=I):I=e[12];const $=I;let A;e[13]!==u||e[14]!==r||e[15]!==o||e[16]!==a?(A=N=>{N.stopPropagation(),N.preventDefault(),m(_temp$w),R.current&&clearTimeout(R.current),R.current=window.setTimeout(()=>{m(0)},300),u===0?r&&a(o):u===1&&(_(),m(0),R.current&&(clearTimeout(R.current),R.current=null))},e[13]=u,e[14]=r,e[15]=o,e[16]=a,e[17]=A):A=e[17];const T=A,L=r&&!l;let P;return e[18]!==T||e[19]!==$||e[20]!==l||e[21]!==c||e[22]!==L?(P={isChildAccessMode:l,shouldShowOverlay:L,handleOverlayClick:T,handleOverlayTouch:$,enableChildAccessMode:_,isMobile:c},e[18]=T,e[19]=$,e[20]=l,e[21]=c,e[22]=L,e[23]=P):P=e[23],P};function _temp$w(t){return t+1}var Vs,Us;const defaultProps$j={text:"Button",textComponent:{...((Vs=Text.craft)==null?void 0:Vs.props)||{},textAlign:"center",width:"100%",isChildOfButton:!0},iconComponent:{...((Us=Icon.craft)==null?void 0:Us.props)||{},isChildOfButton:!0},fillSpace:"no",padding:[0,0,0,0],background:"#ffffff",backgroundType:"color",gradientType:"linear",gradientAngle:90,gradientColor1:"#4158D0",gradientColor2:"#C850C0",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"100%",height:"auto",minHeight:"none",top:0,left:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",lockAspectRatio:!1,overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",currentSetting:null,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},showIcon:!1,iconHorizontalPosition:16,pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,isChildOfForm:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Button=t=>{const e=perfLogger.startTimer("Button","render"),{id:o,linkedNodes:r,selected:s,connectors:{connect:i}}=Ne(re=>({selected:re.events.selected,enabled:re.data.props.enabled,id:re.id,linkedNodes:re.data.linkedNodes})),{actions:a,enabled:c}=Pe((re,Xe)=>({enabled:re.options.enabled,query:Xe})),l={...defaultProps$j,...t},{text:d,textComponent:u,background:m,color:R,shadow:p,shadowType:j,shadowX:x,shadowY:g,shadowBlur:h,shadowSpread:E,shadowColor:w,radius:C,borderRadius:b,borderWidth:v,borderStyle:_,borderColor:I,width:$,height:A,lockAspectRatio:T,minHeight:L,top:P,left:N,blendMode:k,contrast:B,brightness:F,saturate:W,grayscale:z,opacity:H,invert:U,sepia:D,hueRotate:O,rotate:Q,rotateX:q,rotateY:Y,skewX:V,skewY:de,perspective:ue,transformOrigin:Re,iconComponent:oe,currentSetting:ce,events:je,displayAnimation:ie,hoverAnimation:xe,showIcon:pe,iconHorizontalPosition:$e,hidden:Se}=l;b||defaultProps$j.borderRadius,v||defaultProps$j.borderWidth;const[Ie,Me]=React.useState(!1),{handleContainerClick:He,handleHover:fe}=useEventHandling(je,o),Ce=reactExports.useRef(null),le=useButtonInteraction({id:o,enabled:c,containerRef:Ce}),J=(ie==null?void 0:ie.effect)||"none",se=(ie==null?void 0:ie.duration)??.6;useEntrance(Ce,J,se);const te=hoverVarsFromSettings(xe,c),be=xe.enabled&&!c?"hover-anim":"",Z=()=>{fe()},Ee=()=>{},me=()=>{if(l.isChildOfForm&&!c){const re=Ce.current;if(re){const Xe=re.closest("form");if(Xe){const tt=new Event("submit",{bubbles:!0,cancelable:!0});Xe.dispatchEvent(tt);return}}}He()},ge=React.useRef(!0),Ke=React.useRef(s),Ue=React.useRef(ce);reactExports.useEffect(()=>{s&&!Ie&&Me(!0)},[s]),reactExports.useEffect(()=>{if(!ge.current&&ce&&ce!==Ue.current)switch(Ue.current=ce,ce){case"button":Ie&&a.selectNode(o);break;case"text":const re=r["text"+o];a.selectNode(re);break;case"icon":const Xe=r["icon"+o];a.selectNode(Xe);break}},[ce,o,r,a]),React.useEffect(()=>{if(ge.current){ge.current=!1,Ke.current=s,Ue.current=ce;return}s!==Ke.current&&(Ke.current=s,s?a.setProp(o,re=>{re.currentSetting="button"}):a.setProp(o,re=>{re.currentSetting=null}))},[s,o,a,ce]);const _e=React.useMemo(()=>{const re=assembleBaseStyles({width:$,height:A,shadowType:j,shadowX:x,shadowY:g,shadowBlur:h,shadowSpread:E,shadowColor:w,shadow:p,borderRadius:b,borderWidth:v,borderStyle:_,borderColor:I,radius:C,top:P,left:N,blendMode:k,contrast:B,brightness:F,saturate:W,grayscale:z,opacity:H,invert:U,sepia:D,hueRotate:O,rotate:Q,rotateX:q,rotateY:Y,skewX:V,skewY:de,perspective:ue,transformOrigin:Re,minHeight:L,backgroundType:l.backgroundType,backgroundColor:l.backgroundColor??m,gradientType:l.gradientType,gradientAngle:l.gradientAngle,gradientColor1:l.gradientColor1,gradientColor2:l.gradientColor2,backgroundImage:l.backgroundImage,backgroundSize:l.backgroundSize,backgroundPosition:l.backgroundPosition,backgroundRepeat:l.backgroundRepeat,backgroundAttachment:l.backgroundAttachment},{allowPosition:!0,defaults:defaultProps$j});return re.padding="5px 10px",_!=="none"&&Array.isArray(v)&&v.every(tt=>tt===v[0])&&(re.border=`${v[0]}px ${_} ${I}`),re.cursor="pointer",re},[$,A,j,x,g,h,E,w,p,b,v,_,I,C,P,N,k,B,F,W,z,H,U,D,O,Q,q,Y,V,de,ue,Re,L,l.backgroundType,l.backgroundImage,l.backgroundSize,l.backgroundPosition,l.backgroundRepeat,l.backgroundAttachment,l.gradientType,l.gradientAngle,l.gradientColor1,l.gradientColor2,m,l.backgroundColor,_,v,I]),Qe=React.useMemo(()=>({overlayType:l.overlayType,overlayBlendMode:l.overlayBlendMode,overlayOpacity:l.overlayOpacity,overlayColor:l.overlayColor,overlayGradientType:l.overlayGradientType,overlayGradientAngle:l.overlayGradientAngle,overlayGradientColor1:l.overlayGradientColor1,overlayGradientColor2:l.overlayGradientColor2,overlayImage:l.overlayImage,overlayImageSize:l.overlayImageSize,overlayImagePosition:l.overlayImagePosition,overlayImageRepeat:l.overlayImageRepeat,overlayImageAttachment:l.overlayImageAttachment}),[l.overlayType,l.overlayBlendMode,l.overlayOpacity,l.overlayColor,l.overlayGradientType,l.overlayGradientAngle,l.overlayGradientColor1,l.overlayGradientColor2,l.overlayImage,l.overlayImageSize,l.overlayImagePosition,l.overlayImageRepeat,l.overlayImageAttachment]),{backgroundOverlay:qe,contentOverlay:Ye}=React.useMemo(()=>buildOverlayLayers(Qe,_e.borderRadius),[Qe,_e.borderRadius]),nt=_e,et=nt;return c?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width",height:"height"},style:{...et},className:`${l.className||""} button-container`,lockAspectRatio:T,children:[qe&&jsxRuntimeExports.jsx("div",{style:qe}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center w-full h-full overflow-hidden",children:[pe&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:`${$e}px`,top:"50%",transform:"translateY(-50%)"},children:jsxRuntimeExports.jsx(ke,{id:"icon"+o,is:Icon,...oe,width:"20px",height:"20px",svgCode:(oe==null?void 0:oe.svgCode)||heartIcon,isChildOfButton:!0,canvas:!0})}),jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-center",children:jsxRuntimeExports.jsx(ke,{id:"text"+o,is:Text,text:(u==null?void 0:u.text)||d,color:(u==null?void 0:u.color)||R,...u,width:"100%",isChildOfButton:!0,canvas:!0})})]}),Ye&&jsxRuntimeExports.jsx("div",{style:Ye}),le.shouldShowOverlay&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",cursor:"pointer",zIndex:zIndex.ui},onClick:le.handleOverlayClick,onTouchEnd:le.isMobile?le.handleOverlayTouch:void 0,title:le.isChildAccessMode?"Child access mode - click outside to exit":"Click to select and drag button, double-click/double-tap to access child components (text and icon)"}),Se&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:nt.borderRadius})]}):Se?null:(perfLogger.endTimer(e,10),jsxRuntimeExports.jsxs("div",{ref:Ce,style:{...et,...te},className:`${l.className||""} button-container ${be}`,"data-node-id":o,onClick:me,onMouseEnter:Z,onMouseLeave:Ee,children:[qe&&jsxRuntimeExports.jsx("div",{style:qe}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center w-full h-full overflow-hidden",children:[pe&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:`${$e}px`,top:"50%",transform:"translateY(-50%)"},children:jsxRuntimeExports.jsx(ke,{id:"icon"+o,is:Icon,...oe,width:"20px",height:"20px",svgCode:(oe==null?void 0:oe.svgCode)||heartIcon,isChildOfButton:!0,canvas:!0})}),jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-center",children:jsxRuntimeExports.jsx(ke,{id:"text"+o,is:Text,text:(u==null?void 0:u.text)||d,color:(u==null?void 0:u.color)||R,...u,width:"100%",isChildOfButton:!0,canvas:!0})})]}),Ye&&jsxRuntimeExports.jsx("div",{style:Ye})]}))};var Xs;Button.craft={displayName:"Button",props:{...defaultProps$j,background:"#ffffff",color:{r:92,g:90,b:90,a:1},buttonStyle:"full",text:"Button",textComponent:{...((Xs=Text.craft)==null?void 0:Xs.props)||{},textAlign:"center",width:"100%",isChildOfButton:!0},enabled:!0},related:{toolbar:ButtonSettings,subToolbar:ButtonMenuSettings},rules:{canDrag:()=>!0}};const MOVE_THRESHOLD=10,TAP_TIME_THRESHOLD=300,createTouchTracker=()=>{let t=null;return{handleTouchStart:s=>{if(s.touches.length!==1)return;const i=s.touches[0];t={startX:i.clientX,startY:i.clientY,startTime:Date.now(),hasMoved:!1}},handleTouchMove:s=>{if(!t||s.touches.length!==1)return;const i=s.touches[0],a=Math.abs(i.clientX-t.startX),c=Math.abs(i.clientY-t.startY);(a>MOVE_THRESHOLD||c>MOVE_THRESHOLD)&&(t.hasMoved=!0)},handleTouchEnd:s=>{if(!t||s.changedTouches.length!==1)return!1;const i=s.changedTouches[0],a=Date.now()-t.startTime,c=Math.abs(i.clientX-t.startX),l=Math.abs(i.clientY-t.startY),d=!t.hasMoved&&c<=MOVE_THRESHOLD&&l<=MOVE_THRESHOLD&&a<=TAP_TIME_THRESHOLD;return t=null,d}}},createTouchHandlers=t=>{const e=createTouchTracker();return{handleTouchStart:a=>{e.handleTouchStart(a)},handleTouchMove:a=>{e.handleTouchMove(a)},handleTouchEnd:a=>{e.handleTouchEnd(a)&&t()},handleClick:a=>{t()}}},percentToPixelCrop=(t,e,o)=>({unit:"px",x:t.x/100*e,y:t.y/100*o,width:t.width/100*e,height:t.height/100*o}),pixelToPercentCrop=(t,e,o)=>({x:t.x/e*100,y:t.y/o*100,width:t.width/e*100,height:t.height/o*100}),SimpleCropModal=({isOpen:t,onClose:e,imageUrl:o,onCropComplete:r,initialCrop:s,aspectRatio:i})=>{const a=reactExports.useRef(null),[c,l]=reactExports.useState({unit:"%",width:90,height:90,x:5,y:5}),[d,u]=reactExports.useState(),[m,R]=reactExports.useState(!1),[p,j]=reactExports.useState(i),[x,g]=reactExports.useState(""),[h,E]=reactExports.useState(!1);reactExports.useEffect(()=>{j(i)},[i]),reactExports.useEffect(()=>{t&&o&&(E(!0),loadImageWithCORS(o).then(b=>{g(b),E(!1)}).catch(b=>{g(o),E(!1)}))},[t,o]),reactExports.useEffect(()=>{if(t&&s&&a.current){const b=percentToPixelCrop(s,a.current.width,a.current.height);l({...b,unit:"px"}),u(b)}else if(t&&!s)if(p&&a.current){const b=a.current.width/a.current.height;let v=90,_=90;p>b?_=v/p*b:v=_*p/b,l({unit:"%",width:v,height:_,x:(100-v)/2,y:(100-_)/2})}else l({unit:"%",width:90,height:90,x:5,y:5})},[t,s,p]);const w=reactExports.useCallback(async()=>{if(!(!d||!a.current))try{R(!0);const b=pixelToPercentCrop(d,a.current.width,a.current.height);r(b),e()}catch{alert("Lỗi khi cắt ảnh. Vui lòng thử lại.")}finally{R(!1)}},[d,r,e]),C=reactExports.useCallback(b=>{const v=b.currentTarget;if(s){const _=percentToPixelCrop(s,v.width,v.height);l({..._,unit:"px"}),u(_)}else if(p){const _=v.width/v.height;let I=90,$=90;p>_?$=I/p*_:I=$*p/_;const A={unit:"%",width:I,height:$,x:(100-I)/2,y:(100-$)/2};l(A)}},[s,p]);return jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Cắt ảnh",widthClass:"max-w-[90vw] w-full",footer:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:e,disabled:m,children:"Hủy"}),jsxRuntimeExports.jsx(Button$1,{colorPalette:"blue",onClick:w,loading:m,disabled:!d,children:"Áp dụng"})]}),children:jsxRuntimeExports.jsx(VStack,{gap:4,align:"stretch",children:jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",alignItems:"center",bg:"gray.50",borderRadius:"md",p:4,minH:"400px",_dark:{bg:"gray.800"},children:jsxRuntimeExports.jsx(S,{crop:c,onChange:b=>l(b),onComplete:b=>u(b),aspect:p,style:{maxWidth:"100%",maxHeight:"60vh"},children:h?jsxRuntimeExports.jsx(Box,{display:"flex",alignItems:"center",justifyContent:"center",minH:"400px",children:jsxRuntimeExports.jsx(Text$1,{children:"Đang tải ảnh..."})}):jsxRuntimeExports.jsx("img",{ref:a,src:x,alt:"Crop preview",style:{maxWidth:"100%",maxHeight:"60vh"},onLoad:C})})})})})},SectionHeader$c=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$c.displayName="SectionHeader";const SectionCard$c=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$c.displayName="SectionCard";const initFieldOptions=[{value:"none",label:"None"},{value:"groomBankInfo.qrCodeImage",label:"QR Code chú rể"},{value:"brideBankInfo.qrCodeImage",label:"QR Code cô dâu"}],guestInfoFieldOptions=[{value:"none",label:"None"},{value:"avatarUrl",label:"Avatar khách mời"}],ImageSettings=()=>{const{props:t}=Ne(c=>({props:c.data.props})),{showFileSelectModal:e,isPage:o,userIsAdmin:r}=useViewport(),[s,i]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!t.url){i(!1);return}const c=new Image;return c.onload=()=>i(!1),c.onerror=()=>i(!0),c.src=t.url,()=>{c.onload=null,c.onerror=null}},[t.url]);const a=React.memo(({props:c,updateProp:l})=>{const d=useIsMobile(),[u,m]=reactExports.useState(!1),[R,p]=reactExports.useState(void 0),j=createListCollection({items:initFieldOptions}),x=createListCollection({items:[{label:"Vừa khít",value:"cover"},{label:"Vừa khung",value:"contain"},{label:"Lấp đầy",value:"fill"},{label:"Không xử lý",value:"none"}]}),g={fontSize:"xs",fontWeight:"semibold",color:"#333"},h=reactExports.useCallback(A=>{l("url",A.target.value)},[l]),E=reactExports.useCallback(A=>{l("initField",A.value[0])},[l]),w=reactExports.useCallback(A=>{l("guestInfoField",A.value[0])},[l]),C=reactExports.useCallback(A=>{l("objectFit",A.value[0])},[l]),b=reactExports.useCallback(()=>{l("lockAspectRatio",!c.lockAspectRatio)},[l,c.lockAspectRatio]),v=reactExports.useCallback(()=>{const A=c.width,T=c.height,L=k=>{if(!k||k==="auto")return null;const B=parseFloat(k);return isNaN(B)?null:B},P=L(A),N=L(T);p(P&&N&&T!=="auto"?P/N:void 0),m(!0)},[c.width,c.height]),_=reactExports.useCallback(()=>{m(!1)},[]),I=reactExports.useCallback(A=>{l("cropData",A),m(!1)},[l]),$=reactExports.useCallback(()=>{l("cropData",void 0)},[l]);return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(SectionCard$c,{children:[jsxRuntimeExports.jsx(SectionHeader$c,{icon:MdImage,title:"Thiết lập hình ảnh"}),jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsx(Stack,{gap:2,children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Input$1,{value:c.url||"",onChange:h,placeholder:"Nhập URL hình ảnh",size:"sm"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>e(FileType.IMAGE,A=>l("url",A)),children:"Chọn hình ảnh"})]})}),r&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Tự điền từ form cho"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:j,value:[c.initField||"none"],onValueChange:E,positioning:{placement:d?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn trường"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:j.items.map(A=>jsxRuntimeExports.jsx(SelectItem,{item:A,children:jsxRuntimeExports.jsx(SelectItemText,{children:A.label})},A.value))})})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Thông tin khách"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:createListCollection({items:guestInfoFieldOptions}),value:[c.guestInfoField||"none"],onValueChange:w,positioning:{placement:d?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn thông tin khách mời"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:guestInfoFieldOptions.map(A=>jsxRuntimeExports.jsx(SelectItem,{item:A,children:jsxRuntimeExports.jsx(SelectItemText,{children:A.label})},A.value))})})]})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Khóa tỉ lệ"}),jsxRuntimeExports.jsx(Box,{onClick:b,cursor:"pointer",p:2,display:"flex",alignItems:"center",justifyContent:"center",children:c.lockAspectRatio?jsxRuntimeExports.jsx(FaLock,{size:14}):jsxRuntimeExports.jsx(FaUnlock,{size:14})})]}),jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Chế độ hiển thị"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:x,value:[c.objectFit||"cover"],onValueChange:C,positioning:{placement:d?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn chế độ"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:x.items.map(A=>jsxRuntimeExports.jsx(SelectItem,{item:A,children:jsxRuntimeExports.jsx(SelectItemText,{children:A.label})},A.value))})})]})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:v,disabled:!c.url,flex:1,children:c.cropData?"Chỉnh sửa Crop":"Crop ảnh"}),c.cropData&&jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:$,colorPalette:"red",children:"Reset Crop"})]})})]})]}),u&&c.url&&jsxRuntimeExports.jsx(SimpleCropModal,{isOpen:u,onClose:_,imageUrl:c.url,initialCrop:c.cropData,onCropComplete:I,aspectRatio:R})]})});return a.displayName="DesignPanel",jsxRuntimeExports.jsx(CommonSettings,{enableSize:!0,enableFilter:!0,enableTransform:!0,enableBackground:!1,enableBorder:!0,enableShadow:!0,enableOverlay:!0,design:c=>jsxRuntimeExports.jsx(a,{...c})})},defaultProps$i={url:"",width:"100%",lockAspectRatio:!0,height:"auto",objectFit:"cover",borderWidth:[0,0,0,0],borderColor:"#000000",borderStyle:"solid",borderRadius:[0,0,0,0],radius:0,shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",opacity:100,brightness:100,contrast:100,saturate:100,grayscale:0,invert:0,hueRotate:0,blur:0,sepia:0,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,rotateZ:0,scale:100,skewX:0,skewY:0,perspective:0,overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",blendMode:"normal",top:0,left:0,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,initField:"none",guestInfoField:"none",locked:!1,syncCrossPlatform:!0,isBrand:!1,className:"",cropData:void 0},Image$1=t=>{var at,xt,gt;const e=compilerRuntimeExports.c(170),o=perfLogger.startTimer("Image","render"),{connectors:r,actions:s,id:i}=Ne(_temp$v),{connect:a}=r,{setProp:c}=s;let l;e[0]!==t?(l={...defaultProps$i,...t},e[0]=t,e[1]=l):l=e[1];const d=l,{pageContent:u,setPageContent:m,guestData:R,guestDataLoading:p}=useViewport(),{data:j}=useGetUserInfo(),x=j&&j.length>0?j[0]:null,{enabled:g}=Pe(_temp2$k);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={guestInfoInitialized:!1,pageContentInitialized:!1,lastGuestId:null,lastInitField:"",lastGuestInfoField:"",hasEverInitialized:!1},e[2]=h):h=e[2];const E=React.useRef(h),w=React.useRef(null);let C;e[3]!==R||e[4]!==p||e[5]!==d.guestInfoField||e[6]!==d.initField||e[7]!==u||e[8]!==c||e[9]!==x?(C=()=>{w.current&&clearTimeout(w.current);const Oe=async()=>{const Ze=_temp3$d;if(d.guestInfoField&&d.guestInfoField!=="none"){if(p)return;if(E.current.lastGuestInfoField!==d.guestInfoField&&(E.current.lastGuestInfoField=d.guestInfoField,E.current.hasEverInitialized||(E.current.guestInfoInitialized=!1)),R&&!E.current.guestInfoInitialized){const kt={avatarUrl:R.avatarUrl||""},Mt=Ze(kt,d.guestInfoField);Mt&&(c(At=>{At.url=Mt},500),E.current.guestInfoInitialized=!0,E.current.hasEverInitialized=!0)}return}if(u&&d.initField!=="none"&&(E.current.lastInitField!==(d.initField||"")&&(E.current.pageContentInitialized=!1,E.current.lastInitField=d.initField||""),!E.current.pageContentInitialized)){let kt=Ze(u,d.initField||"none");if(!kt&&x){const Mt={groom:x.groomName||"",bride:x.brideName||"",date:x.weddingDate?new Date(x.weddingDate).toLocaleDateString("vi-VN"):"",location:x.weddingLocation||""};kt=Ze(Mt,d.initField||"none")}kt&&(c(Mt=>{Mt.url=kt},500),E.current.pageContentInitialized=!0)}};return w.current=setTimeout(()=>{Oe()},100),()=>{w.current&&clearTimeout(w.current)}},e[3]=R,e[4]=p,e[5]=d.guestInfoField,e[6]=d.initField,e[7]=u,e[8]=c,e[9]=x,e[10]=C):C=e[10];let b;e[11]!==R||e[12]!==p||e[13]!==d.guestInfoField||e[14]!==d.initField||e[15]!==u||e[16]!==m||e[17]!==c?(b=[u,d.initField,d.guestInfoField,R,p,c,m],e[11]=R,e[12]=p,e[13]=d.guestInfoField,e[14]=d.initField,e[15]=u,e[16]=m,e[17]=c,e[18]=b):b=e[18],React.useEffect(C,b);let v,_;e[19]!==i||e[20]!==d.events||e[21]!==d.url||e[22]!==c?(v=()=>{if(!d.url||!d.events)return;d.events.some(_temp5$7)&&d.events.some(kt=>kt.eventType==="open-lightbox"&&kt.lightboxMediaType==="image"&&kt.lightboxImageUrl!==d.url)&&c(kt=>{kt.events&&(kt.events=kt.events.map(Mt=>Mt.eventType==="open-lightbox"&&Mt.lightboxMediaType==="image"?{...Mt,lightboxImageUrl:d.url}:Mt))},500)},_=[d.url,d.events,c,i],e[19]=i,e[20]=d.events,e[21]=d.url,e[22]=c,e[23]=v,e[24]=_):(v=e[23],_=e[24]),React.useEffect(v,_);const{handleContainerClick:I,handleHover:$}=useEventHandling(d.events,i),A=React.useRef(null),T=((at=d.displayAnimation)==null?void 0:at.effect)||"none",L=((xt=d.displayAnimation)==null?void 0:xt.duration)??.6;useEntrance(A,T,L);let P;e[25]!==d.hoverAnimation?(P=d.hoverAnimation||{enabled:!1},e[25]=d.hoverAnimation,e[26]=P):P=e[26];let N;e[27]!==g||e[28]!==P?(N=hoverVarsFromSettings(P,g),e[27]=g,e[28]=P,e[29]=N):N=e[29];const k=N,B=(gt=d.hoverAnimation)!=null&&gt.enabled&&!g?"hover-anim":"";let F;e[30]!==$?(F=Oe=>{$()},e[30]=$,e[31]=F):F=e[31];const W=F,z=_temp6$5;let H;e[32]!==I?(H=Oe=>{I()},e[32]=I,e[33]=H):H=e[33];const U=H;let D;e[34]!==I?(D=createTouchHandlers(()=>{I()}),e[34]=I,e[35]=D):D=e[35];const O=D;let Q;e[36]!==$||e[37]!==O?(Q=Oe=>{O.handleTouchStart(Oe),$()},e[36]=$,e[37]=O,e[38]=Q):Q=e[38];const q=Q;let Y;e[39]!==O?(Y=Oe=>{O.handleTouchMove(Oe)},e[39]=O,e[40]=Y):Y=e[40];const V=Y;let de;e[41]!==O?(de=Oe=>{O.handleTouchEnd(Oe)},e[41]=O,e[42]=de):de=e[42];const ue=de,{url:Re,width:oe,height:ce,objectFit:je,borderWidth:ie,borderColor:xe,borderStyle:pe,borderRadius:$e,radius:Se,shadow:Ie,shadowType:Me,shadowX:He,shadowY:fe,shadowBlur:Ce,shadowSpread:le,shadowColor:J,opacity:se,brightness:te,contrast:be,saturate:Z,grayscale:Ee,invert:me,hueRotate:ge,blur:Ke,sepia:Ue,transformOrigin:_e,rotate:Qe,rotateX:qe,rotateY:Ye,rotateZ:nt,skewX:et,skewY:re,perspective:Xe,blendMode:tt,top:rt,left:Rt,lockAspectRatio:wt,hidden:St}=d,bt=Re;let yt;e[43]!==tt||e[44]!==xe||e[45]!==$e||e[46]!==pe||e[47]!==ie||e[48]!==ce||e[49]!==Rt||e[50]!==Xe||e[51]!==Se||e[52]!==Qe||e[53]!==qe||e[54]!==Ye||e[55]!==nt||e[56]!==Ie||e[57]!==Ce||e[58]!==J||e[59]!==le||e[60]!==Me||e[61]!==He||e[62]!==fe||e[63]!==et||e[64]!==re||e[65]!==rt||e[66]!==_e||e[67]!==oe?(yt={width:oe,height:ce,shadowType:Me,shadowX:He,shadowY:fe,shadowBlur:Ce,shadowSpread:le,shadowColor:J,shadow:Ie,borderRadius:$e,borderWidth:ie,borderStyle:pe,borderColor:xe,radius:Se,top:rt,left:Rt,blendMode:tt,rotate:Qe,rotateX:qe,rotateY:Ye,rotateZ:nt,skewX:et,skewY:re,perspective:Xe,transformOrigin:_e,opacity:100,contrast:100,brightness:100,saturate:100,grayscale:0,invert:0,sepia:0,hueRotate:0},e[43]=tt,e[44]=xe,e[45]=$e,e[46]=pe,e[47]=ie,e[48]=ce,e[49]=Rt,e[50]=Xe,e[51]=Se,e[52]=Qe,e[53]=qe,e[54]=Ye,e[55]=nt,e[56]=Ie,e[57]=Ce,e[58]=J,e[59]=le,e[60]=Me,e[61]=He,e[62]=fe,e[63]=et,e[64]=re,e[65]=rt,e[66]=_e,e[67]=oe,e[68]=yt):yt=e[68];const we=yt;let G;e[69]!==we?(G=assembleBaseStyles(we,{allowPosition:!0,defaults:defaultProps$i}),delete G.filter,delete G.opacity,e[69]=we,e[70]=G):G=e[70];const X=G,K=X.borderRadius;let ne;e[71]!==Ie||e[72]!==Ce||e[73]!==J||e[74]!==le||e[75]!==Me||e[76]!==He||e[77]!==fe?(ne=buildShadow({shadow:Ie,shadowType:Me,shadowX:He,shadowY:fe,shadowBlur:Ce,shadowSpread:le,shadowColor:J}),e[71]=Ie,e[72]=Ce,e[73]=J,e[74]=le,e[75]=Me,e[76]=He,e[77]=fe,e[78]=ne):ne=e[78];const ve=ne;let Te;e[79]!==Ke||e[80]!==te||e[81]!==be||e[82]!==Ee||e[83]!==ge||e[84]!==me||e[85]!==se||e[86]!==Z||e[87]!==Ue||e[88]!==ve.filterShadow||e[89]!==Me?(Te=buildFilter({opacity:se,brightness:te,contrast:be,saturate:Z,grayscale:Ee,invert:me,hueRotate:ge,blur:Ke,sepia:Ue},Me,ve.filterShadow),e[79]=Ke,e[80]=te,e[81]=be,e[82]=Ee,e[83]=ge,e[84]=me,e[85]=se,e[86]=Z,e[87]=Ue,e[88]=ve.filterShadow,e[89]=Me,e[90]=Te):Te=e[90];const Le=Te;let st;e:{if(!d.cropData){let _t;e[91]===Symbol.for("react.memo_cache_sentinel")?(_t={},e[91]=_t):_t=e[91],st=_t;break e}const{x:Oe,y:Ze,width:kt,height:Mt}=d.cropData,At=100/kt,pt=100/Mt,It=-Oe*At,Nt=-Ze*pt,$t=`translate(${It}%, ${Nt}%) scale(${At}, ${pt})`;let zt;e[92]!==$t?(zt={transform:$t,transformOrigin:"top left"},e[92]=$t,e[93]=zt):zt=e[93],st=zt}const ft=st;let ht;if(e[94]!==K||e[95]!==ft||e[96]!==Le||e[97]!==d.cropData||e[98]!==je||e[99]!==ve.boxShadow){const Oe={width:"100%",height:"100%",filter:Le,borderRadius:K,boxShadow:ve.boxShadow};d.cropData?Object.assign(Oe,ft):Oe.objectFit=je,ht=minimizeStyle(Oe),e[94]=K,e[95]=ft,e[96]=Le,e[97]=d.cropData,e[98]=je,e[99]=ve.boxShadow,e[100]=ht}else ht=e[100];const ct=ht;let Et;e[101]!==K?(Et={position:"relative",width:"100%",height:"100%",overflow:"hidden",borderRadius:K},e[101]=K,e[102]=Et):Et=e[102];const vt=Et,it=d.overlayType;let ae;e[103]!==K||e[104]!==d.overlayBlendMode||e[105]!==d.overlayColor||e[106]!==d.overlayGradientAngle||e[107]!==d.overlayGradientColor1||e[108]!==d.overlayGradientColor2||e[109]!==d.overlayGradientType||e[110]!==d.overlayImage||e[111]!==d.overlayImageAttachment||e[112]!==d.overlayImagePosition||e[113]!==d.overlayImageRepeat||e[114]!==d.overlayImageSize||e[115]!==d.overlayOpacity||e[116]!==it?(ae=buildOverlayLayers({overlayType:it,overlayBlendMode:d.overlayBlendMode,overlayOpacity:d.overlayOpacity,overlayColor:d.overlayColor,overlayGradientType:d.overlayGradientType,overlayGradientAngle:d.overlayGradientAngle,overlayGradientColor1:d.overlayGradientColor1,overlayGradientColor2:d.overlayGradientColor2,overlayImage:d.overlayImage,overlayImageSize:d.overlayImageSize,overlayImagePosition:d.overlayImagePosition,overlayImageRepeat:d.overlayImageRepeat,overlayImageAttachment:d.overlayImageAttachment},K),e[103]=K,e[104]=d.overlayBlendMode,e[105]=d.overlayColor,e[106]=d.overlayGradientAngle,e[107]=d.overlayGradientColor1,e[108]=d.overlayGradientColor2,e[109]=d.overlayGradientType,e[110]=d.overlayImage,e[111]=d.overlayImageAttachment,e[112]=d.overlayImagePosition,e[113]=d.overlayImageRepeat,e[114]=d.overlayImageSize,e[115]=d.overlayOpacity,e[116]=it,e[117]=ae):ae=e[117];const{backgroundOverlay:Fe,contentOverlay:ee}=ae;if(g){let Oe;e[118]===Symbol.for("react.memo_cache_sentinel")?(Oe={width:"width",height:"height"},e[118]=Oe):Oe=e[118];const Ze=`${d.className||""} image-container`;let kt;e[119]!==a?(kt=zt=>{zt&&a(zt)},e[119]=a,e[120]=kt):kt=e[120];let Mt;e[121]!==bt||e[122]!==ct?(Mt=jsxRuntimeExports.jsx("img",{src:bt,alt:"",style:ct,onError:_temp7$4}),e[121]=bt,e[122]=ct,e[123]=Mt):Mt=e[123];let At;e[124]!==Mt||e[125]!==vt?(At=jsxRuntimeExports.jsx("div",{style:vt,children:Mt}),e[124]=Mt,e[125]=vt,e[126]=At):At=e[126];let pt;e[127]!==Fe?(pt=Fe&&jsxRuntimeExports.jsx("div",{style:Fe}),e[127]=Fe,e[128]=pt):pt=e[128];let It;e[129]!==ee?(It=ee&&jsxRuntimeExports.jsx("div",{style:ee}),e[129]=ee,e[130]=It):It=e[130];let Nt;e[131]!==St||e[132]!==ct?(Nt=St&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:ct.borderRadius}),e[131]=St,e[132]=ct,e[133]=Nt):Nt=e[133];let $t;return e[134]!==X||e[135]!==i||e[136]!==wt||e[137]!==Ze||e[138]!==kt||e[139]!==At||e[140]!==pt||e[141]!==It||e[142]!==Nt?($t=jsxRuntimeExports.jsxs(EditableWrapper,{id:i,propKey:Oe,style:X,className:Ze,lockAspectRatio:wt,enable:!0,innerRef:kt,children:[At,pt,It,Nt]}),e[134]=X,e[135]=i,e[136]=wt,e[137]=Ze,e[138]=kt,e[139]=At,e[140]=pt,e[141]=It,e[142]=Nt,e[143]=$t):$t=e[143],$t}if(St)return null;perfLogger.endTimer(o,10);let Be;e[144]!==X||e[145]!==k?(Be={...X,...k},e[144]=X,e[145]=k,e[146]=Be):Be=e[146];const ze=`${d.className||""} image-container ${B}`;let Ge;e[147]!==bt||e[148]!==ct?(Ge=jsxRuntimeExports.jsx("img",{src:bt,alt:"",style:ct}),e[147]=bt,e[148]=ct,e[149]=Ge):Ge=e[149];let We;e[150]!==Ge||e[151]!==vt?(We=jsxRuntimeExports.jsx("div",{style:vt,children:Ge}),e[150]=Ge,e[151]=vt,e[152]=We):We=e[152];let Ve;e[153]!==Fe?(Ve=Fe&&jsxRuntimeExports.jsx("div",{style:Fe}),e[153]=Fe,e[154]=Ve):Ve=e[154];let Je;e[155]!==ee?(Je=ee&&jsxRuntimeExports.jsx("div",{style:ee}),e[155]=ee,e[156]=Je):Je=e[156];let he;return e[157]!==U||e[158]!==W||e[159]!==z||e[160]!==ue||e[161]!==V||e[162]!==q||e[163]!==i||e[164]!==Be||e[165]!==ze||e[166]!==We||e[167]!==Ve||e[168]!==Je?(he=jsxRuntimeExports.jsxs("div",{ref:A,style:Be,className:ze,"data-node-id":i,onClick:U,onMouseEnter:W,onMouseLeave:z,onTouchStart:q,onTouchMove:V,onTouchEnd:ue,children:[We,Ve,Je]}),e[157]=U,e[158]=W,e[159]=z,e[160]=ue,e[161]=V,e[162]=q,e[163]=i,e[164]=Be,e[165]=ze,e[166]=We,e[167]=Ve,e[168]=Je,e[169]=he):he=e[169],he};Image$1.craft={displayName:"Image",props:defaultProps$i,rules:{canDrag:()=>!0},related:{toolbar:ImageSettings}};function _temp$v(t){return{id:t.id,selected:t.events.selected}}function _temp2$k(t){return{enabled:t.options.enabled}}function _temp3$d(t,e){if(!e||e==="none")return"";const o=e.split(".");let r=t;for(const s of o)if(r&&typeof r=="object")if(Array.isArray(r)&&!isNaN(Number(s)))r=r[Number(s)];else if(s in r)r=r[s];else return"";else return"";return typeof r=="string"?r:""}function _temp5$7(t){return t.eventType==="open-lightbox"&&t.lightboxMediaType==="image"}function _temp6$5(){}function _temp7$4(){}const GroupSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$u);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"event"}),t[0]=e):e=t[0],e};function _temp$u(t){return{props:t.data.props}}const defaultProps$h={children:null,width:"200px",height:"100px",left:"0px",top:"0px",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},syncCrossPlatform:!0,isBrand:!1,className:""},Group=t=>{const e=perfLogger.startTimer("Group","render"),{connectors:{connect:o,drag:r},id:s}=Ne(h=>({childNodes:h.data.nodes||[]})),{enabled:i}=Pe((h,E)=>({enabled:h.options.enabled,isActive:E.getEvent("selected").contains(s)})),a={...defaultProps$h,...t},{children:c,width:l,height:d,left:u,top:m,events:R,displayAnimation:p,hoverAnimation:j}=a,x=useCraftInteractions({id:s,events:R,hoverAnimation:j,displayAnimation:p,enabled:i}),g={...assembleBaseStyles({width:l,height:d,top:typeof m=="number"?m:parseFloat(String(m)),left:typeof u=="number"?u:parseFloat(String(u))},{allowPosition:!0,defaults:defaultProps$h}),...x.hoverVars};return perfLogger.endTimer(e,10),jsxRuntimeExports.jsx("div",{ref:h=>{h&&(o(r(h)),x.ref.current=h)},style:g,className:`${a.className||""} group-container ${x.hoverClassName}`,"data-node-id":s,"data-group-id":s,...x.eventHandlers,children:c})};Group.craft={displayName:"Group",props:defaultProps$h,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!0},related:{toolbar:GroupSettings}};const SectionHeader$b=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$b.displayName="SectionHeader";const SectionCard$b=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$b.displayName="SectionCard";const videoTypeOptions=[{label:"YouTube",value:"youtube"},{label:"Thư viện",value:"meHappyVideo"}],DesignPanel$5=React.memo(t=>{const e=compilerRuntimeExports.c(120),{props:o,updateProp:r}=t,{showFileSelectModal:s}=useViewport(),i=(o.videoType||"youtube")==="youtube",a=useIsMobile();let c,l,d,u,m,R,p,j,x,g,h,E,w,C,b,v,_,I,$,A,T,L,P,N;if(e[0]!==a||e[1]!==o.videoType||e[2]!==r){const le=createListCollection({items:videoTypeOptions});let J;e[27]===Symbol.for("react.memo_cache_sentinel")?(J={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[27]=J):J=e[27],E=J;let se;e[28]!==r?(se=Ue=>{r("videoType",Ue.value[0])},e[28]=r,e[29]=se):se=e[29];const te=se;let be;e[30]!==r?(be=Ue=>{r("videoUrl",Ue.target.value)},e[30]=r,e[31]=be):be=e[31],h=be;let Z;e[32]!==r?(Z=Ue=>{r("videoUrl",Ue)},e[32]=r,e[33]=Z):Z=e[33],x=Z;let Ee;e[34]!==r?(Ee=Ue=>{r("showControls",Ue.checked)},e[34]=r,e[35]=Ee):Ee=e[35],g=Ee;let me;e[36]!==r?(me=Ue=>{r("autoPlay",Ue.checked)},e[36]=r,e[37]=me):me=e[37],j=me,p=Stack,R=SectionCard$b,e[38]===Symbol.for("react.memo_cache_sentinel")?(v=jsxRuntimeExports.jsx(SectionHeader$b,{icon:MdVideoLibrary,title:"Nguồn video"}),e[38]=v):v=e[38],m=Stack,b=3,u=Box,N="w-full flex items-center justify-between gap-3",e[39]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsx(Text$1,{...E,children:"Loại"}),e[39]=C):C=e[39],d=SelectRoot,_=le;const ge=o.videoType||"youtube";e[40]!==ge?(I=[ge],e[40]=ge,e[41]=I):I=e[41],$=te;const Ke=a?"top":"bottom";e[42]!==Ke?(A={placement:Ke},e[42]=Ke,e[43]=A):A=e[43],T="sm",L="custom-select",e[44]===Symbol.for("react.memo_cache_sentinel")?(P=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại video"})})}),e[44]=P):P=e[44],l=SelectPositioner,c=SelectContent,w=le.items.map(_temp$t),e[0]=a,e[1]=o.videoType,e[2]=r,e[3]=c,e[4]=l,e[5]=d,e[6]=u,e[7]=m,e[8]=R,e[9]=p,e[10]=j,e[11]=x,e[12]=g,e[13]=h,e[14]=E,e[15]=w,e[16]=C,e[17]=b,e[18]=v,e[19]=_,e[20]=I,e[21]=$,e[22]=A,e[23]=T,e[24]=L,e[25]=P,e[26]=N}else c=e[3],l=e[4],d=e[5],u=e[6],m=e[7],R=e[8],p=e[9],j=e[10],x=e[11],g=e[12],h=e[13],E=e[14],w=e[15],C=e[16],b=e[17],v=e[18],_=e[19],I=e[20],$=e[21],A=e[22],T=e[23],L=e[24],P=e[25],N=e[26];let k;e[45]!==c||e[46]!==w?(k=jsxRuntimeExports.jsx(c,{children:w}),e[45]=c,e[46]=w,e[47]=k):k=e[47];let B;e[48]!==l||e[49]!==k?(B=jsxRuntimeExports.jsx(l,{children:k}),e[48]=l,e[49]=k,e[50]=B):B=e[50];let F;e[51]!==d||e[52]!==B||e[53]!==_||e[54]!==I||e[55]!==$||e[56]!==A||e[57]!==T||e[58]!==L||e[59]!==P?(F=jsxRuntimeExports.jsxs(d,{collection:_,value:I,onValueChange:$,positioning:A,size:T,className:L,children:[P,B]}),e[51]=d,e[52]=B,e[53]=_,e[54]=I,e[55]=$,e[56]=A,e[57]=T,e[58]=L,e[59]=P,e[60]=F):F=e[60];let W;e[61]!==u||e[62]!==C||e[63]!==F||e[64]!==N?(W=jsxRuntimeExports.jsxs(u,{className:N,children:[C,F]}),e[61]=u,e[62]=C,e[63]=F,e[64]=N,e[65]=W):W=e[65];const z=i?"YouTube URL":"Đường dẫn";let H;e[66]!==E||e[67]!==z?(H=jsxRuntimeExports.jsx(Text$1,{...E,children:z}),e[66]=E,e[67]=z,e[68]=H):H=e[68];const U=o.videoUrl||"",D=i?"https://youtube.com/watch?v=...":"https://.../video.mp4";let O;e[69]!==h||e[70]!==U||e[71]!==D?(O=jsxRuntimeExports.jsx(Input$1,{size:"sm",value:U,onChange:h,placeholder:D}),e[69]=h,e[70]=U,e[71]=D,e[72]=O):O=e[72];let Q;e[73]!==x||e[74]!==i||e[75]!==s?(Q=!i&&jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"outline",onClick:()=>s(FileType.VIDEO,x),children:"Chọn"}),e[73]=x,e[74]=i,e[75]=s,e[76]=Q):Q=e[76];let q;e[77]!==O||e[78]!==Q?(q=jsxRuntimeExports.jsxs(Box,{className:"flex items-center gap-2 ",children:[O,Q]}),e[77]=O,e[78]=Q,e[79]=q):q=e[79];let Y;e[80]!==H||e[81]!==q?(Y=jsxRuntimeExports.jsxs(Box,{className:"w-full flex flex-col justify-between gap-3",children:[H,q]}),e[80]=H,e[81]=q,e[82]=Y):Y=e[82];let V;e[83]!==m||e[84]!==b||e[85]!==W||e[86]!==Y?(V=jsxRuntimeExports.jsxs(m,{gap:b,children:[W,Y]}),e[83]=m,e[84]=b,e[85]=W,e[86]=Y,e[87]=V):V=e[87];let de;e[88]!==R||e[89]!==v||e[90]!==V?(de=jsxRuntimeExports.jsxs(R,{children:[v,V]}),e[88]=R,e[89]=v,e[90]=V,e[91]=de):de=e[91];let ue;e[92]===Symbol.for("react.memo_cache_sentinel")?(ue=jsxRuntimeExports.jsx(SectionHeader$b,{icon:MdPlayCircleFilled,title:"Phát & hiển thị"}),e[92]=ue):ue=e[92];let Re;e[93]!==E?(Re=jsxRuntimeExports.jsx(Text$1,{...E,children:"Hiển thị điều khiển"}),e[93]=E,e[94]=Re):Re=e[94];const oe=!!o.showControls;let ce;e[95]===Symbol.for("react.memo_cache_sentinel")?(ce=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[95]=ce):ce=e[95];let je;e[96]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[96]=je):je=e[96];let ie;e[97]!==g||e[98]!==oe?(ie=jsxRuntimeExports.jsxs(SwitchRoot,{checked:oe,onCheckedChange:g,children:[ce,je]}),e[97]=g,e[98]=oe,e[99]=ie):ie=e[99];let xe;e[100]!==Re||e[101]!==ie?(xe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Re,ie]}),e[100]=Re,e[101]=ie,e[102]=xe):xe=e[102];let pe;e[103]!==E?(pe=jsxRuntimeExports.jsx(Text$1,{...E,children:"Tự phát"}),e[103]=E,e[104]=pe):pe=e[104];const $e=!!o.autoPlay;let Se;e[105]===Symbol.for("react.memo_cache_sentinel")?(Se=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[105]=Se):Se=e[105];let Ie;e[106]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[106]=Ie):Ie=e[106];let Me;e[107]!==j||e[108]!==$e?(Me=jsxRuntimeExports.jsxs(SwitchRoot,{checked:$e,onCheckedChange:j,children:[Se,Ie]}),e[107]=j,e[108]=$e,e[109]=Me):Me=e[109];let He;e[110]!==pe||e[111]!==Me?(He=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[pe,Me]}),e[110]=pe,e[111]=Me,e[112]=He):He=e[112];let fe;e[113]!==xe||e[114]!==He?(fe=jsxRuntimeExports.jsxs(SectionCard$b,{children:[ue,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[xe,He]})]}),e[113]=xe,e[114]=He,e[115]=fe):fe=e[115];let Ce;return e[116]!==p||e[117]!==de||e[118]!==fe?(Ce=jsxRuntimeExports.jsxs(p,{children:[de,fe]}),e[116]=p,e[117]=de,e[118]=fe,e[119]=Ce):Ce=e[119],Ce});DesignPanel$5.displayName="DesignPanel";const VideoSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp2$j);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableSize:!0,enableFilter:!0,enableTransform:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableOverlay:!1,design:_temp3$c}),t[0]=e):e=t[0],e};function _temp$t(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$j(t){return{props:t.data.props}}function _temp3$c(t){return jsxRuntimeExports.jsx(DesignPanel$5,{...t})}var Ys;const defaultProps$g={videoType:"youtube",videoUrl:"",showControls:!0,autoPlay:!1,lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"100%",height:"auto",minHeight:"none",top:0,left:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},iconComponent:{...((Ys=Icon.craft)==null?void 0:Ys.props)||{},isChildOfButton:!0},hidden:!1,locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Video=t=>{const e={...defaultProps$g,...t},{videoType:o,videoUrl:r,showControls:s,autoPlay:i,flexDirection:a,alignItems:c,justifyContent:l,fillSpace:d,backgroundImage:u,backgroundType:m,backgroundPosition:R,backgroundSize:p,backgroundRepeat:j,backgroundAttachment:x,backgroundColor:g,color:h,padding:E,margin:w,shadow:C,shadowType:b,shadowX:v,shadowY:_,shadowBlur:I,shadowSpread:$,shadowColor:A,radius:T,borderRadius:L,borderWidth:P,borderStyle:N,borderColor:k,width:B,height:F,children:W,minHeight:z,top:H,left:U,blendMode:D,contrast:O,brightness:Q,saturate:q,grayscale:Y,opacity:V,invert:de,sepia:ue,hueRotate:Re,rotate:oe,rotateX:ce,rotateY:je,skewX:ie,skewY:xe,perspective:pe,transformOrigin:$e,lockAspectRatio:Se,gradientAngle:Ie,gradientType:Me,gradientColor1:He,gradientColor2:fe,displayAnimation:Ce,hoverAnimation:le,hidden:J}=e,se=E||defaultProps$g.padding,te=w||defaultProps$g.margin,be=L||defaultProps$g.borderRadius,Z=P||defaultProps$g.borderWidth,{id:Ee}=Ne(X=>({id:X.id})),{enabled:me}=Pe(X=>({enabled:X.options.enabled})),ge=reactExports.useRef(null),Ke=(Ce==null?void 0:Ce.effect)||"none",Ue=(Ce==null?void 0:Ce.duration)??.6;useEntrance(ge,Ke,Ue);const _e=hoverVarsFromSettings(le,me),Qe=le.enabled&&!me?"hover-anim":"",[qe,Ye]=reactExports.useState(i),[nt,et]=reactExports.useState(!0),[re,Xe]=reactExports.useState(!1);reactExports.useEffect(()=>{if(re){const X=setTimeout(()=>{Xe(!1)},3e3);return()=>clearTimeout(X)}},[re]),reactExports.useEffect(()=>{i&&!qe&&Ye(!0)},[i,qe]),reactExports.useEffect(()=>{Ye(i)},[r,i]);const tt=()=>{let X="";return b==="filter"&&(X+=`drop-shadow(${v||0}px ${_||0}px ${I||0}px ${A||"rgba(0, 0, 0, 0.2)"}) `),X+=`contrast(${O}%) brightness(${Q}%) saturate(${q}%) grayscale(${Y}%) opacity(${V}%) invert(${de}%) sepia(${ue}%) hue-rotate(${Re}deg)`,X.trim()},rt=()=>typeof T=="string"&&T.includes("%")?T:L&&L.length===4?be[0]===be[1]&&be[1]===be[2]&&be[2]===be[3]?`${be[0]}px`:`${be[0]}px ${be[1]}px ${be[2]}px ${be[3]}px`:typeof T=="number"?`${T}px`:T;({justifyContent:defaultProps$g.justifyContent,flexDirection:defaultProps$g.flexDirection,alignItems:defaultProps$g.alignItems,color:defaultProps$g.color,padding:se.some((X,K)=>X!==defaultProps$g.padding[K])&&`${se[0]}${se[1]}${se[2]}${se[3]}`,margin:te.some((X,K)=>X!==defaultProps$g.margin[K])&&`${te[0]}${te[1]}${te[2]}${te[3]}`,filter:tt()!=="contrast(100%) brightness(100%) saturate(100%) grayscale(0%) opacity(100%) invert(0%) sepia(0%) hue-rotate(0deg)"&&tt(),borderRadius:rt()!=="0px"&&rt(),minHeight:defaultProps$g.minHeight,top:H!=defaultProps$g.top&&`${H.toString().includes("px")?H:H+"px"}`,left:U!=defaultProps$g.left&&`${U.toString().includes("px")?U:U+"px"}`,mixBlendMode:D!=defaultProps$g.blendMode,transform:[oe!=defaultProps$g.rotate?`rotate(${oe}deg)`:"",ce!=defaultProps$g.rotateX?`rotateX(${ce}deg)`:"",je!=defaultProps$g.rotateY?`rotateY(${je}deg)`:"",ie!=defaultProps$g.skewX?`skewX(${ie}deg)`:"",xe!=defaultProps$g.skewY?`skewY(${xe}deg)`:"",pe!=defaultProps$g.perspective?`perspective(${pe}px)`:""].filter(Boolean).join(" "),transformOrigin:defaultProps$g.transformOrigin,...N==="none"?{border:"none"}:Z[0]===Z[1]&&Z[1]===Z[2]&&Z[2]===Z[3]?{border:`${Z[0]}px ${N} ${k}`}:{borderTopWidth:`${Z[0]}px`,borderRightWidth:`${Z[1]}px`,borderBottomWidth:`${Z[2]}px`,borderLeftWidth:`${Z[3]}px`,borderStyle:N,borderColor:k}});const wt={...React.useMemo(()=>{const X=assembleBaseStyles({width:B,height:F,minHeight:z,top:H,left:U,blendMode:D,contrast:O,brightness:Q,saturate:q,grayscale:Y,opacity:V,invert:de,sepia:ue,hueRotate:Re,rotate:oe,rotateX:ce,rotateY:je,skewX:ie,skewY:xe,perspective:pe,transformOrigin:$e,shadowType:b,shadowX:v,shadowY:_,shadowBlur:I,shadowSpread:$,shadowColor:A,shadow:C,radius:T,borderRadius:L,borderWidth:P,borderStyle:N,borderColor:k,fillSpace:d,backgroundType:m,backgroundColor:g,gradientType:Me,gradientAngle:Ie,gradientColor1:He,gradientColor2:fe,backgroundImage:u,backgroundSize:p,backgroundPosition:R,backgroundRepeat:j,backgroundAttachment:x},{allowPosition:!0,defaults:defaultProps$g});return X.justifyContent=l!==defaultProps$g.justifyContent?l:void 0,X.flexDirection=a!==defaultProps$g.flexDirection?a:void 0,X.alignItems=c!==defaultProps$g.alignItems?c:void 0,X.cursor=!qe&&!me&&o==="meHappyVideo"?"pointer":"default",se.some((K,ne)=>K!==defaultProps$g.padding[ne])&&(X.padding=`${se[0]}px ${se[1]}px ${se[2]}px ${se[3]}px`),te.some((K,ne)=>K!==defaultProps$g.margin[ne])&&(X.margin=`${te[0]}px ${te[1]}px ${te[2]}px ${te[3]}px`),X},[B,F,z,H,U,D,O,Q,q,Y,V,de,ue,Re,oe,ce,je,ie,xe,pe,$e,b,v,_,I,$,A,C,T,L,P,N,k,d,m,g,Me,Ie,He,fe,u,p,R,j,x,l,a,c,qe,me,se,te]),..._e},St=()=>{if(!r)return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",color:"#666",fontSize:"14px"},children:"Nhập URL video"});if(o==="youtube"){const X=getYouTubeVideoId(r);if(!X)return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",color:"#666",fontSize:"14px"},children:"URL YouTube không hợp lệ"});const ne=`https://www.youtube.com/embed/${X}?${i&&!me||qe?"autoplay=1&":""}${s?"controls=1":"controls=0"}&rel=0&modestbranding=1&playsinline=1&enablejsapi=1`;return jsxRuntimeExports.jsx("iframe",{src:ne,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#000"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,title:"YouTube video player",frameBorder:"0",loading:"lazy"})}else if(o==="meHappyVideo"){const X=i&&!me;return jsxRuntimeExports.jsx("video",{src:r,controls:s,autoPlay:X,style:{width:"100%",height:"100%",objectFit:"cover"},children:"Trình duyệt của bạn không hỗ trợ video."})}return null},bt=()=>jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:zIndex.videoControls,display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"50%",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:X=>{X.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.9)",X.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)"},onMouseLeave:X=>{X.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.7)",X.currentTarget.style.transform="translate(-50%, -50%) scale(1)"},children:jsxRuntimeExports.jsx(FaPlay,{size:24,color:"white",style:{marginLeft:"4px"}})}),yt=()=>{me||o==="meHappyVideo"&&!qe&&Ye(!0)},jt=()=>{me&&Xe(!0)},we=()=>{me&&Xe(!1)},G=jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",style:{width:"100%",height:"100%",position:"relative"},onClick:yt,onMouseEnter:jt,onMouseLeave:we,children:[!qe&&!me&&o==="meHappyVideo"?jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:bt()}):jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[St(),me&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:zIndex.videoOverlay,cursor:nt?"pointer":"default",pointerEvents:nt?"auto":"none",transition:"background-color 0.2s ease",backgroundColor:"transparent"},onMouseEnter:X=>{nt&&(X.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.05)")},onMouseLeave:X=>{X.currentTarget.style.backgroundColor="transparent"},onClick:X=>{var ne;if(!nt)return;X.stopPropagation();const K=(ne=X.currentTarget.parentElement)==null?void 0:ne.querySelector("iframe");K&&(K.style.pointerEvents="none",setTimeout(()=>{K&&(K.style.pointerEvents="auto")},100))}}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:zIndex.videoControls,opacity:re?1:0,transition:"opacity 0.2s ease",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"4px",padding:"4px 8px",display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",userSelect:"none"},onClick:X=>{X.stopPropagation(),et(!nt),Xe(!0)},title:nt?"Tắt overlay để điều khiển video":"Bật overlay để chọn element",children:[nt?jsxRuntimeExports.jsx(MdOutlineTouchApp,{color:"white",size:16}):jsxRuntimeExports.jsx(MdOutlineEdit,{color:"white",size:16}),jsxRuntimeExports.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:500},children:nt?"Bật điều khiển video":"Tắt điều khiển video"})]})]})]}),W]});return me?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width",height:"height"},style:wt,className:`${e.className||""} container`,lockAspectRatio:Se,children:[G,J&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:wt.borderRadius})]}):J?null:jsxRuntimeExports.jsx("div",{ref:ge,style:wt,className:`${e.className||""} container ${Qe}`,"data-node-id":Ee,children:G})};Video.craft={displayName:"Video",props:defaultProps$g,rules:{canDrag:()=>!0},related:{toolbar:VideoSettings}};const defaultContext$2={wishes:[],isTemplateContext:!1,addWish:()=>{},updateWish:()=>{},removeWish:()=>{},clearWishes:()=>{},getWishesByWeddingPageId:()=>[],getPublicWishes:()=>[]},TemplateWishContext=reactExports.createContext(defaultContext$2),useTemplateWish=()=>{const t=reactExports.useContext(TemplateWishContext);if(!t)throw new Error("useTemplateWish must be used within a TemplateWishProvider");return t},TemplateWishProvider=t=>{const e=compilerRuntimeExports.c(17),{children:o,templateId:r}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[0]=s):s=e[0];const[i,a]=reactExports.useState(s),c=_temp$s;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=I=>{const $={...I,id:c(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isLocal:!0};return a(A=>[...A,$]),$},e[1]=l):l=e[1];const d=l;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=(I,$)=>{a(A=>A.map(T=>T.id===I?{...T,...$,updatedAt:new Date().toISOString()}:T))},e[2]=u):u=e[2];const m=u;let R;e[3]===Symbol.for("react.memo_cache_sentinel")?(R=I=>{a($=>$.filter(A=>A.id!==I))},e[3]=R):R=e[3];const p=R;let j;e[4]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{a([])},e[4]=j):j=e[4];const x=j;let g;e[5]!==i?(g=I=>i.filter($=>$.weddingPageId===I),e[5]=i,e[6]=g):g=e[6];const h=g;let E;e[7]!==i?(E=I=>{let $=i.filter(_temp2$i);return I!==void 0&&($=$.filter(A=>A.weddingPageId===I)),$},e[7]=i,e[8]=E):E=e[8];const w=E,C=!!r;let b;e[9]!==w||e[10]!==h||e[11]!==C||e[12]!==i?(b={wishes:i,isTemplateContext:C,addWish:d,updateWish:m,removeWish:p,clearWishes:x,getWishesByWeddingPageId:h,getPublicWishes:w},e[9]=w,e[10]=h,e[11]=C,e[12]=i,e[13]=b):b=e[13];const v=b;let _;return e[14]!==o||e[15]!==v?(_=jsxRuntimeExports.jsx(TemplateWishContext.Provider,{value:v,children:o}),e[14]=o,e[15]=v,e[16]=_):_=e[16],_},useIsTemplateContext=()=>{const{isTemplateContext:t}=useTemplateWish();return t},useTemplateWishesWithFallback=(t,e)=>{const o=compilerRuntimeExports.c(6),{getPublicWishes:r,isTemplateContext:s}=useTemplateWish();if(s){let a;if(o[0]!==t||o[1]!==r||o[2]!==e){const l=r(e),d=(t==null?void 0:t.filter(_temp3$b))||[];a=[...l,...d].sort(_temp4$8),o[0]=t,o[1]=r,o[2]=e,o[3]=a}else a=o[3];return a}let i;return o[4]!==t?(i=(t==null?void 0:t.filter(_temp5$6))||[],o[4]=t,o[5]=i):i=o[5],i};function _temp$s(){return`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function _temp2$i(t){return t.isPublic}function _temp3$b(t){return t.isPublic}function _temp4$8(t,e){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}function _temp5$6(t){return t.isPublic}const isPercentage=t=>typeof t=="string"&&t.indexOf("%")>-1,percentToPx=(t,e)=>t.indexOf("px")>-1||t==="auto"||!e?t:parseInt(t)/100*e+"px",pxToPercent=(t,e)=>{const o=Math.abs(t)/e*100;return t<0?-1*o:Math.round(o)},getElementDimensions=t=>{const e=getComputedStyle(t);let o=t.clientHeight,r=t.clientWidth;return o-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),{width:r,height:o}},inputTypeItems=[{label:"Nhập chữ",value:"text"},{label:"Mật khẩu",value:"password"},{label:"Nhập số",value:"number"},{label:"Nhập Email",value:"email"},{label:"Nhập điện thoại",value:"tel"},{label:"Ngày tháng",value:"date"},{label:"Nhập đoạn văn",value:"textarea"},{label:"Hộp chọn giá trị",value:"select"},{label:"Chọn một giá trị",value:"radio"},{label:"Chọn nhiều giá trị",value:"checkbox"},{label:"Chọn File",value:"file"}],SectionHeader$a=t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a},SectionCard$a=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$a.displayName="SectionCard";const inputTypeCollection=createListCollection({items:inputTypeItems}),DesignPanel$4=React.memo(t=>{const e=compilerRuntimeExports.c(106),{ctx:o}=t,{props:r,updateProp:s}=o;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=["select","radio","checkbox"],e[0]=i):i=e[0];const a=i.includes(r.inputType||""),c=useIsMobile(),{hasFeature:l}=useViewport();let d;e[1]!==l?(d=l("custom_colors_fonts"),e[1]=l,e[2]=d):d=e[2];const u=d;let m;e[3]!==u||e[4]!==s?(m=ge=>{u&&s("fontFamily",ge)},e[3]=u,e[4]=s,e[5]=m):m=e[5];const R=m;let p;e[6]!==s?(p=ge=>{s("options",ge.target.value)},e[6]=s,e[7]=p):p=e[7];const j=p;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[8]=x):x=e[8];const g=x;let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=jsxRuntimeExports.jsx(SectionHeader$a,{icon:MdInput,title:"Cấu hình Input"}),e[9]=h):h=e[9];let E;e[10]===Symbol.for("react.memo_cache_sentinel")?(E=jsxRuntimeExports.jsx(Text$1,{...g,children:"Kiểu"}),e[10]=E):E=e[10];const w=r.inputType||"text";let C;e[11]!==w?(C=[w],e[11]=w,e[12]=C):C=e[12];let b;e[13]!==r.options||e[14]!==s?(b=ge=>{const Ke=ge.value[0];s("inputType",Ke),["select","radio","checkbox"].includes(Ke)&&!(r.options&&r.options.trim())&&s("options",`Tùy chọn 1
Tùy chọn 2
Tùy chọn 3`)},e[13]=r.options,e[14]=s,e[15]=b):b=e[15];const v=c?"top":"bottom";let _;e[16]!==v?(_={placement:v},e[16]=v,e[17]=_):_=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(SelectControl,{width:"50%",children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu input"})})}),e[18]=I):I=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:inputTypeCollection.items.map(_temp$r)})}),e[19]=$):$=e[19];let A;e[20]!==b||e[21]!==_||e[22]!==C?(A=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[E,jsxRuntimeExports.jsxs(SelectRoot,{collection:inputTypeCollection,value:C,onValueChange:b,positioning:_,className:"custom-select",size:"sm",children:[I,$]})]}),e[20]=b,e[21]=_,e[22]=C,e[23]=A):A=e[23];let T;e[24]===Symbol.for("react.memo_cache_sentinel")?(T=jsxRuntimeExports.jsx(Text$1,{...g,children:"Tên lấy dữ liệu"}),e[24]=T):T=e[24];const L=r.dataName||"";let P;e[25]!==s?(P=ge=>s("dataName",ge.target.value),e[25]=s,e[26]=P):P=e[26];let N;e[27]!==L||e[28]!==P?(N=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[T,jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"50%",value:L,onChange:P,placeholder:"input_field"})]}),e[27]=L,e[28]=P,e[29]=N):N=e[29];let k;e[30]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx(Text$1,{...g,children:"Bắt buộc nhập"}),e[30]=k):k=e[30];const B=!!r.required;let F;e[31]!==s?(F=ge=>s("required",ge.checked),e[31]=s,e[32]=F):F=e[32];let W;e[33]===Symbol.for("react.memo_cache_sentinel")?(W=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[33]=W):W=e[33];let z;e[34]===Symbol.for("react.memo_cache_sentinel")?(z=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[34]=z):z=e[34];let H;e[35]!==B||e[36]!==F?(H=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[k,jsxRuntimeExports.jsxs(SwitchRoot,{checked:B,onCheckedChange:F,children:[W,z]})]}),e[35]=B,e[36]=F,e[37]=H):H=e[37];let U;e[38]===Symbol.for("react.memo_cache_sentinel")?(U=jsxRuntimeExports.jsx(Text$1,{...g,children:"Chữ gợi nhắc"}),e[38]=U):U=e[38];const D=r.placeholder||"";let O;e[39]!==s?(O=ge=>s("placeholder",ge.target.value),e[39]=s,e[40]=O):O=e[40];let Q;e[41]!==D||e[42]!==O?(Q=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[U,jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"50%",value:D,onChange:O,placeholder:"Nhập nội dung..."})]}),e[41]=D,e[42]=O,e[43]=Q):Q=e[43];let q;e[44]===Symbol.for("react.memo_cache_sentinel")?(q=jsxRuntimeExports.jsx(Text$1,{...g,children:"Giá trị mặc định"}),e[44]=q):q=e[44];let Y;e[45]!==r.defaultValue||e[46]!==r.inputType||e[47]!==r.options||e[48]!==s?(Y=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[q,r.inputType==="radio"||r.inputType==="checkbox"?jsxRuntimeExports.jsxs("select",{style:{width:"50%",padding:"8px",borderRadius:"4px",border:"1px solid #d1d5db",fontSize:"14px"},value:r.defaultValue||"",onChange:ge=>s("defaultValue",ge.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Không chọn"}),r.options&&r.options.split(`
`).map(_temp2$h)]}):jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"50%",value:r.defaultValue||"",onChange:ge=>s("defaultValue",ge.target.value)})]}),e[45]=r.defaultValue,e[46]=r.inputType,e[47]=r.options,e[48]=s,e[49]=Y):Y=e[49];let V;e[50]===Symbol.for("react.memo_cache_sentinel")?(V=jsxRuntimeExports.jsx(Text$1,{...g,children:"Vị trí phần tử"}),e[50]=V):V=e[50];const de=String(r.elementPosition??1);let ue;e[51]!==s?(ue=ge=>s("elementPosition",Number(ge.target.value)),e[51]=s,e[52]=ue):ue=e[52];let Re;e[53]!==de||e[54]!==ue?(Re=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[V,jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"50%",type:"number",value:de,onChange:ue})]}),e[53]=de,e[54]=ue,e[55]=Re):Re=e[55];let oe;e[56]!==j||e[57]!==r.options||e[58]!==a?(oe=a&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex flex-col gap-2",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Tùy chọn (mỗi dòng một tùy chọn)"}),jsxRuntimeExports.jsx(Textarea,{value:r.options||"",onChange:j,placeholder:`Tùy chọn 1
Tùy chọn 2
Tùy chọn 3`,rows:4,className:"w-full p-2 rounded-md text-sm border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200 resize-vertical font-inherit"})]}),e[56]=j,e[57]=r.options,e[58]=a,e[59]=oe):oe=e[59];let ce;e[60]!==r.direction||e[61]!==r.inputType||e[62]!==s?(ce=(r.inputType==="radio"||r.inputType==="checkbox")&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...g,children:"Hướng hiển thị"}),jsxRuntimeExports.jsxs("select",{value:r.direction||"vertical",onChange:ge=>s("direction",ge.target.value),className:"w-[50%] p-1 text-sm border border-gray-200 rounded-md bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",children:[jsxRuntimeExports.jsx("option",{value:"vertical",children:"Chiều dọc"}),jsxRuntimeExports.jsx("option",{value:"horizontal",children:"Chiều ngang"})]})]}),e[60]=r.direction,e[61]=r.inputType,e[62]=s,e[63]=ce):ce=e[63];let je;e[64]!==A||e[65]!==N||e[66]!==H||e[67]!==Q||e[68]!==Y||e[69]!==Re||e[70]!==oe||e[71]!==ce?(je=jsxRuntimeExports.jsxs(SectionCard$a,{children:[h,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[A,N,H,Q,Y,Re,oe,ce]})]}),e[64]=A,e[65]=N,e[66]=H,e[67]=Q,e[68]=Y,e[69]=Re,e[70]=oe,e[71]=ce,e[72]=je):je=e[72];let ie;e[73]===Symbol.for("react.memo_cache_sentinel")?(ie=jsxRuntimeExports.jsx(SectionHeader$a,{icon:MdTextFields,title:"Kiểu chữ"}),e[73]=ie):ie=e[73];const xe=u?"":"text-gray-400";let pe;e[74]!==xe?(pe=jsxRuntimeExports.jsx(Text$1,{...g,className:xe,children:"Font"}),e[74]=xe,e[75]=pe):pe=e[75];const $e=u?"":"opacity-50 cursor-not-allowed pointer-events-none",Se=r.fontFamily||"inherit";let Ie;e[76]!==R||e[77]!==$e||e[78]!==Se?(Ie=jsxRuntimeExports.jsx(StyledFontSelector,{className:$e,value:Se,options:fonts,onChange:R}),e[76]=R,e[77]=$e,e[78]=Se,e[79]=Ie):Ie=e[79];let Me;e[80]!==u?(Me=!u&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})}),e[80]=u,e[81]=Me):Me=e[81];let He;e[82]!==Ie||e[83]!==Me?(He=jsxRuntimeExports.jsxs("div",{className:"w-[50%] relative",children:[Ie,Me]}),e[82]=Ie,e[83]=Me,e[84]=He):He=e[84];let fe;e[85]!==pe||e[86]!==He?(fe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[pe,He]}),e[85]=pe,e[86]=He,e[87]=fe):fe=e[87];let Ce;e[88]===Symbol.for("react.memo_cache_sentinel")?(Ce=jsxRuntimeExports.jsx(Text$1,{...g,children:"Cỡ chữ"}),e[88]=Ce):Ce=e[88];const le=r.fontSize||"14px";let J;e[89]!==s?(J=ge=>s("fontSize",ge.target.value),e[89]=s,e[90]=J):J=e[90];let se;e[91]!==le||e[92]!==J?(se=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ce,jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"50%",value:le,onChange:J})]}),e[91]=le,e[92]=J,e[93]=se):se=e[93];const te=r.color||"#000000";let be;e[94]!==s?(be=ge=>s("color",ge),e[94]=s,e[95]=be):be=e[95];let Z;e[96]!==te||e[97]!==be?(Z=jsxRuntimeExports.jsx(ColorControl,{label:"Màu chữ",value:te,onChange:be,size:"xs",showValueText:!0,previewSize:24}),e[96]=te,e[97]=be,e[98]=Z):Z=e[98];let Ee;e[99]!==fe||e[100]!==se||e[101]!==Z?(Ee=jsxRuntimeExports.jsxs(SectionCard$a,{children:[ie,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[fe,se,Z]})]}),e[99]=fe,e[100]=se,e[101]=Z,e[102]=Ee):Ee=e[102];let me;return e[103]!==je||e[104]!==Ee?(me=jsxRuntimeExports.jsxs(Stack,{children:[je,Ee]}),e[103]=je,e[104]=Ee,e[105]=me):me=e[105],me});DesignPanel$4.displayName="DesignPanel";const InputSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp3$a);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableFilter:!1,enableTransform:!1,enableBackground:!1,enableBorder:!1,enableShadow:!1,enableSize:!1,enableOverlay:!1,design:_temp4$7}),t[0]=e):e=t[0],e};function _temp$r(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$h(t,e){return jsxRuntimeExports.jsx("option",{value:t.trim(),children:t.trim()},e)}function _temp3$a(t){return{props:t.data.props}}function _temp4$7(t){return jsxRuntimeExports.jsx(DesignPanel$4,{ctx:t})}const defaultProps$f={inputType:"text",dataName:"input_field",required:!1,placeholder:"Nhập nội dung...",defaultValue:"",elementPosition:1,options:"",direction:"vertical",width:"200px",height:"40px",fontSize:"14px",color:"#000000",padding:"8px 12px",opacity:100,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,invert:0,sepia:0,hueRotate:0,position:"absolute",top:0,left:0,hidden:!1,isChildOfButton:!1,isChildOfForm:!1,lockAspectRatio:!1,borderStyle:"solid",borderColor:"#d1d5db",borderWidth:[1,1,1,1],borderRadius:[4,4,4,4],backgroundColor:"#ffffff",backgroundType:"color",gradientType:"linear",gradientAngle:0,gradientColor1:"#ffffff",gradientColor2:"#000000",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"rgba(0, 0, 0, 0.2)",fontFamily:"inherit",fontWeight:"normal",fontStyle:"normal",textAlign:"left",lineHeight:"1.4",letterSpacing:"0px",textTransform:"none",textDecoration:"none",textShadow:{x:0,y:0,blur:0,color:"#000000",enabled:!1},textStroke:{width:0,color:"#000000"},locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Input=t=>{const{connectors:{connect:e},actions:{setProp:o},id:r}=Ne(p=>({id:p.id})),s=reactExports.useRef(null),i={...defaultProps$f,...t},{enabled:a}=Pe(p=>({enabled:p.options.enabled})),c=()=>{switch(i.inputType){case"textarea":return a?"auto":i.height;case"radio":case"checkbox":return"auto";default:return i.height}},l=React.useMemo(()=>{var E,w;const p=assembleBaseStyles({...i,height:c()},{allowPosition:!0,isChild:!!(i.isChildOfForm||i.isChildOfButton),defaults:defaultProps$f}),j=i.fontSize?`${i.fontSize.includes("px")?i.fontSize:i.fontSize+"px"}`:void 0,x=i.fontFamily!==defaultProps$f.fontFamily?i.fontFamily.includes("'")||i.fontFamily.includes('"')||i.fontFamily.includes(",")||i.fontFamily==="inherit"?i.fontFamily:`'${i.fontFamily}'`:void 0,g=(E=i.textShadow)!=null&&E.enabled?`${i.textShadow.x}px ${i.textShadow.y}px ${i.textShadow.blur}px ${i.textShadow.color}`:void 0;return minimizeStyle({...p,padding:i.padding,fontSize:j,fontFamily:x,fontWeight:i.fontWeight,fontStyle:i.fontStyle,color:i.color,textAlign:i.textAlign,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,textDecoration:i.textDecoration,textShadow:g,WebkitTextStroke:(w=i.textStroke)!=null&&w.width?`${i.textStroke.width}px ${i.textStroke.color}`:void 0})},[i,a]),d=p=>{a&&o(j=>{j.defaultValue=p.target.value},500)},u=(p,j)=>{a&&o(x=>{const g=x.defaultValue?x.defaultValue.split(","):[];if(j)g.includes(p)||g.push(p);else{const h=g.indexOf(p);h>-1&&g.splice(h,1)}x.defaultValue=g.join(",")},500)},m=()=>i.options?i.options.split(`
`).filter(p=>p.trim()!==""):[],R=()=>{const p={name:i.dataName,required:i.required,"data-element-position":i.elementPosition,style:{outline:"none",border:"none",boxShadow:"none",width:"100%",height:"100%",background:"transparent",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",fontStyle:"inherit",color:"inherit",textAlign:"inherit",lineHeight:"inherit",letterSpacing:"inherit",textTransform:"inherit",textDecoration:"inherit"}};switch(i.inputType){case"textarea":return jsxRuntimeExports.jsx("textarea",{...p,placeholder:i.placeholder,defaultValue:i.defaultValue,onChange:d,autoComplete:a?"off":"on",rows:a?4:void 0,style:{...p.style,resize:"none",minHeight:a?void 0:"100%"}});case"select":const j=m();return j.length===0?jsxRuntimeExports.jsx("select",{...p,disabled:!0,children:jsxRuntimeExports.jsx("option",{children:"Chưa có tùy chọn nào"})}):jsxRuntimeExports.jsxs("select",{...p,defaultValue:i.defaultValue,onChange:d,children:[i.placeholder&&jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:i.placeholder}),j.map((E,w)=>jsxRuntimeExports.jsx("option",{value:E.trim(),children:E.trim()},w))]});case"radio":const x=m();return x.length===0?jsxRuntimeExports.jsx("div",{style:{padding:"8px",color:"#666",fontSize:i.fontSize},children:"Chưa có tùy chọn nào"}):jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:i.direction==="horizontal"?"row":"column",gap:"8px",flexWrap:"wrap"},children:x.map((E,w)=>{const C=E.trim();return jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:i.fontSize,cursor:"pointer"},children:[jsxRuntimeExports.jsx("input",{type:"radio",name:i.dataName,value:C,defaultChecked:i.defaultValue===C,onChange:d,required:i.required,"data-element-position":i.elementPosition,style:{pointerEvents:a?"auto":"none"}}),jsxRuntimeExports.jsx("span",{children:C})]},w)})});case"checkbox":const g=m();if(g.length===0)return jsxRuntimeExports.jsx("div",{style:{padding:"8px",color:"#666",fontSize:i.fontSize},children:"Chưa có tùy chọn nào"});const h=i.defaultValue?i.defaultValue.split(","):[];return jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:i.direction==="horizontal"?"row":"column",gap:"8px",flexWrap:"wrap"},children:g.map((E,w)=>{const C=E.trim();return jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:i.fontSize,cursor:"pointer"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:`${i.dataName}[]`,value:C,defaultChecked:h.includes(C),onChange:b=>u(C,b.target.checked),disabled:!a,"data-element-position":i.elementPosition}),jsxRuntimeExports.jsx("span",{children:C})]},w)})});default:return jsxRuntimeExports.jsx("input",{...p,autoComplete:a?"off":"on",type:i.inputType,placeholder:i.placeholder,defaultValue:i.defaultValue,onChange:d})}};return a?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width",height:"height"},style:l,innerRef:p=>{p&&e(p)},lockAspectRatio:i.lockAspectRatio,className:`${i.className||""} input-container`,children:[R(),i.hidden&&jsxRuntimeExports.jsx(OverlayHidden,{})]}):i.hidden?null:jsxRuntimeExports.jsx("div",{ref:s,style:l,"data-node-id":r,className:`${i.className||""} input-container`,children:R()})};Input.craft={displayName:"Input",props:defaultProps$f,related:{toolbar:InputSettings},rules:{canDrag:t=>{const e=t.data.props.isChildOfButton||t.data.parent&&t.data.parent.includes("Button"),o=t.data.props.isChildOfGroup||t.data.parent&&t.data.parent.includes("Group"),r=t.data.props.isChildOfForm||t.data.parent&&t.data.parent.includes("Form");return!e&&!o&&!r}}};const DEFAULT_SUGGESTED_WISHES=["Chúc hai bạn trăm năm hạnh phúc!","Mãi bên nhau bạn nhé!","Chúc tình yêu của hai bạn luôn nồng nàn!","Hạnh phúc viên mãn – bền lâu!","Chúc ngày vui trọn vẹn yêu thương!"],SectionHeader$9=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$9.displayName="SectionHeader";const SectionCard$9=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$9.displayName="SectionCard";const submissionTypeOptions=[{value:"api",label:"API"},{value:"google-form",label:"Google Form"},{value:"google-sheet",label:"Google Sheet"}],FormDesign=React.memo(({props:t,updateProp:e,editorActions:o,query:r,id:s})=>{var $,A;const i=useIsMobile(),{hasFeature:a}=useViewport(),c=a("element_form_limits_vip"),l=createListCollection({items:submissionTypeOptions}),d=createListCollection({items:[{value:"wedding-wish",label:"Form lời chúc cưới"},{value:"guest",label:"Form khách mời",disabled:!c}]}),[u,m]=reactExports.useState(t.customQuestions||[]),R=()=>`customQuestion_${Date.now()}_${Math.random().toString(36).substring(2,11)}`;reactExports.useEffect(()=>{const T=t.customQuestions||[];if(!T.length){m([]);return}const L=T.map(N=>({...N,id:N.id||R()}));L.some((N,k)=>{var B;return N.id!==((B=T[k])==null?void 0:B.id)})&&e("customQuestions",L),m(L)},[t.customQuestions]);const p=()=>{var B;const T=r.node(s).get(),L=((B=T==null?void 0:T.data)==null?void 0:B.nodes)||[],P=L.filter(F=>r.node(F).get().data.displayName==="Input"),N=L.filter(F=>r.node(F).get().data.displayName==="Button");let k=0;if(P.forEach(F=>{const z=r.node(F).get().data.props.inputType==="textarea"?80:40;o.setProp(F,H=>{H.top=`${k}px`}),k+=z+(t.formGap??12)}),N.length>0){const F=N[0];o.setProp(F,W=>{W.top=`${k}px`})}},j=()=>{var N;e("isBeingManaged",!0),m([]),e("customQuestions",[]);const T=r.node(s).get();(((N=T==null?void 0:T.data)==null?void 0:N.nodes)||[]).filter(k=>{var z,H,U,D;const F=r.node(k).get().data.props;return((z=F.dataName)==null?void 0:z.startsWith("customQuestion_"))||((H=F.placeholder)==null?void 0:H.includes("Câu hỏi mới"))||((D=(U=F.placeholder)==null?void 0:U.toLowerCase)==null?void 0:D.call(U).includes("question"))}).forEach(k=>o.delete(k)),setTimeout(p,150)},x=T=>{var D;const L=r.node(s).get(),P=((D=L==null?void 0:L.data)==null?void 0:D.nodes)||[],N=P.filter(O=>r.node(O).get().data.displayName==="Input"),k=P.filter(O=>r.node(O).get().data.displayName==="Button"),B=T.type==="textarea"?80:40,F=N.length*(40+(t.formGap??12)),W=React.createElement(ke,{is:Input,canvas:!0,inputType:T.type,placeholder:T.question+(T.required?" *":""),dataName:T.id,required:T.required||!1,width:"400px",height:`${B}px`,left:"0px",top:`${F}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",options:T.options||""}),z=r.parseReactElement(W).toNodeTree(),H=Object.keys(z.nodes)[0],U=z.nodes[H];o.add(U,s),setTimeout(()=>{if(k.length>0){const O=k[0],Q=(N.length+1)*(40+(t.formGap??12))+(B-40);o.setProp(O,q=>{q.top=`${Q}px`})}},100)},g=T=>{var k;const L=r.node(s).get(),N=(((k=L==null?void 0:L.data)==null?void 0:k.nodes)||[]).find(B=>r.node(B).get().data.props.dataName===T);N&&o.delete(N),setTimeout(p,100)},h=()=>{var N;const T=r.node(s).get();(((N=T==null?void 0:T.data)==null?void 0:N.nodes)||[]).filter(k=>{var F,W;const B=r.node(k).get().data.props;return((F=B.dataName)==null?void 0:F.startsWith("customQuestion_"))||((W=B.placeholder)==null?void 0:W.includes("Câu hỏi mới"))}).forEach(k=>o.delete(k)),(u||[]).forEach(k=>x(k)),setTimeout(p,100)};reactExports.useEffect(()=>{var N;const T=r.node(s).get(),P=(((N=T==null?void 0:T.data)==null?void 0:N.nodes)||[]).filter(k=>{var F;return(F=r.node(k).get().data.props.dataName)==null?void 0:F.startsWith("customQuestion_")});((u==null?void 0:u.length)||0)!==P.length&&h()},[u==null?void 0:u.length]);const E=()=>{const T=(t.apiUrl||"").replace(/\/$/,""),L=T?T.endsWith("/guests/wishes")?T:`${T}/guests/wishes`:`${domain}/guests/wishes`;e("apiUrl",L);const P=40,N=80;let k=0;const B=React.createElement(ke,{is:Input,canvas:!0,inputType:"text",placeholder:"Tên của bạn *",dataName:"guestName",required:!0,width:"400px",height:`${P}px`,left:"0px",top:`${k}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),F=r.parseReactElement(B).toNodeTree(),W=Object.keys(F.nodes)[0];o.add(F.nodes[W],s),k+=P+(t.formGap??12);const z=React.createElement(ke,{is:Input,canvas:!0,inputType:"textarea",placeholder:"Lời chúc của bạn *",dataName:"message",required:!0,width:"400px",height:`${N}px`,left:"0px",top:`${k}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),H=r.parseReactElement(z).toNodeTree(),U=Object.keys(H.nodes)[0];o.add(H.nodes[U],s),k+=N+(t.formGap??12);const D=React.createElement(ke,{is:Button,canvas:!0,text:"Gửi lời chúc",width:"400px",height:"44px",left:"0px",top:`${k}px`,background:"#10b981",color:"#ffffff",isChildOfForm:!0}),O=r.parseReactElement(D).toNodeTree(),Q=Object.keys(O.nodes)[0];o.add(O.nodes[Q],s)},w=()=>{const T=(t.apiUrl||"").replace(/\/$/,"");let L="";T?T.endsWith("/guests/wishes")?L=T.replace("/wishes",""):T.endsWith("/guests")?L=T:L=`${T}/guests`:L=`${domain}/guests`,e("apiUrl",L);const P=40;let N=0;const k=z=>{const H=React.createElement(ke,z),U=r.parseReactElement(H).toNodeTree(),D=Object.keys(U.nodes)[0];o.add(U.nodes[D],s)};k({is:Input,canvas:!0,inputType:"text",placeholder:"Họ và tên *",dataName:"fullName",required:!0,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),N+=P+(t.formGap??12),k({is:Input,canvas:!0,inputType:"tel",placeholder:"Số điện thoại *",dataName:"phone",required:!0,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),N+=P+(t.formGap??12),k({is:Input,canvas:!0,inputType:"email",placeholder:"Email *",dataName:"email",required:!0,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),N+=P+(t.formGap??12),k({is:Input,canvas:!0,inputType:"select",placeholder:"Khách của",dataName:"guestOf",required:!1,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",options:`Bride
Groom
Both
Family
Friend`}),N+=P+(t.formGap??12),k({is:Input,canvas:!0,inputType:"number",placeholder:"Số người tham dự",dataName:"numberOfPeople",required:!1,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db"}),N+=P+(t.formGap??12),k({is:Input,canvas:!0,inputType:"radio",placeholder:"Bạn có tham dự không?",dataName:"willCome",required:!0,width:"400px",height:"60px",left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",options:`Có, tôi sẽ tham dự
Không, tôi không thể tham dự`,direction:"horizontal"}),N+=60+(t.formGap??12),k({is:Input,canvas:!0,inputType:"select",placeholder:"Chọn sự kiện...",dataName:"event",required:!1,width:"400px",height:`${P}px`,left:"0px",top:`${N}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",options:`Lễ cưới chính
Tiệc cưới
Lễ đính hôn
Tiệc tất niên
Lễ hỏi
Tiệc thân mật`}),N+=P+(t.formGap??12);const B=React.createElement(ke,{is:Button,canvas:!0,text:"Gửi thông tin",width:"400px",height:"44px",left:"0px",top:`${N}px`,background:"#3b82f6",color:"#ffffff",isChildOfForm:!0}),F=r.parseReactElement(B).toNodeTree(),W=Object.keys(F.nodes)[0];o.add(F.nodes[W],s)},C=reactExports.useCallback(T=>{var P;e("isBeingManaged",!0),e("formType",T),e("isWeddingWishForm",T==="wedding-wish"),e("isGuestForm",T==="guest");const L=r.node(s).get();(((P=L==null?void 0:L.data)==null?void 0:P.nodes)||[]).forEach(N=>o.delete(N)),setTimeout(()=>{T==="wedding-wish"?E():w()},100)},[e,r,s,o]),b=reactExports.useCallback(()=>{e("isBeingManaged",!0);const T={id:R(),question:"Câu hỏi mới",type:"text",required:!1},L=[...u||[],T];m(L),e("customQuestions",L),x(T)},[e,u]),v=reactExports.useCallback((T,L,P)=>{var W;e("isBeingManaged",!0);const N=(u||[]).map(z=>z.id===T?{...z,[L]:P}:z);m(N),e("customQuestions",N);const k=r.node(s).get(),F=(((W=k==null?void 0:k.data)==null?void 0:W.nodes)||[]).find(z=>r.node(z).get().data.props.dataName===T);if(F){const z=N.find(U=>U.id===T),H=z.type==="textarea"?80:40;o.setProp(F,U=>{U.inputType=z.type,U.placeholder=z.question+(z.required?" *":""),U.required=z.required||!1,U.height=`${H}px`,U.options=z.options||""}),setTimeout(p,100)}},[e,u,r,s,o]),_=reactExports.useCallback(T=>{e("isBeingManaged",!0);const L=(u||[]).filter(P=>P.id!==T);m(L),e("customQuestions",L),L.length===0?j():g(T)},[e,u]),I={fontSize:"xs",fontWeight:"semibold",color:"#333"};return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(SectionCard$9,{children:[jsxRuntimeExports.jsx(SectionHeader$9,{icon:MdDynamicForm,title:"Loại Form"}),jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"Chọn loại form"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:d,value:[t.formType],onValueChange:T=>{const L=T.value[0];L==="guest"&&!c||C(L)},positioning:{placement:i?"top":"bottom"},className:"custom-select",size:"sm",children:[jsxRuntimeExports.jsx(SelectControl,{width:"60%",children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại form"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:d.items.map(T=>jsxRuntimeExports.jsx(SelectItem,{item:T,className:T.disabled?"opacity-50 cursor-not-allowed pointer-events-none":"",children:jsxRuntimeExports.jsxs(SelectItemText,{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:T.disabled?"text-gray-400":"",children:T.label}),T.disabled&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})})]})},T.value))})})]})]}),t.formType==="guest"&&jsxRuntimeExports.jsxs(Box,{className:"w-full",borderTop:"1px solid",borderColor:"gray.200",pt:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2 mb-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,fontWeight:"bold",children:"Câu hỏi tùy chỉnh"}),jsxRuntimeExports.jsxs(Box,{className:"flex gap-1",children:[jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:b,colorScheme:"green",children:[jsxRuntimeExports.jsx(FaPlus,{className:"mr-1"}),"Thêm câu hỏi"]}),((u==null?void 0:u.length)||0)>0&&jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:j,colorScheme:"red",variant:"outline",children:[jsxRuntimeExports.jsx(FaTrash,{className:"mr-1"}),"Xóa tất cả"]})]})]}),(u||[]).map(T=>jsxRuntimeExports.jsx(Box,{className:"border border-gray-200 rounded-md p-3 mb-3 bg-white",children:jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2 mb-2",children:[jsxRuntimeExports.jsx(Input$1,{size:"xs",placeholder:"Câu hỏi",value:T.question,onChange:L=>v(T.id,"question",L.target.value),flex:1}),jsxRuntimeExports.jsx(Button$1,{size:"xs",colorScheme:"red","aria-label":"Xóa câu hỏi",onClick:()=>_(T.id),children:jsxRuntimeExports.jsx(FaTrash,{})})]})},T.id))]})]})]}),t.formType==="wedding-wish"&&jsxRuntimeExports.jsxs(SectionCard$9,{children:[jsxRuntimeExports.jsx(SectionHeader$9,{icon:MdLightbulb,title:"Lời chúc gợi ý"}),jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"Hiển thị lời chúc gợi ý"}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center gap-2",style:{width:"60%"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:t.showSuggestedWishes||!1,onChange:T=>{e("showSuggestedWishes",T.target.checked),T.target.checked&&(!t.suggestedWishes||t.suggestedWishes.length===0)&&e("suggestedWishes",DEFAULT_SUGGESTED_WISHES)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",children:"Bật"})]})]}),t.showSuggestedWishes&&jsxRuntimeExports.jsxs(Box,{className:"w-full",borderTop:"1px solid",borderColor:"gray.200",pt:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2 mb-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,fontWeight:"bold",children:"Lời chúc gợi ý"}),jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:()=>{const T=t.suggestedWishes||[];T.length<20&&e("suggestedWishes",[...T,"Lời chúc mới"])},colorScheme:"green",disabled:((($=t.suggestedWishes)==null?void 0:$.length)||0)>=20,children:[jsxRuntimeExports.jsx(FaPlus,{className:"mr-1"}),"Thêm"]})]}),(t.suggestedWishes||[]).map((T,L)=>jsxRuntimeExports.jsxs(Box,{className:"border border-gray-200 rounded-md p-3 mb-3 bg-white",children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-2 mb-2",children:[jsxRuntimeExports.jsx(Input$1,{size:"xs",placeholder:"Lời chúc gợi ý",value:T,onChange:P=>{const k=[...t.suggestedWishes||[]];k[L]=P.target.value.slice(0,140),e("suggestedWishes",k)},flex:1,maxLength:140}),jsxRuntimeExports.jsx(Button$1,{size:"xs",colorScheme:"red","aria-label":"Xóa lời chúc",onClick:()=>{const N=(t.suggestedWishes||[]).filter((k,B)=>B!==L);e("suggestedWishes",N)},children:jsxRuntimeExports.jsx(FaTrash,{})})]}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:[T.length,"/140 ký tự"]})]},L)),(((A=t.suggestedWishes)==null?void 0:A.length)||0)>=20&&jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"orange.500",fontStyle:"italic",children:"Đã đạt giới hạn tối đa 20 lời chúc"})]})]})]}),jsxRuntimeExports.jsxs(SectionCard$9,{children:[jsxRuntimeExports.jsx(SectionHeader$9,{icon:MdSpaceBar,title:"Khoảng cách"}),jsxRuntimeExports.jsx(Stack,{gap:3,children:jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"Khoảng cách giữa các phần tử"}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center gap-2",style:{width:"60%"},children:[jsxRuntimeExports.jsx("input",{type:"number",min:0,max:100,step:1,value:t.formGap,onChange:T=>e("formGap",parseInt(T.target.value)||0),className:"w-[70px] p-2 rounded border border-gray-200 bg-white text-[#333] hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-colors duration-200 text-center text-sm"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",children:"px"})]})]})})]}),jsxRuntimeExports.jsxs(SectionCard$9,{children:[jsxRuntimeExports.jsx(SectionHeader$9,{icon:MdSend,title:"Cài đặt gửi form"}),jsxRuntimeExports.jsxs(Stack,{gap:3,children:[jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"Kiểu gửi"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:l,value:[t.submissionType],onValueChange:T=>e("submissionType",T.value[0]),positioning:{placement:i?"top":"bottom"},size:"sm",className:"custom-select",children:[jsxRuntimeExports.jsx(SelectControl,{width:"60%",children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gửi"})})}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:l.items.map(T=>jsxRuntimeExports.jsx(SelectItem,{item:T,children:jsxRuntimeExports.jsxs(SelectItemText,{children:[T.label,T.value!=="api"?" (Sắp có)":""]})},T.value))})})]})]}),t.submissionType==="api"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"API URL"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"60%",placeholder:"https://api.example.com",value:t.apiUrl,onChange:T=>e("apiUrl",T.target.value),disabled:t.isWeddingWishForm||t.isGuestForm,style:{backgroundColor:t.isWeddingWishForm||t.isGuestForm?"#f5f5f5":"white",cursor:t.isWeddingWishForm||t.isGuestForm?"not-allowed":"text"}})]}),t.isGuestForm&&jsxRuntimeExports.jsx(Box,{className:"w-full",children:jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.600",fontStyle:"italic",children:["👥 Form khách mời đã được cấu hình tự động với endpoint: ",domain,"/guests"]})}),t.isWeddingWishForm&&jsxRuntimeExports.jsx(Box,{className:"w-full",children:jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.600",fontStyle:"italic",children:["💒 Form chúc mừng đã được cấu hình tự động với endpoint: ",domain,"/guests/wishes"]})})]})]})]})});FormDesign.displayName="FormDesign";const FormSettings=()=>{const t=compilerRuntimeExports.c(5),{id:e}=Ne(_temp4$6),{actions:o,query:r}=Pe(_temp5$5);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={default:!0,event:!0,animation:!0,advanced:!0},t[0]=s):s=t[0];let i;return t[1]!==o||t[2]!==e||t[3]!==r?(i=jsxRuntimeExports.jsx(CommonSettings,{tabs:s,showNodeControlsPanel:!0,enableSize:!1,enableFilter:!1,enableTransform:!1,enableBackground:!1,enableBorder:!1,enableShadow:!1,enableOverlay:!1,design:a=>jsxRuntimeExports.jsx(FormDesign,{...a,editorActions:o,query:r,id:e})}),t[1]=o,t[2]=e,t[3]=r,t[4]=i):i=t[4],i};function _temp4$6(t){return{id:t.id}}function _temp5$5(t){return{enabled:t.options.enabled}}function useGlobalGuestData(){const t=compilerRuntimeExports.c(2),[e,o]=reactExports.useState(globalGuestDataManager.guestData);let r,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>globalGuestDataManager.subscribe(()=>{o(globalGuestDataManager.guestData)}),s=[],t[0]=r,t[1]=s):(r=t[0],s=t[1]),reactExports.useEffect(r,s),e}const defaultProps$e={children:null,width:"400px",height:"auto",left:"0px",top:"0px",lockAspectRatio:!0,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},opacity:0,pointerEvents:"none",pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},formGap:20,submissionType:"api",apiUrl:"",isWeddingWishForm:!0,isGuestForm:!1,formType:"wedding-wish",isBeingManaged:!1,customQuestions:[],showSuggestedWishes:!1,suggestedWishes:[],locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Form=t=>{const{actions:{setProp:e},id:o}=Ne(fe=>({childNodes:fe.data.nodes||[]})),{enabled:r,actions:s,query:i}=Pe(fe=>({enabled:fe.options.enabled})),{weddingPageId:a}=useViewport(),c=useQueryClient(),l=useIsTemplateContext(),{addWish:d}=useTemplateWish(),u={...defaultProps$e,...t},{children:m,width:R,height:p,left:j,top:x,events:g,displayAnimation:h,hoverAnimation:E,lockAspectRatio:w,formGap:C,submissionType:b,apiUrl:v,isWeddingWishForm:_,isGuestForm:I,formType:$,customQuestions:A,showSuggestedWishes:T,suggestedWishes:L}=u;reactExports.useEffect(()=>{if(!v&&b==="api"){let fe="";$==="wedding-wish"?fe=`${domain}/guests/wishes`:$==="guest"&&(fe=`${domain}/guests`),fe&&e(Ce=>{Ce&&(Ce.apiUrl=fe)})}},[v,b,$,e]);const P=reactExports.useRef(null),N=reactExports.useRef(null),k=useGlobalGuestData(),[B,F]=reactExports.useState({width:R,height:p}),W=reactExports.useRef(!1),{handleContainerClick:z,handleHover:H,handleSubmit:U}=useEventHandling(g,o),D=(h==null?void 0:h.effect)||"none",O=(h==null?void 0:h.duration)??.6;useEntrance(P,D,O);const Q=hoverVarsFromSettings(E,r),q=E.enabled&&!r?"hover-anim":"",Y=reactExports.useCallback(fe=>{if(typeof fe=="string"){if(fe.includes("%")){const Ce=parseFloat(fe.replace(/[^\d.-]/g,""))||0,le=parseFloat(R.replace(/[^\d.-]/g,""))||400;return Ce/100*le}return parseFloat(fe.replace(/[^\d.-]/g,""))||0}return typeof fe=="number"?fe:0},[R]),V=reactExports.useCallback((fe,Ce,le)=>{s.setProp(fe,J=>{const se=Math.abs(Ce-1)>.01,te=Math.abs(le-1)>.01,be=Ce;if(J.width&&se){const Z=Y(J.width),Ee=Math.round(Z*be);J.width=isPercentage(J.width)?`${Ee}%`:`${Ee}px`}if(J.height&&te){const Z=Y(J.height),Ee=Math.round(Z*le);J.height=isPercentage(J.height)?`${Ee}%`:`${Ee}px`}if(J.left&&se){const Z=Y(J.left),Ee=Math.round(Z*be);J.left=isPercentage(J.left)?`${Ee}%`:`${Ee}px`}if(J.top&&(se||te)){const Z=Y(J.top),me=Math.round(Z*(te?le:be));J.top=isPercentage(J.top)?`${me}%`:`${me}px`}})},[s,Y]);reactExports.useEffect(()=>{var se;if(W.current)return;const fe=Y(R),Ce=Y(p),le=Y(B.width),J=Y(B.height);if((fe!==le||Ce!==J)&&le>0&&J>0&&fe>0&&Ce>0){const te=fe/le,be=Ce/J,Z=i.node(o).get();(((se=Z==null?void 0:Z.data)==null?void 0:se.nodes)||[]).forEach(me=>{V(me,te,be)}),F({width:R,height:p})}},[R,p,B,Y,V,i,o,F]);const de=reactExports.useCallback(()=>{var Z;const fe=i.node(o).get(),Ce=((Z=fe==null?void 0:fe.data)==null?void 0:Z.nodes)||[];if(Ce.length===0)return{width:400,height:200};let le=1/0,J=1/0,se=-1/0,te=-1/0;Ce.forEach(Ee=>{var et,re;const me=i.node(Ee).get(),ge=((et=me==null?void 0:me.data)==null?void 0:et.props)||{},Ke=Y(ge.left||"0"),Ue=Y(ge.top||"0");let _e=Y(ge.width||"100"),Qe=Y(ge.height||"50");const qe=(re=me==null?void 0:me.data)==null?void 0:re.displayName;qe==="Input"?ge.inputType==="textarea"?Qe=Math.max(Qe,80):Qe=Math.max(Qe,40):qe==="Button"&&(Qe=Math.max(Qe,44));const Ye=Ke+_e,nt=Ue+Qe;le=Math.min(le,Ke),J=Math.min(J,Ue),se=Math.max(se,Ye),te=Math.max(te,nt)});const be=20;return{width:Math.max(400,se-le+be*2),height:Math.max(100,te-J+be*2)}},[i,o,Y]);reactExports.useEffect(()=>{var J;const fe=i.node(o).get();if((((J=fe==null?void 0:fe.data)==null?void 0:J.nodes)||[]).length===0)return;const le=setTimeout(()=>{if(W.current)return;const se=de(),te=Y(R),be=Y(p),Z=Math.abs(se.width-te)>20,Ee=Math.abs(se.height-be)>20;(Z||Ee)&&(W.current=!0,e(me=>{me&&(Z&&(me.width=`${se.width}px`),Ee&&(me.height=`${se.height}px`))}),setTimeout(()=>{W.current=!1,F({width:Z?`${se.width}px`:R,height:Ee?`${se.height}px`:p})},150))},300);return()=>clearTimeout(le)},[m,$,A]),reactExports.useEffect(()=>{F({width:R,height:p})},[R,p]),reactExports.useEffect(()=>{var J;const fe=i.node(o).get();if(!fe||!fe.data)return;const Ce=fe.data.nodes||[],le=((J=fe.data.props)==null?void 0:J.isBeingManaged)??!1;if(Ce.length===0&&!le){if($==="wedding-wish"){let be=20;const Z=React.createElement(ke,{is:Input,canvas:!0,inputType:"text",placeholder:"Tên của bạn *",dataName:"guestName",required:!0,width:"360px",height:"40px",left:"20px",top:`${be}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",isChildOfForm:!0}),Ee=i.parseReactElement(Z).toNodeTree(),me=Object.keys(Ee.nodes)[0],ge=Ee.nodes[me];s.add(ge,o),be+=40+C;const Ke=React.createElement(ke,{is:Input,canvas:!0,inputType:"textarea",placeholder:"Lời chúc của bạn *",dataName:"message",required:!0,width:"360px",height:"80px",left:"20px",top:`${be}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",isChildOfForm:!0}),Ue=i.parseReactElement(Ke).toNodeTree(),_e=Object.keys(Ue.nodes)[0],Qe=Ue.nodes[_e];s.add(Qe,o),be+=80+C;const qe=React.createElement(ke,{is:Button,canvas:!0,text:"Gửi lời chúc",width:"360px",height:"44px",left:"20px",top:`${be}px`,background:"#10b981",color:"#ffffff",isChildOfForm:!0}),Ye=i.parseReactElement(qe).toNodeTree(),nt=Object.keys(Ye.nodes)[0],et=Ye.nodes[nt];s.add(et,o)}else if($==="guest"){let te=20;[{placeholder:"Họ và tên *",dataName:"fullName",type:"text"},{placeholder:"Số điện thoại *",dataName:"phone",type:"tel"},{placeholder:"Email *",dataName:"email",type:"email"},{placeholder:"Khách của",dataName:"guestOf",type:"select",options:`Bride
Groom
Both
Family
Friend`},{placeholder:"Số người tham dự",dataName:"numberOfPeople",type:"number"},{placeholder:"Bạn có tham dự không?",dataName:"willCome",type:"radio",options:`Có, tôi sẽ tham dự
Không, tôi không thể tham dự`,required:!0},{placeholder:"Chọn sự kiện...",dataName:"event",type:"select",options:`Lễ cưới chính
Tiệc cưới
Lễ đính hôn
Tiệc tất niên
Lễ hỏi
Tiệc thân mật`}].forEach(Ke=>{const Ue=Ke.type==="radio"?60:40,_e=React.createElement(ke,{is:Input,canvas:!0,inputType:Ke.type,placeholder:Ke.placeholder,dataName:Ke.dataName,required:Ke.required||Ke.placeholder.includes("*"),width:"360px",height:`${Ue}px`,left:"20px",top:`${te}px`,backgroundColor:"#ffffff",borderRadius:[4,4,4,4],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#d1d5db",options:Ke.options||"",direction:Ke.type==="radio"?"horizontal":void 0,isChildOfForm:!0}),Qe=i.parseReactElement(_e).toNodeTree(),qe=Object.keys(Qe.nodes)[0],Ye=Qe.nodes[qe];s.add(Ye,o),te+=Ue+C});const Z=React.createElement(ke,{is:Button,canvas:!0,text:"Gửi thông tin",width:"360px",height:"44px",left:"20px",top:`${te}px`,background:"#3b82f6",color:"#ffffff",isChildOfForm:!0}),Ee=i.parseReactElement(Z).toNodeTree(),me=Object.keys(Ee.nodes)[0],ge=Ee.nodes[me];s.add(ge,o)}setTimeout(()=>{const se=de();e(te=>{te&&(te.width=`${se.width}px`,te.height=`${se.height}px`)}),F({width:`${se.width}px`,height:`${se.height}px`})},500)}},[$]),reactExports.useEffect(()=>{if(A&&A.length>0){const fe=setTimeout(()=>{if(W.current)return;const Ce=de();Y(R);const le=Y(p);Math.abs(Ce.height-le)>30&&(W.current=!0,e(se=>{se&&(se.height=`${Ce.height}px`)}),setTimeout(()=>{W.current=!1,F(se=>({...se,height:`${Ce.height}px`}))},100))},400);return()=>clearTimeout(fe)}},[A==null?void 0:A.length]),reactExports.useEffect(()=>{var J;const fe=i.node(o).get(),Ce=((J=fe==null?void 0:fe.data)==null?void 0:J.nodes)||[],le=Ce.some(se=>{var be;const te=i.node(se).get();return((be=te==null?void 0:te.data)==null?void 0:be.displayName)==="Button"});if(Ce.length>0&&!le){const Z=Ce.filter(Ue=>{var Qe;const _e=i.node(Ue).get();return((Qe=_e==null?void 0:_e.data)==null?void 0:Qe.displayName)==="Input"}).length*(40+C),Ee=React.createElement(ke,{is:Button,canvas:!0,text:"Gửi",width:"400px",height:"44px",left:"0px",top:`${Z}px`,background:"#000000",color:"#ffffff",isChildOfForm:!0}),me=i.parseReactElement(Ee).toNodeTree(),ge=Object.keys(me.nodes)[0],Ke=me.nodes[ge];s.add(Ke,o)}},[m]);const ue=u.opacity===0?100:u.opacity??100,Re=assembleBaseStyles({width:R,height:p,top:x,left:j,opacity:ue},{allowPosition:!0,defaults:defaultProps$e}),oe=minimizeStyle({...Re,pointerEvents:u.pointerEvents!=="none"?u.pointerEvents:void 0,...r&&{outline:"2px dashed #9c88ff",outlineOffset:"2px"}}),ce=fe=>{fe.stopPropagation(),z()},je=()=>{H()},ie=()=>{},xe=fe=>{var J;const Ce=['textarea[data-name="message"]','textarea[name="message"]','textarea[placeholder*="chúc"]','textarea[placeholder*="message"]',"textarea"];let le=null;for(const se of Ce)if(le=(J=N.current)==null?void 0:J.querySelector(se),le)break;if(le){const se=le.value||"",te=se?`${se}
${fe}`:fe;le.value=te,le.focus();const be=new Event("input",{bubbles:!0});le.dispatchEvent(be)}},[pe,$e]=reactExports.useState(!1),[Se,Ie]=reactExports.useState(0);reactExports.useEffect(()=>{const fe=Ce=>{pe&&N.current&&!N.current.contains(Ce.target)&&$e(!1)};return pe&&document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[pe]),reactExports.useEffect(()=>{if(T&&_&&!r){const fe=setTimeout(()=>{Ie(Ce=>Ce+1)},100);return()=>clearTimeout(fe)}},[T,_,r,m]),reactExports.useEffect(()=>{var fe;if(!r&&k&&N.current){const Ce={fullName:k.fullName||"",guestName:k.fullName||"",phone:k.phone||"",email:k.email||"",guestOf:k.guestOf||"",numberOfPeople:((fe=k.numberOfPeople)==null?void 0:fe.toString())||"",willCome:k.willCome!==void 0?k.willCome?"Có, tôi sẽ tham dự":"Không, tôi không thể tham dự":"",event:k.event||""};Object.entries(Ce).forEach(([le,J])=>{var te,be;if(!J)return;const se=(te=N.current)==null?void 0:te.querySelector(`[name="${le}"]`);if(se){se.tagName==="SELECT"?se.value=J:se.type==="radio"?((be=N.current)==null?void 0:be.querySelectorAll(`[name="${le}"]`)).forEach(me=>{me.value===J&&(me.checked=!0)}):se.type==="checkbox"?se.checked=!0:se.value=J;const Z=new Event("change",{bubbles:!0});se.dispatchEvent(Z)}})}},[r,k]);const Me=()=>{if(!T||!_||r)return null;const Ce=(()=>{var J;const le=['textarea[data-name="message"]','textarea[name="message"]','textarea[placeholder*="chúc"]','textarea[placeholder*="message"]',"textarea"];for(const se of le){const te=(J=N.current)==null?void 0:J.querySelector(se);if(te)return te}return null})();return Ce?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>$e(!pe),className:"absolute z-20 p-2 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors right-0 top-12",title:"Lời chúc gợi ý",children:"💡"}),pe&&jsxRuntimeExports.jsxs("div",{className:"absolute z-20 bg-white border border-gray-300 rounded-lg shadow-lg min-w-[300px] max-w-[400px]",style:{top:`${Ce.offsetTop+45}px`,right:`${Ce.offsetLeft+Ce.offsetWidth-300}px`,maxHeight:"300px",overflowY:"auto",padding:"12px"},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Lời chúc gợi ý"}),jsxRuntimeExports.jsx("button",{onClick:()=>$e(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-3",children:(L||[]).map((le,J)=>jsxRuntimeExports.jsx("button",{onClick:()=>{xe(le),$e(!1)},className:"w-full text-left p-2 text-xs bg-gray-50 border border-gray-200 rounded hover:bg-blue-50 hover:border-blue-300 transition-colors",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:le},J))})]})]}):null},He=async fe=>{if(fe.preventDefault(),U(),v&&b==="api"){const Ce=new FormData(fe.target),le={};if(Ce.forEach((se,te)=>{le[te]=se}),I){if(a&&(le.pageId=Number(a)),le.numberOfPeople&&(le.numberOfPeople=Number(le.numberOfPeople)),le.willCome!==void 0&&le.willCome!==null&&le.willCome!==""){const te=String(le.willCome).toLowerCase().trim();le.willCome=te.includes("có")||te.includes("yes")||te.startsWith("có")||te==="true"}le.event&&(le.event=String(le.event));const se=[];A&&A.length>0&&A.forEach(te=>{const be=te.id,Z=le[be];Z&&se.push({question:te.question,answer:String(Z),type:te.type}),delete le[be]}),le.extraInfo={questions:se}}a&&!I&&(le.weddingPageId=Number(a)),_&&(le.isPublic=!0);const J=globalGuestDataManager.loadedGuestId;if(J&&(le.guestId=J),l&&_&&le.guestName&&le.message){const se=a?Number(a):1;d({weddingPageId:se,guestName:le.guestName,message:le.message,isPublic:!0,deletedAt:null}),toaster.create({title:"Thành công",description:"Gửi thành công!",type:"success",duration:3e3,meta:{closable:!0}}),I||fe.target.reset();return}try{const se=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(se.ok){const te=await se.json();toaster.create({title:"Thành công",description:"Gửi thành công!",type:"success",duration:3e3,meta:{closable:!0}}),I||fe.target.reset(),c.invalidateQueries({queryKey:["guest-wishes",a]})}else toaster.create({title:"Lỗi",description:"Có lỗi xảy ra khi gửi form",type:"error",duration:3e3,meta:{closable:!0}})}catch{toaster.create({title:"Lỗi",description:"Có lỗi xảy ra khi gửi form",type:"error",duration:3e3,meta:{closable:!0}})}}};return r?jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:oe,lockAspectRatio:w,innerRef:fe=>{fe&&(P.current=fe)},className:u.className||"",children:jsxRuntimeExports.jsx("div",{className:"form-container","data-node-id":o,onClick:ce,onMouseEnter:je,onMouseLeave:ie,style:{width:"100%",height:"100%",position:"relative",overflow:"visible",boxSizing:"border-box"},children:m})}):jsxRuntimeExports.jsx("form",{ref:N,style:{...oe,...Q,overflow:"visible",boxSizing:"border-box"},className:`${u.className||""} form-container ${q}`,"data-node-id":o,onClick:ce,onMouseEnter:je,onMouseLeave:ie,onSubmit:He,children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"visible",boxSizing:"border-box"},children:[!r&&T&&_&&jsxRuntimeExports.jsx(Me,{}),m]})})};Form.craft={displayName:"Form",props:defaultProps$e,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:t=>t.every(e=>e.data.type==="Input"||e.data.type==="Button")},related:{toolbar:FormSettings}};const SectionHeader$8=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$8.displayName="SectionHeader";const SectionCard$8=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$8.displayName="SectionCard";const selectedModeOptions=[{label:"Hôm nay",value:"today"},{label:"Ngày tùy chỉnh",value:"custom"}],highlightTypeOptions=[{label:"Màu sắc",value:"color"},{label:"Biểu tượng",value:"svg"}],DesignPanel$3=React.memo(t=>{const e=compilerRuntimeExports.c(186),{props:o,updateProp:r}=t,s=o.selectedDateMode||"today",i=o.highlightType||"color",a=useIsMobile(),{hasFeature:c,showIconPickerModal:l}=useViewport();let d;e[0]!==c?(d=c("custom_colors_fonts"),e[0]=c,e[1]=d):d=e[1];const u=d;let m;e[2]!==u||e[3]!==r?(m=jt=>{u&&r("fontFamily",jt)},e[2]=u,e[3]=r,e[4]=m):m=e[4];const R=m;let p;e[5]!==r?(p=jt=>{r("highlightSvg",jt.target.value)},e[5]=r,e[6]=p):p=e[6];const j=p;let x;e[7]!==r?(x=jt=>{r("highlightSvg",jt)},e[7]=r,e[8]=x):x=e[8];const g=x;let h,E,w,C,b,v,_,I,$,A,T,L,P,N,k,B,F,W,z,H,U,D;if(e[9]!==i||e[10]!==a||e[11]!==o.selectedDate||e[12]!==s||e[13]!==r){const jt=createListCollection({items:selectedModeOptions}),we=createListCollection({items:highlightTypeOptions});let G;e[36]===Symbol.for("react.memo_cache_sentinel")?(G={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[36]=G):G=e[36],I=G,_=Stack,v=SectionCard$8,e[37]===Symbol.for("react.memo_cache_sentinel")?(F=jsxRuntimeExports.jsx(SectionHeader$8,{icon:MdCalendarMonth,title:"Cấu hình lịch"}),e[37]=F):F=e[37],b=Stack,N=3;let X;e[38]===Symbol.for("react.memo_cache_sentinel")?(X=jsxRuntimeExports.jsx(Text$1,{...I,children:"Chế độ"}),e[38]=X):X=e[38];let K;e[39]!==s?(K=[s],e[39]=s,e[40]=K):K=e[40];let ne;e[41]!==r?(ne=ht=>r("selectedDateMode",ht.value[0]),e[41]=r,e[42]=ne):ne=e[42];const ve=a?"top":"bottom";let Te;e[43]!==ve?(Te={placement:ve},e[43]=ve,e[44]=Te):Te=e[44];let Le;e[45]===Symbol.for("react.memo_cache_sentinel")?(Le=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn chế độ"})})}),e[45]=Le):Le=e[45];let st;e[46]===Symbol.for("react.memo_cache_sentinel")?(st=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{children:jt.items.map(_temp$q)})}),e[46]=st):st=e[46],e[47]!==K||e[48]!==ne||e[49]!==Te?(k=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[X,jsxRuntimeExports.jsxs(SelectRoot,{collection:jt,value:K,onValueChange:ne,positioning:Te,size:"sm",className:"custom-select",children:[Le,st]})]}),e[47]=K,e[48]=ne,e[49]=Te,e[50]=k):k=e[50],e[51]!==o.selectedDate||e[52]!==s||e[53]!==r?(B=s==="custom"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,children:"Ngày"}),jsxRuntimeExports.jsx(Input$1,{type:"date",size:"sm",width:"55%",value:o.selectedDate||"",onChange:ht=>r("selectedDate",ht.target.value)})]}),e[51]=o.selectedDate,e[52]=s,e[53]=r,e[54]=B):B=e[54],C=Box,L="w-full flex items-center justify-between gap-3",e[55]===Symbol.for("react.memo_cache_sentinel")?(P=jsxRuntimeExports.jsx(Text$1,{...I,children:"Highlight"}),e[55]=P):P=e[55],w=SelectRoot,z=we,e[56]!==i?(H=[i],e[56]=i,e[57]=H):H=e[57],e[58]!==r?(U=ht=>r("highlightType",ht.value[0]),e[58]=r,e[59]=U):U=e[59];const ft=a?"top":"bottom";e[60]!==ft?(D={placement:ft},e[60]=ft,e[61]=D):D=e[61],$="sm",A="custom-select",e[62]===Symbol.for("react.memo_cache_sentinel")?(T=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn highlight"})})}),e[62]=T):T=e[62],E=SelectPositioner,h=SelectContent,W=we.items.map(_temp2$g),e[9]=i,e[10]=a,e[11]=o.selectedDate,e[12]=s,e[13]=r,e[14]=h,e[15]=E,e[16]=w,e[17]=C,e[18]=b,e[19]=v,e[20]=_,e[21]=I,e[22]=$,e[23]=A,e[24]=T,e[25]=L,e[26]=P,e[27]=N,e[28]=k,e[29]=B,e[30]=F,e[31]=W,e[32]=z,e[33]=H,e[34]=U,e[35]=D}else h=e[14],E=e[15],w=e[16],C=e[17],b=e[18],v=e[19],_=e[20],I=e[21],$=e[22],A=e[23],T=e[24],L=e[25],P=e[26],N=e[27],k=e[28],B=e[29],F=e[30],W=e[31],z=e[32],H=e[33],U=e[34],D=e[35];let O;e[63]!==h||e[64]!==W?(O=jsxRuntimeExports.jsx(h,{children:W}),e[63]=h,e[64]=W,e[65]=O):O=e[65];let Q;e[66]!==E||e[67]!==O?(Q=jsxRuntimeExports.jsx(E,{children:O}),e[66]=E,e[67]=O,e[68]=Q):Q=e[68];let q;e[69]!==w||e[70]!==$||e[71]!==A||e[72]!==T||e[73]!==Q||e[74]!==z||e[75]!==H||e[76]!==U||e[77]!==D?(q=jsxRuntimeExports.jsxs(w,{collection:z,value:H,onValueChange:U,positioning:D,size:$,className:A,children:[T,Q]}),e[69]=w,e[70]=$,e[71]=A,e[72]=T,e[73]=Q,e[74]=z,e[75]=H,e[76]=U,e[77]=D,e[78]=q):q=e[78];let Y;e[79]!==C||e[80]!==L||e[81]!==P||e[82]!==q?(Y=jsxRuntimeExports.jsxs(C,{className:L,children:[P,q]}),e[79]=C,e[80]=L,e[81]=P,e[82]=q,e[83]=Y):Y=e[83];let V;e[84]!==I?(V=jsxRuntimeExports.jsx(Text$1,{...I,children:"Màu highlight"}),e[84]=I,e[85]=V):V=e[85];const de=o.highlightColor||"#4ade80";let ue;e[86]!==r?(ue=jt=>r("highlightColor",jt),e[86]=r,e[87]=ue):ue=e[87];let Re;e[88]!==de||e[89]!==ue?(Re=jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:de,onChange:ue,size:"xs",showValueText:!0,previewSize:20})}),e[88]=de,e[89]=ue,e[90]=Re):Re=e[90];let oe;e[91]!==V||e[92]!==Re?(oe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[V,Re]}),e[91]=V,e[92]=Re,e[93]=oe):oe=e[93];let ce;e[94]!==g||e[95]!==j||e[96]!==i||e[97]!==I||e[98]!==o.highlightSvg||e[99]!==l?(ce=i==="svg"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...I,className:"flex-shrink-0",children:"SVG"}),jsxRuntimeExports.jsxs(Box,{className:"flex items-center gap-2 flex-1 min-w-0",children:[jsxRuntimeExports.jsx(Input$1,{value:o.highlightSvg||"",onChange:j,placeholder:"Nhập code svg của biểu tượng",size:"sm"}),jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:()=>l(g),colorScheme:"blue",variant:"outline",children:"Chọn"})]})]}),e[94]=g,e[95]=j,e[96]=i,e[97]=I,e[98]=o.highlightSvg,e[99]=l,e[100]=ce):ce=e[100];let je;e[101]!==i?(je=i==="svg"&&jsxRuntimeExports.jsx(Text$1,{fontSize:"10px",color:"gray.500",children:"Fill trong SVG sẽ được thay bằng màu highlight"}),e[101]=i,e[102]=je):je=e[102];let ie;e[103]!==b||e[104]!==N||e[105]!==k||e[106]!==B||e[107]!==Y||e[108]!==oe||e[109]!==ce||e[110]!==je?(ie=jsxRuntimeExports.jsxs(b,{gap:N,children:[k,B,Y,oe,ce,je]}),e[103]=b,e[104]=N,e[105]=k,e[106]=B,e[107]=Y,e[108]=oe,e[109]=ce,e[110]=je,e[111]=ie):ie=e[111];let xe;e[112]!==v||e[113]!==F||e[114]!==ie?(xe=jsxRuntimeExports.jsxs(v,{children:[F,ie]}),e[112]=v,e[113]=F,e[114]=ie,e[115]=xe):xe=e[115];let pe;e[116]===Symbol.for("react.memo_cache_sentinel")?(pe=jsxRuntimeExports.jsx(SectionHeader$8,{icon:MdColorLens,title:"Màu chữ & viền"}),e[116]=pe):pe=e[116];let $e;e[117]!==I?($e=jsxRuntimeExports.jsx(Text$1,{...I,children:"Viền lịch"}),e[117]=I,e[118]=$e):$e=e[118];const Se=o.calendarBorderColor||"#000000";let Ie;e[119]!==r?(Ie=jt=>r("calendarBorderColor",jt),e[119]=r,e[120]=Ie):Ie=e[120];let Me;e[121]!==Se||e[122]!==Ie?(Me=jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:Se,onChange:Ie,size:"xs",showValueText:!0,previewSize:20})}),e[121]=Se,e[122]=Ie,e[123]=Me):Me=e[123];let He;e[124]!==$e||e[125]!==Me?(He=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[$e,Me]}),e[124]=$e,e[125]=Me,e[126]=He):He=e[126];let fe;e[127]!==I?(fe=jsxRuntimeExports.jsx(Text$1,{...I,children:"Tiêu đề"}),e[127]=I,e[128]=fe):fe=e[128];const Ce=o.headerTextColor||"#000000";let le;e[129]!==r?(le=jt=>r("headerTextColor",jt),e[129]=r,e[130]=le):le=e[130];let J;e[131]!==Ce||e[132]!==le?(J=jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:Ce,onChange:le,size:"xs",showValueText:!0,previewSize:20})}),e[131]=Ce,e[132]=le,e[133]=J):J=e[133];let se;e[134]!==fe||e[135]!==J?(se=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[fe,J]}),e[134]=fe,e[135]=J,e[136]=se):se=e[136];let te;e[137]!==I?(te=jsxRuntimeExports.jsx(Text$1,{...I,children:"Ngày"}),e[137]=I,e[138]=te):te=e[138];const be=o.dateTextColor||"#000000";let Z;e[139]!==r?(Z=jt=>r("dateTextColor",jt),e[139]=r,e[140]=Z):Z=e[140];let Ee;e[141]!==be||e[142]!==Z?(Ee=jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:be,onChange:Z,size:"xs",showValueText:!0,previewSize:20})}),e[141]=be,e[142]=Z,e[143]=Ee):Ee=e[143];let me;e[144]!==te||e[145]!==Ee?(me=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[te,Ee]}),e[144]=te,e[145]=Ee,e[146]=me):me=e[146];let ge;e[147]!==I?(ge=jsxRuntimeExports.jsx(Text$1,{...I,children:"Ngày chọn"}),e[147]=I,e[148]=ge):ge=e[148];const Ke=o.selectedDateTextColor||"#ffffff";let Ue;e[149]!==r?(Ue=jt=>r("selectedDateTextColor",jt),e[149]=r,e[150]=Ue):Ue=e[150];let _e;e[151]!==Ke||e[152]!==Ue?(_e=jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{value:Ke,onChange:Ue,size:"xs",showValueText:!0,previewSize:20})}),e[151]=Ke,e[152]=Ue,e[153]=_e):_e=e[153];let Qe;e[154]!==ge||e[155]!==_e?(Qe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[ge,_e]}),e[154]=ge,e[155]=_e,e[156]=Qe):Qe=e[156];let qe;e[157]!==He||e[158]!==se||e[159]!==me||e[160]!==Qe?(qe=jsxRuntimeExports.jsxs(SectionCard$8,{children:[pe,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[He,se,me,Qe]})]}),e[157]=He,e[158]=se,e[159]=me,e[160]=Qe,e[161]=qe):qe=e[161];let Ye;e[162]===Symbol.for("react.memo_cache_sentinel")?(Ye=jsxRuntimeExports.jsx(SectionHeader$8,{icon:MdFontDownload,title:"Kiểu chữ"}),e[162]=Ye):Ye=e[162];const nt=u?"":"text-gray-400";let et;e[163]!==I||e[164]!==nt?(et=jsxRuntimeExports.jsx(Text$1,{...I,className:nt,children:"Font"}),e[163]=I,e[164]=nt,e[165]=et):et=e[165];const re=u?"":"opacity-50 cursor-not-allowed pointer-events-none",Xe=o.fontFamily||"inherit";let tt;e[166]!==R||e[167]!==re||e[168]!==Xe?(tt=jsxRuntimeExports.jsx(StyledFontSelector,{className:re,value:Xe,options:fonts,onChange:R}),e[166]=R,e[167]=re,e[168]=Xe,e[169]=tt):tt=e[169];let rt;e[170]!==u?(rt=!u&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})}),e[170]=u,e[171]=rt):rt=e[171];let Rt;e[172]!==tt||e[173]!==rt?(Rt=jsxRuntimeExports.jsxs("div",{className:"w-[55%] relative",children:[tt,rt]}),e[172]=tt,e[173]=rt,e[174]=Rt):Rt=e[174];let wt;e[175]!==et||e[176]!==Rt?(wt=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[et,Rt]}),e[175]=et,e[176]=Rt,e[177]=wt):wt=e[177];let St;e[178]===Symbol.for("react.memo_cache_sentinel")?(St=jsxRuntimeExports.jsx(Box,{p:2,bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"10px",color:"gray.600",children:"Cỡ chữ tự điều chỉnh theo kích thước lịch"})}),e[178]=St):St=e[178];let bt;e[179]!==wt?(bt=jsxRuntimeExports.jsxs(SectionCard$8,{children:[Ye,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[wt,St]})]}),e[179]=wt,e[180]=bt):bt=e[180];let yt;return e[181]!==_||e[182]!==xe||e[183]!==qe||e[184]!==bt?(yt=jsxRuntimeExports.jsxs(_,{children:[xe,qe,bt]}),e[181]=_,e[182]=xe,e[183]=qe,e[184]=bt,e[185]=yt):yt=e[185],yt});DesignPanel$3.displayName="DesignPanel";const CalendarSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp3$9);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableSize:!0,enableFilter:!0,enableTransform:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableOverlay:!0,design:_temp4$5}),t[0]=e):e=t[0],e};function _temp$q(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$g(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp3$9(t){return{props:t.data.props}}function _temp4$5(t){return jsxRuntimeExports.jsx(DesignPanel$3,{...t})}const defaultProps$d={selectedDate:new Date().toISOString().split("T")[0],selectedDateMode:"today",highlightColor:"#4ade80",highlightType:"color",highlightSvg:"",headerTextColor:"#000000",dateTextColor:"#000000",selectedDateTextColor:"#ffffff",calendarBorderColor:"#000000",lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"380px",height:"380px",minHeight:"none",top:0,left:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},fontFamily:"inherit",fontWeight:"normal",hidden:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Calendar=t=>{const{connectors:{connect:e},actions:{setProp:o},id:r}=Ne(it=>({id:it.id})),{enabled:s}=Pe(it=>({enabled:it.options.enabled})),i=reactExports.useRef(null),a={...defaultProps$d,...t},{backgroundImage:c,backgroundType:l,backgroundPosition:d,backgroundSize:u,backgroundRepeat:m,backgroundAttachment:R,backgroundColor:p,color:j,padding:x,margin:g,shadow:h,shadowType:E,shadowX:w,shadowY:C,shadowBlur:b,shadowSpread:v,shadowColor:_,radius:I,borderRadius:$,borderWidth:A,borderStyle:T,borderColor:L,width:P,height:N,minHeight:k,top:B,left:F,blendMode:W,contrast:z,brightness:H,saturate:U,grayscale:D,opacity:O,invert:Q,sepia:q,hueRotate:Y,rotate:V,rotateX:de,rotateY:ue,skewX:Re,skewY:oe,perspective:ce,transformOrigin:je,gradientAngle:ie,gradientType:xe,gradientColor1:pe,gradientColor2:$e,events:Se,displayAnimation:Ie,hoverAnimation:Me,fontWeight:He,hidden:fe}=a,Ce=x||defaultProps$d.padding,le=g||defaultProps$d.margin,J=$||defaultProps$d.borderRadius,se=A||defaultProps$d.borderWidth,te=new Date,Z=a.selectedDateMode==="today"?te:a.selectedDate?new Date(a.selectedDate):new Date,Ee=Z,{handleContainerClick:me,handleTriggerMouseEnter:ge,handleTriggerMouseLeave:Ke}=useEventHandling(Se||[],r),Ue=(Ie==null?void 0:Ie.effect)||"none",_e=(Ie==null?void 0:Ie.duration)??.6;useEntrance(i,Ue,_e);const Qe=hoverVarsFromSettings(Me,s),qe=Me.enabled&&!s?"hover-anim":"",Ye=it=>{s||ge()},nt=()=>{s||Ke()},et=it=>{s||me()},re=["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],Xe=["Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7","CN"],tt=it=>new Date(it.getFullYear(),it.getMonth()+1,0).getDate(),rt=it=>{const ae=new Date(it.getFullYear(),it.getMonth(),1).getDay();return ae===0?6:ae-1},wt=(()=>{const it=tt(Ee),ae=rt(Ee),Fe=[];for(let ee=0;ee<ae;ee++)Fe.push(null);for(let ee=1;ee<=it;ee++)Fe.push(ee);return Fe})(),bt=(()=>{const it=typeof P=="string"?parseInt(P.replace(/px|%/,"")):P,ae=typeof N=="string"&&N!=="auto"?parseInt(N.replace(/px|%/,"")):null;let Fe=Math.max(8,Math.min(24,it/22));if(ae&&ae>0){const ee=Math.max(8,Math.min(24,ae/20));Fe=Math.min(Fe,ee)}return Math.round(Fe)})(),yt=`${bt}px`,jt=`${Math.max(7,Math.round(bt*.7))}px`,we=`${Math.max(8,Math.round(bt*.8))}px`;typeof P=="string"&&parseInt(P.replace(/px|%/,"")),typeof N=="string"&&N!=="auto"&&parseInt(N.replace(/px|%/,""));const G=Math.max(32,Math.min(56,bt+20)),X=Math.max(4,Math.round(bt*.4)),K=Math.max(1,Math.round(bt*.08)),ne=()=>{if(!E||E==="none")return h&&h>0?`0px 3px ${h}px rgba(0, 0, 0, 0.13)`:"none";const it=w||0,ae=C||0,Fe=b||0,ee=v||0,Be=_||"rgba(0, 0, 0, 0.2)";return E==="outer"?`${it}px ${ae}px ${Fe}px ${ee}px ${Be}`:E==="inner"?`inset ${it}px ${ae}px ${Fe}px ${ee}px ${Be}`:"none"},ve=()=>{let it="";return E==="filter"&&(it+=`drop-shadow(${w||0}px ${C||0}px ${b||0}px ${_||"rgba(0, 0, 0, 0.2)"}) `),it+=`contrast(${z}%) brightness(${H}%) saturate(${U}%) grayscale(${D}%) opacity(${O}%) invert(${Q}%) sepia(${q}%) hue-rotate(${Y}deg)`,it.trim()},Te=()=>typeof I=="string"&&I.includes("%")?I:$&&$.length===4?J[0]===J[1]&&J[1]===J[2]&&J[2]===J[3]?`${J[0]}px`:`${J[0]}px ${J[1]}px ${J[2]}px ${J[3]}px`:typeof I=="number"?`${I}px`:I,Le=()=>{if(l==="color")return p;if(l==="gradient"){const it=xe||"linear",ae=ie||0,Fe=pe||"#ffffff",ee=$e||"#000000";return it==="linear"?`linear-gradient(${ae}deg, ${Fe}, ${ee})`:`radial-gradient(circle, ${Fe}, ${ee})`}else if(l==="image"&&c)return`url(${c})`;return"none"},st=()=>{const it=Le();return l==="image"&&c&&it!=="none"?`${it} ${d} / ${u} ${m} ${R}`:it},ht={width:P,height:N,fontWeight:He!==defaultProps$d.fontWeight?He:void 0,background:st(),color:j!==defaultProps$d.color?j:void 0,padding:Ce.some((it,ae)=>it!==defaultProps$d.padding[ae])?`${Ce[0]}px ${Ce[1]}px ${Ce[2]}px ${Ce[3]}px`:void 0,margin:le.some((it,ae)=>it!==defaultProps$d.margin[ae])?`${le[0]}px ${le[1]}px ${le[2]}px ${le[3]}px`:void 0,boxShadow:ne()!=="none"?ne():void 0,opacity:(a.opacity||100)/100,filter:ve()!=="contrast(100%) brightness(100%) saturate(100%) grayscale(0%) opacity(100%) invert(0%) sepia(0%) hue-rotate(0deg)"?ve():void 0,borderRadius:Te()!=="0px"?Te():void 0,minHeight:k!==defaultProps$d.minHeight?k:void 0,position:"absolute",top:B!=defaultProps$d.top?`${B.toString().includes("px")?B:B+"px"}`:void 0,left:F!=defaultProps$d.left?`${F.toString().includes("px")?F:F+"px"}`:void 0,mixBlendMode:W!=defaultProps$d.blendMode?W:void 0,transform:[V!=defaultProps$d.rotate?`rotate(${V}deg)`:"",de!=defaultProps$d.rotateX?`rotateX(${de}deg)`:"",ue!=defaultProps$d.rotateY?`rotateY(${ue}deg)`:"",Re!=defaultProps$d.skewX?`skewX(${Re}deg)`:"",oe!=defaultProps$d.skewY?`skewY(${oe}deg)`:"",ce!=defaultProps$d.perspective?`perspective(${ce}px)`:""].filter(Boolean).join(" ")||void 0,transformOrigin:je!==defaultProps$d.transformOrigin?je:void 0,...T==="none"?{border:"none"}:se[0]===se[1]&&se[1]===se[2]&&se[2]===se[3]?{border:`${se[0]}px ${T} ${L}`}:{borderTopWidth:`${se[0]}px`,borderRightWidth:`${se[1]}px`,borderBottomWidth:`${se[2]}px`,borderLeftWidth:`${se[3]}px`,borderStyle:T,borderColor:L}},ct=minimizeStyle(ht),Et=()=>{if(!a.overlayType||a.overlayType==="none")return"none";if(a.overlayType==="color")return a.overlayColor||"rgba(0, 0, 0, 0.5)";if(a.overlayType==="gradient"){const it=a.overlayGradientType||"linear",ae=a.overlayGradientAngle||90,Fe=a.overlayGradientColor1||"#4158D0",ee=a.overlayGradientColor2||"#C850C0";return it==="linear"?`linear-gradient(${ae}deg, ${Fe}, ${ee})`:`radial-gradient(circle, ${Fe}, ${ee})`}else if(a.overlayType==="image"&&a.overlayImage)return`url(${a.overlayImage})`;return"none"},Tt=a.overlayType&&a.overlayType!=="none"?minimizeStyle({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:Et(),mixBlendMode:a.overlayBlendMode||"normal",opacity:(a.overlayOpacity||100)/100,borderRadius:Te()!=="0px"?Te():void 0,pointerEvents:"none",...a.overlayType==="image"?{backgroundSize:a.overlayImageSize||"cover",backgroundPosition:a.overlayImagePosition||"center",backgroundRepeat:a.overlayImageRepeat||"no-repeat",backgroundAttachment:a.overlayImageAttachment||"scroll"}:{}}):null,vt=()=>jsxRuntimeExports.jsxs(Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%",p:`${Math.max(2,X/3)}px`,gap:`${Math.max(1,K)}px`,fontFamily:a.fontFamily!==defaultProps$d.fontFamily?a.fontFamily.includes("'")||a.fontFamily.includes('"')||a.fontFamily.includes(",")||a.fontFamily==="inherit"?a.fontFamily:`'${a.fontFamily}'`:void 0,children:[jsxRuntimeExports.jsx(Box,{width:"100%",mb:`${Math.max(2,X/2)}px`,children:jsxRuntimeExports.jsxs(Text$1,{fontWeight:"bold",color:a.headerTextColor,fontSize:yt,textAlign:"center",children:[re[Ee.getMonth()]," / ",Ee.getFullYear()]})}),jsxRuntimeExports.jsx(Grid,{templateColumns:"repeat(7, 1fr)",gap:K,mb:`${Math.max(2,X/3)}px`,width:"100%",borderTop:"1px solid",borderTopColor:a.calendarBorderColor,borderBottom:"1px solid",borderBottomColor:a.calendarBorderColor,children:Xe.map(it=>jsxRuntimeExports.jsx(Box,{p:`${Math.max(1,K+2)}px`,textAlign:"center",fontWeight:"bold",fontSize:jt,color:a.headerTextColor,minH:`${Math.max(16,bt+4)}px`,display:"flex",alignItems:"center",justifyContent:"center",children:it},it))}),jsxRuntimeExports.jsx(Grid,{templateColumns:"repeat(7, 1fr)",gap:K,width:"100%",flex:"1",borderBottom:"1px solid",borderBottomColor:a.calendarBorderColor,pb:1,children:wt.map((it,ae)=>{if(it===null)return jsxRuntimeExports.jsx(Box,{display:"flex",alignItems:"center",justifyContent:"center"},ae);const Fe=Z.getDate()===it&&Z.getMonth()===Ee.getMonth()&&Z.getFullYear()===Ee.getFullYear(),ee=()=>{if(!Fe)return{};if(a.highlightType==="svg"&&a.highlightSvg){let Be=a.highlightSvg;return Be=Be.replace(/fill\s*=\s*["'][^"']*["']/gi,`fill="${a.highlightColor}"`),Be.includes("fill=")||(Be=Be.replace(/<svg([^>]*)>/i,`<svg$1 fill="${a.highlightColor}">`)),{backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(Be)}")`,backgroundSize:"80%",backgroundRepeat:"no-repeat",backgroundPosition:"center",color:a.selectedDateTextColor}}else return{backgroundColor:a.highlightColor,color:a.selectedDateTextColor}};return jsxRuntimeExports.jsx(Box,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",children:jsxRuntimeExports.jsx(Box,{minH:`${G}px`,minW:`${G}px`,maxH:`${G}px`,maxW:`${G}px`,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"md",aspectRatio:"1",p:.5,...ee(),children:jsxRuntimeExports.jsx(Text$1,{fontSize:we,color:Fe?a.selectedDateTextColor:a.dateTextColor,fontWeight:Fe?"bold":"normal",children:it})})},it+ae)})})]});return s?jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:ct,className:a.className,innerRef:it=>{it&&e(it)},children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[Tt&&jsxRuntimeExports.jsx("div",{style:Tt}),vt(),fe&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:ht.borderRadius})]})}):fe?null:jsxRuntimeExports.jsx(Box,{ref:i,style:{...ct,...Qe},className:qe,"data-node-id":r,onClick:et,onMouseEnter:Ye,onMouseLeave:nt,children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[Tt&&jsxRuntimeExports.jsx("div",{style:Tt}),vt()]})})};Calendar.craft={displayName:"Calendar",props:defaultProps$d,related:{toolbar:CalendarSettings},rules:{canDrag:t=>{const e=t.data.props.isChildOfButton||t.data.parent&&t.data.parent.includes("Button"),o=t.data.props.isChildOfGroup||t.data.parent&&t.data.parent.includes("Group");return!e&&!o}}};const SectionHeader$7=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$7.displayName="SectionHeader";const SectionCard$7=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$7.displayName="SectionCard";const directionOptions=[{label:"Ngang",value:"horizontal"},{label:"Dọc",value:"vertical"}],LineDesign=React.memo(t=>{const e=compilerRuntimeExports.c(66),{ctx:o}=t,{props:r,updateProp:s}=o,i=(r==null?void 0:r.direction)||"horizontal",a=useIsMobile();let c,l,d,u,m,R,p,j,x,g,h,E,w,C,b,v,_,I,$;if(e[0]!==i||e[1]!==a||e[2]!==s){const F=createListCollection({items:directionOptions});let W;e[22]!==s?(W=O=>{s("direction",O),s("width","100px"),s("height","100px")},e[22]=s,e[23]=W):W=e[23];const z=W;let H;e[24]===Symbol.for("react.memo_cache_sentinel")?(H={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[24]=H):H=e[24];const U=H;p=Stack,R=SectionCard$7,e[25]===Symbol.for("react.memo_cache_sentinel")?(h=jsxRuntimeExports.jsx(SectionHeader$7,{icon:MdLinearScale,title:"Đường kẻ"}),e[25]=h):h=e[25],m=Stack,g=3,u=Box,$="w-full flex items-center justify-between gap-3",e[26]===Symbol.for("react.memo_cache_sentinel")?(x=jsxRuntimeExports.jsx(Text$1,{...U,children:"Hướng"}),e[26]=x):x=e[26],d=SelectRoot,E=F,e[27]!==i?(w=[i],e[27]=i,e[28]=w):w=e[28],e[29]!==z?(C=O=>z(O.value[0]),e[29]=z,e[30]=C):C=e[30];const D=a?"top":"bottom";e[31]!==D?(b={placement:D},e[31]=D,e[32]=b):b=e[32],v="sm",_="custom-select",e[33]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn hướng"})})}),e[33]=I):I=e[33],l=SelectPositioner,c=SelectContent,j=F.items.map(_temp$p),e[0]=i,e[1]=a,e[2]=s,e[3]=c,e[4]=l,e[5]=d,e[6]=u,e[7]=m,e[8]=R,e[9]=p,e[10]=j,e[11]=x,e[12]=g,e[13]=h,e[14]=E,e[15]=w,e[16]=C,e[17]=b,e[18]=v,e[19]=_,e[20]=I,e[21]=$}else c=e[3],l=e[4],d=e[5],u=e[6],m=e[7],R=e[8],p=e[9],j=e[10],x=e[11],g=e[12],h=e[13],E=e[14],w=e[15],C=e[16],b=e[17],v=e[18],_=e[19],I=e[20],$=e[21];let A;e[34]!==c||e[35]!==j?(A=jsxRuntimeExports.jsx(c,{children:j}),e[34]=c,e[35]=j,e[36]=A):A=e[36];let T;e[37]!==l||e[38]!==A?(T=jsxRuntimeExports.jsx(l,{children:A}),e[37]=l,e[38]=A,e[39]=T):T=e[39];let L;e[40]!==d||e[41]!==T||e[42]!==E||e[43]!==w||e[44]!==C||e[45]!==b||e[46]!==v||e[47]!==_||e[48]!==I?(L=jsxRuntimeExports.jsxs(d,{collection:E,value:w,onValueChange:C,positioning:b,size:v,className:_,children:[I,T]}),e[40]=d,e[41]=T,e[42]=E,e[43]=w,e[44]=C,e[45]=b,e[46]=v,e[47]=_,e[48]=I,e[49]=L):L=e[49];let P;e[50]!==u||e[51]!==x||e[52]!==L||e[53]!==$?(P=jsxRuntimeExports.jsxs(u,{className:$,children:[x,L]}),e[50]=u,e[51]=x,e[52]=L,e[53]=$,e[54]=P):P=e[54];let N;e[55]!==m||e[56]!==g||e[57]!==P?(N=jsxRuntimeExports.jsx(m,{gap:g,children:P}),e[55]=m,e[56]=g,e[57]=P,e[58]=N):N=e[58];let k;e[59]!==R||e[60]!==h||e[61]!==N?(k=jsxRuntimeExports.jsxs(R,{children:[h,N]}),e[59]=R,e[60]=h,e[61]=N,e[62]=k):k=e[62];let B;return e[63]!==p||e[64]!==k?(B=jsxRuntimeExports.jsx(p,{children:k}),e[63]=p,e[64]=k,e[65]=B):B=e[65],B});LineDesign.displayName="LineDesign";const LineSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp2$f);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableBorder:!0,design:_temp3$8}),t[0]=e):e=t[0],e};function _temp$p(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp2$f(t){return{props:t.data.props}}function _temp3$8(t){return jsxRuntimeExports.jsx(LineDesign,{ctx:t})}const defaultProps$c={width:"100px",height:"100px",minHeight:"none",top:0,left:0,direction:"horizontal",padding:0,borderWidth:[5,0,0,0],borderStyle:"solid",borderColor:"#000000",radius:0,borderRadius:[0,0,0,0],blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,blur:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",scale:100,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Line=t=>{const{connectors:{connect:e},id:o}=Ne(V=>({id:V.id})),{enabled:r}=Pe(V=>({enabled:V.options.enabled})),s={...defaultProps$c,...t},{width:i,height:a,minHeight:c,top:l,left:d,direction:u,padding:m,borderWidth:R,borderStyle:p,borderColor:j,radius:x,borderRadius:g,blendMode:h,contrast:E,brightness:w,saturate:C,grayscale:b,opacity:v,invert:_,sepia:I,hueRotate:$,rotate:A,rotateX:T,rotateY:L,skewX:P,skewY:N,perspective:k,transformOrigin:B,scale:F,events:W,displayAnimation:z,hoverAnimation:H,hidden:U}=s,D=useCraftInteractions({id:o,events:W,hoverAnimation:H,displayAnimation:z,enabled:r}),O=React.useMemo(()=>{const V=((R==null?void 0:R[0])||0)+m*2;return{w:u==="vertical"?`${V}px`:i,h:u==="vertical"?a:`${V}px`}},[u,R,m,i,a]),Q=React.useMemo(()=>{const V=assembleBaseStyles({width:O.w,height:O.h,top:l,left:d,blendMode:h,contrast:E,brightness:w,saturate:C,grayscale:b,opacity:v,invert:_,sepia:I,hueRotate:$,rotate:A,rotateX:T,rotateY:L,skewX:P,skewY:N,perspective:k,transformOrigin:B,minHeight:c,scale:F},{allowPosition:!0,defaults:defaultProps$c});return V.padding=u==="vertical"?"0 10px":"10px 0",V},[O.w,O.h,l,d,h,E,w,C,b,v,_,I,$,A,T,L,P,N,k,B,c,F,u]),q=React.useMemo(()=>{const V=computeBorderRadius({borderRadius:g,radius:x}),de={width:"100%",height:"100%",borderStyle:p,borderColor:j};return u==="vertical"?Object.assign(de,{borderWidth:`0 0 0 ${R[0]}px`}):Object.assign(de,{borderWidth:`${R[0]}px 0 0 0`}),V&&(de.borderRadius=V),minimizeStyle(de)},[u,R,p,j,g,x]),Y=Q;return r?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:u==="vertical"?{height:"height"}:{width:"width"},style:Y,className:`${s.className||""} container`,children:[jsxRuntimeExports.jsx("div",{style:q}),U&&jsxRuntimeExports.jsx(OverlayHidden,{})]}):U?null:jsxRuntimeExports.jsx("div",{ref:V=>{V&&(e(V),D.ref.current=V)},style:Y,className:`${s.className||""} container`,"data-node-id":o,...D.eventHandlers,children:jsxRuntimeExports.jsx("div",{style:q})})};Line.craft={displayName:"Line",props:defaultProps$c,rules:{canDrag:()=>!0},related:{toolbar:LineSettings}};function formatDateTimeForInput(t){if(!t)return"";const e=new Date(t),o=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${o}-${r}-${s}T${i}:${a}`}function parseDateTimeFromInput(t){return new Date(t).toISOString()}const SectionHeader$6=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$6.displayName="SectionHeader";const SectionCard$6=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$6.displayName="SectionCard";const CountDesign=React.memo(t=>{const e=compilerRuntimeExports.c(306),{ctx:o}=t,{props:r,updateProp:s}=o,i=useIsMobile(),{hasFeature:a}=useViewport();let c;e[0]!==a?(c=a("countup_timer"),e[0]=a,e[1]=c):c=e[1];const l=c;let d;e[2]!==a?(d=a("custom_colors_fonts"),e[2]=a,e[3]=d):d=e[3];const u=d;let m;e[4]!==u||e[5]!==s?(m=ue=>{u&&s("fontFamily",ue)},e[4]=u,e[5]=s,e[6]=m):m=e[6];const R=m;let p,j,x,g,h,E,w,C,b,v,_,I,$,A,T,L,P,N,k,B,F,W,z,H,U,D;if(e[7]!==R||e[8]!==l||e[9]!==u||e[10]!==i||e[11]!==r||e[12]!==s){const ue=createListCollection({items:textTransformOptions});let Re,oe;e[39]===Symbol.for("react.memo_cache_sentinel")?(Re=[{value:"minutes",label:"Phút"},{value:"endTime",label:"Thời gian kết thúc"}],oe=createListCollection({items:Re}),e[39]=Re,e[40]=oe):(Re=e[39],oe=e[40]);const ce=oe;let je,ie,xe,pe,$e,Se,Ie,Me,He,fe,Ce,le,J;if(e[41]!==l||e[42]!==i||e[43]!==r.countMode||e[44]!==r.countType||e[45]!==s){$e=[{value:"countdown",label:"Count down"},{value:"countup",label:"Count up",disabled:!l}],Ie=i?"top":"bottom";let Bt;e[60]===Symbol.for("react.memo_cache_sentinel")?(Bt={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[60]=Bt):Bt=e[60],Se=Bt,E=Stack,pe=SectionCard$6,e[61]===Symbol.for("react.memo_cache_sentinel")?(J=jsxRuntimeExports.jsx(SectionHeader$6,{icon:MdTimer,title:"Cấu hình đếm ngược"}),e[61]=J):J=e[61],xe=Stack,Ce=3;let Ct;e[62]===Symbol.for("react.memo_cache_sentinel")?(Ct=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Kiểu"}),e[62]=Ct):Ct=e[62];let Ot;e[63]!==r.countType?(Ot=[r.countType],e[63]=r.countType,e[64]=Ot):Ot=e[64];let Wt;e[65]!==r.countMode||e[66]!==s?(Wt=vo=>{const Co=vo.value[0];s("countType",Co),Co==="endTime"&&r.countMode==="countup"&&s("countMode","countdown")},e[65]=r.countMode,e[66]=s,e[67]=Wt):Wt=e[67];let lo;e[68]!==Ie?(lo={placement:Ie},e[68]=Ie,e[69]=lo):lo=e[69];let go;e[70]===Symbol.for("react.memo_cache_sentinel")?(go=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu"})}),e[70]=go):go=e[70];let mo;e[71]===Symbol.for("react.memo_cache_sentinel")?(mo=jsxRuntimeExports.jsxs(SelectControl,{children:[go,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[71]=mo):mo=e[71];const bo=i?"200px":"500px";let Eo;e[72]===Symbol.for("react.memo_cache_sentinel")?(Eo=Re.map(_temp$o),e[72]=Eo):Eo=e[72];let yo;e[73]!==bo?(yo=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:bo,children:Eo})}),e[73]=bo,e[74]=yo):yo=e[74],e[75]!==Ot||e[76]!==Wt||e[77]!==lo||e[78]!==yo?(le=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ct,jsxRuntimeExports.jsxs(SelectRoot,{collection:ce,value:Ot,onValueChange:Wt,size:"sm",positioning:lo,className:"custom-select",children:[mo,yo]})]}),e[75]=Ot,e[76]=Wt,e[77]=lo,e[78]=yo,e[79]=le):le=e[79],ie=Box,He="w-full flex items-center justify-between gap-3",e[80]===Symbol.for("react.memo_cache_sentinel")?(fe=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Loại"}),e[80]=fe):fe=e[80],je=SelectRoot,Me=createListCollection({items:r.countType==="minutes"?$e:$e.filter(_temp2$e)}),e[41]=l,e[42]=i,e[43]=r.countMode,e[44]=r.countType,e[45]=s,e[46]=E,e[47]=je,e[48]=ie,e[49]=xe,e[50]=pe,e[51]=$e,e[52]=Se,e[53]=Ie,e[54]=Me,e[55]=He,e[56]=fe,e[57]=Ce,e[58]=le,e[59]=J}else E=e[46],je=e[47],ie=e[48],xe=e[49],pe=e[50],$e=e[51],Se=e[52],Ie=e[53],Me=e[54],He=e[55],fe=e[56],Ce=e[57],le=e[58],J=e[59];let se;e[81]!==r.countMode?(se=[r.countMode],e[81]=r.countMode,e[82]=se):se=e[82];let te;e[83]!==$e||e[84]!==s?(te=Bt=>{const Ct=Bt.value[0],Ot=$e.find(Wt=>Wt.value===Ct);Ot!=null&&Ot.disabled||s("countMode",Ct)},e[83]=$e,e[84]=s,e[85]=te):te=e[85];let be;e[86]!==Ie?(be={placement:Ie},e[86]=Ie,e[87]=be):be=e[87];let Z;e[88]===Symbol.for("react.memo_cache_sentinel")?(Z=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn loại"})}),e[88]=Z):Z=e[88];let Ee;e[89]===Symbol.for("react.memo_cache_sentinel")?(Ee=jsxRuntimeExports.jsxs(SelectControl,{children:[Z,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[89]=Ee):Ee=e[89];const me=i?"200px":"500px";let ge;e[90]!==$e||e[91]!==r.countType?(ge=(r.countType==="minutes"?$e:$e.filter(_temp3$7)).map(_temp4$4),e[90]=$e,e[91]=r.countType,e[92]=ge):ge=e[92];let Ke;e[93]!==me||e[94]!==ge?(Ke=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:me,children:ge})}),e[93]=me,e[94]=ge,e[95]=Ke):Ke=e[95];let Ue;e[96]!==je||e[97]!==Me||e[98]!==se||e[99]!==te||e[100]!==be||e[101]!==Ke?(Ue=jsxRuntimeExports.jsxs(je,{collection:Me,value:se,onValueChange:te,size:"sm",positioning:be,className:"custom-select",children:[Ee,Ke]}),e[96]=je,e[97]=Me,e[98]=se,e[99]=te,e[100]=be,e[101]=Ke,e[102]=Ue):Ue=e[102];let _e;e[103]!==ie||e[104]!==He||e[105]!==fe||e[106]!==Ue?(_e=jsxRuntimeExports.jsxs(ie,{className:He,children:[fe,Ue]}),e[103]=ie,e[104]=He,e[105]=fe,e[106]=Ue,e[107]=_e):_e=e[107];let Qe;e[108]!==Se||e[109]!==r.countType||e[110]!==r.minutes||e[111]!==s?(Qe=r.countType==="minutes"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...Se,children:"Số phút"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:r.minutes||10,onChange:Bt=>s("minutes",Bt),min:1,max:1440})]}),e[108]=Se,e[109]=r.countType,e[110]=r.minutes,e[111]=s,e[112]=Qe):Qe=e[112];let qe;e[113]!==Se||e[114]!==r.countType||e[115]!==r.endTime||e[116]!==s?(qe=r.countType==="endTime"&&jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...Se,children:"Kết thúc"}),jsxRuntimeExports.jsx(Input$1,{type:"datetime-local",value:formatDateTimeForInput(r.endTime),onChange:Bt=>s("endTime",parseDateTimeFromInput(Bt.target.value)),width:"55%",size:"sm"})]}),e[113]=Se,e[114]=r.countType,e[115]=r.endTime,e[116]=s,e[117]=qe):qe=e[117];let Ye;e[118]!==Se?(Ye=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Auto Count up"}),e[118]=Se,e[119]=Ye):Ye=e[119];let nt;e[120]!==s?(nt=Bt=>s("autoSwitchToCountUp",Bt.checked),e[120]=s,e[121]=nt):nt=e[121];let et;e[122]===Symbol.for("react.memo_cache_sentinel")?(et=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[122]=et):et=e[122];let re,Xe;e[123]===Symbol.for("react.memo_cache_sentinel")?(re=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),Xe=jsxRuntimeExports.jsx(SwitchLabel,{}),e[123]=re,e[124]=Xe):(re=e[123],Xe=e[124]);let tt;e[125]!==r.autoSwitchToCountUp||e[126]!==nt?(tt=jsxRuntimeExports.jsxs(SwitchRoot,{checked:r.autoSwitchToCountUp,onCheckedChange:nt,children:[et,re,Xe]}),e[125]=r.autoSwitchToCountUp,e[126]=nt,e[127]=tt):tt=e[127];let rt;e[128]!==Ye||e[129]!==tt?(rt=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ye,tt]}),e[128]=Ye,e[129]=tt,e[130]=rt):rt=e[130];let Rt;e[131]===Symbol.for("react.memo_cache_sentinel")?(Rt=[["showDays","Hiện ngày"],["showHours","Hiện giờ"],["showMinutes","Hiện phút"],["showSeconds","Hiện giây"]],e[131]=Rt):Rt=e[131];let wt;e[132]!==Se||e[133]!==r||e[134]!==s?(wt=jsxRuntimeExports.jsx(Stack,{gap:2,children:Rt.map(Bt=>{const[Ct,Ot]=Bt;return jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...Se,children:Ot}),jsxRuntimeExports.jsxs(SwitchRoot,{checked:r[Ct],onCheckedChange:Wt=>s(Ct,Wt.checked),children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{}),jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),jsxRuntimeExports.jsx(SwitchLabel,{})]})]},Ct)})}),e[132]=Se,e[133]=r,e[134]=s,e[135]=wt):wt=e[135];let St;e[136]!==xe||e[137]!==Ce||e[138]!==le||e[139]!==_e||e[140]!==Qe||e[141]!==qe||e[142]!==rt||e[143]!==wt?(St=jsxRuntimeExports.jsxs(xe,{gap:Ce,children:[le,_e,Qe,qe,rt,wt]}),e[136]=xe,e[137]=Ce,e[138]=le,e[139]=_e,e[140]=Qe,e[141]=qe,e[142]=rt,e[143]=wt,e[144]=St):St=e[144],e[145]!==pe||e[146]!==J||e[147]!==St?(k=jsxRuntimeExports.jsxs(pe,{children:[J,St]}),e[145]=pe,e[146]=J,e[147]=St,e[148]=k):k=e[148];let bt;e[149]===Symbol.for("react.memo_cache_sentinel")?(bt=jsxRuntimeExports.jsx(SectionHeader$6,{icon:MdSpaceBar,title:"Khoảng cách"}),e[149]=bt):bt=e[149];let yt;e[150]!==Se?(yt=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Khoảng cách ô"}),e[150]=Se,e[151]=yt):yt=e[151];const jt=r.spacing||8;let we;e[152]!==s?(we=Bt=>s("spacing",Bt),e[152]=s,e[153]=we):we=e[153];let G;e[154]!==jt||e[155]!==we?(G=jsxRuntimeExports.jsx(DraggableNumberInput,{value:jt,onChange:we,min:0,max:64}),e[154]=jt,e[155]=we,e[156]=G):G=e[156],e[157]!==yt||e[158]!==G?(B=jsxRuntimeExports.jsxs(SectionCard$6,{children:[bt,jsxRuntimeExports.jsx(Stack,{gap:3,children:jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[yt,G]})})]}),e[157]=yt,e[158]=G,e[159]=B):B=e[159],h=SectionCard$6,e[160]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsx(SectionHeader$6,{icon:MdTextFields,title:"Kiểu chữ"}),e[160]=N):N=e[160],g=Stack,_=3;const X=u?"":"text-gray-400";let K;e[161]!==Se||e[162]!==X?(K=jsxRuntimeExports.jsx(Text$1,{...Se,className:X,children:"Font"}),e[161]=Se,e[162]=X,e[163]=K):K=e[163];const ne=u?"":"opacity-50 cursor-not-allowed pointer-events-none",ve=r.fontFamily||"inherit";let Te;e[164]!==R||e[165]!==ne||e[166]!==ve?(Te=jsxRuntimeExports.jsx(StyledFontSelector,{className:ne,value:ve,options:fonts,onChange:R}),e[164]=R,e[165]=ne,e[166]=ve,e[167]=Te):Te=e[167];let Le;e[168]!==u?(Le=!u&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown$1,{})}),e[168]=u,e[169]=Le):Le=e[169];let st;e[170]!==Te||e[171]!==Le?(st=jsxRuntimeExports.jsxs(Box,{className:"w-[55%] relative",children:[Te,Le]}),e[170]=Te,e[171]=Le,e[172]=st):st=e[172],e[173]!==K||e[174]!==st?(I=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[K,st]}),e[173]=K,e[174]=st,e[175]=I):I=e[175];let ft;e[176]!==Se?(ft=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Cỡ chữ"}),e[176]=Se,e[177]=ft):ft=e[177];const ht=r.fontSize||"24px";let ct;e[178]!==ht?(ct=ht.toString(),e[178]=ht,e[179]=ct):ct=e[179];const Et=parseInt(ct);let Tt;e[180]!==s?(Tt=Bt=>s("fontSize",`${Bt}px`),e[180]=s,e[181]=Tt):Tt=e[181];let vt;e[182]!==Et||e[183]!==Tt?(vt=jsxRuntimeExports.jsx(DraggableNumberInput,{value:Et,onChange:Tt,min:8,max:300}),e[182]=Et,e[183]=Tt,e[184]=vt):vt=e[184],e[185]!==ft||e[186]!==vt?($=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[ft,vt]}),e[185]=ft,e[186]=vt,e[187]=$):$=e[187];const it=String(r.fontWeight||"400")==="700",ae=(r.fontStyle||"normal")==="italic",Fe=String(r.textDecoration||"none"),ee=Fe.includes("underline"),Be=Fe.includes("line-through"),ze=(r.textTransform||"none")==="uppercase";let Ge;e[188]!==r||e[189]!==s?(Ge=Bt=>{const Ct=String(r.textDecoration||"none"),Ot=new Set(Ct==="none"?[]:Ct.split(/\s+/));Ot.has(Bt)?Ot.delete(Bt):Ot.add(Bt);const Wt=Ot.size?Array.from(Ot).join(" "):"none";s("textDecoration",Wt)},e[188]=r,e[189]=s,e[190]=Ge):Ge=e[190];const We=Ge,Ve=`px-2 py-1 border rounded text-sm ${it?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Je;e[191]!==it||e[192]!==s?(Je=()=>s("fontWeight",it?"400":"700"),e[191]=it,e[192]=s,e[193]=Je):Je=e[193];let he;e[194]===Symbol.for("react.memo_cache_sentinel")?(he=jsxRuntimeExports.jsx(MdFormatBold,{}),e[194]=he):he=e[194];let at;e[195]!==Ve||e[196]!==Je?(at=jsxRuntimeExports.jsx("button",{type:"button",className:Ve,onClick:Je,children:he}),e[195]=Ve,e[196]=Je,e[197]=at):at=e[197];const xt=`px-2 py-1 border rounded text-sm ${ae?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let gt;e[198]!==ae||e[199]!==s?(gt=()=>s("fontStyle",ae?"normal":"italic"),e[198]=ae,e[199]=s,e[200]=gt):gt=e[200];let Oe;e[201]===Symbol.for("react.memo_cache_sentinel")?(Oe=jsxRuntimeExports.jsx(MdFormatItalic,{}),e[201]=Oe):Oe=e[201];let Ze;e[202]!==xt||e[203]!==gt?(Ze=jsxRuntimeExports.jsx("button",{type:"button",className:xt,onClick:gt,children:Oe}),e[202]=xt,e[203]=gt,e[204]=Ze):Ze=e[204];const kt=`px-2 py-1 border rounded text-sm ${ee?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Mt;e[205]!==We?(Mt=()=>We("underline"),e[205]=We,e[206]=Mt):Mt=e[206];let At;e[207]===Symbol.for("react.memo_cache_sentinel")?(At=jsxRuntimeExports.jsx(MdFormatUnderlined,{}),e[207]=At):At=e[207];let pt;e[208]!==kt||e[209]!==Mt?(pt=jsxRuntimeExports.jsx("button",{type:"button",className:kt,onClick:Mt,children:At}),e[208]=kt,e[209]=Mt,e[210]=pt):pt=e[210];const It=`px-2 py-1 border rounded text-sm ${Be?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Nt;e[211]!==We?(Nt=()=>We("line-through"),e[211]=We,e[212]=Nt):Nt=e[212];let $t;e[213]===Symbol.for("react.memo_cache_sentinel")?($t=jsxRuntimeExports.jsx(MdStrikethroughS,{}),e[213]=$t):$t=e[213];let zt;e[214]!==It||e[215]!==Nt?(zt=jsxRuntimeExports.jsx("button",{type:"button",className:It,onClick:Nt,children:$t}),e[214]=It,e[215]=Nt,e[216]=zt):zt=e[216];const _t=`px-2 py-1 border rounded text-sm ${ze?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Xt;e[217]!==ze||e[218]!==s?(Xt=()=>s("textTransform",ze?"none":"uppercase"),e[217]=ze,e[218]=s,e[219]=Xt):Xt=e[219];let Gt;e[220]===Symbol.for("react.memo_cache_sentinel")?(Gt=jsxRuntimeExports.jsx(RxLetterCaseUppercase,{}),e[220]=Gt):Gt=e[220];let Vt;e[221]!==_t||e[222]!==Xt?(Vt=jsxRuntimeExports.jsx("button",{type:"button",className:_t,onClick:Xt,children:Gt}),e[221]=_t,e[222]=Xt,e[223]=Vt):Vt=e[223],e[224]!==at||e[225]!==Ze||e[226]!==pt||e[227]!==zt||e[228]!==Vt?(A=jsxRuntimeExports.jsx(Box,{className:"flex flex-wrap gap-2",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[at,Ze,pt,zt,Vt]})}),e[224]=at,e[225]=Ze,e[226]=pt,e[227]=zt,e[228]=Vt,e[229]=A):A=e[229];let Kt;e[230]===Symbol.for("react.memo_cache_sentinel")?(Kt=["left","center","right","justify"],e[230]=Kt):Kt=e[230],e[231]!==r||e[232]!==s?(T=jsxRuntimeExports.jsx(Box,{className:"w-full flex items-center justify-between",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Kt.map(Bt=>jsxRuntimeExports.jsxs("button",{type:"button",className:`p-1.5 rounded border ${(r.textAlign||"left")===Bt?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`,onClick:()=>s("textAlign",Bt),children:[Bt==="left"&&jsxRuntimeExports.jsx(MdFormatAlignLeft,{}),Bt==="center"&&jsxRuntimeExports.jsx(MdFormatAlignCenter,{}),Bt==="right"&&jsxRuntimeExports.jsx(MdFormatAlignRight,{}),Bt==="justify"&&jsxRuntimeExports.jsx(MdFormatAlignJustify,{})]},Bt))})}),e[231]=r,e[232]=s,e[233]=T):T=e[233];const fo=r.color||"#000000";let Yt;e[234]!==s?(Yt=Bt=>s("color",Bt),e[234]=s,e[235]=Yt):Yt=e[235],e[236]!==fo||e[237]!==Yt?(L=jsxRuntimeExports.jsx(ColorControl,{label:"Màu chữ",value:fo,onChange:Yt,size:"xs",showValueText:!0,previewSize:24}),e[236]=fo,e[237]=Yt,e[238]=L):L=e[238];let eo;e[239]===Symbol.for("react.memo_cache_sentinel")?(eo=jsxRuntimeExports.jsx(RiLineHeight2,{}),e[239]=eo):eo=e[239];const no=r.lineHeight||"1.4";let co;if(e[240]!==no){let Bt;e[242]===Symbol.for("react.memo_cache_sentinel")?(Bt=/[^0-9.]/g,e[242]=Bt):Bt=e[242],co=no.toString().replace(Bt,""),e[240]=no,e[241]=co}else co=e[241];const oo=Number(co);let qt;e[243]!==s?(qt=Bt=>s("lineHeight",String(Bt)),e[243]=s,e[244]=qt):qt=e[244];let Qt;e[245]!==oo||e[246]!==qt?(Qt=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[eo,jsxRuntimeExports.jsx(DraggableNumberInput,{value:oo,onChange:qt,min:.5,max:5})]}),e[245]=oo,e[246]=qt,e[247]=Qt):Qt=e[247];let po;e[248]===Symbol.for("react.memo_cache_sentinel")?(po=jsxRuntimeExports.jsx(RiLetterSpacing2,{}),e[248]=po):po=e[248];const ro=r.letterSpacing||"0";let io;if(e[249]!==ro){let Bt;e[251]===Symbol.for("react.memo_cache_sentinel")?(Bt=/[^0-9.-]/g,e[251]=Bt):Bt=e[251],io=ro.toString().replace(Bt,""),e[249]=ro,e[250]=io}else io=e[250];const to=Number(io);let so;e[252]!==s?(so=Bt=>s("letterSpacing",String(Bt)),e[252]=s,e[253]=so):so=e[253];let Jt;e[254]!==to||e[255]!==so?(Jt=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[po,jsxRuntimeExports.jsx(DraggableNumberInput,{value:to,onChange:so,min:-10,max:50})]}),e[254]=to,e[255]=so,e[256]=Jt):Jt=e[256],e[257]!==Qt||e[258]!==Jt?(P=jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[Qt,Jt]}),e[257]=Qt,e[258]=Jt,e[259]=P):P=e[259],x=Box,b="w-full flex items-center justify-between gap-3",e[260]!==Se?(v=jsxRuntimeExports.jsx(Text$1,{...Se,children:"Text Transform"}),e[260]=Se,e[261]=v):v=e[261],j=SelectRoot,W=ue;const ao=r.textTransform||"none";e[262]!==ao?(z=[ao],e[262]=ao,e[263]=z):z=e[263],e[264]!==s?(H=Bt=>s("textTransform",Bt.value[0]),e[264]=s,e[265]=H):H=e[265];const uo=i?"top":"bottom";e[266]!==uo?(U={placement:uo},e[266]=uo,e[267]=U):U=e[267],D="sm",w="custom-select",e[268]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsx(SelectControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn text transform"})})}),e[268]=C):C=e[268],p=SelectContent,F=ue.items.map(_temp5$4),e[7]=R,e[8]=l,e[9]=u,e[10]=i,e[11]=r,e[12]=s,e[13]=p,e[14]=j,e[15]=x,e[16]=g,e[17]=h,e[18]=E,e[19]=w,e[20]=C,e[21]=b,e[22]=v,e[23]=_,e[24]=I,e[25]=$,e[26]=A,e[27]=T,e[28]=L,e[29]=P,e[30]=N,e[31]=k,e[32]=B,e[33]=F,e[34]=W,e[35]=z,e[36]=H,e[37]=U,e[38]=D}else p=e[13],j=e[14],x=e[15],g=e[16],h=e[17],E=e[18],w=e[19],C=e[20],b=e[21],v=e[22],_=e[23],I=e[24],$=e[25],A=e[26],T=e[27],L=e[28],P=e[29],N=e[30],k=e[31],B=e[32],F=e[33],W=e[34],z=e[35],H=e[36],U=e[37],D=e[38];let O;e[269]!==p||e[270]!==F?(O=jsxRuntimeExports.jsx(p,{children:F}),e[269]=p,e[270]=F,e[271]=O):O=e[271];let Q;e[272]!==j||e[273]!==w||e[274]!==C||e[275]!==O||e[276]!==W||e[277]!==z||e[278]!==H||e[279]!==U||e[280]!==D?(Q=jsxRuntimeExports.jsxs(j,{collection:W,value:z,onValueChange:H,positioning:U,size:D,className:w,children:[C,O]}),e[272]=j,e[273]=w,e[274]=C,e[275]=O,e[276]=W,e[277]=z,e[278]=H,e[279]=U,e[280]=D,e[281]=Q):Q=e[281];let q;e[282]!==x||e[283]!==b||e[284]!==v||e[285]!==Q?(q=jsxRuntimeExports.jsxs(x,{className:b,children:[v,Q]}),e[282]=x,e[283]=b,e[284]=v,e[285]=Q,e[286]=q):q=e[286];let Y;e[287]!==g||e[288]!==_||e[289]!==I||e[290]!==$||e[291]!==A||e[292]!==T||e[293]!==L||e[294]!==P||e[295]!==q?(Y=jsxRuntimeExports.jsxs(g,{gap:_,children:[I,$,A,T,L,P,q]}),e[287]=g,e[288]=_,e[289]=I,e[290]=$,e[291]=A,e[292]=T,e[293]=L,e[294]=P,e[295]=q,e[296]=Y):Y=e[296];let V;e[297]!==h||e[298]!==N||e[299]!==Y?(V=jsxRuntimeExports.jsxs(h,{children:[N,Y]}),e[297]=h,e[298]=N,e[299]=Y,e[300]=V):V=e[300];let de;return e[301]!==E||e[302]!==k||e[303]!==B||e[304]!==V?(de=jsxRuntimeExports.jsxs(E,{children:[k,B,V]}),e[301]=E,e[302]=k,e[303]=B,e[304]=V,e[305]=de):de=e[305],de});CountDesign.displayName="CountDesign";const CountSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp6$4);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableSize:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableFilter:!0,enableTransform:!0,design:_temp7$3}),t[0]=e):e=t[0],e};function _temp$o(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp2$e(t){return t.value==="countdown"}function _temp3$7(t){return t.value==="countdown"}function _temp4$4(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,className:t.disabled?"opacity-50 cursor-not-allowed pointer-events-none":"",children:[jsxRuntimeExports.jsxs(SelectItemText,{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:t.disabled?"text-gray-400":"",children:t.label}),t.disabled&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown$1,{})})]}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp5$4(t){return jsxRuntimeExports.jsx(SelectItem,{item:t,children:jsxRuntimeExports.jsx(SelectItemText,{children:t.label})},t.value)}function _temp6$4(t){return{props:t.data.props}}function _temp7$3(t){return jsxRuntimeExports.jsx(CountDesign,{ctx:t})}const defaultProps$b={countType:"minutes",countMode:"countdown",minutes:10,endTime:new Date(Date.now()+10*60*1e3).toISOString(),autoSwitchToCountUp:!0,showDays:!0,showHours:!0,showMinutes:!0,showSeconds:!0,spacing:8,fontSize:"24px",fontWeight:"bold",color:"#000000",textAlign:"center",width:"auto",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,fontFamily:"inherit",fontStyle:"normal",shadow:0,text:"Text",enabled:!0,isChildOfButton:!1,lineHeight:"1.4",letterSpacing:"0",textTransform:"none",textDecoration:"none",opacity:100,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,invert:0,sepia:0,hueRotate:0,position:"absolute",top:0,left:0,backgroundType:"color",backgroundColor:"#ffffff00",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",syncCrossPlatform:!0,isBrand:!1,className:""},Count=t=>{const{connectors:{connect:e},parent:o,id:r}=Ne(ge=>({parent:ge.data.parent,id:ge.id})),s={...defaultProps$b,...t},{backgroundImage:i,backgroundType:a,backgroundPosition:c,backgroundSize:l,backgroundRepeat:d,backgroundAttachment:u,backgroundColor:m,shadow:R,shadowType:p,shadowX:j,shadowY:x,shadowBlur:g,shadowSpread:h,shadowColor:E,radius:w,borderRadius:C,borderWidth:b,borderStyle:v,borderColor:_,blendMode:I,contrast:$,brightness:A,saturate:T,grayscale:L,opacity:P,invert:N,sepia:k,hueRotate:B,rotate:F,rotateX:W,rotateY:z,skewX:H,skewY:U,perspective:D,transformOrigin:O,gradientAngle:Q,gradientType:q,gradientColor1:Y,gradientColor2:V,width:de}=s;C||defaultProps$b.borderRadius;const ue=b||defaultProps$b.borderWidth,[Re,oe]=reactExports.useState({days:0,hours:0,minutes:0,seconds:0}),[ce,je]=reactExports.useState(!1),ie=reactExports.useRef(null),xe=reactExports.useRef(null),pe=reactExports.useRef(null),{enabled:$e}=Pe(ge=>({enabled:ge.options.enabled})),Se=useCraftInteractions({id:r,events:s.events,hoverAnimation:s.hoverAnimation,displayAnimation:s.displayAnimation,enabled:$e}),Ie=()=>s.countType==="endTime"?new Date(s.endTime):new Date(Date.now()+s.minutes*60*1e3),Me=reactExports.useRef(null),He=()=>{xe.current||(xe.current=Ie()),Me.current||(Me.current=new Date);const ge=new Date,Ke=xe.current,Ue=Me.current;let _e,Qe=0,qe=0,Ye=0,nt=0;if(s.countMode==="countdown"&&!ce)if(_e=Ke.getTime()-ge.getTime(),_e<=0)if(s.autoSwitchToCountUp){ce||(je(!0),pe.current=Ke);const et=ge.getTime()-Ke.getTime();Qe=Math.floor(et/(1e3*60*60*24)),qe=Math.floor(et%(1e3*60*60*24)/(1e3*60*60)),Ye=Math.floor(et%(1e3*60*60)/(1e3*60)),nt=Math.floor(et%(1e3*60)/1e3)}else{oe({days:0,hours:0,minutes:0,seconds:0});return}else Qe=Math.floor(_e/(1e3*60*60*24)),qe=Math.floor(_e%(1e3*60*60*24)/(1e3*60*60)),Ye=Math.floor(_e%(1e3*60*60)/(1e3*60)),nt=Math.floor(_e%(1e3*60)/1e3);else if(ce&&pe.current){const et=ge.getTime()-pe.current.getTime();Qe=Math.floor(et/(1e3*60*60*24)),qe=Math.floor(et%(1e3*60*60*24)/(1e3*60*60)),Ye=Math.floor(et%(1e3*60*60)/(1e3*60)),nt=Math.floor(et%(1e3*60)/1e3)}else if(s.countMode==="countup"){const et=ge.getTime()-Ue.getTime(),re=Ke.getTime()-Ue.getTime(),Xe=Math.min(et,re);Qe=Math.floor(Xe/(1e3*60*60*24)),qe=Math.floor(Xe%(1e3*60*60*24)/(1e3*60*60)),Ye=Math.floor(Xe%(1e3*60*60)/(1e3*60)),nt=Math.floor(Xe%(1e3*60)/1e3)}oe({days:Qe,hours:qe,minutes:Ye,seconds:nt})};reactExports.useEffect(()=>(xe.current=Ie(),Me.current=new Date,pe.current=null,je(!1),He(),$e||(ie.current=setInterval(He,1e3)),()=>{ie.current&&clearInterval(ie.current)}),[s.countType,s.countMode,s.minutes,s.endTime,s.autoSwitchToCountUp,$e]);const fe=computeBorderRadius({borderRadius:C,radius:w}),Ce=computeBorder({borderWidth:ue,borderStyle:v,borderColor:_}),le=buildShadow({shadow:R,shadowType:p,shadowX:j,shadowY:x,shadowBlur:g,shadowSpread:h,shadowColor:E}),J=buildFilter({opacity:P,brightness:A,contrast:$,saturate:T,grayscale:L,invert:N,sepia:k,hueRotate:B,blur:0},p,le.filterShadow),se=buildBackground({backgroundType:a,backgroundColor:m,gradientType:q,gradientAngle:Q,gradientColor1:Y,gradientColor2:V,backgroundImage:i}),te=augmentImageBackground({backgroundType:a,backgroundImage:i,backgroundSize:l,backgroundPosition:c,backgroundRepeat:d,backgroundAttachment:u}),be=buildTransform({rotate:F,rotateX:W,rotateY:z,skewX:H,skewY:U,perspective:D}),Z=minimizeStyle({width:de,position:s.isChildOfButton?"static":"absolute",top:s.top!==defaultProps$b.top?`${s.top.toString().includes("px")?s.top:s.top+"px"}`:void 0,left:s.left!==defaultProps$b.left?`${s.left.toString().includes("px")?s.left:s.left+"px"}`:void 0,opacity:(s.opacity||100)/100,transformOrigin:O!==defaultProps$b.transformOrigin?O:void 0}),Ee=minimizeStyle({width:"100%",filter:J,boxShadow:le.boxShadow,color:s.color!==defaultProps$b.color?s.color:void 0,fontSize:s.fontSize!==defaultProps$b.fontSize?`${s.fontSize.includes("px")?s.fontSize:s.fontSize+"px"}`:void 0,fontFamily:s.fontFamily!==defaultProps$b.fontFamily?s.fontFamily.includes("'")||s.fontFamily.includes('"')||s.fontFamily.includes(",")||s.fontFamily==="inherit"?s.fontFamily:`'${s.fontFamily}'`:void 0,fontStyle:s.fontStyle!==defaultProps$b.fontStyle?s.fontStyle:void 0,lineHeight:s.lineHeight!==defaultProps$b.lineHeight?s.lineHeight:void 0,letterSpacing:s.letterSpacing!==defaultProps$b.letterSpacing?s.letterSpacing:void 0,textTransform:s.textTransform!==defaultProps$b.textTransform?s.textTransform:void 0,textDecoration:s.textDecoration!==defaultProps$b.textDecoration?s.textDecoration:void 0,fontWeight:s.fontWeight!==defaultProps$b.fontWeight?s.fontWeight:void 0,background:se,...te,borderRadius:fe,mixBlendMode:I!=defaultProps$b.blendMode?I:void 0,transform:be,...Ce||{}}),me=()=>{const ge=[];return s.showDays&&ge.push(jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:s.spacing+"px",...Ee},children:Re.days.toString().padStart(2,"0")},"days")),s.showHours&&ge.push(jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:s.spacing+"px",...Ee},children:Re.hours.toString().padStart(2,"0")},"hours")),s.showMinutes&&ge.push(jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:s.spacing+"px",...Ee},children:Re.minutes.toString().padStart(2,"0")},"minutes")),s.showSeconds&&ge.push(jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:"0px",...Ee},children:Re.seconds.toString().padStart(2,"0")},"seconds")),ge.length>0?ge:[jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:s.spacing+"px",...Ee},children:"00"},"default"),jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:s.spacing+"px",...Ee},children:"00"},"default2"),jsxRuntimeExports.jsx("div",{style:{display:"inline-block",marginRight:"0px",...Ee},children:"00"},"default3")]};return $e?jsxRuntimeExports.jsxs(EditableWrapper,{propKey:{width:"width"},style:Z,innerRef:ge=>{ge&&e(ge)},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",outline:"none",textAlign:s.textAlign,display:"flex",alignItems:"center",justifyContent:"space-between"},children:me()}),s.hidden&&jsxRuntimeExports.jsx(OverlayHidden,{})]}):s.hidden?null:jsxRuntimeExports.jsx("div",{ref:Se.ref,style:Z,"data-node-id":r,...Se.eventHandlers,className:s.className||"",children:jsxRuntimeExports.jsx("div",{style:{width:"100%",outline:"none",textAlign:s.textAlign,display:"flex",alignItems:"center",justifyContent:s.textAlign==="center"?"center":s.textAlign==="right"?"flex-end":"flex-start"},children:me()})})};Count.craft={displayName:"Count",props:defaultProps$b,related:{toolbar:CountSettings}};const ContentWrapperSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$n);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{})}),t[0]=e):e=t[0],e};function _temp$n(t){return{props:t.data.props}}const defaultProps$a={fontFamily:"Arial, sans-serif",fontSize:"16px",fontWeight:"normal",textColor:"#333333",textAlign:"left",direction:"ltr",padding:"0",children:null,locked:!0,syncCrossPlatform:!0,zoom:1},ContentWrapper=t=>{const e=compilerRuntimeExports.c(71),{connectors:o,actions:r}=Ne(),{connect:s}=o,{setProp:i}=r,{isLogoEditor:a}=useViewport();let c;e[0]!==t?(c={...defaultProps$a,...t},e[0]=t,e[1]=c):c=e[1];const l=c;let d;e[2]!==l.zoom||e[3]!==i?(d=()=>{const w=Math.min((l.zoom||1)+.1,3);i(C=>C.zoom=w)},e[2]=l.zoom,e[3]=i,e[4]=d):d=e[4];const u=d;let m;e[5]!==l.zoom||e[6]!==i?(m=()=>{const w=Math.max((l.zoom||1)-.1,.1);i(C=>C.zoom=w)},e[5]=l.zoom,e[6]=i,e[7]=m):m=e[7];const R=m;let p;e[8]!==i?(p=()=>{i(_temp$m)},e[8]=i,e[9]=p):p=e[9];const j=p;if(a){let w;e[10]!==l.direction||e[11]!==l.fontFamily||e[12]!==l.fontSize||e[13]!==l.fontWeight||e[14]!==l.padding||e[15]!==l.textAlign||e[16]!==l.textColor?(w={width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",position:"relative",fontFamily:l.fontFamily,fontSize:l.fontSize,fontWeight:l.fontWeight,color:l.textColor,textAlign:l.textAlign,direction:l.direction,padding:l.padding},e[10]=l.direction,e[11]=l.fontFamily,e[12]=l.fontSize,e[13]=l.fontWeight,e[14]=l.padding,e[15]=l.textAlign,e[16]=l.textColor,e[17]=w):w=e[17];const C=w,b=`scale(${l.zoom})`;let v;e[18]!==l.direction||e[19]!==l.fontFamily||e[20]!==l.fontSize||e[21]!==l.fontWeight||e[22]!==l.padding||e[23]!==l.textAlign||e[24]!==l.textColor||e[25]!==b?(v={width:"400px",height:"400px",transform:b,transformOrigin:"center center",backgroundColor:"#ffffff",border:"2px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",position:"relative",fontFamily:l.fontFamily,fontSize:l.fontSize,fontWeight:l.fontWeight,color:l.textColor,textAlign:l.textAlign,direction:l.direction,padding:l.padding},e[18]=l.direction,e[19]=l.fontFamily,e[20]=l.fontSize,e[21]=l.fontWeight,e[22]=l.padding,e[23]=l.textAlign,e[24]=l.textColor,e[25]=b,e[26]=v):v=e[26];const _=v;let I;e[27]===Symbol.for("react.memo_cache_sentinel")?(I={position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"8px",alignItems:"center",backgroundColor:"white",padding:"8px 16px",borderRadius:"24px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3},e[27]=I):I=e[27];const $=I;let A;e[28]!==s?(A=O=>{O&&s(O)},e[28]=s,e[29]=A):A=e[29];let T;e[30]!==_||e[31]!==t.children?(T=jsxRuntimeExports.jsx("div",{style:_,children:t.children}),e[30]=_,e[31]=t.children,e[32]=T):T=e[32];let L;e[33]===Symbol.for("react.memo_cache_sentinel")?(L=jsxRuntimeExports.jsx(FiZoomOut,{}),e[33]=L):L=e[33];let P;e[34]!==R?(P=jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:R,className:"hover:bg-gray-100",children:L}),e[34]=R,e[35]=P):P=e[35];let N;e[36]!==l.zoom?(N=Math.round((l.zoom||1)*100),e[36]=l.zoom,e[37]=N):N=e[37];let k;e[38]!==N?(k=jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-600 min-w-[50px] text-center",children:[N,"%"]}),e[38]=N,e[39]=k):k=e[39];let B;e[40]===Symbol.for("react.memo_cache_sentinel")?(B=jsxRuntimeExports.jsx(FiZoomIn,{}),e[40]=B):B=e[40];let F;e[41]!==u?(F=jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:u,className:"hover:bg-gray-100",children:B}),e[41]=u,e[42]=F):F=e[42];let W;e[43]===Symbol.for("react.memo_cache_sentinel")?(W=jsxRuntimeExports.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),e[43]=W):W=e[43];let z;e[44]===Symbol.for("react.memo_cache_sentinel")?(z=jsxRuntimeExports.jsx(FiRotateCcw,{}),e[44]=z):z=e[44];let H;e[45]!==j?(H=jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:j,className:"hover:bg-gray-100",children:z}),e[45]=j,e[46]=H):H=e[46];let U;e[47]!==P||e[48]!==k||e[49]!==F||e[50]!==H?(U=jsxRuntimeExports.jsxs("div",{style:$,children:[P,k,F,W,H]}),e[47]=P,e[48]=k,e[49]=F,e[50]=H,e[51]=U):U=e[51];let D;return e[52]!==C||e[53]!==A||e[54]!==T||e[55]!==U?(D=jsxRuntimeExports.jsxs("div",{ref:A,className:"content-wrapper logo-mode",id:"content-wrapper",style:C,children:[T,U]}),e[52]=C,e[53]=A,e[54]=T,e[55]=U,e[56]=D):D=e[56],D}let x;e[57]!==l.direction||e[58]!==l.fontFamily||e[59]!==l.fontSize||e[60]!==l.fontWeight||e[61]!==l.padding||e[62]!==l.textAlign||e[63]!==l.textColor?(x={width:"100%",minHeight:"100vh",position:"relative",fontFamily:l.fontFamily,fontSize:l.fontSize,fontWeight:l.fontWeight,color:l.textColor,textAlign:l.textAlign,direction:l.direction,padding:l.padding},e[57]=l.direction,e[58]=l.fontFamily,e[59]=l.fontSize,e[60]=l.fontWeight,e[61]=l.padding,e[62]=l.textAlign,e[63]=l.textColor,e[64]=x):x=e[64];const g=x;let h;e[65]!==s?(h=w=>{w&&s(w)},e[65]=s,e[66]=h):h=e[66];let E;return e[67]!==t.children||e[68]!==h||e[69]!==g?(E=jsxRuntimeExports.jsx("div",{ref:h,className:"content-wrapper",id:"content-wrapper",style:g,children:t.children}),e[67]=t.children,e[68]=h,e[69]=g,e[70]=E):E=e[70],E};ContentWrapper.craft={displayName:"Content Wrapper",props:defaultProps$a,rules:{canDrag:()=>!1,canDrop:()=>!1,canMoveIn:()=>!0},related:{toolbar:ContentWrapperSettings}};function _temp$m(t){return t.zoom=1}const PageDesign=React.memo(t=>{const e=compilerRuntimeExports.c(1);let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),e[0]=o):o=e[0],o});PageDesign.displayName="PageDesign";const PageSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$l);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableBackground:!0,enableBorder:!0,enableShadow:!0,enableSize:!0,design:_temp2$d}),t[0]=e):e=t[0],e};function _temp$l(t){return{props:t.data.props}}function _temp2$d(t){return jsxRuntimeExports.jsx(PageDesign,{ctx:t})}const defaultProps$9={lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"100%",height:"auto",minHeight:"none",top:0,left:0,blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,overflow:"hidden",syncCrossPlatform:!0,className:""},Page=t=>{const{connectors:{connect:e},id:o}=Ne(w=>({id:w.id})),r={...defaultProps$9,...t},{events:s,displayAnimation:i,hoverAnimation:a,hidden:c,className:l}=r,d=r.padding||defaultProps$9.padding,u=r.margin||defaultProps$9.margin;r.borderRadius||defaultProps$9.borderRadius,r.borderWidth||defaultProps$9.borderWidth;const{enabled:m}=Pe(w=>({enabled:w.options.enabled})),R=reactExports.useRef(null),p=useCraftInteractions({id:o,events:s,hoverAnimation:a,displayAnimation:i,enabled:m}),j=React.useMemo(()=>{const w=assembleBaseStyles(r,{allowPosition:!0,defaults:defaultProps$9});return r.justifyContent!==defaultProps$9.justifyContent&&(w.justifyContent=r.justifyContent),r.flexDirection!==defaultProps$9.flexDirection&&(w.flexDirection=r.flexDirection),r.alignItems!==defaultProps$9.alignItems&&(w.alignItems=r.alignItems),d.some((C,b)=>C!==defaultProps$9.padding[b])&&(w.padding=`${d[0]}px ${d[1]}px ${d[2]}px ${d[3]}px`),u.some((C,b)=>C!==defaultProps$9.margin[b])&&(w.margin=`${u[0]}px ${u[1]}px ${u[2]}px ${u[3]}px`),r.backgroundType==="video"&&(w.background="none"),w},[r]),x=React.useMemo(()=>({overlayType:r.overlayType,overlayBlendMode:r.overlayBlendMode,overlayOpacity:r.overlayOpacity,overlayColor:r.overlayColor,overlayGradientType:r.overlayGradientType,overlayGradientAngle:r.overlayGradientAngle,overlayGradientColor1:r.overlayGradientColor1,overlayGradientColor2:r.overlayGradientColor2,overlayImage:r.overlayImage,overlayImageSize:r.overlayImageSize,overlayImagePosition:r.overlayImagePosition,overlayImageRepeat:r.overlayImageRepeat,overlayImageAttachment:r.overlayImageAttachment}),[r.overlayType,r.overlayBlendMode,r.overlayOpacity,r.overlayColor,r.overlayGradientType,r.overlayGradientAngle,r.overlayGradientColor1,r.overlayGradientColor2,r.overlayImage,r.overlayImageSize,r.overlayImagePosition,r.overlayImageRepeat,r.overlayImageAttachment]),{backgroundOverlay:g,contentOverlay:h}=React.useMemo(()=>buildOverlayLayers(x,j.borderRadius),[x,j.borderRadius]),E=jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[g&&jsxRuntimeExports.jsx("div",{style:g}),r.children,h&&jsxRuntimeExports.jsx("div",{style:h}),c&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:j.borderRadius})]});return m?jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:j,className:`${l||""} container`,lockAspectRatio:r.lockAspectRatio,children:E}):c?null:jsxRuntimeExports.jsx("div",{ref:w=>{R.current=w,w&&e(w),p.ref.current=w},style:j,className:`${l||""} container`,"data-node-id":o,...p.eventHandlers,children:E})};Page.craft={displayName:"Page",props:defaultProps$9,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!0,canMoveOut:()=>!0},related:{toolbar:PageSettings}};const SectionHeader$5=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$5.displayName="SectionHeader";const SectionCard$5=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$5.displayName="SectionCard";const PopupDesign=React.memo(t=>{const e=compilerRuntimeExports.c(19),{ctx:o}=t,{props:r,updateProp:s}=o;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[0]=i):i=e[0];const a=i;let c;e[1]!==s?(c=b=>{s("autoOpen",b.checked)},e[1]=s,e[2]=c):c=e[2];const l=c;let d;e[3]!==s?(d=b=>{s("autoOpenDelay",Number(b.target.value))},e[3]=s,e[4]=d):d=e[4];const u=d;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=jsxRuntimeExports.jsx(SectionHeader$5,{icon:MdHourglassEmpty,title:"Tự mở Popup"}),e[5]=m):m=e[5];let R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R=jsxRuntimeExports.jsx(Text$1,{...a,children:"Bật tự mở"}),e[6]=R):R=e[6];const p=!!r.autoOpen;let j;e[7]===Symbol.for("react.memo_cache_sentinel")?(j=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[7]=j):j=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[8]=x):x=e[8];let g;e[9]!==l||e[10]!==p?(g=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[R,jsxRuntimeExports.jsxs(SwitchRoot,{checked:p,onCheckedChange:l,children:[j,x]})]}),e[9]=l,e[10]=p,e[11]=g):g=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=jsxRuntimeExports.jsx(Text$1,{...a,children:"Độ trễ (giây)"}),e[12]=h):h=e[12];const E=String(r.autoOpenDelay??0);let w;e[13]!==u||e[14]!==E?(w=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[h,jsxRuntimeExports.jsx(Input$1,{size:"sm",width:"55%",type:"number",min:0,value:E,onChange:u})]}),e[13]=u,e[14]=E,e[15]=w):w=e[15];let C;return e[16]!==w||e[17]!==g?(C=jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsxs(SectionCard$5,{children:[m,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[g,w]})]})}),e[16]=w,e[17]=g,e[18]=C):C=e[18],C});PopupDesign.displayName="PopupDesign";const PopupSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$k);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableSize:!0,enableFilter:!0,enableTransform:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableOverlay:!0,design:_temp2$c}),t[0]=e):e=t[0],e};function _temp$k(t){return{props:t.data.props}}function _temp2$c(t){return jsxRuntimeExports.jsx(PopupDesign,{ctx:t})}const defaultProps$8={lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"100%",height:"auto",minHeight:"none",blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},autoOpen:!1,autoOpenDelay:3,locked:!1,syncCrossPlatform:!0,isBrand:!1,className:""},Popup=t=>{const e={...defaultProps$8,...t},{enabled:o,actions:r}=Pe(tt=>({enabled:tt.options.enabled})),{connectors:{connect:s},id:i}=Ne(tt=>({selected:tt.events.selected})),{closePopup:a,currentPopupIdOpen:c,openPopup:l,registerAutoOpenPopup:d}=useViewport(),{flexDirection:u,alignItems:m,justifyContent:R,fillSpace:p,backgroundImage:j,backgroundPosition:x,backgroundSize:g,backgroundRepeat:h,backgroundAttachment:E,backgroundColor:w,padding:C,margin:b,shadow:v,shadowType:_,shadowX:I,shadowY:$,shadowBlur:A,shadowSpread:T,shadowColor:L,radius:P,borderRadius:N,borderWidth:k,borderStyle:B,borderColor:F,width:W,height:z,children:H,minHeight:U,blendMode:D,contrast:O,brightness:Q,saturate:q,grayscale:Y,opacity:V,invert:de,sepia:ue,hueRotate:Re,rotate:oe,rotateX:ce,rotateY:je,skewX:ie,skewY:xe,perspective:pe,transformOrigin:$e,lockAspectRatio:Se,gradientAngle:Ie,gradientType:Me,gradientColor1:He,gradientColor2:fe,events:Ce,displayAnimation:le,hoverAnimation:J,autoOpen:se,autoOpenDelay:te}=e,be=i===c,Z=C||defaultProps$8.padding,Ee=b||defaultProps$8.margin;N||defaultProps$8.borderRadius;const me=k||defaultProps$8.borderWidth,ge=useCraftInteractions({id:i,events:Ce||[],hoverAnimation:J,displayAnimation:le,enabled:o});reactExports.useEffect(()=>{!o&&se&&te>0&&d(i,te)},[o,se,te,i,d]);const Ke=React.useMemo(()=>{const tt=assembleBaseStyles({width:W,height:z,shadowType:_,shadowX:I,shadowY:$,shadowBlur:A,shadowSpread:T,shadowColor:L,shadow:v,borderRadius:N,borderWidth:k,borderStyle:B,borderColor:F,radius:P,blendMode:D,contrast:O,brightness:Q,saturate:q,grayscale:Y,opacity:V,invert:de,sepia:ue,hueRotate:Re,rotate:oe,rotateX:ce,rotateY:je,skewX:ie,skewY:xe,perspective:pe,transformOrigin:$e,minHeight:U,fillSpace:p,backgroundType:e.backgroundType,backgroundColor:w,gradientType:Me,gradientAngle:Ie,gradientColor1:He,gradientColor2:fe,backgroundImage:j,backgroundSize:g,backgroundPosition:x,backgroundRepeat:h,backgroundAttachment:E},{allowPosition:!0,defaults:defaultProps$8});return tt.position="absolute",tt.top=0,tt.left=0,R!==defaultProps$8.justifyContent&&(tt.justifyContent=R),u!==defaultProps$8.flexDirection&&(tt.flexDirection=u),m!==defaultProps$8.alignItems&&(tt.alignItems=m),Z.some((rt,Rt)=>rt!==defaultProps$8.padding[Rt])&&(tt.padding=`${Z[0]}px ${Z[1]}px ${Z[2]}px ${Z[3]}px`),Ee.some((rt,Rt)=>rt!==defaultProps$8.margin[Rt])&&(tt.margin=`${Ee[0]}px ${Ee[1]}px ${Ee[2]}px ${Ee[3]}px`),B!=="none"&&Array.isArray(me)&&me.every(Rt=>Rt===me[0])&&me[0]>0&&(tt.border=`${me[0]}px ${B} ${F}`),tt},[W,z,_,I,$,A,T,L,v,N,k,B,F,P,D,O,Q,q,Y,V,de,ue,Re,oe,ce,je,ie,xe,pe,$e,U,p,e.backgroundType,w,Me,Ie,He,fe,j,g,x,h,E,R,u,m,Z,Ee,me]),Ue=React.useMemo(()=>({overlayType:e.overlayType,overlayBlendMode:e.overlayBlendMode,overlayOpacity:e.overlayOpacity,overlayColor:e.overlayColor,overlayGradientType:e.overlayGradientType,overlayGradientAngle:e.overlayGradientAngle,overlayGradientColor1:e.overlayGradientColor1,overlayGradientColor2:e.overlayGradientColor2,overlayImage:e.overlayImage,overlayImageSize:e.overlayImageSize,overlayImagePosition:e.overlayImagePosition,overlayImageRepeat:e.overlayImageRepeat,overlayImageAttachment:e.overlayImageAttachment}),[e.overlayType,e.overlayBlendMode,e.overlayOpacity,e.overlayColor,e.overlayGradientType,e.overlayGradientAngle,e.overlayGradientColor1,e.overlayGradientColor2,e.overlayImage,e.overlayImageSize,e.overlayImagePosition,e.overlayImageRepeat,e.overlayImageAttachment]),{backgroundOverlay:_e,contentOverlay:Qe}=React.useMemo(()=>buildOverlayLayers(Ue,Ke.borderRadius),[Ue,Ke.borderRadius]),qe=_e||Qe,Ye=tt=>{tt.target===tt.currentTarget&&!o&&a()},nt=tt=>{tt.stopPropagation(),o?r.selectNode([]):a()},et=zIndex.popupMain;if(!be)return null;const Xe=jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[qe&&jsxRuntimeExports.jsx("div",{style:qe}),H,!o&&jsxRuntimeExports.jsx("button",{onClick:nt,style:{position:"absolute",top:"2px",right:"2px",color:"black",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",zIndex:zIndex.popupContent},title:"Close popup",children:"×"})]});return o?jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:et,backdropFilter:"blur(2px)"},children:jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:Ke,className:"popup-modal",lockAspectRatio:Se,innerRef:tt=>{tt&&s(tt)},children:Xe})}):jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:et,backdropFilter:"blur(2px)"},onClick:Ye,children:jsxRuntimeExports.jsx("div",{ref:ge.ref,style:{...Ke,left:void 0,top:void 0},"data-node-id":i,...ge.eventHandlers,children:Xe})})};Popup.craft={displayName:"Popup",props:defaultProps$8,related:{toolbar:PopupSettings}};const fontOptions=fonts,SectionHeader$4=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$4.displayName="SectionHeader";const SectionCard$4=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$4.displayName="SectionCard";const borderStyleOptions=[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"},{value:"groove",label:"Groove"},{value:"ridge",label:"Ridge"},{value:"inset",label:"Inset"},{value:"outset",label:"Outset"}],WishListDesign=React.memo(t=>{var Hs,Ws,Gs;const e=compilerRuntimeExports.c(369),{ctx:o}=t,{props:r,updateProp:s}=o,i=useIsMobile(),{hasFeature:a}=useViewport();let c;e[0]!==a?(c=a("custom_colors_fonts"),e[0]=a,e[1]=c):c=e[1];const l=c;let d;e[2]!==l||e[3]!==s?(d=Ft=>{l&&s("wishNameFontFamily",Ft)},e[2]=l,e[3]=s,e[4]=d):d=e[4];const u=d;let m;e[5]!==l||e[6]!==s?(m=Ft=>{l&&s("wishContentFontFamily",Ft)},e[5]=l,e[6]=s,e[7]=m):m=e[7];const R=m;let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=createListCollection({items:textTransformOptions}),e[8]=p):p=e[8];const j=p;let x;e[9]===Symbol.for("react.memo_cache_sentinel")?(x=createListCollection({items:borderStyleOptions}),e[9]=x):x=e[9];const g=x,h=i?"top":"bottom",E=_temp$j;let w;e[10]!==s?(w=(Ft,Ho)=>{s(Ft,[Ho,Ho,Ho,Ho])},e[10]=s,e[11]=w):w=e[11];const C=w;let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[12]=b):b=e[12];const v=b;let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=jsxRuntimeExports.jsx(SectionHeader$4,{icon:MdList,title:"Nội dung danh sách"}),e[13]=_):_=e[13];let I;e[14]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Text$1,{...v,children:"Số lời chúc tối đa"}),e[14]=I):I=e[14];const $=r.maxWishes||10;let A;e[15]!==s?(A=Ft=>s("maxWishes",Ft),e[15]=s,e[16]=A):A=e[16];let T;e[17]!==$||e[18]!==A?(T=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[I,jsxRuntimeExports.jsx(DraggableNumberInput,{value:$,min:1,max:100,onChange:A})]}),e[17]=$,e[18]=A,e[19]=T):T=e[19];let L;e[20]===Symbol.for("react.memo_cache_sentinel")?(L=jsxRuntimeExports.jsx(Text$1,{...v,children:"Hiển thị demo"}),e[20]=L):L=e[20];const P=!!r.showMockData;let N;e[21]!==s?(N=Ft=>s("showMockData",Ft.checked),e[21]=s,e[22]=N):N=e[22];let k;e[23]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[23]=k):k=e[23];let B;e[24]===Symbol.for("react.memo_cache_sentinel")?(B=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[24]=B):B=e[24];let F;e[25]!==P||e[26]!==N?(F=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[L,jsxRuntimeExports.jsxs(SwitchRoot,{checked:P,onCheckedChange:N,children:[k,B]})]}),e[25]=P,e[26]=N,e[27]=F):F=e[27];let W;e[28]!==T||e[29]!==F?(W=jsxRuntimeExports.jsxs(SectionCard$4,{children:[_,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[T,F]})]}),e[28]=T,e[29]=F,e[30]=W):W=e[30];let z;e[31]===Symbol.for("react.memo_cache_sentinel")?(z=jsxRuntimeExports.jsx(SectionHeader$4,{icon:MdTextFields,title:"Kiểu chữ"}),e[31]=z):z=e[31];let H;e[32]===Symbol.for("react.memo_cache_sentinel")?(H=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"bold",mb:2,color:"#333",children:"Tên người chúc"}),e[32]=H):H=e[32];const U=l?"":"text-gray-400";let D;e[33]!==U?(D=jsxRuntimeExports.jsx(Text$1,{...v,className:U,children:"Font"}),e[33]=U,e[34]=D):D=e[34];const O=l?"":"opacity-50 cursor-not-allowed pointer-events-none",Q=r.wishNameFontFamily||"inherit";let q;e[35]!==u||e[36]!==O||e[37]!==Q?(q=jsxRuntimeExports.jsx(StyledFontSelector,{className:O,value:Q,options:fontOptions,onChange:u}),e[35]=u,e[36]=O,e[37]=Q,e[38]=q):q=e[38];let Y;e[39]!==l?(Y=!l&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})}),e[39]=l,e[40]=Y):Y=e[40];let V;e[41]!==q||e[42]!==Y?(V=jsxRuntimeExports.jsxs(Box,{className:"w-[55%] relative",children:[q,Y]}),e[41]=q,e[42]=Y,e[43]=V):V=e[43];let de;e[44]!==D||e[45]!==V?(de=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[D,V]}),e[44]=D,e[45]=V,e[46]=de):de=e[46];let ue;e[47]===Symbol.for("react.memo_cache_sentinel")?(ue=jsxRuntimeExports.jsx(Text$1,{...v,children:"Cỡ"}),e[47]=ue):ue=e[47];const Re=r.wishNameFontSize||"16";let oe;e[48]!==Re?(oe=E(Re),e[48]=Re,e[49]=oe):oe=e[49];let ce;e[50]!==s?(ce=Ft=>s("wishNameFontSize",`${Ft}px`),e[50]=s,e[51]=ce):ce=e[51];let je;e[52]!==oe||e[53]!==ce?(je=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[ue,jsxRuntimeExports.jsx(DraggableNumberInput,{value:oe,min:8,max:200,onChange:ce})]}),e[52]=oe,e[53]=ce,e[54]=je):je=e[54];const ie=String(r.wishNameFontWeight||"700")==="700",xe=(r.wishNameFontStyle||"normal")==="italic",pe=String(r.wishNameTextDecoration||"none"),$e=pe.includes("underline"),Se=pe.includes("line-through"),Ie=(r.wishNameTextTransform||"none")==="uppercase";let Me;e[55]!==r.wishNameTextDecoration||e[56]!==s?(Me=Ft=>{const Ho=String(r.wishNameTextDecoration||"none"),Mo=new Set(Ho==="none"?[]:Ho.split(/\s+/));Mo.has(Ft)?Mo.delete(Ft):Mo.add(Ft);const Ls=Mo.size?Array.from(Mo).join(" "):"none";s("wishNameTextDecoration",Ls)},e[55]=r.wishNameTextDecoration,e[56]=s,e[57]=Me):Me=e[57];const He=Me,fe=`px-2 py-1 border rounded text-sm ${ie?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Ce;e[58]!==ie||e[59]!==s?(Ce=()=>s("wishNameFontWeight",ie?"400":"700"),e[58]=ie,e[59]=s,e[60]=Ce):Ce=e[60];let le;e[61]===Symbol.for("react.memo_cache_sentinel")?(le=jsxRuntimeExports.jsx(MdFormatBold,{}),e[61]=le):le=e[61];let J;e[62]!==fe||e[63]!==Ce?(J=jsxRuntimeExports.jsx("button",{type:"button",className:fe,onClick:Ce,children:le}),e[62]=fe,e[63]=Ce,e[64]=J):J=e[64];const se=`px-2 py-1 border rounded text-sm ${xe?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let te;e[65]!==xe||e[66]!==s?(te=()=>s("wishNameFontStyle",xe?"normal":"italic"),e[65]=xe,e[66]=s,e[67]=te):te=e[67];let be;e[68]===Symbol.for("react.memo_cache_sentinel")?(be=jsxRuntimeExports.jsx(MdFormatItalic,{}),e[68]=be):be=e[68];let Z;e[69]!==se||e[70]!==te?(Z=jsxRuntimeExports.jsx("button",{type:"button",className:se,onClick:te,children:be}),e[69]=se,e[70]=te,e[71]=Z):Z=e[71];const Ee=`px-2 py-1 border rounded text-sm ${$e?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let me;e[72]!==He?(me=()=>He("underline"),e[72]=He,e[73]=me):me=e[73];let ge;e[74]===Symbol.for("react.memo_cache_sentinel")?(ge=jsxRuntimeExports.jsx(MdFormatUnderlined,{}),e[74]=ge):ge=e[74];let Ke;e[75]!==Ee||e[76]!==me?(Ke=jsxRuntimeExports.jsx("button",{type:"button",className:Ee,onClick:me,children:ge}),e[75]=Ee,e[76]=me,e[77]=Ke):Ke=e[77];const Ue=`px-2 py-1 border rounded text-sm ${Se?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let _e;e[78]!==He?(_e=()=>He("line-through"),e[78]=He,e[79]=_e):_e=e[79];let Qe;e[80]===Symbol.for("react.memo_cache_sentinel")?(Qe=jsxRuntimeExports.jsx(MdStrikethroughS,{}),e[80]=Qe):Qe=e[80];let qe;e[81]!==Ue||e[82]!==_e?(qe=jsxRuntimeExports.jsx("button",{type:"button",className:Ue,onClick:_e,children:Qe}),e[81]=Ue,e[82]=_e,e[83]=qe):qe=e[83];const Ye=`px-2 py-1 border rounded text-sm ${Ie?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let nt;e[84]!==Ie||e[85]!==s?(nt=()=>s("wishNameTextTransform",Ie?"none":"uppercase"),e[84]=Ie,e[85]=s,e[86]=nt):nt=e[86];let et;e[87]===Symbol.for("react.memo_cache_sentinel")?(et=jsxRuntimeExports.jsx(RxLetterCaseUppercase,{}),e[87]=et):et=e[87];let re;e[88]!==Ye||e[89]!==nt?(re=jsxRuntimeExports.jsx("button",{type:"button",className:Ye,onClick:nt,children:et}),e[88]=Ye,e[89]=nt,e[90]=re):re=e[90];let Xe;e[91]!==J||e[92]!==Z||e[93]!==Ke||e[94]!==qe||e[95]!==re?(Xe=jsxRuntimeExports.jsx(Box,{className:"flex flex-wrap gap-2",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[J,Z,Ke,qe,re]})}),e[91]=J,e[92]=Z,e[93]=Ke,e[94]=qe,e[95]=re,e[96]=Xe):Xe=e[96];let tt;e[97]===Symbol.for("react.memo_cache_sentinel")?(tt=["left","center","right","justify"],e[97]=tt):tt=e[97];let rt;e[98]!==r.wishNameTextAlign||e[99]!==s?(rt=jsxRuntimeExports.jsx(Box,{className:"flex items-center gap-1",children:tt.map(Ft=>jsxRuntimeExports.jsxs("button",{type:"button",className:`p-1.5 rounded border ${(r.wishNameTextAlign||"left")===Ft?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`,onClick:()=>s("wishNameTextAlign",Ft),children:[Ft==="left"&&jsxRuntimeExports.jsx(MdFormatAlignLeft,{}),Ft==="center"&&jsxRuntimeExports.jsx(MdFormatAlignCenter,{}),Ft==="right"&&jsxRuntimeExports.jsx(MdFormatAlignRight,{}),Ft==="justify"&&jsxRuntimeExports.jsx(MdFormatAlignJustify,{})]},Ft))}),e[98]=r.wishNameTextAlign,e[99]=s,e[100]=rt):rt=e[100];const Rt=r.wishNameFontColor||"#1f2937";let wt;e[101]!==s?(wt=Ft=>s("wishNameFontColor",Ft),e[101]=s,e[102]=wt):wt=e[102];let St;e[103]!==Rt||e[104]!==wt?(St=jsxRuntimeExports.jsx(ColorControl,{label:"Màu",value:Rt,onChange:wt,size:"xs",showValueText:!0,previewSize:20}),e[103]=Rt,e[104]=wt,e[105]=St):St=e[105];let bt;e[106]===Symbol.for("react.memo_cache_sentinel")?(bt=jsxRuntimeExports.jsx(Text$1,{...v,children:"Transform"}),e[106]=bt):bt=e[106];const yt=r.wishNameTextTransform||"none";let jt;e[107]!==yt?(jt=[yt],e[107]=yt,e[108]=jt):jt=e[108];let we;e[109]!==s?(we=Ft=>s("wishNameTextTransform",Ft.value[0]),e[109]=s,e[110]=we):we=e[110];let G;e[111]!==h?(G={placement:h},e[111]=h,e[112]=G):G=e[112];let X;e[113]===Symbol.for("react.memo_cache_sentinel")?(X=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn transform"})}),e[113]=X):X=e[113];let K;e[114]===Symbol.for("react.memo_cache_sentinel")?(K=jsxRuntimeExports.jsxs(SelectControl,{children:[X,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[114]=K):K=e[114];const ne=i?"200px":"500px";let ve;e[115]===Symbol.for("react.memo_cache_sentinel")?(ve=textTransformOptions.map(_temp2$b),e[115]=ve):ve=e[115];let Te;e[116]!==ne?(Te=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:ne,children:ve})}),e[116]=ne,e[117]=Te):Te=e[117];let Le;e[118]!==jt||e[119]!==we||e[120]!==G||e[121]!==Te?(Le=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[bt,jsxRuntimeExports.jsxs(SelectRoot,{collection:j,value:jt,onValueChange:we,size:"sm",positioning:G,className:"custom-select",children:[K,Te]})]}),e[118]=jt,e[119]=we,e[120]=G,e[121]=Te,e[122]=Le):Le=e[122];let st;e[123]===Symbol.for("react.memo_cache_sentinel")?(st=jsxRuntimeExports.jsx(Text$1,{...v,children:"LineHeight"}),e[123]=st):st=e[123];const ft=String(r.wishNameLineHeight||"1.2");let ht;if(e[124]!==ft){let Ft;e[126]===Symbol.for("react.memo_cache_sentinel")?(Ft=/[^0-9.]/g,e[126]=Ft):Ft=e[126],ht=ft.replace(Ft,""),e[124]=ft,e[125]=ht}else ht=e[125];const ct=Number(ht);let Et;e[127]!==s?(Et=Ft=>s("wishNameLineHeight",String(Ft)),e[127]=s,e[128]=Et):Et=e[128];let Tt;e[129]!==ct||e[130]!==Et?(Tt=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[st,jsxRuntimeExports.jsx(DraggableNumberInput,{value:ct,min:.5,max:5,onChange:Et})]}),e[129]=ct,e[130]=Et,e[131]=Tt):Tt=e[131];let vt;e[132]===Symbol.for("react.memo_cache_sentinel")?(vt=jsxRuntimeExports.jsx(Text$1,{...v,children:"Letter"}),e[132]=vt):vt=e[132];const it=String(r.wishNameLetterSpacing||"0");let ae;if(e[133]!==it){let Ft;e[135]===Symbol.for("react.memo_cache_sentinel")?(Ft=/[^0-9.-]/g,e[135]=Ft):Ft=e[135],ae=it.replace(Ft,""),e[133]=it,e[134]=ae}else ae=e[134];const Fe=Number(ae);let ee;e[136]!==s?(ee=Ft=>s("wishNameLetterSpacing",String(Ft)),e[136]=s,e[137]=ee):ee=e[137];let Be;e[138]!==Fe||e[139]!==ee?(Be=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[vt,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Fe,min:-10,max:50,onChange:ee})]}),e[138]=Fe,e[139]=ee,e[140]=Be):Be=e[140];let ze;e[141]!==Tt||e[142]!==Be?(ze=jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[Tt,Be]}),e[141]=Tt,e[142]=Be,e[143]=ze):ze=e[143];let Ge;e[144]!==de||e[145]!==je||e[146]!==Xe||e[147]!==rt||e[148]!==St||e[149]!==Le||e[150]!==ze?(Ge=jsxRuntimeExports.jsxs(Box,{children:[H,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[de,je,Xe,rt,St,Le,ze]})]}),e[144]=de,e[145]=je,e[146]=Xe,e[147]=rt,e[148]=St,e[149]=Le,e[150]=ze,e[151]=Ge):Ge=e[151];let We;e[152]===Symbol.for("react.memo_cache_sentinel")?(We=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"bold",mb:2,color:"#333",children:"Nội dung lời chúc"}),e[152]=We):We=e[152];const Ve=l?"":"text-gray-400";let Je;e[153]!==Ve?(Je=jsxRuntimeExports.jsx(Text$1,{...v,className:Ve,children:"Font"}),e[153]=Ve,e[154]=Je):Je=e[154];const he=l?"":"opacity-50 cursor-not-allowed pointer-events-none",at=r.wishContentFontFamily||"inherit";let xt;e[155]!==R||e[156]!==he||e[157]!==at?(xt=jsxRuntimeExports.jsx(StyledFontSelector,{className:he,value:at,options:fontOptions,onChange:R}),e[155]=R,e[156]=he,e[157]=at,e[158]=xt):xt=e[158];let gt;e[159]!==l?(gt=!l&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium absolute right-0 top-0",children:jsxRuntimeExports.jsx(FaCrown,{})}),e[159]=l,e[160]=gt):gt=e[160];let Oe;e[161]!==xt||e[162]!==gt?(Oe=jsxRuntimeExports.jsxs(Box,{className:"w-[55%] relative",children:[xt,gt]}),e[161]=xt,e[162]=gt,e[163]=Oe):Oe=e[163];let Ze;e[164]!==Je||e[165]!==Oe?(Ze=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Je,Oe]}),e[164]=Je,e[165]=Oe,e[166]=Ze):Ze=e[166];let kt;e[167]===Symbol.for("react.memo_cache_sentinel")?(kt=jsxRuntimeExports.jsx(Text$1,{...v,children:"Cỡ"}),e[167]=kt):kt=e[167];const Mt=r.wishContentFontSize||"14";let At;e[168]!==Mt?(At=E(Mt),e[168]=Mt,e[169]=At):At=e[169];let pt;e[170]!==s?(pt=Ft=>s("wishContentFontSize",`${Ft}px`),e[170]=s,e[171]=pt):pt=e[171];let It;e[172]!==At||e[173]!==pt?(It=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[kt,jsxRuntimeExports.jsx(DraggableNumberInput,{value:At,min:8,max:200,onChange:pt})]}),e[172]=At,e[173]=pt,e[174]=It):It=e[174];const Nt=String(r.wishContentFontWeight||"400")==="700",$t=(r.wishContentFontStyle||"normal")==="italic",zt=String(r.wishContentTextDecoration||"none"),_t=zt.includes("underline"),Xt=zt.includes("line-through"),Gt=(r.wishContentTextTransform||"none")==="uppercase";let Vt;e[175]!==r.wishContentTextDecoration||e[176]!==s?(Vt=Ft=>{const Ho=String(r.wishContentTextDecoration||"none"),Mo=new Set(Ho==="none"?[]:Ho.split(/\s+/));Mo.has(Ft)?Mo.delete(Ft):Mo.add(Ft);const Ls=Mo.size?Array.from(Mo).join(" "):"none";s("wishContentTextDecoration",Ls)},e[175]=r.wishContentTextDecoration,e[176]=s,e[177]=Vt):Vt=e[177];const Kt=Vt,fo=`px-2 py-1 border rounded text-sm ${Nt?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Yt;e[178]!==Nt||e[179]!==s?(Yt=()=>s("wishContentFontWeight",Nt?"400":"700"),e[178]=Nt,e[179]=s,e[180]=Yt):Yt=e[180];let eo;e[181]===Symbol.for("react.memo_cache_sentinel")?(eo=jsxRuntimeExports.jsx(MdFormatBold,{}),e[181]=eo):eo=e[181];let no;e[182]!==fo||e[183]!==Yt?(no=jsxRuntimeExports.jsx("button",{type:"button",className:fo,onClick:Yt,children:eo}),e[182]=fo,e[183]=Yt,e[184]=no):no=e[184];const co=`px-2 py-1 border rounded text-sm ${$t?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let oo;e[185]!==$t||e[186]!==s?(oo=()=>s("wishContentFontStyle",$t?"normal":"italic"),e[185]=$t,e[186]=s,e[187]=oo):oo=e[187];let qt;e[188]===Symbol.for("react.memo_cache_sentinel")?(qt=jsxRuntimeExports.jsx(MdFormatItalic,{}),e[188]=qt):qt=e[188];let Qt;e[189]!==co||e[190]!==oo?(Qt=jsxRuntimeExports.jsx("button",{type:"button",className:co,onClick:oo,children:qt}),e[189]=co,e[190]=oo,e[191]=Qt):Qt=e[191];const po=`px-2 py-1 border rounded text-sm ${_t?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let ro;e[192]!==Kt?(ro=()=>Kt("underline"),e[192]=Kt,e[193]=ro):ro=e[193];let io;e[194]===Symbol.for("react.memo_cache_sentinel")?(io=jsxRuntimeExports.jsx(MdFormatUnderlined,{}),e[194]=io):io=e[194];let to;e[195]!==po||e[196]!==ro?(to=jsxRuntimeExports.jsx("button",{type:"button",className:po,onClick:ro,children:io}),e[195]=po,e[196]=ro,e[197]=to):to=e[197];const so=`px-2 py-1 border rounded text-sm ${Xt?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Jt;e[198]!==Kt?(Jt=()=>Kt("line-through"),e[198]=Kt,e[199]=Jt):Jt=e[199];let ao;e[200]===Symbol.for("react.memo_cache_sentinel")?(ao=jsxRuntimeExports.jsx(MdStrikethroughS,{}),e[200]=ao):ao=e[200];let uo;e[201]!==so||e[202]!==Jt?(uo=jsxRuntimeExports.jsx("button",{type:"button",className:so,onClick:Jt,children:ao}),e[201]=so,e[202]=Jt,e[203]=uo):uo=e[203];const Bt=`px-2 py-1 border rounded text-sm ${Gt?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`;let Ct;e[204]!==Gt||e[205]!==s?(Ct=()=>s("wishContentTextTransform",Gt?"none":"uppercase"),e[204]=Gt,e[205]=s,e[206]=Ct):Ct=e[206];let Ot;e[207]===Symbol.for("react.memo_cache_sentinel")?(Ot=jsxRuntimeExports.jsx(RxLetterCaseUppercase,{}),e[207]=Ot):Ot=e[207];let Wt;e[208]!==Bt||e[209]!==Ct?(Wt=jsxRuntimeExports.jsx("button",{type:"button",className:Bt,onClick:Ct,children:Ot}),e[208]=Bt,e[209]=Ct,e[210]=Wt):Wt=e[210];let lo;e[211]!==no||e[212]!==Qt||e[213]!==to||e[214]!==uo||e[215]!==Wt?(lo=jsxRuntimeExports.jsx(Box,{className:"flex flex-wrap gap-2",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[no,Qt,to,uo,Wt]})}),e[211]=no,e[212]=Qt,e[213]=to,e[214]=uo,e[215]=Wt,e[216]=lo):lo=e[216];let go;e[217]===Symbol.for("react.memo_cache_sentinel")?(go=["left","center","right","justify"],e[217]=go):go=e[217];let mo;e[218]!==r.wishContentTextAlign||e[219]!==s?(mo=jsxRuntimeExports.jsx(Box,{className:"flex items-center gap-1",children:go.map(Ft=>jsxRuntimeExports.jsxs("button",{type:"button",className:`p-1.5 rounded border ${(r.wishContentTextAlign||"left")===Ft?"bg-blue-50 border-blue-300 text-blue-600":"border-gray-200 text-[#333] hover:border-gray-300"}`,onClick:()=>s("wishContentTextAlign",Ft),children:[Ft==="left"&&jsxRuntimeExports.jsx(MdFormatAlignLeft,{}),Ft==="center"&&jsxRuntimeExports.jsx(MdFormatAlignCenter,{}),Ft==="right"&&jsxRuntimeExports.jsx(MdFormatAlignRight,{}),Ft==="justify"&&jsxRuntimeExports.jsx(MdFormatAlignJustify,{})]},Ft))}),e[218]=r.wishContentTextAlign,e[219]=s,e[220]=mo):mo=e[220];const bo=r.wishContentFontColor||"#374151";let Eo;e[221]!==s?(Eo=Ft=>s("wishContentFontColor",Ft),e[221]=s,e[222]=Eo):Eo=e[222];let yo;e[223]!==bo||e[224]!==Eo?(yo=jsxRuntimeExports.jsx(ColorControl,{label:"Màu",value:bo,onChange:Eo,size:"xs",showValueText:!0,previewSize:20}),e[223]=bo,e[224]=Eo,e[225]=yo):yo=e[225];let vo;e[226]===Symbol.for("react.memo_cache_sentinel")?(vo=jsxRuntimeExports.jsx(Text$1,{...v,children:"Biến đổi"}),e[226]=vo):vo=e[226];const Co=r.wishContentTextTransform||"none";let wo;e[227]!==Co?(wo=[Co],e[227]=Co,e[228]=wo):wo=e[228];let To;e[229]!==s?(To=Ft=>s("wishContentTextTransform",Ft.value[0]),e[229]=s,e[230]=To):To=e[230];let No;e[231]!==h?(No={placement:h},e[231]=h,e[232]=No):No=e[232];let Bo;e[233]===Symbol.for("react.memo_cache_sentinel")?(Bo=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn biến đổi"})}),e[233]=Bo):Bo=e[233];let ko;e[234]===Symbol.for("react.memo_cache_sentinel")?(ko=jsxRuntimeExports.jsxs(SelectControl,{children:[Bo,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[234]=ko):ko=e[234];const $o=i?"200px":"500px";let Do;e[235]===Symbol.for("react.memo_cache_sentinel")?(Do=textTransformOptions.map(_temp3$6),e[235]=Do):Do=e[235];let Ut;e[236]!==$o?(Ut=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:$o,children:Do})}),e[236]=$o,e[237]=Ut):Ut=e[237];let Zt;e[238]!==wo||e[239]!==To||e[240]!==No||e[241]!==Ut?(Zt=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[vo,jsxRuntimeExports.jsxs(SelectRoot,{collection:j,value:wo,onValueChange:To,size:"sm",positioning:No,className:"custom-select",children:[ko,Ut]})]}),e[238]=wo,e[239]=To,e[240]=No,e[241]=Ut,e[242]=Zt):Zt=e[242];let Ro;e[243]===Symbol.for("react.memo_cache_sentinel")?(Ro=jsxRuntimeExports.jsx(Text$1,{...v,children:"LineHeight"}),e[243]=Ro):Ro=e[243];const Wo=String(r.wishContentLineHeight||"1.5");let Go;if(e[244]!==Wo){let Ft;e[246]===Symbol.for("react.memo_cache_sentinel")?(Ft=/[^0-9.]/g,e[246]=Ft):Ft=e[246],Go=Wo.replace(Ft,""),e[244]=Wo,e[245]=Go}else Go=e[245];const Ko=Number(Go);let Qo;e[247]!==s?(Qo=Ft=>s("wishContentLineHeight",String(Ft)),e[247]=s,e[248]=Qo):Qo=e[248];let Oo;e[249]!==Ko||e[250]!==Qo?(Oo=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[Ro,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Ko,min:.5,max:5,onChange:Qo})]}),e[249]=Ko,e[250]=Qo,e[251]=Oo):Oo=e[251];let js;e[252]===Symbol.for("react.memo_cache_sentinel")?(js=jsxRuntimeExports.jsx(Text$1,{...v,children:"Letter"}),e[252]=js):js=e[252];const ys=String(r.wishContentLetterSpacing||"0");let Es;if(e[253]!==ys){let Ft;e[255]===Symbol.for("react.memo_cache_sentinel")?(Ft=/[^0-9.-]/g,e[255]=Ft):Ft=e[255],Es=ys.replace(Ft,""),e[253]=ys,e[254]=Es}else Es=e[254];const Rs=Number(Es);let Jo;e[256]!==s?(Jo=Ft=>s("wishContentLetterSpacing",String(Ft)),e[256]=s,e[257]=Jo):Jo=e[257];let Zo;e[258]!==Rs||e[259]!==Jo?(Zo=jsxRuntimeExports.jsxs(Box,{className:"flex items-center justify-between gap-2",children:[js,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Rs,min:-10,max:50,onChange:Jo})]}),e[258]=Rs,e[259]=Jo,e[260]=Zo):Zo=e[260];let es;e[261]!==Oo||e[262]!==Zo?(es=jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[Oo,Zo]}),e[261]=Oo,e[262]=Zo,e[263]=es):es=e[263];let ts;e[264]!==It||e[265]!==lo||e[266]!==mo||e[267]!==yo||e[268]!==Zt||e[269]!==es||e[270]!==Ze?(ts=jsxRuntimeExports.jsxs(Box,{className:"border-t border-gray-200 pt-4",children:[We,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[Ze,It,lo,mo,yo,Zt,es]})]}),e[264]=It,e[265]=lo,e[266]=mo,e[267]=yo,e[268]=Zt,e[269]=es,e[270]=Ze,e[271]=ts):ts=e[271];let Ss;e[272]===Symbol.for("react.memo_cache_sentinel")?(Ss=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"bold",mb:2,color:"#333",children:"Phản hồi từ chủ rể & cô dâu"}),e[272]=Ss):Ss=e[272];const Ns=r.replyBackgroundColor||"rgba(0, 0, 0, 0.05)";let os;e[273]!==s?(os=Ft=>s("replyBackgroundColor",Ft),e[273]=s,e[274]=os):os=e[274];let ss;e[275]!==Ns||e[276]!==os?(ss=jsxRuntimeExports.jsx(ColorControl,{label:"Nền phản hồi",value:Ns,onChange:os,size:"xs",showValueText:!0,previewSize:20}),e[275]=Ns,e[276]=os,e[277]=ss):ss=e[277];const $s=r.replyBorderColor||"#3b82f6";let ns;e[278]!==s?(ns=Ft=>s("replyBorderColor",Ft),e[278]=s,e[279]=ns):ns=e[279];let rs;e[280]!==$s||e[281]!==ns?(rs=jsxRuntimeExports.jsx(ColorControl,{label:"Viền phản hồi",value:$s,onChange:ns,size:"xs",showValueText:!0,previewSize:20}),e[280]=$s,e[281]=ns,e[282]=rs):rs=e[282];let vs;e[283]===Symbol.for("react.memo_cache_sentinel")?(vs=jsxRuntimeExports.jsx(Text$1,{...v,children:"Cỡ nội dung"}),e[283]=vs):vs=e[283];const Ps=r.replyContentFontSize||"14";let is;e[284]!==Ps?(is=E(Ps),e[284]=Ps,e[285]=is):is=e[285];let as;e[286]!==s?(as=Ft=>s("replyContentFontSize",`${Ft}px`),e[286]=s,e[287]=as):as=e[287];let ls;e[288]!==is||e[289]!==as?(ls=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[vs,jsxRuntimeExports.jsx(DraggableNumberInput,{value:is,min:8,max:200,onChange:as})]}),e[288]=is,e[289]=as,e[290]=ls):ls=e[290];const Ms=r.replyContentFontColor||"#374151";let cs;e[291]!==s?(cs=Ft=>s("replyContentFontColor",Ft),e[291]=s,e[292]=cs):cs=e[292];let Vo;e[293]!==Ms||e[294]!==cs?(Vo=jsxRuntimeExports.jsx(ColorControl,{label:"Màu nội dung",value:Ms,onChange:cs,size:"xs",showValueText:!0,previewSize:20}),e[293]=Ms,e[294]=cs,e[295]=Vo):Vo=e[295];let ds;e[296]!==ss||e[297]!==rs||e[298]!==ls||e[299]!==Vo?(ds=jsxRuntimeExports.jsxs(Box,{className:"border-t border-gray-200 pt-4",children:[Ss,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ss,rs,ls,Vo]})]}),e[296]=ss,e[297]=rs,e[298]=ls,e[299]=Vo,e[300]=ds):ds=e[300];let us;e[301]!==ts||e[302]!==ds||e[303]!==Ge?(us=jsxRuntimeExports.jsxs(SectionCard$4,{children:[z,jsxRuntimeExports.jsxs(Stack,{gap:8,children:[Ge,ts,ds]})]}),e[301]=ts,e[302]=ds,e[303]=Ge,e[304]=us):us=e[304];let Cs;e[305]===Symbol.for("react.memo_cache_sentinel")?(Cs=jsxRuntimeExports.jsx(SectionHeader$4,{icon:MdStyle,title:"Kiểu thẻ lời chúc"}),e[305]=Cs):Cs=e[305];const Bs=r.wishItemBackgroundColor||"transparent";let xs;e[306]!==s?(xs=Ft=>s("wishItemBackgroundColor",Ft),e[306]=s,e[307]=xs):xs=e[307];let ps;e[308]!==Bs||e[309]!==xs?(ps=jsxRuntimeExports.jsx(ColorControl,{label:"Màu nền",value:Bs,onChange:xs,size:"xs",showValueText:!0,previewSize:20}),e[308]=Bs,e[309]=xs,e[310]=ps):ps=e[310];let Uo;e[311]===Symbol.for("react.memo_cache_sentinel")?(Uo=jsxRuntimeExports.jsx(Text$1,{...v,children:"Padding"}),e[311]=Uo):Uo=e[311];const ms=((Hs=r.wishItemPadding)==null?void 0:Hs[0])??12;let hs;e[312]!==ms?(hs=E(ms),e[312]=ms,e[313]=hs):hs=e[313];let gs;e[314]!==C?(gs=Ft=>C("wishItemPadding",Ft),e[314]=C,e[315]=gs):gs=e[315];let fs;e[316]!==hs||e[317]!==gs?(fs=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Uo,jsxRuntimeExports.jsx(DraggableNumberInput,{value:hs,min:0,max:64,onChange:gs})]}),e[316]=hs,e[317]=gs,e[318]=fs):fs=e[318];let Ao;e[319]===Symbol.for("react.memo_cache_sentinel")?(Ao=jsxRuntimeExports.jsx(Text$1,{...v,children:"Viền"}),e[319]=Ao):Ao=e[319];const bs=((Ws=r.wishItemBorderWidth)==null?void 0:Ws[0])??0;let Xo;e[320]!==bs?(Xo=E(bs),e[320]=bs,e[321]=Xo):Xo=e[321];let Yo;e[322]!==C?(Yo=Ft=>C("wishItemBorderWidth",Ft),e[322]=C,e[323]=Yo):Yo=e[323];let Po;e[324]!==Xo||e[325]!==Yo?(Po=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ao,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Xo,min:0,max:16,onChange:Yo})]}),e[324]=Xo,e[325]=Yo,e[326]=Po):Po=e[326];let zo;e[327]===Symbol.for("react.memo_cache_sentinel")?(zo=jsxRuntimeExports.jsx(Text$1,{...v,children:"Bo góc"}),e[327]=zo):zo=e[327];const _o=((Gs=r.wishItemBorderRadius)==null?void 0:Gs[0])??0;let ot;e[328]!==_o?(ot=E(_o),e[328]=_o,e[329]=ot):ot=e[329];let Dt;e[330]!==C?(Dt=Ft=>C("wishItemBorderRadius",Ft),e[330]=C,e[331]=Dt):Dt=e[331];let Ht;e[332]!==ot||e[333]!==Dt?(Ht=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[zo,jsxRuntimeExports.jsx(DraggableNumberInput,{value:ot,min:0,max:64,onChange:Dt})]}),e[332]=ot,e[333]=Dt,e[334]=Ht):Ht=e[334];let xo;e[335]===Symbol.for("react.memo_cache_sentinel")?(xo=jsxRuntimeExports.jsx(Text$1,{...v,children:"Màu viền"}),e[335]=xo):xo=e[335];const So=r.wishItemBorderColor||"#f3f4f6";let jo;e[336]!==s?(jo=Ft=>s("wishItemBorderColor",Ft),e[336]=s,e[337]=jo):jo=e[337];let qo;e[338]!==So||e[339]!==jo?(qo=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[xo,jsxRuntimeExports.jsx(Box,{className:"w-[55%] flex justify-end",children:jsxRuntimeExports.jsx(ColorControl,{label:"",value:So,onChange:jo,size:"xs",showValueText:!0,previewSize:20})})]}),e[338]=So,e[339]=jo,e[340]=qo):qo=e[340];let ws;e[341]===Symbol.for("react.memo_cache_sentinel")?(ws=jsxRuntimeExports.jsx(Text$1,{...v,children:"Kiểu viền"}),e[341]=ws):ws=e[341];const Ds=r.wishItemBorderStyle||"solid";let Lo;e[342]!==Ds?(Lo=[Ds],e[342]=Ds,e[343]=Lo):Lo=e[343];let ho;e[344]!==s?(ho=Ft=>s("wishItemBorderStyle",Ft.value[0]),e[344]=s,e[345]=ho):ho=e[345];let Fo;e[346]!==h?(Fo={placement:h},e[346]=h,e[347]=Fo):Fo=e[347];let zs;e[348]===Symbol.for("react.memo_cache_sentinel")?(zs=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu viền"})}),e[348]=zs):zs=e[348];let Ts;e[349]===Symbol.for("react.memo_cache_sentinel")?(Ts=jsxRuntimeExports.jsxs(SelectControl,{children:[zs,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[349]=Ts):Ts=e[349];const _s=i?"200px":"500px";let Os;e[350]===Symbol.for("react.memo_cache_sentinel")?(Os=borderStyleOptions.map(_temp4$3),e[350]=Os):Os=e[350];let ks;e[351]!==_s?(ks=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:_s,children:Os})}),e[351]=_s,e[352]=ks):ks=e[352];let Fs;e[353]!==Lo||e[354]!==ho||e[355]!==Fo||e[356]!==ks?(Fs=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[ws,jsxRuntimeExports.jsxs(SelectRoot,{collection:g,value:Lo,onValueChange:ho,size:"sm",positioning:Fo,className:"custom-select",children:[Ts,ks]})]}),e[353]=Lo,e[354]=ho,e[355]=Fo,e[356]=ks,e[357]=Fs):Fs=e[357];let Is;e[358]!==ps||e[359]!==fs||e[360]!==Po||e[361]!==Ht||e[362]!==qo||e[363]!==Fs?(Is=jsxRuntimeExports.jsxs(SectionCard$4,{children:[Cs,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ps,fs,Po,Ht,qo,Fs]})]}),e[358]=ps,e[359]=fs,e[360]=Po,e[361]=Ht,e[362]=qo,e[363]=Fs,e[364]=Is):Is=e[364];let As;return e[365]!==us||e[366]!==W||e[367]!==Is?(As=jsxRuntimeExports.jsxs(Stack,{children:[W,us,Is]}),e[365]=us,e[366]=W,e[367]=Is,e[368]=As):As=e[368],As});WishListDesign.displayName="WishListDesign";const WishListSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp5$3);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableBackground:!0,enableBorder:!0,enableSize:!0,enableFilter:!1,enableTransform:!1,enableOverlay:!1,design:_temp6$3}),t[0]=e):e=t[0],e};function _temp$j(t,e){const o=e===void 0?0:e;if(typeof t=="number")return t;const r=parseInt(String(t).replace(/[^\d]/g,""));return isNaN(r)?o:r}function _temp2$b(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp3$6(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp4$3(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp5$3(t){return{props:t.data.props}}function _temp6$3(t){return jsxRuntimeExports.jsx(WishListDesign,{ctx:t})}const defaultProps$7={width:"400px",height:"300px",left:"0px",top:"0px",backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:0,gradientColor1:"#ffffff",gradientColor2:"#000000",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",borderRadius:[8,8,8,8],borderWidth:[1,1,1,1],borderStyle:"solid",borderColor:"#e5e7eb",padding:[16,16,16,16],margin:[0,0,0,0],lockAspectRatio:!1,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,maxWishes:10,showMockData:!1,htmlContent:"",wishNameFontSize:"16px",wishNameFontFamily:"inherit",wishNameFontColor:"#1f2937",wishNameFontWeight:"700",wishNameFontStyle:"normal",wishNameTextDecoration:"none",wishNameTextTransform:"none",wishNameTextAlign:"left",wishNameLineHeight:"1.2",wishNameLetterSpacing:"0",wishContentFontSize:"14px",wishContentFontFamily:"inherit",wishContentFontColor:"#374151",wishContentFontWeight:"400",wishContentFontStyle:"normal",wishContentTextDecoration:"none",wishContentTextTransform:"none",wishContentTextAlign:"left",wishContentLineHeight:"1.5",wishContentLetterSpacing:"0",replyBackgroundColor:"rgba(0, 0, 0, 0.05)",replyBorderColor:"#3b82f6",replyTitleFontSize:"14px",replyTitleFontColor:"#3b82f6",replyContentFontSize:"14px",replyContentFontColor:"#374151",replyDateFontSize:"12px",replyDateFontColor:"#6b7280",wishItemPadding:[12,0,12,0],wishItemBorderWidth:[0,0,1,0],wishItemBorderStyle:"solid",wishItemBorderColor:"#f3f4f6",wishItemBorderRadius:[0,0,0,0],wishItemBackgroundColor:"transparent",syncCrossPlatform:!0,isBrand:!1,className:""},mockWishData=[{id:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deletedAt:null,weddingPageId:1,guestName:"CEO meHappy",message:"Chúc hai bạn bắt đầu hành trình hôn nhân với trọn vẹn yêu thương, để mỗi ngày bên nhau đều là một ngày cưới.",isPublic:!0},{id:2,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deletedAt:null,weddingPageId:1,guestName:"meWedding",message:"Tình yêu đẹp không chỉ nằm ở khoảnh khắc gặp nhau, mà ở chặng đường cùng nhau đi qua. Chúc hai bạn một đời hạnh phúc.",isPublic:!0},{id:3,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deletedAt:null,weddingPageId:1,guestName:"Người lạ",message:"Ngày cưới là điểm bắt đầu, hạnh phúc mới là đích đến. Chúc hai bạn luôn tìm thấy niềm vui trên hành trình ấy.",replyMessage:"Cảm ơn bạn rất nhiều! Chúng tôi rất trân trọng lời chúc này.",isPublic:!0}],WishList=t=>{const e=compilerRuntimeExports.c(36),{id:o}=Ne(_temp$i),r={...defaultProps$7,...t},{width:s,height:i,left:a,top:c,backgroundType:l,backgroundColor:d,gradientType:u,gradientAngle:m,gradientColor1:R,gradientColor2:p,backgroundImage:j,backgroundSize:x,backgroundPosition:g,backgroundRepeat:h,backgroundAttachment:E,borderRadius:w,borderWidth:C,borderStyle:b,borderColor:v,padding:_,margin:I,lockAspectRatio:$,events:A,displayAnimation:T,hoverAnimation:L,hidden:P,maxWishes:N,showMockData:k,htmlContent:B,wishNameFontSize:F,wishNameFontFamily:W,wishNameFontColor:z,wishContentFontSize:H,wishContentFontFamily:U,wishContentFontColor:D,replyBackgroundColor:O,replyBorderColor:Q,replyContentFontSize:q,replyContentFontColor:Y,wishItemPadding:V,wishItemBorderWidth:de,wishItemBorderStyle:ue,wishItemBorderColor:Re,wishItemBorderRadius:oe,wishItemBackgroundColor:ce}=r,je=_||defaultProps$7.padding,ie=I||defaultProps$7.margin,xe=w||defaultProps$7.borderRadius,pe=C||defaultProps$7.borderWidth,{handleContainerClick:$e,handleTriggerMouseEnter:Se,handleTriggerMouseLeave:Ie}=useEventHandling(A,o),{enabled:Me}=Pe(_temp2$a),{weddingPageId:He}=useViewport(),{data:fe,isLoading:Ce}=useGetGuestWishes(He||null),le=useIsTemplateContext(),J=le&&!He?1:He?Number(He):void 0,se=useTemplateWishesWithFallback(fe,J),te=reactExports.useRef(null),be=(T==null?void 0:T.effect)||"none",Z=(T==null?void 0:T.duration)??.6;useEntrance(te,be,Z);const Ee=hoverVarsFromSettings(L,Me),me=L.enabled&&!Me?"hover-anim":"";let ge;e[0]!==Me||e[1]!==Se?(ge=we=>{Me||Se()},e[0]=Me,e[1]=Se,e[2]=ge):ge=e[2];const Ke=ge;let Ue;e[3]!==Me||e[4]!==Ie?(Ue=()=>{Me||Ie()},e[3]=Me,e[4]=Ie,e[5]=Ue):Ue=e[5];const _e=Ue;let Qe;e[6]!==Me||e[7]!==$e?(Qe=we=>{Me||$e()},e[6]=Me,e[7]=$e,e[8]=Qe):Qe=e[8];const qe=Qe,Ye=assembleBaseStyles({width:s,height:i,top:c,left:a,borderRadius:xe,borderWidth:pe,borderStyle:b,borderColor:v,backgroundType:l,backgroundColor:d,gradientType:u,gradientAngle:m,gradientColor1:R,gradientColor2:p,backgroundImage:j,backgroundSize:x,backgroundPosition:g,backgroundRepeat:h,backgroundAttachment:E},{allowPosition:!0,defaults:defaultProps$7}),nt=()=>{if(B&&B.trim())return B;const G=(()=>{if(le){const K=se.filter(_temp3$5).map(_temp4$2);if(!k||K.length>=N)return K.slice(0,N);const ne=_temp5$2,ve=new Set(K.map(ne)),Te=N-K.length,Le=mockWishData.filter(st=>!ve.has(ne(st))).slice(0,Te);return[...K,...Le]}return fe&&He?fe.filter(_temp6$2).slice(0,N):mockWishData.slice(0,N)})();return Ce&&!k&&!le?`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6b7280; font-size: 14px;">
          Đang tải lời chúc...
        </div>
      `:G.length===0?`
        <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6b7280; font-size: 14px; text-align: center;">
          Chưa có lời chúc nào
        </div>
      `:`
      <div style="height: 100%; overflow: auto;">
        ${G.map((K,ne)=>{const ve=purify.sanitize(K.message),Te=ne===G.length-1,Le=_temp7$2,st=Le(W),ft=Le(U);return`
        <div style="${`
        margin-bottom: ${Te?"0":"12px"};
        padding-top: ${V[0]}px;
        padding-right: ${V[1]}px;
        padding-bottom: ${V[2]}px;
        padding-left: ${V[3]}px;
        border-top-width: ${de[0]}px;
        border-right-width: ${de[1]}px;
        border-bottom-width: ${Te?"0":de[2]}px;
        border-left-width: ${de[3]}px;
        border-style: ${ue};
        border-color: ${Re};
        border-top-left-radius: ${oe[0]}px;
        border-top-right-radius: ${oe[1]}px;
        border-bottom-right-radius: ${oe[2]}px;
        border-bottom-left-radius: ${oe[3]}px;
        background-color: ${ce};
      `}">
          <div style="
            font-size: ${F};
            font-family: ${st};
            font-weight: ${r.wishNameFontWeight};
            font-style: ${r.wishNameFontStyle};
            text-decoration: ${r.wishNameTextDecoration};
            text-transform: ${r.wishNameTextTransform};
            text-align: ${r.wishNameTextAlign};
            color: ${z};
            line-height: ${r.wishNameLineHeight};
            letter-spacing: ${r.wishNameLetterSpacing}px;
            margin-bottom: 4px;
          ">
            ${K.guestName}
          </div>
          <div style="
            font-size: ${H};
            font-family: ${ft};
            font-weight: ${r.wishContentFontWeight};
            font-style: ${r.wishContentFontStyle};
            text-decoration: ${r.wishContentTextDecoration};
            text-transform: ${r.wishContentTextTransform};
            text-align: ${r.wishContentTextAlign};
            color: ${D};
            line-height: ${r.wishContentLineHeight};
            letter-spacing: ${r.wishContentLetterSpacing}px;
            word-break: break-word;
          ">
            ${ve}
          </div>
          ${K.replyMessage?`
            <div style="
              margin-top: 8px;
              padding: 8px;
              background-color: ${O};
              border-radius: 4px;
              border-left: 3px solid ${Q};
            ">
              <div style="
                font-size: ${q};
                font-family: ${ft};
                color: ${Y};
                line-height: 1.4;
                word-break: break-word;
              ">
                ${purify.sanitize(K.replyMessage)}
              </div>
            </div>
          `:""}
        </div>
      `}).join("")}
      </div>
    `},et=minimizeStyle({...Ye,padding:je.some(_temp8$2)?`${je[0]}px ${je[1]}px ${je[2]}px ${je[3]}px`:void 0,margin:ie.some(_temp9$2)?`${ie[0]}px ${ie[1]}px ${ie[2]}px ${ie[3]}px`:void 0}),re=nt();let Xe,tt;e[9]===Symbol.for("react.memo_cache_sentinel")?(Xe={width:"100%",height:"100%",position:"relative"},tt={height:"100%",overflow:"auto"},e[9]=Xe,e[10]=tt):(Xe=e[9],tt=e[10]);let rt;e[11]!==re?(rt=jsxRuntimeExports.jsx("div",{style:tt,dangerouslySetInnerHTML:{__html:re}}),e[11]=re,e[12]=rt):rt=e[12];let Rt;e[13]!==et||e[14]!==P?(Rt=P&&jsxRuntimeExports.jsx(OverlayHidden,{borderRadius:et.borderRadius}),e[13]=et,e[14]=P,e[15]=Rt):Rt=e[15];let wt;e[16]!==rt||e[17]!==Rt?(wt=jsxRuntimeExports.jsxs("div",{style:Xe,children:[rt,Rt]}),e[16]=rt,e[17]=Rt,e[18]=wt):wt=e[18];const St=wt;if(Me){let we;e[19]===Symbol.for("react.memo_cache_sentinel")?(we={width:"width",height:"height"},e[19]=we):we=e[19];const G=`${r.className||""} wish-list-container`;let X;return e[20]!==St||e[21]!==et||e[22]!==$||e[23]!==G?(X=jsxRuntimeExports.jsx(EditableWrapper,{propKey:we,style:et,className:G,lockAspectRatio:$,children:St}),e[20]=St,e[21]=et,e[22]=$,e[23]=G,e[24]=X):X=e[24],X}if(P)return null;let bt;e[25]!==et||e[26]!==Ee?(bt={...et,...Ee},e[25]=et,e[26]=Ee,e[27]=bt):bt=e[27];const yt=`${r.className||""} wish-list-container ${me}`;let jt;return e[28]!==St||e[29]!==qe||e[30]!==Ke||e[31]!==_e||e[32]!==o||e[33]!==bt||e[34]!==yt?(jt=jsxRuntimeExports.jsx("div",{ref:te,style:bt,className:yt,"data-node-id":o,onClick:qe,onMouseEnter:Ke,onMouseLeave:_e,children:St}),e[28]=St,e[29]=qe,e[30]=Ke,e[31]=_e,e[32]=o,e[33]=bt,e[34]=yt,e[35]=jt):jt=e[35],jt};WishList.craft={displayName:"WishList",props:defaultProps$7,rules:{canDrag:()=>!0,canDrop:()=>!1},related:{toolbar:WishListSettings}};function _temp$i(t){return{id:t.id}}function _temp2$a(t){return{enabled:t.options.enabled}}function _temp3$5(t){return t.isPublic}function _temp4$2(t){return{...t,id:typeof t.id=="string"?parseInt(t.id.replace("local_",""))||0:t.id}}function _temp5$2(t){return`${t.guestName}__${t.message}`}function _temp6$2(t){return t.isPublic}function _temp7$2(t){if(!t)return"inherit";let e=t.trim();return e==="inherit"?"inherit":(e=e.replace(/"/g,"'"),e.includes(",")?e:e.includes(" ")&&!e.startsWith("'")&&!e.endsWith("'")?`'${e}'`:e)}function _temp8$2(t,e){return t!==defaultProps$7.padding[e]}function _temp9$2(t,e){return t!==defaultProps$7.margin[e]}const deepEqual=(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e))return t.length!==e.length?!1:t.every((o,r)=>deepEqual(o,e[r]));if(t&&e&&typeof t=="object"&&typeof e=="object"){const o=Object.keys(t),r=Object.keys(e);return o.length!==r.length?!1:o.every(s=>deepEqual(t[s],e[s]))}return!1},pruneEmpty=t=>{if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.length===0?void 0:t;const e={};for(const o in t){const r=t[o];if(!(r==null||r===""))if(typeof r=="object"&&!Array.isArray(r)){const s=pruneEmpty(r);s&&Object.keys(s).length>0&&(e[o]=s)}else{if(Array.isArray(r)&&r.length===0)continue;e[o]=r}}return Object.keys(e).length===0?void 0:e},COMPONENT_DEFAULTS={Container:defaultProps$n,Sections:defaultProps$m,Button:defaultProps$j,Text:defaultProps$k,Image:defaultProps$i,Group:defaultProps$h,Video:defaultProps$g,Icon:defaultProps$l,Form:defaultProps$e,Input:defaultProps$f,Calendar:defaultProps$d,Line:defaultProps$c,Count:defaultProps$b,ContentWrapper:defaultProps$a,Page:defaultProps$9,Popup:defaultProps$8,WishList:defaultProps$7},applyDomainRules=(t,e)=>{const o={...e};return o.displayAnimation&&(!o.displayAnimation.effect||o.displayAnimation.effect==="none")&&delete o.displayAnimation,o.hoverAnimation&&o.hoverAnimation.enabled===!1&&delete o.hoverAnimation,Array.isArray(o.events)&&o.events.length===0&&delete o.events,o.pinning&&o.pinning.enabled===!1&&delete o.pinning,o.overlayType==="none"&&Object.keys(o).filter(s=>s.startsWith("overlay")&&s!=="overlayType").forEach(s=>delete o[s]),o.backgroundType&&o.backgroundType!=="image"&&(delete o.backgroundImage,delete o.backgroundSize,delete o.backgroundPosition,delete o.backgroundRepeat,delete o.backgroundAttachment),o.backgroundType&&o.backgroundType!=="video"&&delete o.backgroundVideo,o.backgroundType&&o.backgroundType!=="gradient"&&(delete o.gradientType,delete o.gradientAngle,delete o.gradientColor1,delete o.gradientColor2),(o.shadow===0||o.shadowType==="none")&&(delete o.shadow,delete o.shadowType,delete o.shadowX,delete o.shadowY,delete o.shadowBlur,delete o.shadowSpread,delete o.shadowColor),t==="Text"&&(o.textShadow&&o.textShadow.enabled===!1&&delete o.textShadow,o.textStroke&&o.textStroke.width===0&&delete o.textStroke,o.textBend&&o.textBend.enabled===!1&&delete o.textBend,o.initField==="none"&&delete o.initField,o.guestInfoField==="none"&&delete o.guestInfoField),t==="Image"&&(o.reactImageCropData||(delete o.croppedImageUrl,delete o.cropArea,delete o.cropZoom,delete o.cropRotation),o.initField==="none"&&delete o.initField,o.guestInfoField==="none"&&delete o.guestInfoField),t==="Icon"&&((!o.iconColor||o.iconColor==="")&&delete o.iconColor,o.overlayOpacity===0&&(delete o.overlayColor,delete o.overlayOpacity)),t==="Video"&&(!o.videoUrl||o.videoUrl==="")&&(delete o.showControls,delete o.autoPlay,delete o.videoType),t==="Button"&&(o.showIcon===!1&&(delete o.iconComponent,delete o.iconHorizontalPosition),o.currentSetting===null&&delete o.currentSetting),t==="Sections"&&o.backgroundType!=="video"&&delete o.backgroundVideoType,t==="Form"&&(Array.isArray(o.customQuestions)&&o.customQuestions.length===0&&delete o.customQuestions,(!o.showSuggestedWishes||Array.isArray(o.suggestedWishes)&&o.suggestedWishes.length===0)&&delete o.suggestedWishes),t==="Input"&&(o.textShadow&&o.textShadow.enabled===!1&&delete o.textShadow,o.textStroke&&o.textStroke.width===0&&delete o.textStroke),t==="Calendar"&&o.highlightType!=="svg"&&delete o.highlightSvg,t==="Popup"&&(o.autoOpen||delete o.autoOpenDelay),o},optimizeNodeProps=t=>{var a;const e=((a=t.type)==null?void 0:a.resolvedName)||t.displayName,o=COMPONENT_DEFAULTS[e];if(!o)return t.props;const r={},s=t.props||{};for(const c in s){const l=s[c],d=o[c];deepEqual(l,d)||(r[c]=l)}const i=applyDomainRules(e,r);return pruneEmpty(i)||{}},optimizeSerializedContent=t=>{try{const e=JSON.parse(t);if(!e||typeof e!="object")return t;let o=0,r=0,s=0;for(const a in e){const c=e[a];if(!c||!c.props)continue;const l=Object.keys(c.props).length;r+=l;const d=optimizeNodeProps(c),u=Object.keys(d).length;u<l&&(o++,s+=l-u),c.props=d}return JSON.stringify(e)}catch{return t}},PLATFORM_SPECIFIC_PROPERTIES=new Set(["width","height","top","left","minHeight","maxHeight","minWidth","maxWidth","fontSize","lineHeight","padding","margin","borderWidth","borderRadius","shadowBlur","shadowSpread","shadowX","shadowY","scale","perspective","cropWidth","cropHeight","cropX","cropY","cropData","gridColumns","gridRows","gridGap","columnGap","rowGap","flexBasis","flexGrow","flexShrink","buttonSize","spacing","topDistance","bottomDistance","leftDistance","rightDistance","cropX","cropY","cropWidth","cropHeight","cropZoom","cropRotation","reactImageCropData","cropArea","croppedImageUrl","modalWidth","modalHeight","modalTop","modalLeft","modalPosition"]),SYNC_PROPERTIES=new Set(["text","url","src","alt","title","placeholder","value","content","color","backgroundColor","backgroundType","backgroundImage","backgroundVideo","gradientType","gradientAngle","gradientColor1","gradientColor2","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","fontFamily","fontWeight","fontStyle","textAlign","textTransform","textDecoration","letterSpacing","direction","borderStyle","borderColor","shadow","shadowType","shadowColor","opacity","brightness","contrast","saturate","grayscale","invert","sepia","hueRotate","blur","blendMode","rotate","rotateX","rotateY","rotateZ","skewX","skewY","transformOrigin","flexDirection","alignItems","justifyContent","alignContent","alignSelf","justifySelf","order","position","zIndex","overflow","overflowX","overflowY","display","visibility","float","clear","enabled","disabled","checked","selected","required","readonly","multiple","autoplay","loop","muted","controls","overlayType","overlayBlendMode","overlayOpacity","overlayColor","overlayGradientType","overlayGradientAngle","overlayGradientColor1","overlayGradientColor2","overlayImage","overlayImageSize","overlayImagePosition","overlayImageRepeat","overlayImageAttachment","events","displayAnimation","hoverAnimation","hidden","locked","isEditing","isCropMode","formType","questions","extraInfo","submitUrl","method","buttonStyle","textComponent","objectFit","lockAspectRatio","textShadow","textStroke","fillSpace","autoOpen","autoOpenDelay","dropboxPosition","dropboxDistance","dropboxTriggerElementId","albumImages","triggerIcon","triggerIconColor","triggerBackground","triggerBackgroundType","triggerGradientType","triggerGradientAngle","triggerGradientColor1","triggerGradientColor2","triggerBorderColor","triggerBorderStyle","triggerBorderRadius","triggerBorderWidth","actionButtons","expandDirection","animationDuration","svgCode","iconColor","background","backgroundType","gradientType","gradientAngle","gradientColor1","gradientColor2","borderColor","borderStyle","borderRadius","borderWidth","eventType","actionType","sectionId","dropboxId","dropboxPosition","dropboxDistance","lightboxMediaType","lightboxImageUrl","lightboxVideoUrl","lightboxVideoType","albumModalId","phoneNumber","email","url","openInNewTab","hideElementIds","showElementIds","copyElementId","defaultValue","popupId","pinning","animationRepeat","animationDelay","animationDirection","animationFillMode","animationPlayState","animationTimingFunction"]),shouldSyncProperty=t=>{if(PLATFORM_SPECIFIC_PROPERTIES.has(t))return!1;if(SYNC_PROPERTIES.has(t))return!0;const e=["width","height","size","top","left","right","bottom","margin","padding","hidden"],o=t.toLowerCase();return!e.some(r=>o.includes(r))},filterSyncableProperties=t=>{const e={};for(const[o,r]of Object.entries(t))shouldSyncProperty(o)&&(e[o]=r);return e},mergeSyncableProperties=(t,e)=>{const o={...t};for(const[s,i]of Object.entries(e))shouldSyncProperty(s)&&(i&&typeof i=="object"&&!Array.isArray(i)&&t[s]&&typeof t[s]=="object"&&!Array.isArray(t[s])?o[s]=mergeSyncableProperties(t[s],i):o[s]=i);const r=["locked","hidden","syncCrossPlatform"];for(const s of r)shouldSyncProperty(s)&&s in t&&!(s in e)&&typeof t[s]=="boolean"&&(o[s]=!1);return o},mergeChildNodesPreservingOrder=(t,e,o)=>{if(!t||t.length===0)return e||[];if(!e||e.length===0)return t.filter(a=>o[a]);const r=new Set(e),s=new Set(t),i=[];for(const a of t)r.has(a)&&o[a]&&i.push(a);for(const a of e)!s.has(a)&&o[a]&&i.push(a);return i},synchronizeContent=(t,e,o)=>{var r,s,i,a,c,l,d,u;try{const m=JSON.parse(t);if(!e)return t;const R=JSON.parse(e),p={...R},j=new Set(Object.keys(m)),x=new Set(Object.keys(R)),g=new Map;for(const[h,E]of Object.entries(m))if((r=E==null?void 0:E.props)!=null&&r.duplicateSourceId){const w=E.props.duplicateSourceId;g.has(w)||g.set(w,[]),g.get(w).push(h)}for(const[h,E]of Object.entries(m)){if(!E||!E.type)continue;const w=x.has(h),C=((s=E.props)==null?void 0:s.syncCrossPlatform)!==!1;if(!(w&&!C)){if((i=E.props)!=null&&i.duplicateSourceId&&!x.has(h)){const b=E.props.duplicateSourceId,v=R[b];if(v){const _={...v.props},I=filterSyncableProperties(E.props),$={..._,...I},{duplicateSourceId:A,...T}=$,L=typeof _.top=="string"?`${parseFloat(_.top)+10}px`:(_.top||0)+10,P=typeof _.left=="string"?`${parseFloat(_.left)+10}px`:(_.left||0)+10;p[h]={...v,id:h,props:{...T,top:L,left:P},type:E.type,isCanvas:E.isCanvas,displayName:E.displayName,custom:E.custom,hidden:E.hidden,nodes:mergeChildNodesPreservingOrder(v.nodes||[],E.nodes||[],p),linkedNodes:E.linkedNodes,parent:E.parent}}continue}if(x.has(h)){const b=R[h];if(b&&b.props&&E.props){const v=((a=E.props)==null?void 0:a.syncCrossPlatform)!==!1,_=((c=b.props)==null?void 0:c.syncCrossPlatform)!==!1;if(!v||!_)continue;const I=mergeSyncableProperties(b.props,E.props);E.props.locked,b.props.locked,p[h]={...b,props:I,type:E.type,isCanvas:E.isCanvas,displayName:E.displayName,custom:E.custom,hidden:E.hidden,nodes:mergeChildNodesPreservingOrder(b.nodes||[],E.nodes||[],p),linkedNodes:E.linkedNodes,parent:E.parent}}}else{const b={...E};if((l=b.props)!=null&&l.isAssetDualPlatform){const v=R[h];if(b.props){const{isAssetDualPlatform:$,...A}=b.props;b.props=A}p[h]=b;let _=0;const I=$=>{for(const A of Object.keys(m))m[A].parent===$&&(p[A]=m[A],_++,I(A))};I(h);continue}if(!((d=b.props)!=null&&d.isAssetNode&&o)){if(b.props){const v={...b.props};b.props={...v,left:0}}}p[h]=b}}}for(const h of x)if(!j.has(h)){const E=R[h];((u=E==null?void 0:E.props)==null?void 0:u.syncCrossPlatform)!==!1&&delete p[h]}for(const[h,E]of Object.entries(p))if(E.parent&&p[E.parent]){const w=p[E.parent];w.nodes&&!w.nodes.includes(h)&&(w.nodes=[...w.nodes||[],h])}for(const[h,E]of Object.entries(p))if(E.nodes&&Array.isArray(E.nodes)){const w=E.nodes.filter(C=>p[C]);w.length!==E.nodes.length&&(p[h]={...E,nodes:w})}return JSON.stringify(p)}catch{return e||t}},removeDuplicateSourceIds=t=>{var e;if(!t)return t||"";try{const o=JSON.parse(t);let r=!1;for(const[s,i]of Object.entries(o))if((e=i==null?void 0:i.props)!=null&&e.duplicateSourceId){const{duplicateSourceId:a,...c}=i.props;o[s]={...i,props:c},r=!0}return r?JSON.stringify(o):t}catch{return t}},ElementIdEditModal=({isOpen:t,onClose:e,currentElementId:o})=>{const[r,s]=reactExports.useState(""),[i,a]=reactExports.useState(""),{actions:c,query:l}=Pe();if(reactExports.useEffect(()=>{var R;if(t&&o)try{const j=(R=l.node(o).get().data.custom)==null?void 0:R.customId;s(j||o),a("")}catch{s(o),a("")}},[t,o,l]),!t)return null;const d=R=>{if(!R.trim())return a("ID không được để trống"),!1;if(!/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(R))return a("ID phải bắt đầu bằng chữ cái và chỉ chứa chữ cái, số, dấu gạch dưới và dấu gạch ngang"),!1;try{const j=l.getNodes();if(Object.values(j).map(g=>{var h;return(h=g.data.custom)==null?void 0:h.customId}).filter(Boolean).filter(g=>{var E;const h=l.node(o).get();return g!==((E=h.data.custom)==null?void 0:E.customId)}).includes(R))return a("ID này đã tồn tại, vui lòng chọn ID khác"),!1}catch{return a("Không thể kiểm tra tính duy nhất của ID"),!1}return a(""),!0},u=R=>{var p;s(R);try{const x=((p=l.node(o).get().data.custom)==null?void 0:p.customId)||o;R!==x?d(R):a("")}catch{d(R)}},m=()=>{var R;if(d(r)){try{const j=((R=l.node(o).get().data.custom)==null?void 0:R.customId)||o;if(r===j){e();return}}catch{}if(!o){a("Không có phần tử nào được chọn");return}try{const p=l.getNodes();if(Object.values(p).map(x=>{var g;return(g=x.data.custom)==null?void 0:g.customId}).filter(Boolean).includes(r)){a("ID này đã được sử dụng, vui lòng chọn ID khác");return}c.setCustom(o,x=>{x.customId=r}),e()}catch{a("Không thể cập nhật ID. Vui lòng thử lại.")}}};return jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Chỉnh sửa ID phần tử",zIndex:zIndex.elementIdEdit,widthClass:"w-[500px] max-w-[90%]",footer:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:e,className:modalButton.secondary,children:"Hủy"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:m,disabled:!!i,className:`${modalButton.primary} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Lưu"})]}),children:jsxRuntimeExports.jsxs("div",{className:modalSectionSpacing,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"ID phần tử"}),jsxRuntimeExports.jsx("input",{type:"text",value:r,onChange:R=>u(R.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${i?"border-red-500":"border-gray-300"}`,placeholder:"Nhập ID mới cho phần tử"}),i&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{className:"font-semibold",children:"Lưu ý:"})," ID phải bắt đầu bằng chữ cái và chỉ chứa chữ cái, số, dấu gạch dưới (_) và dấu gạch ngang (-)."]})]})})},CRLF=`\r
`;function fold75(t){return t.replace(/(.{1,73})(?=.)/g,"$1"+CRLF+" ")}function escIcsText(t=""){return t.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\r?\n/g,"\\n")}function toTZIDLocal(t,e){const[o,r,s]=t.split("-").map(Number),[i,a]=e.split(":").map(Number),c=new Date(o,r-1,s,i,a,0),l=d=>String(d).padStart(2,"0");return c.getFullYear()+l(c.getMonth()+1)+l(c.getDate())+"T"+l(c.getHours())+l(c.getMinutes())+"00"}function ymdPlus1(t){const e=new Date(t+"T00:00:00+07:00");return e.setDate(e.getDate()+1),e.toISOString().slice(0,10).replace(/-/g,"")}function buildIcsWithTz(t){var E,w;const{title:e,startDate:o,startTime:r,endTime:s,location:i="",descriptionText:a="",descriptionHtml:c,tzid:l="Asia/Ho_Chi_Minh",status:d="CONFIRMED",uid:u=(((w=(E=globalThis.crypto)==null?void 0:E.randomUUID)==null?void 0:w.call(E))??Math.random().toString(36).slice(2))+"@mehappy"}=t,m=new Date().toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",R=escIcsText(e),p=escIcsText(i),j=escIcsText(a),g=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//meHappy//Add to Calendar//VI","CALSCALE:GREGORIAN","METHOD:PUBLISH",["BEGIN:VTIMEZONE",`TZID:${l}`,`X-LIC-LOCATION:${l}`,"LAST-MODIFIED:20221015T115821Z","BEGIN:STANDARD","TZNAME:+07","TZOFFSETFROM:+0700","TZOFFSETTO:+0700","DTSTART:19700101T000000","END:STANDARD","END:VTIMEZONE"].join(CRLF),"BEGIN:VEVENT",`UID:${u}`,`DTSTAMP:${m}`,"SEQUENCE:0",`STATUS:${d}`,`SUMMARY:${R}`];if(r){const C=toTZIDLocal(o,r),b=toTZIDLocal(o,s||(()=>{const[v,_]=r.split(":").map(Number),I=new Date(`${o}T${r}:00+07:00`);return I.setHours(v+1,_,0,0),I.toTimeString().slice(0,5)})());g.push(`DTSTART;TZID=${l}:${C}`),g.push(`DTEND;TZID=${l}:${b}`)}else{const C=o.replace(/-/g,"");g.push(`DTSTART;VALUE=DATE:${C}`),g.push(`DTEND;VALUE=DATE:${ymdPlus1(o)}`)}if(p&&g.push(`LOCATION:${p}`),j&&g.push(`DESCRIPTION:${fold75(j)}`),c){const C=fold75(c);g.push(`X-ALT-DESC;FMTTYPE=text/html:${C}`)}return g.push("END:VEVENT","END:VCALENDAR"),g.join(CRLF)}function buildDataUrlFromIcs(t){return`data:text/calendar;charset=utf-8,${encodeURIComponent(t)}`}function createGoogleCalendarUrl(t){const{title:e,startDate:o,startTime:r="09:00",endTime:s="10:00",description:i="",location:a=""}=t,c=new Date(o);if(isNaN(c.getTime()))return"";const[l,d]=r.split(":").map(Number),[u,m]=s.split(":").map(Number),R=new Date(c);R.setHours(l,d,0,0);const p=new Date(c);p.setHours(u,m,0,0);const j=g=>g.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e,dates:`${j(R)}/${j(p)}`,details:i,location:a,ctz:"Asia/Ho_Chi_Minh"}).toString()}`}function createAppleCalendarUrl(t){const{title:e,startDate:o,startTime:r,endTime:s,description:i="",location:a=""}=t;try{const c=buildIcsWithTz({title:e,startDate:o,startTime:r,endTime:s,location:a,descriptionText:i,tzid:"Asia/Ho_Chi_Minh"});return buildDataUrlFromIcs(c)}catch{return""}}function createIcsContent(t){const{title:e,startDate:o,startTime:r,endTime:s,description:i="",location:a=""}=t;try{return buildIcsWithTz({title:e,startDate:o,startTime:r,endTime:s,location:a,descriptionText:i,tzid:"Asia/Ho_Chi_Minh"})}catch{return""}}function downloadIcsFile(t,e){const o=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(o),s=document.createElement("a");s.href=r,s.download=t.endsWith(".ics")?t:`${t}.ics`,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(r)}function openCalendar(t,e){try{switch(e){case"google":const o=createGoogleCalendarUrl(t);o&&window.open(o,"_blank","noopener,noreferrer");break;case"apple":const r=createAppleCalendarUrl(t);r&&window.open(r,"_blank","noopener,noreferrer");break;case"ics":const s=createIcsContent(t);if(s){const i=t.title.replace(/[^\w\s-]/g,"").replace(/\s+/g,"_");downloadIcsFile(i,s)}break}}catch{}}const CalendarProviderModal=t=>{const e=compilerRuntimeExports.c(51),{isOpen:o,onClose:r,event:s}=t;if(!o)return null;let i;e[0]!==s||e[1]!==r?(i=z=>{try{openCalendar(s,z),r()}catch{}},e[0]=s,e[1]=r,e[2]=i):i=e[2];const a=i,c=_temp$h,l=_temp2$9,d=_temp3$4;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",children:"Thêm vào lịch"}),e[3]=u):u=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=jsxRuntimeExports.jsx(FaTimes,{}),e[4]=m):m=e[4];let R;e[5]!==r?(R=jsxRuntimeExports.jsxs(HStack,{justify:"space-between",mb:"4",children:[u,jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:r,p:"2",children:m})]}),e[5]=r,e[6]=R):R=e[6];let p;e[7]!==s.title?(p=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"semibold",mb:"1",children:s.title}),e[7]=s.title,e[8]=p):p=e[8];let j;e[9]!==s.endTime||e[10]!==s.startDate||e[11]!==s.startTime?(j=jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.600",children:[s.startDate," ",s.startTime," - ",s.endTime]}),e[9]=s.endTime,e[10]=s.startDate,e[11]=s.startTime,e[12]=j):j=e[12];let x;e[13]!==s.location?(x=s.location&&jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.600",children:["📍 ",s.location]}),e[13]=s.location,e[14]=x):x=e[14];let g;e[15]!==p||e[16]!==j||e[17]!==x?(g=jsxRuntimeExports.jsxs(Box,{mb:"4",p:"3",bg:"gray.50",borderRadius:"md",children:[p,j,x]}),e[15]=p,e[16]=j,e[17]=x,e[18]=g):g=e[18];let h;e[19]!==a?(h=()=>a("google"),e[19]=a,e[20]=h):h=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=c("google"),e[21]=E):E=e[21];let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:l("google")}),e[22]=w):w=e[22];let C;e[23]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsxs(HStack,{gap:"3",flex:"1",children:[E,jsxRuntimeExports.jsxs(VStack,{align:"start",gap:"0",flex:"1",children:[w,jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",children:d("google")})]})]}),e[23]=C):C=e[23];let b;e[24]!==h?(b=jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"lg",onClick:h,justifyContent:"flex-start",children:C}),e[24]=h,e[25]=b):b=e[25];let v;e[26]!==a?(v=()=>a("apple"),e[26]=a,e[27]=v):v=e[27];let _;e[28]===Symbol.for("react.memo_cache_sentinel")?(_=c("apple"),e[28]=_):_=e[28];let I;e[29]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:l("apple")}),e[29]=I):I=e[29];let $;e[30]===Symbol.for("react.memo_cache_sentinel")?($=jsxRuntimeExports.jsxs(HStack,{gap:"3",flex:"1",children:[_,jsxRuntimeExports.jsxs(VStack,{align:"start",gap:"0",flex:"1",children:[I,jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",children:d("apple")})]})]}),e[30]=$):$=e[30];let A;e[31]!==v?(A=jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"lg",onClick:v,justifyContent:"flex-start",children:$}),e[31]=v,e[32]=A):A=e[32];let T;e[33]!==a?(T=()=>a("ics"),e[33]=a,e[34]=T):T=e[34];let L;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=c("ics"),e[35]=L):L=e[35];let P;e[36]===Symbol.for("react.memo_cache_sentinel")?(P=jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:l("ics")}),e[36]=P):P=e[36];let N;e[37]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsxs(HStack,{gap:"3",flex:"1",children:[L,jsxRuntimeExports.jsxs(VStack,{align:"start",gap:"0",flex:"1",children:[P,jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",children:d("ics")})]})]}),e[37]=N):N=e[37];let k;e[38]!==T?(k=jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"lg",onClick:T,justifyContent:"flex-start",children:N}),e[38]=T,e[39]=k):k=e[39];let B;e[40]!==b||e[41]!==A||e[42]!==k?(B=jsxRuntimeExports.jsxs(VStack,{gap:"3",align:"stretch",children:[b,A,k]}),e[40]=b,e[41]=A,e[42]=k,e[43]=B):B=e[43];let F;e[44]!==B||e[45]!==R||e[46]!==g?(F=jsxRuntimeExports.jsxs(Box,{bg:"white",borderRadius:"lg",p:"6",maxW:"400px",w:"90%",boxShadow:"xl",onClick:_temp4$1,children:[R,g,B]}),e[44]=B,e[45]=R,e[46]=g,e[47]=F):F=e[47];let W;return e[48]!==r||e[49]!==F?(W=jsxRuntimeExports.jsx(Box,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",bg:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"999999",onClick:r,children:F}),e[48]=r,e[49]=F,e[50]=W):W=e[50],W};function _temp$h(t){switch(t){case"google":return jsxRuntimeExports.jsx(FaGoogle,{});case"apple":return jsxRuntimeExports.jsx(FaApple,{});case"ics":return jsxRuntimeExports.jsx(FaDownload,{});default:return null}}function _temp2$9(t){switch(t){case"google":return"Google Calendar";case"apple":return"Apple Calendar";case"ics":return"Tải file .ics";default:return"Calendar"}}function _temp3$4(t){switch(t){case"google":return"Mở Google Calendar trong trình duyệt";case"apple":return"Thêm vào lịch (Safari)";case"ics":return"Tải xuống file lịch để import";default:return""}}function _temp4$1(t){return t.stopPropagation()}const InputField=React.memo(t=>{const e=compilerRuntimeExports.c(20),{icon:o,label:r,value:s,onChange:i,placeholder:a,type:c,color:l}=t,d=c===void 0?"text":c,u=l===void 0?"#6B7280":l;let m;e[0]!==o||e[1]!==u?(m=jsxRuntimeExports.jsx(o,{size:14,color:u}),e[0]=o,e[1]=u,e[2]=m):m=e[2];let R;e[3]!==r?(R=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:r}),e[3]=r,e[4]=R):R=e[4];let p;e[5]!==m||e[6]!==R?(p=jsxRuntimeExports.jsxs(HStack,{gap:2,marginBottom:1,children:[m,R]}),e[5]=m,e[6]=R,e[7]=p):p=e[7];let j;e[8]!==i?(j=w=>i(w.target.value),e[8]=i,e[9]=j):j=e[9];let x,g;e[10]===Symbol.for("react.memo_cache_sentinel")?(x={borderColor:"blue.400"},g={borderColor:"blue.500",boxShadow:"0 0 0 1px var(--chakra-colors-blue-500)"},e[10]=x,e[11]=g):(x=e[10],g=e[11]);let h;e[12]!==a||e[13]!==j||e[14]!==d||e[15]!==s?(h=jsxRuntimeExports.jsx(Input$1,{value:s,onChange:j,placeholder:a,type:d,size:"sm",borderColor:"gray.300",_hover:x,_focus:g}),e[12]=a,e[13]=j,e[14]=d,e[15]=s,e[16]=h):h=e[16];let E;return e[17]!==p||e[18]!==h?(E=jsxRuntimeExports.jsxs(Box,{children:[p,h]}),e[17]=p,e[18]=h,e[19]=E):E=e[19],E});InputField.displayName="InputField";const AutoFillInfoModal=t=>{var z,H,U,D,O,Q;const e=compilerRuntimeExports.c(38),{isOpen:o,onClose:r,onApplyAutoFill:s}=t,{data:i,isLoading:a}=useGetUserInfo(),c=i&&i.length>0?i[0]:null,[l,d]=reactExports.useState(!1),[u,m]=reactExports.useState(null);let R,p,j,x;e[0]===Symbol.for("react.memo_cache_sentinel")?(R={father:"",mother:""},p={father:"",mother:""},j={bankName:"",accountNumber:"",accountHolder:"",qrCodeImage:""},x={bankName:"",accountNumber:"",accountHolder:"",qrCodeImage:""},e[0]=R,e[1]=p,e[2]=j,e[3]=x):(R=e[0],p=e[1],j=e[2],x=e[3]);let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g={groom:"",bride:"",date:"",location:"",groomPhone:"",groomLocation:"",groomDescription:"",bridePhone:"",brideLocation:"",brideDescription:"",groomParents:R,brideParents:p,groomBankInfo:j,brideBankInfo:x,domain:"",subDomain:"",groomSocialLinks:[{url:""},{url:""},{url:""}],brideSocialLinks:[{url:""},{url:""},{url:""}]},e[4]=g):g=e[4];const[h,E]=reactExports.useState(g);let w,C;e[5]!==c?(w=()=>{var q,Y,V,de;c&&E({groom:c.groomName||"",bride:c.brideName||"",date:c.weddingDate?new Date(c.weddingDate).toLocaleDateString("vi-VN"):"",location:c.weddingLocation||"",groomPhone:c.groomPhone||"",groomLocation:c.groomAddress||"",groomDescription:"",bridePhone:c.bridePhone||"",brideLocation:c.brideAddress||"",brideDescription:"",groomParents:{father:((q=c.groomParents)==null?void 0:q.split(" và ")[0])||"",mother:((Y=c.groomParents)==null?void 0:Y.split(" và ")[1])||""},brideParents:{father:((V=c.brideParents)==null?void 0:V.split(" và ")[0])||"",mother:((de=c.brideParents)==null?void 0:de.split(" và ")[1])||""},groomBankInfo:{bankName:"",accountNumber:"",accountHolder:"",qrCodeImage:""},brideBankInfo:{bankName:"",accountNumber:"",accountHolder:"",qrCodeImage:""},domain:"",subDomain:"",groomSocialLinks:[{url:""},{url:""},{url:""}],brideSocialLinks:[{url:""},{url:""},{url:""}]})},C=[c],e[5]=c,e[6]=w,e[7]=C):(w=e[6],C=e[7]),reactExports.useEffect(w,C);let b;e[8]!==h||e[9]!==s||e[10]!==r?(b=()=>{s(h),r(),toaster.success({title:"Thành công",description:"Đã áp dụng thông tin vào các trường!"})},e[8]=h,e[9]=s,e[10]=r,e[11]=b):b=e[11];const v=b;let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=q=>{m(q),d(!0)},e[12]=_):_=e[12];const I=_;let $;e[13]!==u?($=q=>{u==="groom"?E(Y=>({...Y,groomBankInfo:{...Y.groomBankInfo,qrCodeImage:q}})):u==="bride"&&E(Y=>({...Y,brideBankInfo:{...Y.brideBankInfo,qrCodeImage:q}})),d(!1),m(null)},e[13]=u,e[14]=$):$=e[14];const A=$;let T;e[15]!==h||e[16]!==a||e[17]!==c?(T=a?jsxRuntimeExports.jsxs(Box,{textAlign:"center",padding:8,children:[jsxRuntimeExports.jsx(Spinner,{size:"lg",color:"blue.500"}),jsxRuntimeExports.jsx(Text$1,{marginTop:4,color:"gray.600",children:"Đang tải thông tin..."})]}):jsxRuntimeExports.jsxs(VStack,{gap:4,align:"stretch",children:[jsxRuntimeExports.jsx(Box,{bg:"blue.50",padding:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"blue.800",children:c?"Thông tin được tải từ hệ thống. Bạn có thể chỉnh sửa và áp dụng vào thiết kế.":"Nhập thông tin và áp dụng vào các trường đã được đánh dấu trong thiết kế."})}),jsxRuntimeExports.jsxs(AccordionRoot,{defaultValue:["basic"],collapsible:!0,children:[jsxRuntimeExports.jsxs(AccordionItem,{className:"pb-4",value:"basic",children:[jsxRuntimeExports.jsx(AccordionItemTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaHeart,{color:"#3B82F6"}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:"Thông tin cơ bản"})]})}),jsxRuntimeExports.jsx(AccordionItemContent,{children:jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,paddingTop:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaHeart,label:"Chú rể",value:h.groom,onChange:q=>E(Y=>({...Y,groom:q})),placeholder:"Nhập tên chú rể",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaHeart,label:"Cô dâu",value:h.bride,onChange:q=>E(Y=>({...Y,bride:q})),placeholder:"Nhập tên cô dâu",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaCalendar,label:"Ngày cưới",value:h.date,onChange:q=>E(Y=>({...Y,date:q})),placeholder:"VD: 01/01/2024",color:"#10B981"}),jsxRuntimeExports.jsx(InputField,{icon:FaMapMarkerAlt,label:"Địa điểm",value:h.location,onChange:q=>E(Y=>({...Y,location:q})),placeholder:"Nhập địa điểm tổ chức",color:"#F59E0B"})]})})]}),jsxRuntimeExports.jsxs(AccordionItem,{className:"pb-4",value:"contact",children:[jsxRuntimeExports.jsx(AccordionItemTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaPhone,{color:"#10B981"}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:"Liên hệ & Mô tả"})]})}),jsxRuntimeExports.jsx(AccordionItemContent,{children:jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",paddingTop:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Chú rể"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaPhone,label:"Số điện thoại",value:h.groomPhone,onChange:q=>E(Y=>({...Y,groomPhone:q})),placeholder:"Nhập SĐT chú rể",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaHome,label:"Địa chỉ",value:h.groomLocation,onChange:q=>E(Y=>({...Y,groomLocation:q})),placeholder:"Nhập địa chỉ chú rể",color:"#3B82F6"})]}),jsxRuntimeExports.jsx(InputField,{icon:FaHeart,label:"Mô tả",value:h.groomDescription,onChange:q=>E(Y=>({...Y,groomDescription:q})),placeholder:"Mô tả về chú rể",color:"#3B82F6"}),jsxRuntimeExports.jsx(Box,{height:2}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Cô dâu"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaPhone,label:"Số điện thoại",value:h.bridePhone,onChange:q=>E(Y=>({...Y,bridePhone:q})),placeholder:"Nhập SĐT cô dâu",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaHome,label:"Địa chỉ",value:h.brideLocation,onChange:q=>E(Y=>({...Y,brideLocation:q})),placeholder:"Nhập địa chỉ cô dâu",color:"#EC4899"})]}),jsxRuntimeExports.jsx(InputField,{icon:FaHeart,label:"Mô tả",value:h.brideDescription,onChange:q=>E(Y=>({...Y,brideDescription:q})),placeholder:"Mô tả về cô dâu",color:"#EC4899"})]})})]}),jsxRuntimeExports.jsxs(AccordionItem,{className:"pb-4",value:"family",children:[jsxRuntimeExports.jsx(AccordionItemTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaUsers,{color:"#8B5CF6"}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:"Thông tin gia đình"})]})}),jsxRuntimeExports.jsx(AccordionItemContent,{children:jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",paddingTop:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Bố mẹ chú rể"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaUsers,label:"Cha",value:h.groomParents.father,onChange:q=>E(Y=>({...Y,groomParents:{...Y.groomParents,father:q}})),placeholder:"Tên cha chú rể",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaUsers,label:"Mẹ",value:h.groomParents.mother,onChange:q=>E(Y=>({...Y,groomParents:{...Y.groomParents,mother:q}})),placeholder:"Tên mẹ chú rể",color:"#3B82F6"})]}),jsxRuntimeExports.jsx(Box,{height:2}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Bố mẹ cô dâu"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaUsers,label:"Cha",value:h.brideParents.father,onChange:q=>E(Y=>({...Y,brideParents:{...Y.brideParents,father:q}})),placeholder:"Tên cha cô dâu",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaUsers,label:"Mẹ",value:h.brideParents.mother,onChange:q=>E(Y=>({...Y,brideParents:{...Y.brideParents,mother:q}})),placeholder:"Tên mẹ cô dâu",color:"#EC4899"})]})]})})]}),jsxRuntimeExports.jsxs(AccordionItem,{className:"pb-4",value:"bank",children:[jsxRuntimeExports.jsx(AccordionItemTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaCreditCard,{color:"#F59E0B"}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:"Thông tin ngân hàng"})]})}),jsxRuntimeExports.jsx(AccordionItemContent,{children:jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",paddingTop:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Chú rể"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Tên ngân hàng",value:h.groomBankInfo.bankName,onChange:q=>E(Y=>({...Y,groomBankInfo:{...Y.groomBankInfo,bankName:q}})),placeholder:"VD: Vietcombank",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Số tài khoản",value:h.groomBankInfo.accountNumber,onChange:q=>E(Y=>({...Y,groomBankInfo:{...Y.groomBankInfo,accountNumber:q}})),placeholder:"Nhập STK",color:"#3B82F6"})]}),jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Chủ tài khoản",value:h.groomBankInfo.accountHolder,onChange:q=>E(Y=>({...Y,groomBankInfo:{...Y.groomBankInfo,accountHolder:q}})),placeholder:"Tên chủ TK",color:"#3B82F6"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(HStack,{gap:2,marginBottom:1,children:[jsxRuntimeExports.jsx(FaQrcode,{size:14,color:"#3B82F6"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"QR Code"})]}),jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Input$1,{value:h.groomBankInfo.qrCodeImage,onChange:q=>E(Y=>({...Y,groomBankInfo:{...Y.groomBankInfo,qrCodeImage:q.target.value}})),placeholder:"URL hình ảnh QR code",size:"sm",borderColor:"gray.300",_hover:{borderColor:"blue.400"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px var(--chakra-colors-blue-500)"}}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>I("groom"),children:[jsxRuntimeExports.jsx(FaImage,{style:{marginRight:4}}),"Chọn"]})]})]}),jsxRuntimeExports.jsx(Box,{height:2}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Cô dâu"}),jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Tên ngân hàng",value:h.brideBankInfo.bankName,onChange:q=>E(Y=>({...Y,brideBankInfo:{...Y.brideBankInfo,bankName:q}})),placeholder:"VD: Vietcombank",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Số tài khoản",value:h.brideBankInfo.accountNumber,onChange:q=>E(Y=>({...Y,brideBankInfo:{...Y.brideBankInfo,accountNumber:q}})),placeholder:"Nhập STK",color:"#EC4899"})]}),jsxRuntimeExports.jsx(InputField,{icon:FaCreditCard,label:"Chủ tài khoản",value:h.brideBankInfo.accountHolder,onChange:q=>E(Y=>({...Y,brideBankInfo:{...Y.brideBankInfo,accountHolder:q}})),placeholder:"Tên chủ TK",color:"#EC4899"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(HStack,{gap:2,marginBottom:1,children:[jsxRuntimeExports.jsx(FaQrcode,{size:14,color:"#EC4899"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"QR Code"})]}),jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(Input$1,{value:h.brideBankInfo.qrCodeImage,onChange:q=>E(Y=>({...Y,brideBankInfo:{...Y.brideBankInfo,qrCodeImage:q.target.value}})),placeholder:"URL hình ảnh QR code",size:"sm",borderColor:"gray.300",_hover:{borderColor:"blue.400"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px var(--chakra-colors-blue-500)"}}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>I("bride"),children:[jsxRuntimeExports.jsx(FaImage,{style:{marginRight:4}}),"Chọn"]})]})]})]})})]}),jsxRuntimeExports.jsxs(AccordionItem,{className:"pb-4",value:"social",children:[jsxRuntimeExports.jsx(AccordionItemTrigger,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaGlobe,{color:"#6366F1"}),jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",children:"Domain & Social Media"})]})}),jsxRuntimeExports.jsx(AccordionItemContent,{children:jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",paddingTop:3,children:[jsxRuntimeExports.jsxs(Grid,{templateColumns:{base:"1fr",sm:"1fr 1fr"},gap:3,children:[jsxRuntimeExports.jsx(InputField,{icon:FaGlobe,label:"Domain",value:h.domain,onChange:q=>E(Y=>({...Y,domain:q})),placeholder:"VD: example.com",color:"#6366F1"}),jsxRuntimeExports.jsx(InputField,{icon:FaGlobe,label:"Sub Domain",value:h.subDomain,onChange:q=>E(Y=>({...Y,subDomain:q})),placeholder:"VD: wedding.example.com",color:"#6366F1"})]}),jsxRuntimeExports.jsx(Box,{height:2}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Social Links - Chú rể"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 1",value:((z=h.groomSocialLinks[0])==null?void 0:z.url)||"",onChange:q=>E(Y=>{const V=[...Y.groomSocialLinks];return V[0]={url:q},{...Y,groomSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 2",value:((H=h.groomSocialLinks[1])==null?void 0:H.url)||"",onChange:q=>E(Y=>{const V=[...Y.groomSocialLinks];return V[1]={url:q},{...Y,groomSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#3B82F6"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 3",value:((U=h.groomSocialLinks[2])==null?void 0:U.url)||"",onChange:q=>E(Y=>{const V=[...Y.groomSocialLinks];return V[2]={url:q},{...Y,groomSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#3B82F6"}),jsxRuntimeExports.jsx(Box,{height:2}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.600",children:"Social Links - Cô dâu"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 1",value:((D=h.brideSocialLinks[0])==null?void 0:D.url)||"",onChange:q=>E(Y=>{const V=[...Y.brideSocialLinks];return V[0]={url:q},{...Y,brideSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 2",value:((O=h.brideSocialLinks[1])==null?void 0:O.url)||"",onChange:q=>E(Y=>{const V=[...Y.brideSocialLinks];return V[1]={url:q},{...Y,brideSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#EC4899"}),jsxRuntimeExports.jsx(InputField,{icon:FaLink,label:"Link MXH 3",value:((Q=h.brideSocialLinks[2])==null?void 0:Q.url)||"",onChange:q=>E(Y=>{const V=[...Y.brideSocialLinks];return V[2]={url:q},{...Y,brideSocialLinks:V}}),placeholder:"Facebook, Instagram, etc.",color:"#EC4899"})]})})]})]})]}),e[15]=h,e[16]=a,e[17]=c,e[18]=T):T=e[18];let L;e[19]!==r?(L=jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:r,children:"Đóng"}),e[19]=r,e[20]=L):L=e[20];let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=jsxRuntimeExports.jsx(FaMagic,{style:{marginRight:"8px"}}),e[21]=P):P=e[21];let N;e[22]!==v||e[23]!==a?(N=jsxRuntimeExports.jsxs(Button$1,{colorScheme:"blue",onClick:v,disabled:a,children:[P,"Áp dụng thông tin"]}),e[22]=v,e[23]=a,e[24]=N):N=e[24];let k;e[25]!==L||e[26]!==N?(k=jsxRuntimeExports.jsxs(HStack,{justify:"end",gap:3,marginTop:6,children:[L,N]}),e[25]=L,e[26]=N,e[27]=k):k=e[27];let B;e[28]===Symbol.for("react.memo_cache_sentinel")?(B=()=>{d(!1),m(null)},e[28]=B):B=e[28];let F;e[29]!==A||e[30]!==l?(F=jsxRuntimeExports.jsx(FileSelectModal,{isOpen:l,onClose:B,onSelectFile:A,fileType:FileType.IMAGE}),e[29]=A,e[30]=l,e[31]=F):F=e[31];let W;return e[32]!==o||e[33]!==r||e[34]!==T||e[35]!==k||e[36]!==F?(W=jsxRuntimeExports.jsxs(ModalBasic,{isOpen:o,title:"Thông tin cá nhân",onClose:r,maxWidth:"600px",children:[T,k,F]}),e[32]=o,e[33]=r,e[34]=T,e[35]=k,e[36]=F,e[37]=W):W=e[37],W},HtmlEditorModal=({isOpen:t,onClose:e,initialValue:o,onSave:r})=>{const[s,i]=reactExports.useState(""),[a,c]=reactExports.useState(!1),[l,d]=reactExports.useState(""),[u,m]=reactExports.useState(!1);if(reactExports.useEffect(()=>{t&&(i(o||""),d(""),c(!1),m(!1))},[t,o]),!t)return null;const R=w=>{try{if(!w.trim())return d(""),!0;const C=document.createElement("div");return C.innerHTML=w,w.match(/\w+\s*=\s*["'][^"']*$/m)?(d("Thuộc tính HTML có dấu ngoặc kép không được đóng đúng."),!1):w.match(/<[^>]*[<]/g)?(d("Có thẻ HTML không đúng định dạng."),!1):w.toLowerCase().includes("<script")&&!w.toLowerCase().includes("<\/script>")?(d("Thẻ script phải được đóng đúng cách."),!1):(d(""),!0)}catch{return d("Không thể xác thực mã HTML. Vui lòng kiểm tra cú pháp."),!1}},p=w=>{i(w),R(w)},j=async()=>{if(R(s)){m(!0);try{const C=x(s);await r(C),e()}catch{d("Đã xảy ra lỗi khi lưu. Vui lòng thử lại.")}finally{m(!1)}}},x=w=>w,g=()=>x(s),h=jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>c(!a),variant:"outline",children:a?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FiCode,{style:{marginRight:8}})," Chỉnh sửa"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FiEye,{style:{marginRight:8}})," Xem trước"]})}),E=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:e,children:"Hủy"}),jsxRuntimeExports.jsx(Button$1,{colorScheme:"blue",onClick:j,disabled:!!l||u,children:u?"Đang lưu...":"Lưu"})]});return jsxRuntimeExports.jsx(EditorModal,{isOpen:t,onClose:e,title:"Chỉnh sửa HTML",widthClass:"max-w-[800px]",zIndex:zIndex.htmlEditor,headerActions:h,footer:E,children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.600",mb:4,children:"Nhập mã HTML tùy chỉnh cho component"}),a?jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Xem trước:"}),jsxRuntimeExports.jsx(Box,{px:3,py:2,border:"1px",borderColor:"gray.300",borderRadius:"md",fontSize:"sm",overflowY:"auto",bg:"gray.50",minH:"400px",maxH:"500px",dangerouslySetInnerHTML:{__html:g()}})]}):jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Mã HTML:"}),jsxRuntimeExports.jsx(Textarea,{value:s,onChange:w=>p(w.target.value),placeholder:"Nhập mã HTML tùy chỉnh của bạn...",fontFamily:"mono",fontSize:"sm",minH:"400px",resize:"vertical"}),l&&jsxRuntimeExports.jsx(Text$1,{mt:2,color:"red.600",fontSize:"sm",children:l})]})]})})},createDefaultContent=(t,e=!1,o=!1)=>JSON.stringify(e?{ROOT:{type:{resolvedName:"ContentWrapper"},isCanvas:!0,props:{fontSize:"16px",fontFamily:"Arial, sans-serif",textColor:"#333333"},displayName:"Content Wrapper",custom:{},hidden:!1,nodes:["pages-container-1"],linkedNodes:{}},"pages-container-1":{type:{resolvedName:"PagesContainer"},isCanvas:!0,props:{layout:"horizontal",pageSpacing:20,backgroundColor:"#44444E",borderRadius:8,padding:[20,20,20,20]},displayName:"Pages Container",custom:{},hidden:!1,nodes:["page-1","page-2","page-3"],linkedNodes:{},parent:"ROOT"},"page-1":{type:{resolvedName:"Page"},isCanvas:!0,props:{width:"300px",height:"400px",backgroundColor:"#ffffff",top:20,left:20},displayName:"Page",custom:{},hidden:!1,nodes:[],linkedNodes:{},parent:"pages-container-1"},"page-2":{type:{resolvedName:"Page"},isCanvas:!0,props:{width:"300px",height:"400px",backgroundColor:"#ffffff",top:20,left:340},displayName:"Page",custom:{},hidden:!1,nodes:[],linkedNodes:{},parent:"pages-container-1"},"page-3":{type:{resolvedName:"Page"},isCanvas:!0,props:{width:"300px",height:"400px",backgroundColor:"#ffffff",top:20,left:660},displayName:"Page",custom:{},hidden:!1,nodes:[],linkedNodes:{},parent:"pages-container-1"}}:o?{ROOT:{type:{resolvedName:"ContentWrapper"},isCanvas:!0,props:{fontSize:"16px",fontFamily:"Arial, sans-serif",textColor:"#333333"},displayName:"Content Wrapper",custom:{},hidden:!1,nodes:["logo-content-1"],linkedNodes:{}},"logo-content-1":{type:{resolvedName:"LogoContent"},isCanvas:!0,props:{width:"400px",height:"400px",padding:[40,40,40,40],backgroundColor:"#ffffff",alignItems:"center",justifyContent:"center"},displayName:"LogoContent",custom:{},hidden:!1,nodes:[],linkedNodes:{},parent:"ROOT"}}:{ROOT:{type:{resolvedName:"ContentWrapper"},isCanvas:!0,props:{fontSize:"16px",fontFamily:"Arial, sans-serif",textColor:"#333333"},displayName:"Content Wrapper",custom:{},hidden:!1,nodes:["section-1"],linkedNodes:{}},"section-1":{type:{resolvedName:"Sections"},isCanvas:!0,props:{height:"100vh",backgroundColor:"#ffffff"},displayName:"Sections",custom:{},hidden:!1,nodes:[],linkedNodes:{},parent:"ROOT"}}),defaultContext$1={id:"",weddingPageId:null,setWeddingPageId:()=>{},isCardEditor:!1,isLogoEditor:!1,sidebarMode:"draggable",toggleSidebarMode:()=>{},showSidebar:()=>{},hideSidebar:()=>{},toggleLayer:()=>{},previousMode:"draggable",isSidebarVisible:!0,isLayerVisible:!0,isElementsPopupOpen:!1,toggleElementsPopup:()=>{},closeAllPopups:()=>{},closeAllModalComponents:()=>{},showMiddleGuides:!1,setShowMiddleGuides:()=>{},currentDragParent:null,setCurrentDragParent:()=>{},isEditModeToggling:!1,editModeProgress:0,performEditModeToggle:async()=>{},isSectionSwitchingDisabled:!1,copiedNode:null,setCopiedNode:()=>{},showAssetSaveModal:()=>{},showFileSelectModal:()=>{},showMultiImageSelectModal:()=>{},showFontSelectModal:()=>{},showIconPickerModal:()=>{},showParticleEffectsModal:()=>{},showAudioSettingsModal:()=>{},showCustomHtmlSettingsModal:()=>{},showSEOSettingsModal:()=>{},showNotificationSettingsModal:()=>{},showCustomEffectsModal:()=>{},showFileManagementModal:()=>{},showHtmlEditorModal:()=>{},showViewportSettingsModal:()=>{},showElementIdEditModal:()=>{},showCalendarProviderModal:()=>{},showAutoFillInfoModal:()=>{},setPageContent:()=>{},pageContent:null,isPage:!1,setIsPage:()=>{},userIsAdmin:!1,setId:()=>{},currentPopupIdOpen:null,openPopup:()=>{},closePopup:()=>{},registerAutoOpenPopup:()=>{},currentDropboxIdOpen:null,dropboxPosition:"bottom-center",dropboxDistance:10,dropboxTriggerElementId:null,openDropbox:()=>{},closeDropbox:()=>{},currentDropboxEditorIdOpen:null,openDropboxEditor:()=>{},closeDropboxEditor:()=>{},setDropboxHoverState:()=>{},scheduleDropboxClose:()=>{},cancelDropboxClose:()=>{},currentLightBoxOpen:null,openLightBox:()=>{},closeLightBox:()=>{},currentAlbumModalOpen:null,openAlbumModal:()=>{},closeAlbumModal:()=>{},currentEditingPlatform:"desktop",setCurrentEditingPlatform:()=>{},desktopContent:null,mobileContent:null,setDesktopContent:()=>{},setMobileContent:()=>{},getCurrentContent:()=>null,switchToPlatform:()=>{},autoSaveCurrentContent:()=>{},autoSaveToAPI:()=>{},syncFromDesktop:()=>{},lastAutoSaveTime:null,isViewOnly:!1,initialContent:{desktop:null,mobile:null},setInitialContent:()=>{},guestData:null,guestDataLoading:!1,guestDataError:null,loadGuestData:async()=>{},userFeatures:[],userFeaturesLoading:!1,userFeaturesError:null,hasFeature:()=>!1,isAgent:!1},ViewportContext=reactExports.createContext(defaultContext$1),useViewport=()=>reactExports.useContext(ViewportContext),ViewportProvider=({children:t,refetchData:e,templateId:o,isPage:r,isViewOnly:s=!1,isCardEditor:i=!1,isLogoEditor:a=!1})=>{const{actions:c,query:l,enabled:d}=Pe(ot=>({enabled:ot.options.enabled})),{settings:u}=useViewportSettings(),[m,R]=reactExports.useState(null),{mutate:p}=useUpdateTemplate(),{mutate:j}=useUpdatePageContent(),[x,g]=reactExports.useState(""),[h,E]=reactExports.useState(null),[w,C]=reactExports.useState(!1),[b,v]=reactExports.useState("draggable"),[_,I]=reactExports.useState("draggable"),[$,A]=reactExports.useState(!1),[T,L]=reactExports.useState(!1),[P,N]=reactExports.useState(!1),[k,B]=reactExports.useState(null),F=useSelector(selectAuth),W=isAdmin(F),z=canAccessAgent(F),[H,U]=reactExports.useState({desktop:null,mobile:null}),[D,O]=reactExports.useState("desktop"),[Q,q]=reactExports.useState(!1),Y=ot=>{U(Dt=>({...Dt,...ot}))};reactExports.useEffect(()=>{if(typeof window<"u"&&!Q){const ot=detectMobileDevice();isMobileOnly(u)?O("mobile"):O(ot?"mobile":"desktop"),q(!0)}},[u,Q,D]),reactExports.useEffect(()=>{if(s){isMobileOnly(u)&&D==="desktop"&&O("mobile");return}Q&&isMobileOnly(u)&&D==="desktop"&&O("mobile")},[u.mobileOnly,Q,D,s]);const[V,de]=reactExports.useState(null),[ue,Re]=reactExports.useState(null),[oe,ce]=reactExports.useState(!1),[je,ie]=reactExports.useState(!1),[xe,pe]=reactExports.useState(0),[$e,Se]=reactExports.useState(null),Ie=reactExports.useRef(null),[Me,He]=reactExports.useState(globalGuestDataManager.guestData),[fe,Ce]=reactExports.useState(globalGuestDataManager.guestDataLoading),[le,J]=reactExports.useState(globalGuestDataManager.guestDataError),[se,te]=reactExports.useState(globalGuestDataManager.loadedGuestId),{data:be=[],isLoading:Z,error:Ee}=useGetAllUserFeatures(),me=reactExports.useCallback(async ot=>{await globalGuestDataManager.loadGuestData(ot,h?Number(h):null),He(globalGuestDataManager.guestData),Ce(globalGuestDataManager.guestDataLoading),J(globalGuestDataManager.guestDataError),te(globalGuestDataManager.loadedGuestId)},[]),ge=reactExports.useCallback(ot=>be.includes(ot),[be]);reactExports.useEffect(()=>{const ot=()=>{He(globalGuestDataManager.guestData),Ce(globalGuestDataManager.guestDataLoading),J(globalGuestDataManager.guestDataError),te(globalGuestDataManager.loadedGuestId)};ot();const Dt=globalGuestDataManager.subscribe(ot);return()=>Dt()},[]);const Ke=reactExports.useCallback(()=>{},[]),[Ue,_e]=reactExports.useState(!1),Qe=reactExports.useCallback(()=>{if(!s&&d&&!oe&&!(!V&&!ue))try{const ot={id:Number(o||x),data:{}};V&&(ot.data.content=lz.encodeBase64(lz.compress(V))),ue&&(ot.data.contentMobile=lz.encodeBase64(lz.compress(ue))),(r?j:p)(ot,{onSuccess:Ht=>{Se(new Date),toaster.create({title:"Tự động lưu thành công",description:"Đã lưu nội dung cả hai nền tảng",type:"success",duration:2e3})},onError:Ht=>{toaster.create({title:"Tự động lưu thất bại",description:"Không thể tự động lưu. Vui lòng lưu thủ công.",type:"error",duration:4e3})}})}catch{toaster.create({title:"Lỗi tự động lưu",description:"Đã xảy ra lỗi khi tự động lưu",type:"error",duration:4e3})}},[V,ue,s,d,oe,o,x,r,j,p,D]),[qe,Ye]=reactExports.useState(null),nt=reactExports.useRef(new Map),et=reactExports.useRef(new Set),[re,Xe]=reactExports.useState(null),[tt,rt]=reactExports.useState("bottom-center"),[Rt,wt]=reactExports.useState(10),[St,bt]=reactExports.useState(null),[yt,jt]=reactExports.useState(null),[we,G]=reactExports.useState(null),[X,K]=reactExports.useState(null),ne=reactExports.useRef(new Map),ve=reactExports.useRef(new Map),Te=reactExports.useRef(new Map),[Le,st]=reactExports.useState(null),[ft,ht]=reactExports.useState(!1),[ct,Et]=reactExports.useState(FileType.OTHER),[Tt,vt]=reactExports.useState(null),[it,ae]=reactExports.useState(null),[Fe,ee]=reactExports.useState(20),[Be,ze]=reactExports.useState(!1),[Ge,We]=reactExports.useState(!1),[Ve,Je]=reactExports.useState(null),[he,at]=reactExports.useState(!1),[xt,gt]=reactExports.useState(null),[Oe,Ze]=reactExports.useState(!1),[kt,Mt]=reactExports.useState(!1),[At,pt]=reactExports.useState(!1),[It,Nt]=reactExports.useState(!1),[$t,zt]=reactExports.useState(!1),[_t,Xt]=reactExports.useState(!1),[Gt,Vt]=reactExports.useState(!1),[Kt,fo]=reactExports.useState(!1),[Yt,eo]=reactExports.useState(null),[no,co]=reactExports.useState(!1),[oo,qt]=reactExports.useState(!1),[Qt,po]=reactExports.useState(null),[ro,io]=reactExports.useState(!1),[to,so]=reactExports.useState(null),[Jt,ao]=reactExports.useState(!1),[uo,Bt]=reactExports.useState({}),[Ct,Ot]=reactExports.useState(null),[Wt,lo]=reactExports.useState({imageUrl:""}),[go,mo]=reactExports.useState({audioUrl:""}),[bo,Eo]=reactExports.useState(""),[yo,vo]=reactExports.useState({title:"",description:"",keywords:["mewedding","meHappy","Wedding","Đám cưới","Thiệp cưới","Tạo Thiệp cưới miễn phí"],imageUrl:"",favoriteIconUrl:"",password:""}),[Co,wo]=reactExports.useState({enabled:!0,displayDuration:5e3,size:"medium",showIcon:!0,useDefaultIcon:!0,iconColor:"#000000"}),[To,No]=reactExports.useState({autoScroll:{enabled:!1,speed:1}}),Bo=()=>{b==="fixed"?(v("draggable"),I("fixed")):b==="draggable"?(v("fixed"),I("draggable")):b==="hidden"&&v(_)},ko=()=>{b==="hidden"&&v(_)},$o=()=>{b!=="hidden"&&((b==="fixed"||b==="draggable")&&I(b),v("hidden"))},Do=ot=>{A(ot||!$)},Ut=()=>{L(!T)},Zt=()=>{A(!1),L(!1)},Ro=()=>{qe&&Ye(null),re&&(Xe(null),bt(null)),yt&&jt(null),we&&G(null),X&&K(null),ne.current.forEach(ot=>{clearTimeout(ot)}),ne.current.clear(),ve.current.clear(),c.selectNode([])},Wo=ot=>{Ro(),Ye(ot)},Go=()=>{c.selectNode([]),Ye(null)},Ko=(ot,Dt)=>{if(!s||et.current.has(ot))return;const Ht=nt.current.get(ot);Ht&&clearTimeout(Ht),et.current.add(ot);const xo=setTimeout(()=>{Wo(ot),nt.current.delete(ot)},Dt*1e3);nt.current.set(ot,xo)},Qo=(ot,Dt="bottom-center",Ht=10,xo,So="click")=>{Ro(),Xe(ot),rt(Dt),wt(Ht),bt(xo||null),Te.current.set(ot,So)},Oo=()=>{ne.current.forEach(ot=>{clearTimeout(ot)}),ne.current.clear(),ve.current.clear(),Te.current.clear(),Xe(null),setTimeout(()=>{bt(null)},200)},js=ot=>{Ro(),jt(ot),c.selectNode(ot)},ys=()=>{jt(null),c.selectNode([])},Es=ot=>{Ro(),G(ot)},Rs=()=>{G(null)},Jo=ot=>{Ro(),K(ot)},Zo=()=>{K(null)},es=(ot,Dt)=>{if(ve.current.set(ot,Dt),Dt){const Ht=ne.current.get(ot);Ht&&(clearTimeout(Ht),ne.current.delete(ot))}},ts=ot=>{const Dt=ne.current.get(ot);if(Dt&&clearTimeout(Dt),(Te.current.get(ot)||"click")==="click")return;const xo=window.setTimeout(()=>{const So=ve.current.get(St||""),jo=ve.current.get(ot);!So&&!jo&&Oo(),ne.current.delete(ot)},300);ne.current.set(ot,xo)},Ss=ot=>{const Dt=ne.current.get(ot);Dt&&(clearTimeout(Dt),ne.current.delete(ot))},Ns=(ot,Dt)=>{Dt&&(st({elementName:ot,nodeId:Dt}),_e(!0))},os=(ot,Dt)=>{Et(ot),vt(()=>Dt),ae(null),ze(!1),ht(!0)},ss=(ot,Dt=100)=>{Et(FileType.IMAGE),vt(null),ae(()=>ot),ee(Dt),ze(!0),ht(!0)},$s=ot=>{Je(()=>ot),setTimeout(()=>{We(!0)},0)},ns=ot=>{gt(()=>ot),setTimeout(()=>{at(!0)},0)},rs=ot=>{Ze(!0),lo(ot)},vs=ot=>{Mt(!0),mo(ot)},Ps=ot=>{pt(!0),Eo(ot)},is=ot=>{Nt(!0),ot&&vo(ot)},as=ot=>{zt(!0),ot&&wo(ot)},ls=ot=>{Xt(!0),No(ot)},Ms=()=>{Vt(!0)},cs=(ot,Dt)=>{eo({initialValue:ot,onSave:Dt}),fo(!0)},Vo=ot=>{po(ot),qt(!0)},ds=ot=>{so(ot),io(!0)},us=ot=>{Bt(ot||{}),co(!0)},Cs=()=>{ao(!0)},Bs=ot=>{globalSelectorInitManager.resetPageContentInitializations(),Ot(ot)},xs=reactExports.useMemo(()=>{if(qe||yt||we)return!0;if(ft||Ge||he||Oe||kt||At||It||$t||_t||Gt||Kt||no)try{const ot=l.getEvent("selected").all();if(ot.length>0){const Ht=l.node(ot[0]).get().data.type;if(Ht&&typeof Ht=="function"){const xo=Ht.displayName||Ht.name;if(xo==="Popup"||xo==="LightBox")return!0}}}catch{}return!1},[qe,yt,we,ft,Ge,he,Oe,kt,At,It,$t,_t,Gt,Kt,no,oo,Vo,l]),ps=()=>D==="desktop"?V:ue,Uo=reactExports.useCallback(async ot=>{if(D!==ot&&!(ot==="desktop"&&isMobileOnly(u))&&!(ot==="mobile"&&isMobileOnly(u)&&D==="mobile")){ie(!0);try{await new Promise(Ht=>setTimeout(Ht,50)),ce(!0),await new Promise(Ht=>setTimeout(Ht,10)),O(ot),await new Promise(Ht=>setTimeout(Ht,10));const Dt=ot==="desktop"?V:ue;if(Dt)await new Promise(Ht=>setTimeout(Ht,10)),c.deserialize(Dt),await new Promise(Ht=>setTimeout(Ht,100));else{const Ht=createDefaultContent(ot,i,a);ot==="desktop"?de(Ht):Re(Ht),await new Promise(xo=>setTimeout(xo,10)),c.deserialize(Ht),await new Promise(xo=>setTimeout(xo,100))}ce(!1),await new Promise(Ht=>setTimeout(Ht,50))}catch{ce(!1)}finally{ie(!1)}}},[D,u,V,ue,c,createDefaultContent,i,a]),ms=reactExports.useRef(null);reactExports.useEffect(()=>{if(s)return;const ot=isMobileOnly(u);if(ms.current===null){ms.current=ot;return}ot&&!ms.current&&D==="desktop"&&setTimeout(()=>{Uo("mobile")},50),ms.current=ot},[u.mobileOnly,s]);const hs=()=>{if(D==="mobile"){if(!V){toaster.create({title:"Không có nội dung desktop",description:"Không tìm thấy nội dung desktop để đồng bộ. Vui lòng tạo nội dung desktop trước.",duration:3e3});return}try{ce(!0);const ot=convertDesktopContentToMobile(V);Re(ot),setTimeout(()=>{try{c.deserialize(ot),ce(!1),toaster.create({title:"Đồng bộ thành công",description:"Đã đồng bộ và chuyển đổi nội dung từ desktop sang mobile.",duration:3e3})}catch{ce(!1),toaster.create({title:"Lỗi tải nội dung",description:"Có lỗi xảy ra khi tải nội dung đã chuyển đổi.",duration:3e3})}},100)}catch{ce(!1),toaster.create({title:"Lỗi chuyển đổi",description:"Có lỗi xảy ra khi chuyển đổi nội dung desktop sang mobile.",duration:3e3})}}},gs=async(ot,Dt,Ht,xo,So,jo,qo,ws,Ds)=>{ie(!0),pe(0);try{pe(10),await new Promise(ho=>setTimeout(ho,10)),pe(15),Dt.setOptions(ho=>ho.enabled=!ot),pe(25),await new Promise(ho=>setTimeout(ho,10)),await new Promise(ho=>setTimeout(ho,50)),pe(35),Ke(),await new Promise(ho=>setTimeout(ho,10));const Lo=ot;if(pe(45),Lo?So():xo(jo,qo),await new Promise(ho=>setTimeout(ho,10)),Lo){pe(55);const ho={id:Number(jo),data:{fontMap:ws}};if(pe(65),a){const Fo=D==="desktop"?V:ue;Fo&&(ho.data.content=lz.encodeBase64(lz.compress(Fo)),ho.data.contentMobile=lz.encodeBase64(lz.compress(Fo)))}else V&&(ho.data.content=lz.encodeBase64(lz.compress(V))),ue&&(ho.data.contentMobile=lz.encodeBase64(lz.compress(ue)));pe(80),await new Promise((Fo,zs)=>{Ds(ho,{onSuccess:Ts=>{pe(95),Fo()},onError:Ts=>{pe(95),Fo()}})})}else pe(95);await new Promise(ho=>setTimeout(ho,100)),pe(100)}catch{}finally{ie(!1),pe(0)}},{nodes:fs}=Pe(ot=>({nodes:ot.nodes})),Ao=reactExports.useRef(null),bs=reactExports.useRef(!1),Xo=reactExports.useRef(D),Yo=reactExports.useRef(d);reactExports.useEffect(()=>{(V||ue)&&!bs.current&&setTimeout(()=>{bs.current=!0},500)},[V,ue]),reactExports.useEffect(()=>{if(s||!d||oe||!bs.current)return;const ot=Xo.current!==D,Dt=Yo.current!==d,Ht=ot||Dt;Xo.current=D,Yo.current=d;try{Ao.current&&clearTimeout(Ao.current);const xo=()=>{try{const So=l.serialize(),jo=optimizeSerializedContent(So);jo!==(D==="desktop"?V:ue)&&(D==="desktop"?de(jo):Re(jo))}catch{}};Ht?xo():Ao.current=setTimeout(xo,200)}catch{}return()=>{Ao.current&&clearTimeout(Ao.current)}},[fs,D,V,ue,l,s,d,oe]);const Po=reactExports.useRef(null),zo=reactExports.useRef(null),_o=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!s&&d&&!oe&&!isMobileOnly(u)&&!(!V&&!ue))return Po.current&&clearTimeout(Po.current),Po.current=setTimeout(()=>{try{let ot=!1,Dt=null;if(D==="desktop"&&V&&V!==zo.current?(ot=!0,Dt="desktop-to-mobile"):D==="mobile"&&ue&&ue!==_o.current&&(ot=!0,Dt="mobile-to-desktop"),ot&&Dt)if(Dt==="desktop-to-mobile"){const Ht=!ue,xo=ue||createDefaultContent("mobile",i,a),So=synchronizeContent(V,xo);So!==ue?(Re(So),_o.current=So,zo.current=V,setTimeout(()=>{const jo=removeDuplicateSourceIds(V);jo!==V&&(zo.current=jo,de(jo))},100)):(zo.current=V,_o.current=ue)}else{const Ht=!V,xo=V||createDefaultContent("desktop",i,a),So=synchronizeContent(ue,xo);So!==V?(de(So),zo.current=So,_o.current=ue,setTimeout(()=>{const jo=removeDuplicateSourceIds(ue);jo!==ue&&(_o.current=jo,Re(jo))},100)):(zo.current=V,_o.current=ue)}}catch{}},300),()=>{Po.current&&clearTimeout(Po.current)}},[V,ue,D,s,d,oe,u,i,a]),reactExports.useEffect(()=>{if(!s&&d)return Ie.current&&clearInterval(Ie.current),Ie.current=setInterval(()=>{Qe()},6e4),()=>{Ie.current&&clearInterval(Ie.current)}},[Qe,s,d]),reactExports.useEffect(()=>{if(s||!d)return;const ot=()=>{Ke()},Dt=()=>{document.hidden&&Ke()};return window.addEventListener("beforeunload",ot),document.addEventListener("visibilitychange",Dt),()=>{window.removeEventListener("beforeunload",ot),document.removeEventListener("visibilitychange",Dt)}},[Ke,s,d]),reactExports.useEffect(()=>{const ot=Dt=>{Dt.key==="Escape"&&(we?(Rs(),Dt.preventDefault(),Dt.stopPropagation()):qe?(Go(),Dt.preventDefault(),Dt.stopPropagation()):yt?(ys(),Dt.preventDefault(),Dt.stopPropagation()):re&&(Oo(),Dt.preventDefault(),Dt.stopPropagation()))};return window.addEventListener("keydown",ot),()=>window.removeEventListener("keydown",ot)},[qe,re,yt,we]),reactExports.useEffect(()=>{if(a)return;const ot=()=>{detectMobileDevice()&&D==="desktop"&&Uo("mobile")};Q&&ot();let Dt;const Ht=()=>{clearTimeout(Dt),Dt=setTimeout(ot,300)};return window.addEventListener("resize",Ht),()=>{window.removeEventListener("resize",Ht),clearTimeout(Dt)}},[D,Uo,Q,a]),jsxRuntimeExports.jsxs(ViewportContext.Provider,{value:{sidebarMode:b,toggleSidebarMode:Bo,showSidebar:ko,hideSidebar:$o,toggleLayer:Do,previousMode:_,isSidebarVisible:b!=="hidden",isLayerVisible:$,isElementsPopupOpen:T,toggleElementsPopup:Ut,closeAllPopups:Zt,closeAllModalComponents:Ro,showMiddleGuides:P,setShowMiddleGuides:N,currentDragParent:k,setCurrentDragParent:B,isEditModeToggling:je,editModeProgress:xe,performEditModeToggle:gs,copiedNode:m,setCopiedNode:R,showAssetSaveModal:Ns,showFileSelectModal:os,showMultiImageSelectModal:ss,showFontSelectModal:$s,showIconPickerModal:ns,showParticleEffectsModal:rs,showAudioSettingsModal:vs,showCustomHtmlSettingsModal:Ps,showSEOSettingsModal:is,showNotificationSettingsModal:as,showCustomEffectsModal:ls,showFileManagementModal:Ms,showHtmlEditorModal:cs,showViewportSettingsModal:us,showElementIdEditModal:Vo,showCalendarProviderModal:ds,showAutoFillInfoModal:Cs,pageContent:Ct,setPageContent:Ot,isPage:w,setIsPage:C,userIsAdmin:W,id:x,setId:g,weddingPageId:h,setWeddingPageId:E,currentPopupIdOpen:qe,openPopup:Wo,closePopup:Go,registerAutoOpenPopup:Ko,currentDropboxIdOpen:re,dropboxPosition:tt,dropboxDistance:Rt,dropboxTriggerElementId:St,openDropbox:Qo,closeDropbox:Oo,currentDropboxEditorIdOpen:yt,openDropboxEditor:js,closeDropboxEditor:ys,setDropboxHoverState:es,scheduleDropboxClose:ts,cancelDropboxClose:Ss,currentLightBoxOpen:we,openLightBox:Es,closeLightBox:Rs,currentAlbumModalOpen:X,openAlbumModal:Jo,closeAlbumModal:Zo,currentEditingPlatform:D,setCurrentEditingPlatform:O,desktopContent:V,mobileContent:ue,setDesktopContent:de,setMobileContent:Re,getCurrentContent:ps,switchToPlatform:Uo,autoSaveCurrentContent:Ke,autoSaveToAPI:Qe,syncFromDesktop:hs,lastAutoSaveTime:$e,isSectionSwitchingDisabled:xs,isViewOnly:s,initialContent:H,setInitialContent:Y,isCardEditor:i,isLogoEditor:a,guestData:Me,guestDataLoading:fe,guestDataError:le,loadGuestData:me,userFeatures:be,userFeaturesLoading:Z,userFeaturesError:(Ee==null?void 0:Ee.message)||null,hasFeature:ge,isAgent:z},children:[t,!s&&jsxRuntimeExports.jsx(AssetSaveModal,{isOpen:Ue,onClose:()=>_e(!1),elementName:(Le==null?void 0:Le.elementName)||"",nodeId:(Le==null?void 0:Le.nodeId)||""}),!s&&jsxRuntimeExports.jsx(FileSelectModal,{isOpen:ft,onClose:()=>ht(!1),onSelectFile:Tt?ot=>{Tt(ot),ht(!1)}:void 0,onSelectFiles:it?ot=>{it(ot),ht(!1)}:void 0,fileType:ct,maxSelection:Fe,allowMultiSelect:Be}),!s&&jsxRuntimeExports.jsx(ErrorBoundary,{fallback:Ge&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",style:{zIndex:zIndex.viewportContext},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px] flex flex-col items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-red-500",children:"Error Loading Font Selector"}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"There was a problem loading the font selector."}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Close"})]})}),children:jsxRuntimeExports.jsx(FontSelectModal,{isOpen:Ge,onClose:()=>{We(!1)},onSelectFont:ot=>{Ve&&Ve(ot),We(!1)}})}),!s&&jsxRuntimeExports.jsx(IconPickerModal,{isOpen:he,onClose:()=>{at(!1)},onIconSelect:ot=>{xt&&xt(ot),at(!1)}}),!s&&jsxRuntimeExports.jsx(ParticleEffectsModal,{isOpen:Oe,onClose:()=>{Ze(!1)},initialValues:Wt}),!s&&jsxRuntimeExports.jsx(AudioSettingsModal,{isOpen:kt,onClose:()=>{Mt(!1)},initialValues:go}),!s&&jsxRuntimeExports.jsx(CustomHtmlSettingsModal,{isOpen:At,onClose:()=>{pt(!1)},initialValues:bo}),!s&&jsxRuntimeExports.jsx(SEOSettingsModal,{isOpen:It,onClose:()=>{Nt(!1)},initialValues:yo}),!s&&jsxRuntimeExports.jsx(NotificationSettingsModal,{isOpen:$t,onClose:()=>{zt(!1)},initialValues:Co}),!s&&jsxRuntimeExports.jsx(CustomEffectsModal,{isOpen:_t,onClose:()=>{Xt(!1)},initialValues:To}),!s&&jsxRuntimeExports.jsx(FileManagementModal,{isOpen:Gt,onClose:()=>{Vt(!1)}}),!s&&jsxRuntimeExports.jsx(HtmlEditorModal,{isOpen:Kt,onClose:()=>{fo(!1),eo(null)},initialValue:(Yt==null?void 0:Yt.initialValue)||"",onSave:ot=>{Yt==null||Yt.onSave(ot),fo(!1),eo(null)}}),!s&&jsxRuntimeExports.jsx(ViewportSettingsModal,{isOpen:no,onClose:()=>{co(!1)},initialValues:uo}),!s&&jsxRuntimeExports.jsx(ElementIdEditModal,{isOpen:oo,onClose:()=>{qt(!1),po(null)},currentElementId:Qt||""}),to&&jsxRuntimeExports.jsx(CalendarProviderModal,{isOpen:ro,onClose:()=>{io(!1),so(null)},event:to}),!s&&jsxRuntimeExports.jsx(AutoFillInfoModal,{isOpen:Jt,onClose:()=>ao(!1),onApplyAutoFill:Bs})]})},TO_RADIANS=Math.PI/180;let rafId=null,lastRenderParams=null,callCount=0,skipCount=0,cancelCount=0;async function canvasPreview(t,e,o,r=1,s=0){callCount++;const i=performance.now(),a=`${o.x}_${o.y}_${o.width}_${o.height}_${r}_${s}`;if(lastRenderParams===a){skipCount++;return}return rafId!==null&&(cancelCount++,cancelAnimationFrame(rafId)),new Promise(c=>{rafId=requestAnimationFrame(()=>{try{const l=e.getContext("2d",{alpha:!1,desynchronized:!0});if(!l)throw new Error("No 2d context");const d=t.naturalWidth/t.width,u=t.naturalHeight/t.height,m=Math.min(window.devicePixelRatio,2),R=Math.floor(o.width*d*m),p=Math.floor(o.height*u*m);(e.width!==R||e.height!==p)&&(e.width=R,e.height=p),l.scale(m,m),l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high";const j=o.x*d,x=o.y*u,g=o.width*d,h=o.height*u;if(l.save(),s!==0||r!==1){const w=s*TO_RADIANS,C=t.naturalWidth/2,b=t.naturalHeight/2;l.translate(-j,-x),l.translate(C,b),l.rotate(w),l.scale(r,r),l.translate(-C,-b),l.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,t.naturalWidth,t.naturalHeight)}else l.drawImage(t,j,x,g,h,0,0,o.width*d,o.height*u);l.restore(),lastRenderParams=a,rafId=null;const E=performance.now()-i;c()}catch(l){throw rafId=null,l}})})}function cancelCanvasPreview(){rafId!==null&&(cancelAnimationFrame(rafId),rafId=null)}function getCanvasPreviewStats(){return{totalCalls:callCount,skippedCalls:skipCount,cancelledCalls:cancelCount,renderedCalls:callCount-skipCount}}const AlbumImageCropModal=({isOpen:t,onClose:e,imageUrl:o,onCropComplete:r,imageId:s,imageAlt:i="",aspectRatio:a,initialCrop:c,initialScale:l=1,initialRotate:d=0})=>{const u=reactExports.useRef(null),m=reactExports.useRef(null),[R,p]=reactExports.useState(c),[j,x]=reactExports.useState(),[g,h]=reactExports.useState(l),[E,w]=reactExports.useState(d),[C,b]=reactExports.useState(!1),v=createToaster({placement:"top"});React.useEffect(()=>()=>{cancelCanvasPreview()},[]);function _(A){const{width:T,height:L}=A.currentTarget;R||p({unit:"%",x:10,y:10,width:80,height:80})}useDebounceEffect(async()=>{j!=null&&j.width&&(j!=null&&j.height)&&m.current&&u.current&&await canvasPreview(m.current,u.current,j,g,E)},200,[j,g,E]);const I=reactExports.useCallback(()=>{if(!j){v.create({title:"Lỗi",description:"Vui lòng chọn vùng cắt",type:"error",duration:3e3});return}b(!0);try{const A={crop:j,scale:g,rotate:E,imageDimensions:m.current?{width:m.current.width,height:m.current.height,naturalWidth:m.current.naturalWidth,naturalHeight:m.current.naturalHeight}:void 0};r(A),e()}catch{v.create({title:"Lỗi cắt ảnh",description:"Không thể lưu thông tin cắt ảnh. Vui lòng thử lại.",type:"error",duration:3e3})}finally{b(!1)}},[j,g,E,r,e,v]),$=reactExports.useCallback(()=>{cancelCanvasPreview(),p(c),h(l),w(d),x(void 0),e()},[c,l,d,e]);return jsxRuntimeExports.jsx(DialogRoot,{size:"sm",open:t,onOpenChange:A=>A.open?null:$(),children:jsxRuntimeExports.jsxs(Portal,{children:[jsxRuntimeExports.jsx(DialogBackdrop,{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{children:["Cắt ảnh Album - ",i||`Image ${s}`]})}),jsxRuntimeExports.jsx(DialogCloseTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm"})}),jsxRuntimeExports.jsx(DialogBody,{p:0,children:jsxRuntimeExports.jsxs(VStack,{gap:4,children:[jsxRuntimeExports.jsx(Box,{position:"relative",width:"100%",height:"400px",bg:"gray.100",borderRadius:"md",overflow:"hidden",children:jsxRuntimeExports.jsx(S,{crop:R,onChange:(A,T)=>p(T),onComplete:A=>x(A),minHeight:50,minWidth:50,children:jsxRuntimeExports.jsx("img",{ref:m,alt:"Crop me",src:o,style:{transform:`scale(${g}) rotate(${E}deg)`,maxWidth:"100%",maxHeight:"100%"},onLoad:_})})}),j&&jsxRuntimeExports.jsx(Box,{position:"relative",width:"100%",height:"200px",bg:"gray.50",borderRadius:"md",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx("canvas",{ref:u,style:{border:"1px solid #e2e8f0",objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})}),jsxRuntimeExports.jsx(Box,{width:"100%",px:6,pb:4,children:jsxRuntimeExports.jsxs(VStack,{gap:4,children:[jsxRuntimeExports.jsxs(Box,{width:"100%",children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",mb:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Tỷ lệ"}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",color:"gray.600",children:[Math.round(g*100),"%"]})]}),jsxRuntimeExports.jsx("input",{type:"range",value:g,min:.5,max:3,step:.1,onChange:A=>h(parseFloat(A.target.value)),style:{width:"100%",height:"4px",background:"#e2e8f0",borderRadius:"2px",outline:"none",cursor:"pointer"}})]}),jsxRuntimeExports.jsxs(Box,{width:"100%",children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",mb:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Xoay"}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",color:"gray.600",children:[E,"°"]})]}),jsxRuntimeExports.jsx("input",{type:"range",value:E,min:-180,max:180,step:1,onChange:A=>w(parseInt(A.target.value)),style:{width:"100%",height:"4px",background:"#e2e8f0",borderRadius:"2px",outline:"none",cursor:"pointer"}})]})]})})]})}),jsxRuntimeExports.jsx(DialogFooter,{children:jsxRuntimeExports.jsxs(HStack,{gap:3,children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:$,disabled:C,children:"Hủy"}),jsxRuntimeExports.jsx(Button$1,{colorScheme:"blue",onClick:I,loading:C,loadingText:"Đang xử lý...",children:"Xác nhận"})]})})]})]})})},parseNumericValue$1=t=>{if(typeof t=="number")return t;const e=parseFloat(String(t).replace(/[^\d.-]/g,""));return isNaN(e)?0:e},AlbumImageResizeModal=({isOpen:t,onClose:e,imageUrl:o,onResizeComplete:r,imageId:s,imageAlt:i,initialWidth:a="200px",initialHeight:c="150px",lockAspectRatio:l=!0})=>{const[d,u]=reactExports.useState(a),[m,R]=reactExports.useState(c),[p,j]=reactExports.useState(l),[x,g]=reactExports.useState(!1),h=createToaster({placement:"top"}),E=reactExports.useCallback(v=>{const _=`${v}px`;if(u(_),p){const I=parseNumericValue$1(d),$=parseNumericValue$1(m);if(I>0&&$>0){const A=$/I,T=Math.round(v*A);R(`${Math.max(1,T)}px`)}}},[d,m,p]),w=reactExports.useCallback(v=>{const _=`${v}px`;if(R(_),p){const I=parseNumericValue$1(d),$=parseNumericValue$1(m);if(I>0&&$>0){const A=I/$,T=Math.round(v*A);u(`${Math.max(1,T)}px`)}}},[d,m,p]),C=reactExports.useCallback(()=>{if(parseNumericValue$1(d)<=0||parseNumericValue$1(m)<=0){h.create({title:"Lỗi",description:"Kích thước phải lớn hơn 0",type:"error",duration:3e3});return}g(!0);try{r({width:d,height:m}),e()}catch{h.create({title:"Lỗi thay đổi kích thước",description:"Không thể lưu thông tin kích thước. Vui lòng thử lại.",type:"error",duration:3e3})}finally{g(!1)}},[d,m,r,e,h]),b=reactExports.useCallback(()=>{u(a),R(c),j(l),e()},[a,c,l,e]);return jsxRuntimeExports.jsx(DialogRoot,{size:"sm",open:t,onOpenChange:v=>v.open?null:b(),children:jsxRuntimeExports.jsxs(Portal,{children:[jsxRuntimeExports.jsx(DialogBackdrop,{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{children:["Thay đổi kích thước - ",i||`Image ${s}`]})}),jsxRuntimeExports.jsx(DialogCloseTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm"})}),jsxRuntimeExports.jsx(DialogBody,{p:6,children:jsxRuntimeExports.jsxs(VStack,{gap:4,align:"stretch",children:[jsxRuntimeExports.jsx(Box,{position:"relative",width:"100%",height:"200px",bg:"gray.100",borderRadius:"md",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx("img",{src:o,alt:i||`Image ${s}`,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",mb:3,children:"Kích thước"}),jsxRuntimeExports.jsxs(Stack,{gap:3,direction:"row",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",className:"translate-y-[2px]",children:"W"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:parseNumericValue$1(d),onChange:E,min:1})]}),jsxRuntimeExports.jsxs(Box,{flex:1,display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",className:"translate-y-[2px]",children:"H"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:parseNumericValue$1(m),onChange:w,min:1})]})]})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:p,onChange:v=>j(v.target.checked),id:"aspect-ratio-lock"}),jsxRuntimeExports.jsx("label",{htmlFor:"aspect-ratio-lock",style:{fontSize:"14px"},children:"Khóa tỷ lệ khung hình"})]})}),jsxRuntimeExports.jsx(Box,{p:3,bg:"gray.50",borderRadius:"md",children:jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.600",children:["Kích thước hiện tại: ",parseNumericValue$1(d)," x ",parseNumericValue$1(m)," px"]})})]})}),jsxRuntimeExports.jsx(DialogFooter,{children:jsxRuntimeExports.jsxs(HStack,{gap:3,children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:b,disabled:x,children:"Hủy"}),jsxRuntimeExports.jsx(Button$1,{colorScheme:"blue",onClick:C,loading:x,loadingText:"Đang xử lý...",children:"Xác nhận"})]})})]})]})})},parseNumericValue=t=>{if(typeof t=="number")return t;const e=parseFloat(String(t).replace(/[^\d.-]/g,""));return Number.isNaN(e)?0:e},SectionHeader$3=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$3.displayName="SectionHeader";const SectionCard$3=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$3.displayName="SectionCard";const DesignPanel$2=React.memo(t=>{const e=compilerRuntimeExports.c(205),{props:o,updateProp:r}=t,{showFileSelectModal:s,showMultiImageSelectModal:i}=useViewport();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={isOpen:!1,imageId:null,imageUrl:"",imageAlt:""},e[0]=a):a=e[0];const[c,l]=reactExports.useState(a);let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d={isOpen:!1,imageId:null,imageUrl:"",imageAlt:"",currentWidth:"200px",currentHeight:"150px"},e[1]=d):d=e[1];const[u,m]=reactExports.useState(d);let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R={fontSize:"xs",fontWeight:"semibold",color:"#333"},e[2]=R):R=e[2];const p=R;let j;e[3]!==o.albumImages||e[4]!==i||e[5]!==r?(j=()=>{i(Oe=>{Oe!=null&&Oe.length&&r("albumImages",[...o.albumImages,...Oe.map((Ze,kt)=>({id:`${Date.now()}-${kt}`,url:Ze,alt:`Image ${o.albumImages.length+kt+1}`,title:""}))])})},e[3]=o.albumImages,e[4]=i,e[5]=r,e[6]=j):j=e[6];const x=j;let g;e[7]!==o.albumImages||e[8]!==s||e[9]!==r?(g=Oe=>{s(FileType.IMAGE,Ze=>{if(!Ze)return;const kt=o.albumImages.findIndex(At=>At.id===Oe);if(kt===-1)return;const Mt=[...o.albumImages];Mt[kt]={...Mt[kt],url:Ze},r("albumImages",Mt)})},e[7]=o.albumImages,e[8]=s,e[9]=r,e[10]=g):g=e[10];const h=g;let E;e[11]!==o.albumImages||e[12]!==r?(E=Oe=>{r("albumImages",o.albumImages.filter(Ze=>Ze.id!==Oe))},e[11]=o.albumImages,e[12]=r,e[13]=E):E=e[13];const w=E;let C;e[14]!==o.albumImages?(C=Oe=>{const Ze=o.albumImages.find(kt=>kt.id===Oe);Ze&&l({isOpen:!0,imageId:Oe,imageUrl:Ze.url,imageAlt:Ze.alt})},e[14]=o.albumImages,e[15]=C):C=e[15];const b=C;let v;e[16]!==o.albumImages?(v=Oe=>{const Ze=o.albumImages.find(kt=>kt.id===Oe);Ze&&m({isOpen:!0,imageId:Oe,imageUrl:Ze.url,imageAlt:Ze.alt,currentWidth:Ze.width||"200px",currentHeight:Ze.height||"150px"})},e[16]=o.albumImages,e[17]=v):v=e[17];const _=v;let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=Oe=>{l({isOpen:!1,imageId:null,imageUrl:"",imageAlt:""})},e[18]=I):I=e[18];const $=I;let A;e[19]!==o.albumImages||e[20]!==u.imageId||e[21]!==r?(A=Oe=>{if(!u.imageId)return;const Ze=o.albumImages.findIndex(Mt=>Mt.id===u.imageId);if(Ze===-1)return;const kt=[...o.albumImages];kt[Ze]={...kt[Ze],width:Oe.width,height:Oe.height},r("albumImages",kt),m({isOpen:!1,imageId:null,imageUrl:"",imageAlt:"",currentWidth:"200px",currentHeight:"150px"})},e[19]=o.albumImages,e[20]=u.imageId,e[21]=r,e[22]=A):A=e[22];const T=A;let L;e[23]!==r?(L=Oe=>{r("carouselAutoPlay",Oe.checked)},e[23]=r,e[24]=L):L=e[24];const P=L;let N;e[25]!==r?(N=Oe=>{r("carouselShowDots",Oe.checked)},e[25]=r,e[26]=N):N=e[26];const k=N;let B;e[27]!==r?(B=Oe=>{r("carouselShowArrows",Oe.checked)},e[27]=r,e[28]=B):B=e[28];const F=B;let W;e[29]!==r?(W=Oe=>{r("carouselLoop",Oe.checked)},e[29]=r,e[30]=W):W=e[30];const z=W;let H;e[31]!==r?(H=Oe=>{r("carouselInterval",Oe)},e[31]=r,e[32]=H):H=e[32];const U=H;let D;e[33]!==r?(D=Oe=>{r("carouselTransitionDuration",Oe)},e[33]=r,e[34]=D):D=e[34];const O=D;let Q;e[35]===Symbol.for("react.memo_cache_sentinel")?(Q=jsxRuntimeExports.jsx(SectionsNodeControlsPanel,{}),e[35]=Q):Q=e[35];let q;e[36]===Symbol.for("react.memo_cache_sentinel")?(q=jsxRuntimeExports.jsx(SectionHeader$3,{icon:MdPhotoSizeSelectActual,title:"Chiều cao Section"}),e[36]=q):q=e[36];let Y;e[37]===Symbol.for("react.memo_cache_sentinel")?(Y=jsxRuntimeExports.jsx(Text$1,{...p,children:"Chiều cao"}),e[37]=Y):Y=e[37];let V;e[38]!==o.height?(V=parseNumericValue(o.height),e[38]=o.height,e[39]=V):V=e[39];let de;e[40]!==r?(de=Oe=>r("height",`${Oe}px`),e[40]=r,e[41]=de):de=e[41];let ue;e[42]!==V||e[43]!==de?(ue=jsxRuntimeExports.jsxs(SectionCard$3,{children:[q,jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Y,jsxRuntimeExports.jsx(DraggableNumberInput,{value:V,onChange:de,min:1})]})]}),e[42]=V,e[43]=de,e[44]=ue):ue=e[44];let Re;e[45]===Symbol.for("react.memo_cache_sentinel")?(Re=jsxRuntimeExports.jsx(SectionHeader$3,{icon:MdViewCarousel,title:"Cấu hình Carousel"}),e[45]=Re):Re=e[45];let oe;e[46]===Symbol.for("react.memo_cache_sentinel")?(oe=jsxRuntimeExports.jsx(Text$1,{...p,children:"Tự động chạy"}),e[46]=oe):oe=e[46];let ce;e[47]===Symbol.for("react.memo_cache_sentinel")?(ce=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[47]=ce):ce=e[47];let je;e[48]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[48]=je):je=e[48];let ie;e[49]!==P||e[50]!==o.carouselAutoPlay?(ie=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[oe,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.carouselAutoPlay,onCheckedChange:P,children:[ce,je]})]}),e[49]=P,e[50]=o.carouselAutoPlay,e[51]=ie):ie=e[51];let xe;e[52]===Symbol.for("react.memo_cache_sentinel")?(xe=jsxRuntimeExports.jsx(Text$1,{...p,children:"Hiện chấm"}),e[52]=xe):xe=e[52];let pe;e[53]===Symbol.for("react.memo_cache_sentinel")?(pe=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[53]=pe):pe=e[53];let $e;e[54]===Symbol.for("react.memo_cache_sentinel")?($e=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[54]=$e):$e=e[54];let Se;e[55]!==k||e[56]!==o.carouselShowDots?(Se=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[xe,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.carouselShowDots,onCheckedChange:k,children:[pe,$e]})]}),e[55]=k,e[56]=o.carouselShowDots,e[57]=Se):Se=e[57];let Ie;e[58]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx(Text$1,{...p,children:"Hiện mũi tên"}),e[58]=Ie):Ie=e[58];let Me;e[59]===Symbol.for("react.memo_cache_sentinel")?(Me=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[59]=Me):Me=e[59];let He;e[60]===Symbol.for("react.memo_cache_sentinel")?(He=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[60]=He):He=e[60];let fe;e[61]!==F||e[62]!==o.carouselShowArrows?(fe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ie,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.carouselShowArrows,onCheckedChange:F,children:[Me,He]})]}),e[61]=F,e[62]=o.carouselShowArrows,e[63]=fe):fe=e[63];let Ce;e[64]===Symbol.for("react.memo_cache_sentinel")?(Ce=jsxRuntimeExports.jsx(Text$1,{...p,children:"Vòng lặp"}),e[64]=Ce):Ce=e[64];let le;e[65]===Symbol.for("react.memo_cache_sentinel")?(le=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[65]=le):le=e[65];let J;e[66]===Symbol.for("react.memo_cache_sentinel")?(J=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[66]=J):J=e[66];let se;e[67]!==z||e[68]!==o.carouselInfinite?(se=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Ce,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.carouselInfinite,onCheckedChange:z,children:[le,J]})]}),e[67]=z,e[68]=o.carouselInfinite,e[69]=se):se=e[69];let te;e[70]===Symbol.for("react.memo_cache_sentinel")?(te=jsxRuntimeExports.jsx(Text$1,{...p,children:"Trung tâm nổi bật"}),e[70]=te):te=e[70];let be;e[71]!==r?(be=Oe=>r("carouselCenterMode",Oe.checked),e[71]=r,e[72]=be):be=e[72];let Z;e[73]===Symbol.for("react.memo_cache_sentinel")?(Z=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[73]=Z):Z=e[73];let Ee;e[74]===Symbol.for("react.memo_cache_sentinel")?(Ee=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[74]=Ee):Ee=e[74];let me;e[75]!==o.carouselCenterMode||e[76]!==be?(me=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[te,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.carouselCenterMode,onCheckedChange:be,children:[Z,Ee]})]}),e[75]=o.carouselCenterMode,e[76]=be,e[77]=me):me=e[77];let ge;e[78]===Symbol.for("react.memo_cache_sentinel")?(ge=jsxRuntimeExports.jsx(Text$1,{...p,children:"Tốc độ (s)"}),e[78]=ge):ge=e[78];const Ke=(o.carouselSpeed||3e3)/1e3;let Ue;e[79]!==U||e[80]!==Ke?(Ue=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[ge,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Ke,onChange:U,min:.1,max:20,step:.1})]}),e[79]=U,e[80]=Ke,e[81]=Ue):Ue=e[81];let _e;e[82]===Symbol.for("react.memo_cache_sentinel")?(_e=jsxRuntimeExports.jsx(Text$1,{...p,children:"Thời gian chuyển (s)"}),e[82]=_e):_e=e[82];const Qe=(o.carouselTransformDuration||300)/1e3;let qe;e[83]!==O||e[84]!==Qe?(qe=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[_e,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Qe,onChange:O,min:.1,max:5,step:.1})]}),e[83]=O,e[84]=Qe,e[85]=qe):qe=e[85];let Ye;e[86]===Symbol.for("react.memo_cache_sentinel")?(Ye=jsxRuntimeExports.jsx(Text$1,{...p,children:"Desktop"}),e[86]=Ye):Ye=e[86];const nt=o.carouselItemsDesktop||2;let et;e[87]!==r?(et=Oe=>r("carouselItemsDesktop",Oe),e[87]=r,e[88]=et):et=e[88];let re;e[89]!==nt||e[90]!==et?(re=jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[Ye,jsxRuntimeExports.jsx(DraggableNumberInput,{value:nt,onChange:et,min:1,max:10})]}),e[89]=nt,e[90]=et,e[91]=re):re=e[91];let Xe;e[92]===Symbol.for("react.memo_cache_sentinel")?(Xe=jsxRuntimeExports.jsx(Text$1,{...p,children:"Mobile"}),e[92]=Xe):Xe=e[92];const tt=o.carouselItemsMobile||1;let rt;e[93]!==r?(rt=Oe=>r("carouselItemsMobile",Oe),e[93]=r,e[94]=rt):rt=e[94];let Rt;e[95]!==tt||e[96]!==rt?(Rt=jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[Xe,jsxRuntimeExports.jsx(DraggableNumberInput,{value:tt,onChange:rt,min:1,max:5})]}),e[95]=tt,e[96]=rt,e[97]=Rt):Rt=e[97];let wt;e[98]!==re||e[99]!==Rt?(wt=jsxRuntimeExports.jsxs(Grid,{templateColumns:"repeat(3, 1fr)",gap:2,children:[re,Rt]}),e[98]=re,e[99]=Rt,e[100]=wt):wt=e[100];let St;e[101]!==o.carouselCenterMode||e[102]!==o.carouselInactiveOpacity||e[103]!==o.carouselInactiveScale||e[104]!==r?(St=o.carouselCenterMode&&jsxRuntimeExports.jsxs(Grid,{templateColumns:"repeat(2, 1fr)",gap:2,children:[jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Scale item phụ"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.carouselInactiveScale||.8,step:.05,onChange:Oe=>r("carouselInactiveScale",Oe),min:.1,max:1})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Opacity item phụ"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.carouselInactiveOpacity||.6,step:.05,onChange:Oe=>r("carouselInactiveOpacity",Oe),min:0,max:1})]})]}),e[101]=o.carouselCenterMode,e[102]=o.carouselInactiveOpacity,e[103]=o.carouselInactiveScale,e[104]=r,e[105]=St):St=e[105];let bt;e[106]!==ie||e[107]!==Se||e[108]!==fe||e[109]!==se||e[110]!==me||e[111]!==Ue||e[112]!==qe||e[113]!==wt||e[114]!==St?(bt=jsxRuntimeExports.jsxs(SectionCard$3,{children:[Re,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ie,Se,fe,se,me,Ue,qe,wt,St]})]}),e[106]=ie,e[107]=Se,e[108]=fe,e[109]=se,e[110]=me,e[111]=Ue,e[112]=qe,e[113]=wt,e[114]=St,e[115]=bt):bt=e[115];let yt;e[116]===Symbol.for("react.memo_cache_sentinel")?(yt=jsxRuntimeExports.jsx(SectionHeader$3,{icon:MdSpaceBar,title:"Khoảng cách ảnh"}),e[116]=yt):yt=e[116];let jt;e[117]===Symbol.for("react.memo_cache_sentinel")?(jt=jsxRuntimeExports.jsx(Text$1,{...p,children:"Sử dụng từng cạnh"}),e[117]=jt):jt=e[117];let we;e[118]!==r?(we=Oe=>r("useIndividualPadding",Oe.checked),e[118]=r,e[119]=we):we=e[119];let G;e[120]===Symbol.for("react.memo_cache_sentinel")?(G=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[120]=G):G=e[120];let X;e[121]===Symbol.for("react.memo_cache_sentinel")?(X=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[121]=X):X=e[121];let K;e[122]!==o.useIndividualPadding||e[123]!==we?(K=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jt,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.useIndividualPadding,onCheckedChange:we,children:[G,X]})]}),e[122]=o.useIndividualPadding,e[123]=we,e[124]=K):K=e[124];let ne;e[125]!==o.imagePadding||e[126]!==o.imagePaddingBottom||e[127]!==o.imagePaddingLeft||e[128]!==o.imagePaddingRight||e[129]!==o.imagePaddingTop||e[130]!==o.useIndividualPadding||e[131]!==r?(ne=o.useIndividualPadding?jsxRuntimeExports.jsxs(Grid,{templateColumns:"repeat(2, 1fr)",gap:2,children:[jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Trên"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.imagePaddingTop||0,onChange:Oe=>r("imagePaddingTop",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Phải"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.imagePaddingRight||0,onChange:Oe=>r("imagePaddingRight",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Dưới"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.imagePaddingBottom||0,onChange:Oe=>r("imagePaddingBottom",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Trái"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.imagePaddingLeft||0,onChange:Oe=>r("imagePaddingLeft",Oe),min:0,max:200})]})]}):jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Padding"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.imagePadding||0,onChange:Oe=>r("imagePadding",Oe),min:0,max:200})]}),e[125]=o.imagePadding,e[126]=o.imagePaddingBottom,e[127]=o.imagePaddingLeft,e[128]=o.imagePaddingRight,e[129]=o.imagePaddingTop,e[130]=o.useIndividualPadding,e[131]=r,e[132]=ne):ne=e[132];let ve;e[133]!==K||e[134]!==ne?(ve=jsxRuntimeExports.jsxs(SectionCard$3,{children:[yt,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[K,ne]})]}),e[133]=K,e[134]=ne,e[135]=ve):ve=e[135];let Te;e[136]===Symbol.for("react.memo_cache_sentinel")?(Te=jsxRuntimeExports.jsx(SectionHeader$3,{icon:MdSpaceBar,title:"Khoảng cách tổng"}),e[136]=Te):Te=e[136];let Le;e[137]===Symbol.for("react.memo_cache_sentinel")?(Le=jsxRuntimeExports.jsx(Text$1,{...p,children:"Sử dụng từng cạnh"}),e[137]=Le):Le=e[137];let st;e[138]!==r?(st=Oe=>r("useIndividualWrapperPadding",Oe.checked),e[138]=r,e[139]=st):st=e[139];let ft;e[140]===Symbol.for("react.memo_cache_sentinel")?(ft=jsxRuntimeExports.jsx(SwitchHiddenInput,{}),e[140]=ft):ft=e[140];let ht;e[141]===Symbol.for("react.memo_cache_sentinel")?(ht=jsxRuntimeExports.jsx(SwitchControl,{children:jsxRuntimeExports.jsx(SwitchThumb,{})}),e[141]=ht):ht=e[141];let ct;e[142]!==o.useIndividualWrapperPadding||e[143]!==st?(ct=jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[Le,jsxRuntimeExports.jsxs(SwitchRoot,{checked:o.useIndividualWrapperPadding,onCheckedChange:st,children:[ft,ht]})]}),e[142]=o.useIndividualWrapperPadding,e[143]=st,e[144]=ct):ct=e[144];let Et;e[145]!==o.useIndividualWrapperPadding||e[146]!==o.wrapperPadding||e[147]!==o.wrapperPaddingBottom||e[148]!==o.wrapperPaddingLeft||e[149]!==o.wrapperPaddingRight||e[150]!==o.wrapperPaddingTop||e[151]!==r?(Et=o.useIndividualWrapperPadding?jsxRuntimeExports.jsxs(Grid,{templateColumns:"repeat(2, 1fr)",gap:2,children:[jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Trên"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.wrapperPaddingTop||0,onChange:Oe=>r("wrapperPaddingTop",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Phải"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.wrapperPaddingRight||0,onChange:Oe=>r("wrapperPaddingRight",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Dưới"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.wrapperPaddingBottom||0,onChange:Oe=>r("wrapperPaddingBottom",Oe),min:0,max:200})]}),jsxRuntimeExports.jsxs(Box,{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Trái"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.wrapperPaddingLeft||0,onChange:Oe=>r("wrapperPaddingLeft",Oe),min:0,max:200})]})]}):jsxRuntimeExports.jsxs(Box,{className:"w-full flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Text$1,{...p,children:"Padding"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.wrapperPadding||0,onChange:Oe=>r("wrapperPadding",Oe),min:0,max:200})]}),e[145]=o.useIndividualWrapperPadding,e[146]=o.wrapperPadding,e[147]=o.wrapperPaddingBottom,e[148]=o.wrapperPaddingLeft,e[149]=o.wrapperPaddingRight,e[150]=o.wrapperPaddingTop,e[151]=r,e[152]=Et):Et=e[152];let Tt;e[153]!==ct||e[154]!==Et?(Tt=jsxRuntimeExports.jsxs(SectionCard$3,{children:[Te,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ct,Et]})]}),e[153]=ct,e[154]=Et,e[155]=Tt):Tt=e[155];let vt;e[156]===Symbol.for("react.memo_cache_sentinel")?(vt=jsxRuntimeExports.jsx(SectionHeader$3,{icon:MdCollections,title:"Hình ảnh"}),e[156]=vt):vt=e[156];let it;e[157]!==o.albumImages.length?(it=jsxRuntimeExports.jsxs(Text$1,{...p,children:["Tổng cộng: ",o.albumImages.length," hình ảnh"]}),e[157]=o.albumImages.length,e[158]=it):it=e[158];let ae;e[159]===Symbol.for("react.memo_cache_sentinel")?(ae=jsxRuntimeExports.jsxs(HStack,{gap:2,alignItems:"center",children:[jsxRuntimeExports.jsx(FaPlus,{}),jsxRuntimeExports.jsx(Text$1,{children:"Thêm hình ảnh"})]}),e[159]=ae):ae=e[159];let Fe;e[160]!==x?(Fe=jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:x,colorScheme:"blue",children:ae}),e[160]=x,e[161]=Fe):Fe=e[161];let ee;e[162]!==it||e[163]!==Fe?(ee=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[it,Fe]}),e[162]=it,e[163]=Fe,e[164]=ee):ee=e[164];let Be;if(e[165]!==b||e[166]!==w||e[167]!==h||e[168]!==_||e[169]!==o.albumImages){let Oe;e[171]!==b||e[172]!==w||e[173]!==h||e[174]!==_?(Oe=(Ze,kt)=>jsxRuntimeExports.jsx(Box,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:3,bg:"white",children:jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",children:[jsxRuntimeExports.jsxs(HStack,{gap:3,alignItems:"center",children:[jsxRuntimeExports.jsx(Box,{width:"50px",height:"50px",borderRadius:"md",overflow:"hidden",bg:"gray.100",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,children:Ze.url?jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(Ze.url,"preview"),alt:Ze.alt||`Image ${kt+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):jsxRuntimeExports.jsx(FaImage,{})}),jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,overflow:"hidden",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"bold",truncate:!0,children:Ze.title||`Ảnh ${kt+1}`}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",truncate:!0,children:Ze.alt||"Không có mô tả"})]})]}),jsxRuntimeExports.jsxs(HStack,{gap:1,justify:"center",children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"outline",onClick:()=>h(Ze.id),title:"Thay thế",children:jsxRuntimeExports.jsx(FaImages,{})}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"outline",onClick:()=>b(Ze.id),title:"Cắt ảnh",children:jsxRuntimeExports.jsx(FaCrop,{})}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"outline",onClick:()=>_(Ze.id),title:"Thay đổi kích thước",children:jsxRuntimeExports.jsx(FaExpand,{})}),jsxRuntimeExports.jsx(Button$1,{size:"xs",colorScheme:"red",variant:"outline",onClick:()=>w(Ze.id),title:"Xóa ảnh",children:jsxRuntimeExports.jsx(FaTrash,{})})]})]})},Ze.id),e[171]=b,e[172]=w,e[173]=h,e[174]=_,e[175]=Oe):Oe=e[175],Be=o.albumImages.map(Oe),e[165]=b,e[166]=w,e[167]=h,e[168]=_,e[169]=o.albumImages,e[170]=Be}else Be=e[170];let ze;e[176]!==o.albumImages.length?(ze=o.albumImages.length===0&&jsxRuntimeExports.jsx(Box,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:'Chưa có hình ảnh nào. Nhấn "Thêm hình ảnh" để bắt đầu.'})}),e[176]=o.albumImages.length,e[177]=ze):ze=e[177];let Ge;e[178]!==ee||e[179]!==Be||e[180]!==ze?(Ge=jsxRuntimeExports.jsxs(SectionCard$3,{children:[vt,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[ee,Be,ze]})]}),e[178]=ee,e[179]=Be,e[180]=ze,e[181]=Ge):Ge=e[181];let We;e[182]===Symbol.for("react.memo_cache_sentinel")?(We=()=>l({isOpen:!1,imageId:null,imageUrl:"",imageAlt:""}),e[182]=We):We=e[182];const Ve=c.imageId||"";let Je;e[183]!==c.imageAlt||e[184]!==c.imageUrl||e[185]!==c.isOpen||e[186]!==Ve?(Je=jsxRuntimeExports.jsx(AlbumImageCropModal,{isOpen:c.isOpen,onClose:We,imageUrl:c.imageUrl,onCropComplete:$,imageId:Ve,imageAlt:c.imageAlt,initialCrop:void 0,initialScale:1,initialRotate:0}),e[183]=c.imageAlt,e[184]=c.imageUrl,e[185]=c.isOpen,e[186]=Ve,e[187]=Je):Je=e[187];let he;e[188]===Symbol.for("react.memo_cache_sentinel")?(he=()=>m({isOpen:!1,imageId:null,imageUrl:"",imageAlt:"",currentWidth:"200px",currentHeight:"150px"}),e[188]=he):he=e[188];const at=u.imageId||"";let xt;e[189]!==T||e[190]!==u.currentHeight||e[191]!==u.currentWidth||e[192]!==u.imageAlt||e[193]!==u.imageUrl||e[194]!==u.isOpen||e[195]!==at?(xt=jsxRuntimeExports.jsx(AlbumImageResizeModal,{isOpen:u.isOpen,onClose:he,imageUrl:u.imageUrl,onResizeComplete:T,imageId:at,imageAlt:u.imageAlt,initialWidth:u.currentWidth,initialHeight:u.currentHeight,lockAspectRatio:!0}),e[189]=T,e[190]=u.currentHeight,e[191]=u.currentWidth,e[192]=u.imageAlt,e[193]=u.imageUrl,e[194]=u.isOpen,e[195]=at,e[196]=xt):xt=e[196];let gt;return e[197]!==ue||e[198]!==bt||e[199]!==ve||e[200]!==Tt||e[201]!==Ge||e[202]!==Je||e[203]!==xt?(gt=jsxRuntimeExports.jsxs(Stack,{children:[Q,ue,bt,ve,Tt,Ge,Je,xt]}),e[197]=ue,e[198]=bt,e[199]=ve,e[200]=Tt,e[201]=Ge,e[202]=Je,e[203]=xt,e[204]=gt):gt=e[204],gt});DesignPanel$2.displayName="DesignPanel";const AlbumSectionSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$g);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableSize:!0,enableFilter:!0,enableTransform:!1,enableBackground:!0,enableBorder:!1,enableShadow:!1,enableOverlay:!0,showNodeControlsPanel:!1,design:_temp2$8,tabs:{default:!0,event:!1,animation:!0,advanced:!0}}),t[0]=e):e=t[0],e};function _temp$g(t){return{props:t.data.props}}function _temp2$8(t){return jsxRuntimeExports.jsx(DesignPanel$2,{...t})}const defaultProps$6={children:null,height:"500px",width:"100%",padding:[20,20,20,20],margin:[0,0,0,0],flexDirection:"column",alignItems:"center",justifyContent:"flex-start",fillSpace:"no",imagePadding:8,imagePaddingTop:8,imagePaddingRight:8,imagePaddingBottom:8,imagePaddingLeft:8,useIndividualPadding:!1,wrapperPadding:10,wrapperPaddingTop:10,wrapperPaddingRight:10,wrapperPaddingBottom:10,wrapperPaddingLeft:10,useIndividualWrapperPadding:!1,albumImages:[{id:"1",url:"https://via.placeholder.com/300x200/cccccc/666666?text=Image+1",alt:"Image 1"},{id:"2",url:"https://via.placeholder.com/300x200/cccccc/666666?text=Image+2",alt:"Image 2"},{id:"3",url:"https://via.placeholder.com/300x200/cccccc/666666?text=Image+3",alt:"Image 3"},{id:"4",url:"https://via.placeholder.com/300x200/cccccc/666666?text=Image+4",alt:"Image 4"}],carouselAutoPlay:!1,carouselSpeed:3e3,carouselShowDots:!0,carouselShowArrows:!0,carouselInfinite:!0,carouselCenterMode:!1,carouselInactiveScale:.8,carouselInactiveOpacity:.6,carouselTransformDuration:300,carouselItemsDesktop:2,carouselItemsMobile:1,backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#4158D0",gradientColor2:"#C850C0",backgroundImage:"",backgroundVideo:"",backgroundVideoType:"youtube",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",backgroundOpacity:100,borderWidth:[0,0,0,0],borderStyle:"solid",borderColor:"#000000",borderRadius:[0,0,0,0],shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",opacity:100,brightness:100,contrast:100,saturate:100,grayscale:0,invert:0,sepia:0,hueRotate:0,blur:0,transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,blendMode:"normal",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,syncCrossPlatform:!0,className:""},AlbumSection=t=>{var Ke,Ue;const{connectors:{connect:e},id:o}=Ne(_e=>({id:_e.id})),{enabled:r}=Pe(_e=>({enabled:_e.options.enabled})),{currentEditingPlatform:s}=useViewport(),a=useResponsivePlatformContext()||s,{settings:c}=useViewportSettings(),l=()=>a==="mobile"?{width:"100%",maxWidth:getMobileWidth(c),left:"auto",transform:"none",margin:"0 auto"}:{width:"100vw",left:"50%",transform:"translateX(-50%)"},d=reactExports.useRef(null),u={...defaultProps$6,...t},[m,R]=reactExports.useState(null),[p,j]=reactExports.useState(0),x=reactExports.useMemo(()=>typeof window>"u"?!1:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,[]),g=((Ke=u.displayAnimation)==null?void 0:Ke.effect)||"none",h=((Ue=u.displayAnimation)==null?void 0:Ue.duration)??.6;useEntrance(d,g,h),hoverVarsFromSettings(u.hoverAnimation,r),u.hoverAnimation.enabled;const{handleContainerClick:E,handleTriggerMouseEnter:w,handleTriggerMouseLeave:C}=useEventHandling(u.events,o),{albumImages:b,carouselAutoPlay:v,carouselSpeed:_,carouselShowDots:I,carouselShowArrows:$,carouselInfinite:A,carouselCenterMode:T,carouselInactiveScale:L,carouselInactiveOpacity:P,carouselTransformDuration:N,carouselItemsDesktop:k,carouselItemsMobile:B,imagePadding:F,imagePaddingTop:W,imagePaddingRight:z,imagePaddingBottom:H,imagePaddingLeft:U,useIndividualPadding:D,wrapperPadding:O,wrapperPaddingTop:Q,wrapperPaddingRight:q,wrapperPaddingBottom:Y,wrapperPaddingLeft:V,useIndividualWrapperPadding:de,hidden:ue}=u,Re=reactExports.useCallback(()=>D?{paddingTop:`${W}px`,paddingRight:`${z}px`,paddingBottom:`${H}px`,paddingLeft:`${U}px`}:{padding:`${F}px`},[D,W,z,H,U,F]),oe=reactExports.useCallback(()=>de?{paddingTop:`${Q}px`,paddingRight:`${q}px`,paddingBottom:`${Y}px`,paddingLeft:`${V}px`}:{padding:`${O}px`},[de,Q,q,Y,V,O]),ce=reactExports.useCallback(()=>{r||E()},[r,E]),je=reactExports.useCallback(()=>{r||w()},[r,w]),ie=reactExports.useCallback(()=>{r||C()},[r,C]),xe=reactExports.useCallback(_e=>{r||R(_e)},[r]),pe=reactExports.useCallback(()=>{R(null)},[]),$e=reactExports.useCallback(()=>{if(m!==null&&b.length>0){const _e=m===0?b.length-1:m-1;R(_e)}},[m,b.length]),Se=reactExports.useCallback(()=>{if(m!==null&&b.length>0){const _e=m===b.length-1?0:m+1;R(_e)}},[m,b.length]),Ie=reactExports.useCallback(_e=>{if(m!==null)switch(_e.key){case"ArrowLeft":_e.preventDefault(),$e();break;case"ArrowRight":_e.preventDefault(),Se();break;case"Escape":_e.preventDefault(),pe();break}},[m,$e,Se,pe]);React.useEffect(()=>{if(m!==null)return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[m,Ie]);const Me=()=>{if(u.backgroundType==="color")return u.backgroundColor;if(u.backgroundType==="gradient"){const _e=u.gradientType||"linear",Qe=u.gradientAngle||0,qe=u.gradientColor1||"#ffffff",Ye=u.gradientColor2||"#000000";return _e==="linear"?`linear-gradient(${Qe}deg, ${qe}, ${Ye})`:`radial-gradient(circle, ${qe}, ${Ye})`}else if(u.backgroundType==="image"&&u.backgroundImage)return`url(${u.backgroundImage})`;return"none"},He=()=>{if(u.backgroundType==="image"&&u.backgroundImage){const _e=u.backgroundSize||"cover",Qe=u.backgroundPosition||"center center",qe=u.backgroundRepeat||"no-repeat",Ye=u.backgroundAttachment||"scroll";return`url(${u.backgroundImage}) ${Qe}/${_e} ${qe} ${Ye}`}return Me()},fe=getDesktopBreakpoint(c),Ce={0:{slidesPerView:Math.max(1,B),spaceBetween:T?15:10},[fe]:{slidesPerView:T?Math.max(1,k+1):Math.max(1,k),spaceBetween:T?30:20},1200:{slidesPerView:T?Math.max(1,k+2):Math.max(1,k),spaceBetween:T?40:20}},le=reactExports.useRef(null),J=reactExports.useMemo(()=>{if(b.length===0)return null;const _e=b.filter(nt=>nt&&nt.url);if(_e.length===0)return null;const Qe=r&&_e.length>0?[_e[0]]:_e,qe=[A11y,Autoplay];$&&qe.push(Navigation),I&&qe.push(Pagination);const Ye=A&&Qe.length>=3;return jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[jsxRuntimeExports.jsx(Swiper,{modules:qe,onSwiper:nt=>{le.current=nt},onSlideChange:nt=>j(nt.activeIndex),breakpoints:Ce,loop:Ye,autoplay:!r&&v?{delay:_||3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}:!1,speed:N,navigation:$,pagination:I?{clickable:!0,dynamicBullets:!0}:!1,centeredSlides:T,slideToClickedSlide:!0,watchSlidesProgress:!0,threshold:5,resistance:!0,resistanceRatio:.85,className:"album-swiper-container",children:Qe.filter(nt=>nt&&nt.url).map((nt,et)=>jsxRuntimeExports.jsx(SwiperSlide,{className:`album-swiper-slide ${T?"center-mode":""}`,style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",...Re()},children:jsxRuntimeExports.jsx("div",{className:"album-image-container",style:{width:"100%",height:"100%",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",transition:`all ${N}ms ease`,cursor:"pointer"},onClick:()=>xe(et),onMouseEnter:!x&&!T?re=>{re.currentTarget.style.transform="translateY(-5px)",re.currentTarget.style.boxShadow="0 8px 30px rgba(0, 0, 0, 0.15)"}:void 0,onMouseLeave:!x&&!T?re=>{re.currentTarget.style.transform="translateY(0)",re.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.1)"}:void 0,children:jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(nt.url,a==="mobile"?"medium":"full"),alt:nt.alt||`Slide ${et+1}`,loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",transition:`all ${N}ms ease`}})})},nt.id||`slide-${et}`))}),jsxRuntimeExports.jsx("style",{children:`
          .album-swiper-container {
            height: 100% !important;
            position: relative !important;
          }

          .album-swiper-container .swiper-wrapper {
            height: 100% !important;
          }

          .album-swiper-slide {
            height: 100% !important;
          }

          /* Center mode styles */
          ${T?`
          .album-swiper-slide.center-mode:not(.swiper-slide-active) .album-image-container {
            transform: scale(${L}) !important;
            opacity: ${P} !important;
          }

          .album-swiper-slide.center-mode.swiper-slide-active .album-image-container {
            transform: scale(1) !important;
            opacity: 1 !important;
            z-index: ${zIndex.albumSectionCSS} !important;
          }

          .album-swiper-slide.center-mode .album-image-container {
            transition: all ${N}ms ease !important;
          }

          /* Enhanced center item styling */
          .album-swiper-slide.center-mode.swiper-slide-active .album-image-container {
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2) !important;
          }
          `:""}

          /* Custom navigation arrow styles */
          .album-swiper-container .swiper-button-prev,
          .album-swiper-container .swiper-button-next {
            width: 25px;
            height: 25px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            color: #333;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
          }
          .album-swiper-container .swiper-navigation-icon {
            width: 14px;
            height: 14px;
          }

          .album-swiper-container .swiper-button-prev:after,
          .album-swiper-container .swiper-button-next:after {
            font-size: 14px;
            font-weight: bold;
          }

          .album-swiper-container .swiper-button-prev:hover,
          .album-swiper-container .swiper-button-next:hover {
            background-color: rgba(255, 255, 255, 1);
            transform: scale(1.1);
          }

          /* Custom pagination styles */
          .album-swiper-container .swiper-pagination {
            bottom: 15px !important;
          }

          .album-swiper-container .swiper-pagination-bullet {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            opacity: 1;
            transition: all 0.3s ease;
          }

          .album-swiper-container .swiper-pagination-bullet-active {
            background-color: rgba(255, 255, 255, 1);
            transform: scale(1.2);
          }

          .album-swiper-container .swiper-pagination-bullet:hover {
            background-color: rgba(255, 255, 255, 0.8);
          }

          /* Custom scrollbar styles for thumbnail navigation */
          .album-thumbnail-container {
            -webkit-overflow-scrolling: touch;
            overflow-scrolling: touch;
          }

          .album-thumbnail-container::-webkit-scrollbar {
            height: 6px;
          }

          .album-thumbnail-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
          }

          .album-thumbnail-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
          }

          .album-thumbnail-container::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
          }

          /* Prevent iOS touch delay and improve responsiveness */
          .album-carousel-item img,
          .album-image-container,
          .album-modal-nav-arrow,
          .album-thumbnail-item {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
          }

          /* Mobile responsive adjustments for modal */
          @media (max-width: 768px) {
            .album-modal-nav-arrow {
              width: 40px !important;
              height: 40px !important;
              left: 15px !important;
            }

            .album-modal-nav-arrow.right {
              right: 15px !important;
              left: auto !important;
            }

            .album-thumbnail-item {
              min-width: 50px !important;
              width: 50px !important;
              height: 50px !important;
            }

            .album-modal-close-btn {
              top: 15px !important;
              right: 15px !important;
              width: 35px !important;
              height: 35px !important;
              font-size: 18px !important;
            }

            .album-modal-counter {
              top: 15px !important;
              font-size: 13px !important;
              padding: 6px 12px !important;
            }
          }

          @media (max-width: 480px) {
            .album-modal-nav-arrow {
              width: 35px !important;
              height: 35px !important;
              left: 10px !important;
            }

            .album-modal-nav-arrow.right {
              right: 10px !important;
              left: auto !important;
            }

            .album-thumbnail-item {
              min-width: 45px !important;
              width: 45px !important;
              height: 45px !important;
            }

            .album-modal-close-btn {
              top: 10px !important;
              right: 10px !important;
              width: 32px !important;
              height: 32px !important;
              font-size: 16px !important;
            }

            .album-modal-counter {
              top: 10px !important;
              font-size: 12px !important;
              padding: 5px 10px !important;
            }
          }
        `})]})},[b,r,v,_,I,$,A,T,L,P,N,k,B,Ce,a,x,xe,F,W,z,H,U,D,o]);React.useEffect(()=>{if(m!==null){const _e=document.body.style.overflow,Qe=document.body.style.position,qe=document.body.style.width;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",()=>{document.body.style.overflow=_e,document.body.style.position=Qe,document.body.style.width=qe}}},[m]);const se=()=>{if(m===null||!b[m])return null;const _e=b[m],Qe=b.length>1,qe=24,Ye=Math.max(0,m-Math.floor(qe/2)),nt=Math.min(b.length,Ye+qe),et=b.slice(Ye,nt);return jsxRuntimeExports.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumSection,padding:"20px",boxSizing:"border-box",overflow:"hidden",touchAction:"none",WebkitOverflowScrolling:"auto"},onClick:pe,children:[Qe&&jsxRuntimeExports.jsx("button",{className:"album-modal-nav-arrow",onClick:re=>{re.stopPropagation(),$e()},style:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"50%",width:"50px",height:"50px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumModalItem,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",fontSize:"18px"},onMouseEnter:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",re.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",re.currentTarget.style.transform="translateY(-50%) scale(1)"},children:jsxRuntimeExports.jsx(FaChevronLeft,{})}),Qe&&jsxRuntimeExports.jsx("button",{className:"album-modal-nav-arrow right",onClick:re=>{re.stopPropagation(),Se()},style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"50%",width:"50px",height:"50px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumModalItem,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",fontSize:"18px"},onMouseEnter:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",re.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",re.currentTarget.style.transform="translateY(-50%) scale(1)"},children:jsxRuntimeExports.jsx(FaChevronRight,{})}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",maxWidth:"calc(100vw - 140px)",maxHeight:"calc(100vh - 160px)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:re=>re.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(_e.url,"full"),alt:_e.alt||`Image ${m+1}`,loading:"eager",decoding:"async",style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"}}),jsxRuntimeExports.jsx("button",{className:"album-modal-close-btn",onClick:re=>{re.stopPropagation(),pe()},style:{position:"fixed",top:"10%",right:"20px",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:"#333",zIndex:zIndex.albumModalSelected,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},onMouseEnter:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",re.currentTarget.style.transform="scale(1.1)"},onMouseLeave:x?void 0:re=>{re.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",re.currentTarget.style.transform="scale(1)"},children:"×"}),Qe&&jsxRuntimeExports.jsxs("div",{className:"album-modal-counter",style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"500",zIndex:zIndex.albumModalSelected},children:[m+1," / ",b.length]})]}),Qe&&jsxRuntimeExports.jsx("div",{className:"album-thumbnail-container",style:{width:"100%",maxWidth:"calc(100vw - 40px)",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"8px",padding:"16px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",backdropFilter:"blur(10px)",overflowX:"auto",scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent",touchAction:"pan-x",WebkitOverflowScrolling:"touch"},onClick:re=>re.stopPropagation(),onTouchMove:re=>re.stopPropagation(),children:et.map((re,Xe)=>{const tt=Ye+Xe;return jsxRuntimeExports.jsx("div",{className:"album-thumbnail-item",onClick:rt=>{rt.stopPropagation(),R(tt)},style:{minWidth:"60px",width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",cursor:"pointer",border:tt===m?"3px solid #ffffff":"3px solid transparent",opacity:tt===m?1:.7,transition:"all 0.3s ease",boxShadow:tt===m?"0 4px 12px rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.2)",transform:tt===m?"scale(1.1)":"scale(1)"},onMouseEnter:x?void 0:rt=>{tt!==m&&(rt.currentTarget.style.opacity="0.9",rt.currentTarget.style.transform="scale(1.05)")},onMouseLeave:x?void 0:rt=>{tt!==m&&(rt.currentTarget.style.opacity="0.7",rt.currentTarget.style.transform="scale(1)")},children:jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(re.url,"preview"),alt:re.alt||`Thumbnail ${tt+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})})})})]})},te=(()=>{const _e=assembleBaseStyles({width:"100%",height:u.height,opacity:u.opacity,blendMode:u.blendMode,brightness:u.brightness,contrast:u.contrast,saturate:u.saturate,grayscale:u.grayscale,invert:u.invert,hueRotate:u.hueRotate,blur:u.blur,sepia:u.sepia},{allowPosition:!1,defaults:defaultProps$6});return{position:"relative",height:u.height||"400px",...l(),isolation:"isolate",..._e,background:void 0}})(),be={content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:zIndex.base,background:u.backgroundType!=="video"?He():void 0,opacity:u.backgroundType!=="video"&&u.backgroundOpacity!==void 0?u.backgroundOpacity/100:void 0},{backgroundOverlay:Z,contentOverlay:Ee}=buildOverlayLayers({overlayType:u.overlayType,overlayBlendMode:u.overlayBlendMode,overlayOpacity:u.overlayOpacity,overlayColor:u.overlayColor,overlayGradientType:u.overlayGradientType,overlayGradientAngle:u.overlayGradientAngle,overlayGradientColor1:u.overlayGradientColor1,overlayGradientColor2:u.overlayGradientColor2,overlayImage:u.overlayImage,overlayImageSize:u.overlayImageSize,overlayImagePosition:u.overlayImagePosition,overlayImageRepeat:u.overlayImageRepeat,overlayImageAttachment:u.overlayImageAttachment}),me={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"stretch",justifyContent:"center",boxSizing:"border-box",zIndex:zIndex.contentOverlay,...oe()},ge={width:"100%",maxWidth:a==="mobile"?getMobileWidth(c):getDesktopWidth(c),height:"100%",position:"relative",display:"flex",flexDirection:"column",margin:"0 auto"};if(r){const _e=a==="mobile"?B:k,Qe=b.filter(Ye=>Ye&&Ye.url),qe=Qe.slice(0,Math.max(1,_e));return jsxRuntimeExports.jsxs("div",{ref:Ye=>{Ye&&e(Ye)},"data-node-id":o,style:te,className:u.className,children:[u.backgroundType!=="video"&&jsxRuntimeExports.jsx("div",{style:be}),u.backgroundType==="video"&&u.backgroundVideo&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:zIndex.base,overflow:"hidden"},children:u.backgroundVideoType==="youtube"?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${u.backgroundVideo}?autoplay=1&mute=1&loop=1&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1`,style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",border:"none",opacity:u.backgroundOpacity!==void 0?u.backgroundOpacity/100:1},allow:"autoplay; encrypted-media",allowFullScreen:!0}):jsxRuntimeExports.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",objectFit:"cover",opacity:u.backgroundOpacity!==void 0?u.backgroundOpacity/100:1},children:jsxRuntimeExports.jsx("source",{src:u.backgroundVideo,type:"video/mp4"})})}),Z&&jsxRuntimeExports.jsx("div",{style:{...Z,zIndex:zIndex.content}}),Ee&&jsxRuntimeExports.jsx("div",{style:{...Ee,zIndex:zIndex.content}}),jsxRuntimeExports.jsx("div",{style:me,children:jsxRuntimeExports.jsx("div",{style:ge,children:qe.length>0?jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",gap:T?"20px":"10px",alignItems:"center",justifyContent:"center",...Re()},children:[qe.map((Ye,nt)=>jsxRuntimeExports.jsx("div",{style:{flex:1,height:"100%",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",opacity:T&&nt!==0?P:1,transform:T&&nt!==0?`scale(${L})`:"scale(1)",transition:"all 0.3s ease"},children:jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(Ye.url,a==="mobile"?"medium":"full"),alt:Ye.alt||`Preview ${nt+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},Ye.id||`preview-${nt}`)),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"13px",whiteSpace:"nowrap"},children:["📷 ",Qe.length," ảnh •",T?" Center mode":" Standard"," •",a==="mobile"?` ${B} ảnh/slide`:` ${k} ảnh/slide`]})]}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",background:"#f9f9f9",color:"#666",fontSize:"16px",textAlign:"center",padding:"20px",boxSizing:"border-box",borderRadius:"8px"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"12px",fontWeight:"bold",fontSize:"18px"},children:"Album Section (Carousel)"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:"No images • Carousel layout"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",color:"#999"},children:"Use settings panel to add images and configure layout"})]})})})}),ue&&jsxRuntimeExports.jsx(OverlayHidden,{})]})}return ue?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:_e=>{_e&&(e(_e),d.current=_e)},"data-node-id":o,onClick:ce,onMouseEnter:je,onMouseLeave:ie,style:te,className:u.className,children:[u.backgroundType!=="video"&&jsxRuntimeExports.jsx("div",{style:be}),u.backgroundType==="video"&&u.backgroundVideo&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:zIndex.base,overflow:"hidden"},children:u.backgroundVideoType==="youtube"?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${u.backgroundVideo}?autoplay=1&mute=1&loop=1&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1`,style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",border:"none",opacity:u.backgroundOpacity!==void 0?u.backgroundOpacity/100:1},allow:"autoplay; encrypted-media",allowFullScreen:!0}):jsxRuntimeExports.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",objectFit:"cover",opacity:u.backgroundOpacity!==void 0?u.backgroundOpacity/100:1},children:jsxRuntimeExports.jsx("source",{src:u.backgroundVideo,type:"video/mp4"})})}),Z&&jsxRuntimeExports.jsx("div",{style:{...Z,zIndex:zIndex.content}}),Ee&&jsxRuntimeExports.jsx("div",{style:{...Ee,zIndex:zIndex.content}}),jsxRuntimeExports.jsx("div",{style:me,children:jsxRuntimeExports.jsx("div",{style:ge,children:J})})]}),se()]})};AlbumSection.craft={displayName:"AlbumSection",props:defaultProps$6,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!1},related:{toolbar:AlbumSectionSettings}};const SectionHeader$2=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$2.displayName="SectionHeader";const SectionCard$2=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$2.displayName="SectionCard";const DesignPanel$1=React.memo(t=>{const e=compilerRuntimeExports.c(57),{props:o,updateProp:r}=t,{showFileSelectModal:s,showMultiImageSelectModal:i}=useViewport();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,e[0]=a):a=e[0];const[c,l]=reactExports.useState(a),[d,u]=reactExports.useState(!1);let m;e[1]!==o.albumImages||e[2]!==s||e[3]!==r?(m=()=>{s(FileType.IMAGE,O=>{if(O){const Q={id:`img-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,url:O,alt:`Image ${o.albumImages.length+1}`};r("albumImages",[...o.albumImages,Q])}})},e[1]=o.albumImages,e[2]=s,e[3]=r,e[4]=m):m=e[4];const R=m;let p;e[5]!==o.albumImages||e[6]!==i||e[7]!==r?(p=()=>{i(O=>{if(O&&O.length>0){const Q=O.map((q,Y)=>({id:`img-${Date.now()}-${Y}-${Math.random().toString(36).substring(2,11)}`,url:q,alt:`Image ${o.albumImages.length+Y+1}`}));r("albumImages",[...o.albumImages,...Q])}})},e[5]=o.albumImages,e[6]=i,e[7]=r,e[8]=p):p=e[8];const j=p;let x;e[9]!==o.albumImages||e[10]!==r?(x=O=>{r("albumImages",o.albumImages.filter(Q=>Q.id!==O)),l(Q=>{const q=new Set(Q);return q.delete(O),q})},e[9]=o.albumImages,e[10]=r,e[11]=x):x=e[11];const g=x;let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=O=>{l(Q=>{const q=new Set(Q);return q.has(O)?q.delete(O):q.add(O),q})},e[12]=h):h=e[12];const E=h;let w;e[13]!==o.albumImages?(w=()=>{l(new Set(o.albumImages.map(_temp$f)))},e[13]=o.albumImages,e[14]=w):w=e[14];const C=w;let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{l(new Set)},e[15]=b):b=e[15];const v=b;let _;e[16]!==o.albumImages||e[17]!==c||e[18]!==r?(_=()=>{r("albumImages",o.albumImages.filter(O=>!c.has(O.id))),l(new Set)},e[16]=o.albumImages,e[17]=c,e[18]=r,e[19]=_):_=e[19];const I=_;let $;e[20]!==d?($=()=>{u(!d),l(new Set)},e[20]=d,e[21]=$):$=e[21];const A=$;let T;e[22]!==o.albumImages||e[23]!==r?(T=(O,Q)=>{r("albumImages",o.albumImages.map(q=>q.id===O?{...q,...Q}:q))},e[22]=o.albumImages,e[23]=r,e[24]=T):T=e[24];const L=T;let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=jsxRuntimeExports.jsx(SectionHeader$2,{icon:FaImage,title:"Hình ảnh Album"}),e[25]=P):P=e[25];let N;e[26]===Symbol.for("react.memo_cache_sentinel")?(N=jsxRuntimeExports.jsx(FaPlus,{}),e[26]=N):N=e[26];let k;e[27]!==R?(k=jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:R,colorScheme:"blue",variant:"outline",className:"flex items-center gap-1",children:[N," Thêm ảnh"]}),e[27]=R,e[28]=k):k=e[28];let B;e[29]===Symbol.for("react.memo_cache_sentinel")?(B=jsxRuntimeExports.jsx(FaPlus,{}),e[29]=B):B=e[29];let F;e[30]!==j?(F=jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:j,colorScheme:"green",variant:"outline",className:"flex items-center gap-1",children:[B," Thêm nhiều ảnh"]}),e[30]=j,e[31]=F):F=e[31];let W;e[32]!==d||e[33]!==o.albumImages.length||e[34]!==A?(W=o.albumImages.length>0&&jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:A,colorScheme:d?"red":"gray",variant:"outline",className:"flex items-center gap-1",children:[d?jsxRuntimeExports.jsx(FaTimes,{}):jsxRuntimeExports.jsx(FaCheck,{}),d?"Thoát chọn nhiều":"Chọn nhiều"]}),e[32]=d,e[33]=o.albumImages.length,e[34]=A,e[35]=W):W=e[35];let z;e[36]!==k||e[37]!==F||e[38]!==W?(z=jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[k,F,W]}),e[36]=k,e[37]=F,e[38]=W,e[39]=z):z=e[39];let H;e[40]!==d||e[41]!==o.albumImages.length||e[42]!==I||e[43]!==C||e[44]!==c?(H=d&&o.albumImages.length>0&&jsxRuntimeExports.jsxs(Box,{mb:4,p:3,bg:"blue.50",borderRadius:6,border:"1px solid",borderColor:"blue.100",children:[jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",mb:2,color:"blue.700",children:["Đã chọn: ",c.size,"/",o.albumImages.length," ảnh"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:C,variant:"ghost",colorScheme:"blue",children:"Chọn tất cả"}),jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:v,variant:"ghost",colorScheme:"blue",children:"Bỏ chọn tất cả"}),c.size>0&&jsxRuntimeExports.jsxs(Button$1,{size:"xs",onClick:I,colorScheme:"red",variant:"solid",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaTrash,{})," Xóa (",c.size,")"]})]})]}),e[40]=d,e[41]=o.albumImages.length,e[42]=I,e[43]=C,e[44]=c,e[45]=H):H=e[45];let U;e[46]!==d||e[47]!==o.albumImages||e[48]!==g||e[49]!==c||e[50]!==s||e[51]!==L?(U=o.albumImages.length===0?jsxRuntimeExports.jsxs(Box,{p:4,border:"2px dashed",borderColor:"gray.300",borderRadius:8,textAlign:"center",color:"gray.500",children:[jsxRuntimeExports.jsx(FaImage,{size:24,style:{margin:"0 auto 8px"}}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",children:"Chưa có hình ảnh nào"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:'Nhấn "Thêm ảnh" để bắt đầu'})]}):jsxRuntimeExports.jsx(VStack,{gap:2,align:"stretch",children:o.albumImages.map((O,Q)=>{const q=c.has(O.id);return jsxRuntimeExports.jsx(Box,{p:3,border:"1px solid",borderColor:q&&d?"blue.300":"gray.200",borderRadius:6,bg:q&&d?"blue.50":"gray.50",children:jsxRuntimeExports.jsxs(HStack,{gap:3,align:"stretch",children:[d&&jsxRuntimeExports.jsx(Box,{pt:1,children:jsxRuntimeExports.jsx(Checkbox,{checked:q,onCheckedChange:()=>E(O.id)})}),jsxRuntimeExports.jsx(Box,{width:"60px",height:"60px",borderRadius:6,overflow:"hidden",bg:"gray.200",flexShrink:0,onClick:()=>d&&E(O.id),cursor:d?"pointer":"default",children:jsxRuntimeExports.jsx("img",{src:getImageUrlWithSize(O.url,"preview"),alt:O.alt||`Image ${Q+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:_temp2$7})}),jsxRuntimeExports.jsxs(VStack,{flex:1,align:"stretch",gap:2,children:[jsxRuntimeExports.jsx(Input$1,{size:"xs",value:O.url||"",onChange:Y=>L(O.id,{url:Y.target.value}),placeholder:"URL ảnh...",disabled:d}),jsxRuntimeExports.jsx(Input$1,{size:"xs",value:O.alt||"",onChange:Y=>L(O.id,{alt:Y.target.value}),placeholder:"Mô tả ảnh...",disabled:d}),jsxRuntimeExports.jsx(Input$1,{size:"xs",value:O.title||"",onChange:Y=>L(O.id,{title:Y.target.value}),placeholder:"Tiêu đề ảnh...",disabled:d})]}),jsxRuntimeExports.jsxs(VStack,{gap:1,minW:"40px",children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",onClick:()=>{s(FileType.IMAGE,Y=>{Y&&L(O.id,{url:Y})})},title:"Chọn ảnh",disabled:d,children:jsxRuntimeExports.jsx(FaEdit,{})}),jsxRuntimeExports.jsx(Button$1,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>g(O.id),title:"Xóa ảnh",disabled:d,children:jsxRuntimeExports.jsx(FaTrash,{})})]})]})},O.id)})}),e[46]=d,e[47]=o.albumImages,e[48]=g,e[49]=c,e[50]=s,e[51]=L,e[52]=U):U=e[52];let D;return e[53]!==z||e[54]!==H||e[55]!==U?(D=jsxRuntimeExports.jsx(VStack,{gap:4,align:"stretch",p:1,children:jsxRuntimeExports.jsxs(SectionCard$2,{children:[P,z,H,U]})}),e[53]=z,e[54]=H,e[55]=U,e[56]=D):D=e[56],D});DesignPanel$1.displayName="DesignPanel";const AlbumModalSettings=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{enableSize:!1,enableFilter:!1,enableTransform:!1,enableBackground:!1,enableBorder:!1,enableShadow:!1,enableOverlay:!1,design:_temp3$3,tabs:{event:!1,animation:!1,advanced:!1,default:!0},showNodeControlsPanel:!1}),t[0]=e):e=t[0],e};function _temp$f(t){return t.id}function _temp2$7(t){t.currentTarget.style.display="none"}function _temp3$3(t){return jsxRuntimeExports.jsx(DesignPanel$1,{...t})}const defaultProps$5={albumImages:[],className:""},AlbumModal=t=>{const e={...defaultProps$5,...t},{albumImages:o}=e,{query:r,enabled:s,actions:i}=Pe(L=>({enabled:L.options.enabled})),{connectors:{connect:a},id:c,selected:l}=Ne(L=>({selected:L.events.selected})),{closePopup:d,currentPopupIdOpen:u,openPopup:m}=useViewport(),R=reactExports.useRef(null),p=reactExports.useRef(null),[j,x]=React.useState(null),g=useIsMobile(),h=c===u;React.useEffect(()=>{s&&l&&!h&&(m(c),i.selectNode(c))},[s,l,h,c,m,i]);const E=React.useMemo(()=>{if(!u)return null;try{const P=r.getNodes()[u];if(P&&P.data&&P.data.displayName==="Album Modal")return P.data.props}catch{}return null},[u,r]);React.useEffect(()=>{h&&j===null&&o.length>0&&x(0)},[h,j,o.length]),React.useEffect(()=>{if(j!==null&&p.current){const L=p.current,N=L.querySelectorAll(".album-thumbnail-item, .album-thumbnail-placeholder")[j];if(N){const k=L.offsetWidth,B=N.offsetLeft,F=N.offsetWidth,W=B-k/2+F/2;L.scrollTo({left:W,behavior:"smooth"})}}},[j]);const w=L=>{L.target===L.currentTarget&&!s&&(d(),x(null))},C=L=>{L.stopPropagation(),s?(d(),i.selectNode([])):d(),x(null)},b=()=>{if(j!==null&&E&&E.albumImages.length>0){const L=j===0?E.albumImages.length-1:j-1;x(L)}},v=()=>{if(j!==null&&E&&E.albumImages.length>0){const L=j===E.albumImages.length-1?0:j+1;x(L)}};if(React.useEffect(()=>{const L=P=>{if(h)switch(P.key){case"Escape":P.preventDefault(),s?(d(),i.selectNode([])):d(),x(null);break;case"ArrowLeft":P.preventDefault(),b();break;case"ArrowRight":P.preventDefault(),v();break}};return h&&document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[h,s,d,i,b,v]),!h)return null;const I=(L,P="full")=>getImageUrlWithSize(L.url,P);if(s)return jsxRuntimeExports.jsx("div",{ref:L=>{L&&a(L)},className:e.className,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumModal,backdropFilter:"blur(2px)"},onClick:C,children:jsxRuntimeExports.jsxs("div",{ref:R,style:{backgroundColor:"white",borderRadius:"8px",padding:"20px",maxWidth:"500px",width:"90%",maxHeight:"400px",overflow:"auto",position:"relative"},onClick:L=>L.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:C,style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"transparent",border:"none",fontSize:"20px",cursor:"pointer",color:"#666",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},onMouseEnter:L=>{L.currentTarget.style.backgroundColor="#f0f0f0",L.currentTarget.style.color="#333"},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="transparent",L.currentTarget.style.color="#666"},title:"Close Album Modal",children:"×"}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"bold"},children:"Album ảnh Popup"}),jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 16px 0",color:"#666",fontSize:"14px"},children:["Album đang có ",o.length," ảnh - Thêm ảnh ở mục cài đặt"]}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px"},children:[o.slice(0,6).map((L,P)=>jsxRuntimeExports.jsx("div",{style:{position:"relative"},children:jsxRuntimeExports.jsx("img",{src:I(L,"preview"),alt:L.alt||`Image ${P+1}`,style:{width:"100%",height:"60px",objectFit:"cover",borderRadius:"4px",border:"1px solid #ddd"}})},L.id)),o.length>6&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"60px",backgroundColor:"#f5f5f5",borderRadius:"4px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#666"},children:["+",o.length-6]})]})]})]})});const $=jsxRuntimeExports.jsx("div",{ref:L=>{L&&a(L)},style:{position:"absolute",top:0,left:0,width:"1px",height:"1px",opacity:0,pointerEvents:"none",zIndex:zIndex.behind},"data-album-modal-id":c});if(j===null||!o[j])return $;const A=o[j],T=o.length>1;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$,jsxRuntimeExports.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:zIndex.quickActionsMain,padding:"20px",boxSizing:"border-box"},onClick:w,children:[T&&jsxRuntimeExports.jsx("button",{className:"album-modal-nav-arrow",onClick:L=>{L.stopPropagation(),b()},style:{position:"fixed",left:g?"0px":"20px",top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"50%",width:g?"30px":"50px",height:g?"30px":"50px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumModalItem,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",fontSize:"18px"},onMouseEnter:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",L.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",L.currentTarget.style.transform="translateY(-50%) scale(1)"},children:jsxRuntimeExports.jsx(FaChevronLeft,{})}),T&&jsxRuntimeExports.jsx("button",{className:"album-modal-nav-arrow right",onClick:L=>{L.stopPropagation(),v()},style:{position:"fixed",right:g?"0px":"20px",top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"50%",width:g?"30px":"50px",height:g?"30px":"50px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.albumModalItem,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",fontSize:"18px"},onMouseEnter:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",L.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",L.currentTarget.style.transform="translateY(-50%) scale(1)"},children:jsxRuntimeExports.jsx(FaChevronRight,{})}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",maxWidth:g?"100vw":"calc(100vw - 140px)",maxHeight:g?"60vh":"calc(100vh - 160px)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:L=>{L.stopPropagation()},children:[jsxRuntimeExports.jsx("img",{src:I(A,"full"),alt:A.alt||`Image ${j+1}`,loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"}}),!s&&jsxRuntimeExports.jsx("button",{className:"album-modal-close-btn",onClick:L=>{L.stopPropagation(),C(L)},style:{position:"fixed",top:"10%",right:"20px",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:"#333",zIndex:zIndex.albumModalSelected,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},onMouseEnter:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",L.currentTarget.style.transform="scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",L.currentTarget.style.transform="scale(1)"},children:"×"}),T&&jsxRuntimeExports.jsxs("div",{className:"album-modal-counter",style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"500",zIndex:zIndex.albumModalSelected},children:[j+1," / ",o.length]}),A.title&&jsxRuntimeExports.jsx("div",{className:"album-modal-title",style:{position:"fixed",bottom:T?"60px":"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"16px",fontWeight:"600",zIndex:zIndex.albumModalSelected,maxWidth:"calc(100vw - 80px)",textAlign:"center",wordWrap:"break-word"},children:A.title})]}),T&&jsxRuntimeExports.jsx("div",{ref:p,className:"album-thumbnail-container",style:{width:"100%",maxWidth:"calc(100vw - 40px)",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"8px",padding:g?"8px":"16px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",backdropFilter:"blur(10px)",overflowX:"auto",scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent"},onClick:L=>L.stopPropagation(),children:o.map((L,P)=>!(j!==null&&Math.abs(P-j)<=10)&&o.length>20?jsxRuntimeExports.jsx("div",{className:"album-thumbnail-placeholder",onClick:k=>{k.stopPropagation(),x(P)},style:{minWidth:"60px",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",cursor:"pointer",border:"3px solid transparent",opacity:.5}},L.id):jsxRuntimeExports.jsx("div",{className:"album-thumbnail-item",onClick:k=>{k.stopPropagation(),x(P)},style:{minWidth:"60px",width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",cursor:"pointer",border:P===j?"3px solid #ffffff":"3px solid transparent",opacity:P===j?1:.7,transition:"all 0.3s ease",boxShadow:P===j?"0 4px 12px rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.2)",transform:P===j?"scale(1.1)":"scale(1)"},onMouseEnter:k=>{P!==j&&(k.currentTarget.style.opacity="0.9",k.currentTarget.style.transform="scale(1.05)")},onMouseLeave:k=>{P!==j&&(k.currentTarget.style.opacity="0.7",k.currentTarget.style.transform="scale(1)")},children:jsxRuntimeExports.jsx("img",{src:I(L,"preview"),alt:L.alt||`Thumbnail ${P+1}`,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},L.id))})]})]})};AlbumModal.craft={displayName:"Album Modal",props:defaultProps$5,rules:{canDrag:()=>!1,canDrop:()=>!1,canMoveIn:()=>!1},related:{toolbar:AlbumModalSettings}};const DropboxSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$e);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableSize:!0,enableBackground:!0,enableBorder:!0,enableShadow:!0,enableFilter:!0,enableTransform:!0,enableOverlay:!0}),t[0]=e):e=t[0],e};function _temp$e(t){return{props:t.data.props}}const defaultProps$4={lockAspectRatio:!1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",fillSpace:"no",padding:[0,0,0,0],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",color:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",radius:0,borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"none",borderColor:"#000000",width:"200px",height:"150px",minHeight:"none",blendMode:"normal",contrast:100,brightness:100,saturate:100,grayscale:0,opacity:100,invert:0,sepia:0,hueRotate:0,rotate:0,rotateX:0,rotateY:0,skewX:0,skewY:0,perspective:0,transformOrigin:"center center",overlayType:"none",overlayBlendMode:"normal",overlayOpacity:50,overlayColor:"rgba(0, 0, 0, 0.5)",overlayGradientType:"linear",overlayGradientAngle:90,overlayGradientColor1:"#4158D0",overlayGradientColor2:"#C850C0",overlayImage:"",overlayImageSize:"cover",overlayImagePosition:"center",overlayImageRepeat:"no-repeat",overlayImageAttachment:"scroll",events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,syncCrossPlatform:!0,className:""},getAnimationDirection=t=>t.startsWith("top-")?"top":t.startsWith("bottom-")?"bottom":t.startsWith("left-")?"left":t.startsWith("right-")?"right":"bottom",getInitialTransform=t=>{switch(t){case"top":return"scale(0.95) translateY(-5px)";case"bottom":return"scale(0.95) translateY(5px)";case"left":return"scale(0.95) translateX(-5px)";case"right":return"scale(0.95) translateX(5px)";default:return"scale(0.95) translateY(5px)"}},getFinalTransform=()=>"scale(1) translate(0)",Dropbox=t=>{const e={...defaultProps$4,...t},{enabled:o}=Pe(Ge=>({enabled:Ge.options.enabled})),{connectors:{connect:r},id:s,selected:i}=Ne(Ge=>({id:Ge.id,selected:Ge.events.selected})),{closeDropbox:a,currentDropboxIdOpen:c,dropboxPosition:l,dropboxDistance:d,dropboxTriggerElementId:u,currentDropboxEditorIdOpen:m,closeDropboxEditor:R,setDropboxHoverState:p,scheduleDropboxClose:j,cancelDropboxClose:x}=useViewport(),{flexDirection:g,alignItems:h,justifyContent:E,fillSpace:w,backgroundImage:C,backgroundType:b,backgroundPosition:v,backgroundSize:_,backgroundRepeat:I,backgroundAttachment:$,backgroundColor:A,color:T,padding:L,margin:P,shadow:N,shadowType:k,shadowX:B,shadowY:F,shadowBlur:W,shadowSpread:z,shadowColor:H,radius:U,borderRadius:D,borderWidth:O,borderStyle:Q,borderColor:q,width:Y,height:V,children:de,minHeight:ue,blendMode:Re,contrast:oe,brightness:ce,saturate:je,grayscale:ie,opacity:xe,invert:pe,sepia:$e,hueRotate:Se,rotate:Ie,rotateX:Me,rotateY:He,skewX:fe,skewY:Ce,perspective:le,transformOrigin:J,lockAspectRatio:se,gradientAngle:te,gradientType:be,gradientColor1:Z,gradientColor2:Ee,events:me,displayAnimation:ge,hoverAnimation:Ke}=e,Ue=s===c,_e=s===m,Qe=Ue||_e,[qe,Ye]=reactExports.useState("hidden"),nt=reactExports.useRef(null);reactExports.useRef(!0);const et=reactExports.useRef(null),re=getAnimationDirection(l),Xe=reactExports.useCallback(()=>{nt.current&&(clearTimeout(nt.current),nt.current=null)},[]),tt=L||defaultProps$4.padding,rt=P||defaultProps$4.margin;D||defaultProps$4.borderRadius,O||defaultProps$4.borderWidth;const{handleContainerClick:Rt,handleHover:wt}=useEventHandling(me,s),St=reactExports.useRef(null),bt=(ge==null?void 0:ge.effect)||"none",yt=(ge==null?void 0:ge.duration)??.6;useEntrance(St,bt,yt);const jt=hoverVarsFromSettings(Ke,o),we=Ke.enabled&&!o?"hover-anim":"",G=reactExports.useRef(null);reactExports.useEffect(()=>{Xe(),Qe&&!o?(qe==="hidden"||qe==="disappearing")&&(et.current=null,Ye("appearing"),requestAnimationFrame(()=>{Ye("visible")})):!Qe&&!o?(qe==="visible"||qe==="appearing")&&(Ye("disappearing"),nt.current=window.setTimeout(()=>{Ye("hidden")},200)):!Qe&&o&&Ye("hidden")},[Qe,o,qe,Xe]),reactExports.useEffect(()=>()=>{X(),Xe()},[Xe]),reactExports.useEffect(()=>{if(!Ue||o||_e)return;let Ge=null;const We=()=>{if(St.current){const Ze=st();Object.assign(St.current.style,Ze)}},Ve=()=>{Ge&&cancelAnimationFrame(Ge),Ge=requestAnimationFrame(We)},Je=()=>Ve(),he=()=>Ve(),at=()=>{setTimeout(Ve,10)},xt=()=>{document.hidden||setTimeout(Ve,10)},gt=()=>{Ve()};window.addEventListener("scroll",Je,{passive:!0}),window.addEventListener("resize",he,{passive:!0}),window.addEventListener("focus",at,{passive:!0}),document.addEventListener("visibilitychange",xt,{passive:!0});let Oe=null;return u&&document.querySelector(`[data-node-id="${u}"]`)&&(Oe=new MutationObserver(gt),Oe.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]})),Ve(),()=>{Ge&&cancelAnimationFrame(Ge),window.removeEventListener("scroll",Je),window.removeEventListener("resize",he),window.removeEventListener("focus",at),document.removeEventListener("visibilitychange",xt),Oe&&Oe.disconnect()}},[Ue,o,_e,u,l,d]);const X=()=>{G.current&&(clearTimeout(G.current),G.current=null)},K=Ge=>{!o&&s&&(p(s,!0),x(s))},ne=()=>{!o&&s&&(p(s,!1),j(s))},ve=Ge=>{o||(Ge.stopPropagation(),Rt())};reactExports.useEffect(()=>{if(!Ue||o)return;const Ge=We=>{var Je;const Ve=We.target;if(!((Je=St.current)!=null&&Je.contains(Ve))){if(u){const he=document.querySelector(`[data-node-id="${u}"]`);if(he!=null&&he.contains(Ve))return}a()}};return document.addEventListener("click",Ge,!0),()=>{document.removeEventListener("click",Ge,!0)}},[Ue,o,u,a]);const Te=React.useMemo(()=>{const Ge=assembleBaseStyles({width:Y,height:V,shadowType:k,shadowX:B,shadowY:F,shadowBlur:W,shadowSpread:z,shadowColor:H,shadow:N,borderRadius:D,borderWidth:O,borderStyle:Q,borderColor:q,radius:U,blendMode:Re,contrast:oe,brightness:ce,saturate:je,grayscale:ie,opacity:xe,invert:pe,sepia:$e,hueRotate:Se,rotate:Ie,rotateX:Me,rotateY:He,skewX:fe,skewY:Ce,perspective:le,transformOrigin:J,minHeight:ue,fillSpace:w,backgroundType:b,backgroundColor:A,gradientType:be,gradientAngle:te,gradientColor1:Z,gradientColor2:Ee,backgroundImage:C,backgroundSize:_,backgroundPosition:v,backgroundRepeat:I,backgroundAttachment:$},{allowPosition:!1,defaults:defaultProps$4});return E!==defaultProps$4.justifyContent&&(Ge.justifyContent=E),g!==defaultProps$4.flexDirection&&(Ge.flexDirection=g),h!==defaultProps$4.alignItems&&(Ge.alignItems=h),tt.some((We,Ve)=>We!==defaultProps$4.padding[Ve])&&(Ge.padding=`${tt[0]}px ${tt[1]}px ${tt[2]}px ${tt[3]}px`),rt.some((We,Ve)=>We!==defaultProps$4.margin[Ve])&&(Ge.margin=`${rt[0]}px ${rt[1]}px ${rt[2]}px ${rt[3]}px`),Ge},[Y,V,k,B,F,W,z,H,N,D,O,Q,q,U,Re,oe,ce,je,ie,xe,pe,$e,Se,Ie,Me,He,fe,Ce,le,J,ue,w,b,A,be,te,Z,Ee,C,_,v,I,$,E,g,h,tt,rt]),Le=Ge=>{if(o||_e)return{};const We=Ve=>Ge?`${Ge} ${Ve}`:Ve;switch(qe){case"hidden":return{opacity:0,transform:We(getInitialTransform(re)),pointerEvents:"none"};case"appearing":return{opacity:0,transform:We(getInitialTransform(re))};case"visible":return{opacity:1,transform:We(getFinalTransform()),transition:"opacity 200ms cubic-bezier(0, 0, 0.2, 1), transform 200ms cubic-bezier(0, 0, 0.2, 1)"};case"disappearing":return{opacity:0,transform:We(getInitialTransform(re)),transition:"opacity 200ms cubic-bezier(0.4, 0, 1, 1), transform 200ms cubic-bezier(0.4, 0, 1, 1)",pointerEvents:"none"};default:return{}}},st=()=>{if(_e)return{position:"fixed",top:"50%",left:"50%",zIndex:zIndex.dropbox};if(!u)return{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:zIndex.dropbox};const Ge=document.querySelector(`[data-node-id="${u}"]`);if(!Ge)return qe==="disappearing"&&et.current?et.current:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:zIndex.dropboxMain};const We=Ge.getBoundingClientRect(),Ve=d||10,Je=Ge.closest(".sections-wrapper"),he=Je?Je.getBoundingClientRect():{top:0,left:0};let at=0,xt=0,gt="";switch(l){case"top-left":at=We.top-he.top-Ve,xt=We.left-he.left,gt="translateY(-100%)";break;case"top-center":at=We.top-he.top-Ve,xt=We.left-he.left+We.width/2,gt="translate(-50%, -100%)";break;case"top-right":at=We.top-he.top-Ve,xt=We.right-he.left,gt="translate(-100%, -100%)";break;case"bottom-left":at=We.bottom-he.top+Ve,xt=We.left-he.left;break;case"bottom-center":at=We.bottom-he.top+Ve,xt=We.left-he.left+We.width/2,gt="translateX(-50%)";break;case"bottom-right":at=We.bottom-he.top+Ve,xt=We.right-he.left,gt="translateX(-100%)";break;case"left-top":at=We.top-he.top,xt=We.left-he.left-Ve,gt="translateX(-100%)";break;case"left-center":at=We.top-he.top+We.height/2,xt=We.left-he.left-Ve,gt="translate(-100%, -50%)";break;case"left-bottom":at=We.bottom-he.top,xt=We.left-he.left-Ve,gt="translate(-100%, -100%)";break;case"right-top":at=We.top-he.top,xt=We.right-he.left+Ve;break;case"right-center":at=We.top-he.top+We.height/2,xt=We.right-he.left+Ve,gt="translateY(-50%)";break;case"right-bottom":at=We.bottom-he.top,xt=We.right-he.left+Ve,gt="translateY(-100%)";break;default:at=We.bottom-he.top+Ve,xt=We.left-he.left+We.width/2,gt="translateX(-50%)"}const Oe=Je?Je.offsetWidth:window.innerWidth,Ze=Je?Je.offsetHeight:window.innerHeight,kt=parseFloat(Y.toString())||200,Mt=parseFloat(V.toString())||150;xt<0?(xt=10,gt=gt.replace(/translateX\([^)]*\)/,"")):xt+kt>Oe&&(xt=Oe-kt-10,gt=gt.replace(/translateX\([^)]*\)/,"")),at<0?(at=10,gt=gt.replace(/translateY\([^)]*\)/,"")):at+Mt>Ze&&(at=Ze-Mt-10,gt=gt.replace(/translateY\([^)]*\)/,""));const At={position:"absolute",top:`${at}px`,left:`${xt}px`,transform:gt||void 0,zIndex:zIndex.dropbox};return et.current=At,At},ft={...Te,color:T!==defaultProps$4.color?T:void 0},ht=st(),ct=Le(ht.transform),Et={...ft,...ht,...ct},Tt=minimizeStyle(Et),vt=React.useMemo(()=>{if(!u||!Ue)return null;const Ge=document.querySelector(`[data-node-id="${u}"]`);return Ge?Ge.closest(".sections-wrapper"):null},[u,Ue]),it=React.useMemo(()=>({overlayType:e.overlayType,overlayBlendMode:e.overlayBlendMode,overlayOpacity:e.overlayOpacity,overlayColor:e.overlayColor,overlayGradientType:e.overlayGradientType,overlayGradientAngle:e.overlayGradientAngle,overlayGradientColor1:e.overlayGradientColor1,overlayGradientColor2:e.overlayGradientColor2,overlayImage:e.overlayImage,overlayImageSize:e.overlayImageSize,overlayImagePosition:e.overlayImagePosition,overlayImageRepeat:e.overlayImageRepeat,overlayImageAttachment:e.overlayImageAttachment}),[e.overlayType,e.overlayBlendMode,e.overlayOpacity,e.overlayColor,e.overlayGradientType,e.overlayGradientAngle,e.overlayGradientColor1,e.overlayGradientColor2,e.overlayImage,e.overlayImageSize,e.overlayImagePosition,e.overlayImageRepeat,e.overlayImageAttachment]),{backgroundOverlay:ae,contentOverlay:Fe}=React.useMemo(()=>buildOverlayLayers(it,Te.borderRadius),[it,Te.borderRadius]);if(reactExports.useEffect(()=>{if(!Qe||o)return;const Ge=We=>{We.key==="Escape"&&(_e?R():a())};return document.addEventListener("keydown",Ge),()=>{document.removeEventListener("keydown",Ge)}},[Qe,o,_e,a,R]),!(o&&i||_e||!o&&Qe||!o&&qe!=="hidden"))return null;const Be=jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(ae||Fe)&&jsxRuntimeExports.jsx("div",{style:ae||Fe}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%"},children:de})]});if(_e)return jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:zIndex.dropboxOverlay,display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:Tt,className:"dropbox-modal",lockAspectRatio:se,innerRef:Ge=>{Ge&&r(Ge)},children:Be})});if(o)return jsxRuntimeExports.jsx(EditableWrapper,{propKey:{width:"width",height:"height"},style:Tt,className:"dropbox-tooltip",lockAspectRatio:se,innerRef:Ge=>{Ge&&r(Ge)},children:Be});const ze=jsxRuntimeExports.jsx("div",{ref:St,style:{...Tt,...jt,willChange:qe!=="hidden"?"opacity, transform":"auto",backfaceVisibility:"hidden",contain:"layout style paint"},className:we,"data-node-id":s,onClick:ve,onMouseEnter:K,onMouseLeave:ne,children:Be});return vt?ReactDOM.createPortal(ze,vt):ze};Dropbox.craft={displayName:"Dropbox",props:defaultProps$4,related:{toolbar:DropboxSettings}};const SectionHeader$1=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader$1.displayName="SectionHeader";const SectionCard$1=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard$1.displayName="SectionCard";const HtmlSelectorSettings=()=>{const t=compilerRuntimeExports.c(5),{showHtmlEditorModal:e}=useViewport();let o;t[0]!==e?(o=a=>{const{props:c,updateProp:l}=a,d=()=>{e(c.htmlContent||"",u=>{l("htmlContent",u)})};return jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionHeader$1,{icon:FaCode,title:"Nội dung HTML"}),jsxRuntimeExports.jsxs(Button$1,{onClick:d,size:"sm",colorScheme:"blue",variant:"outline",width:"100%",children:[jsxRuntimeExports.jsx(FaCode,{style:{marginRight:8}}),"Chỉnh sửa HTML"]})]})})},t[0]=e,t[1]=o):o=t[1];const r=o;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s={event:!1},t[2]=s):s=t[2];let i;return t[3]!==r?(i=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",tabs:s,design:a=>r(a)}),t[3]=r,t[4]=i):i=t[4],i},defaultProps$3={width:"300px",height:"200px",lockAspectRatio:!1,htmlContent:'<div style="padding: 20px; text-align: center; border: 2px dashed #ccc; background: #f9f9f9;"><p>Click the HTML button to edit content</p></div>',brightness:100,contrast:100,saturate:100,grayscale:0,invert:0,hueRotate:0,blur:0,sepia:0,opacity:100,blendMode:"normal",transformOrigin:"center center",rotate:0,rotateX:0,rotateY:0,rotateZ:0,scale:100,skewX:0,skewY:0,perspective:0,events:[],displayAnimation:null,hoverAnimation:{enabled:!1},pinning:{enabled:!1,position:"auto",topDistance:0,bottomDistance:0,leftDistance:0,rightDistance:0},hidden:!1,locked:!1,syncCrossPlatform:!0,isBrand:!1,top:0,left:0,className:""},HtmlSelector=t=>{var T,L;const e=compilerRuntimeExports.c(19),{connectors:o,id:r}=Ne(_temp$d),{connect:s}=o,{enabled:i}=Pe(_temp2$6),a=reactExports.useRef(null),c={...defaultProps$3,...t},l=((T=c.displayAnimation)==null?void 0:T.effect)||"none",d=((L=c.displayAnimation)==null?void 0:L.duration)??.6;useEntrance(a,l,d);const u=hoverVarsFromSettings(c.hoverAnimation,i),m=c.hoverAnimation.enabled&&!i?"hover-anim":"",{handleContainerClick:R,handleTriggerMouseEnter:p,handleTriggerMouseLeave:j}=useEventHandling(c.events,r);let x;e[0]!==i||e[1]!==R?(x=()=>{i||R()},e[0]=i,e[1]=R,e[2]=x):x=e[2];const g=x;let h;e[3]!==i||e[4]!==p?(h=()=>{i||p()},e[3]=i,e[4]=p,e[5]=h):h=e[5];const E=h;let w;e[6]!==i||e[7]!==j?(w=()=>{i||j()},e[6]=i,e[7]=j,e[8]=w):w=e[8];const C=w,b=minimizeStyle({...assembleBaseStyles({width:c.width,height:c.height,top:c.top,left:c.left,opacity:c.opacity,blendMode:c.blendMode,brightness:c.brightness,contrast:c.contrast,saturate:c.saturate,grayscale:c.grayscale,invert:c.invert,hueRotate:c.hueRotate,blur:c.blur,sepia:c.sepia,transformOrigin:c.transformOrigin,rotate:c.rotate,rotateX:c.rotateX,rotateY:c.rotateY,rotateZ:c.rotateZ,scale:c.scale,skewX:c.skewX,skewY:c.skewY,perspective:c.perspective},{allowPosition:!0,defaults:defaultProps$3}),overflow:i?"visible":"hidden"}),v=_temp3$2;if(i){let P;e[9]===Symbol.for("react.memo_cache_sentinel")?(P={width:"width",height:"height"},e[9]=P):P=e[9];let N;e[10]!==s?(N=B=>{B&&s(B)},e[10]=s,e[11]=N):N=e[11];let k;return e[12]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",background:"#white",color:"#666",fontSize:"14px",textAlign:"center",padding:"20px",boxSizing:"border-box"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"8px",fontWeight:"bold"},children:"Vùng HTML"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px"},children:"Sử dụng bảng điều khiển cài đặt để chỉnh sửa nội dung HTML"})]})}),e[12]=k):k=e[12],jsxRuntimeExports.jsxs(EditableWrapper,{propKey:P,style:b,innerRef:N,className:c.className||"",lockAspectRatio:c.lockAspectRatio,children:[k,c.hidden&&jsxRuntimeExports.jsx(OverlayHidden,{})]})}if(c.hidden)return null;let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_={width:"100%",height:"100%",overflow:"auto"},e[13]=_):_=e[13];const I=v(c.htmlContent);let $;e[14]!==I?($={__html:I},e[14]=I,e[15]=$):$=e[15];let A;return e[16]!==_||e[17]!==$?(A=jsxRuntimeExports.jsx("div",{style:_,dangerouslySetInnerHTML:$}),e[16]=_,e[17]=$,e[18]=A):A=e[18],jsxRuntimeExports.jsx("div",{ref:a,style:{...b,...u},className:`${c.className||""} ${m}`,"data-node-id":r,onClick:g,onMouseEnter:E,onMouseLeave:C,children:A})};HtmlSelector.craft={displayName:"HtmlSelector",props:defaultProps$3,rules:{canDrag:()=>!0},related:{toolbar:HtmlSelectorSettings}};function _temp$d(t){return{id:t.id}}function _temp2$6(t){return{enabled:t.options.enabled}}function _temp3$2(t){return t}const LightBox=()=>{const t=compilerRuntimeExports.c(20),{currentLightBoxOpen:e,closeLightBox:o}=useViewport();let r;t[0]!==o?(r=g=>{g.target===g.currentTarget&&o()},t[0]=o,t[1]=r):r=t[1];const s=r;let i;t[2]!==o?(i=g=>{g.stopPropagation(),o()},t[2]=o,t[3]=i):i=t[3];const a=i;if(!(e&&e.lightboxMediaType))return null;let l;t[4]!==e.lightboxImageUrl||t[5]!==e.lightboxMediaType||t[6]!==e.lightboxVideoType||t[7]!==e.lightboxVideoUrl?(l=()=>{if(e.lightboxMediaType==="image"&&e.lightboxImageUrl)return jsxRuntimeExports.jsx("img",{src:e.lightboxImageUrl,alt:"LightBox Image",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"}});if(e.lightboxMediaType==="video"&&e.lightboxVideoUrl){if(e.lightboxVideoType==="youtube"){const g=getYouTubeVideoId(e.lightboxVideoUrl);if(g)return jsxRuntimeExports.jsx("iframe",{width:"800",height:"450",src:`https://www.youtube.com/embed/${g}?autoplay=1`,title:"YouTube video player",style:{border:"none",maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}else if(e.lightboxVideoType==="meHappyVideo")return jsxRuntimeExports.jsxs("video",{controls:!0,autoPlay:!0,style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"},children:[jsxRuntimeExports.jsx("source",{src:e.lightboxVideoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]})}return jsxRuntimeExports.jsx("div",{style:{color:"white",padding:"20px"},children:jsxRuntimeExports.jsx("p",{children:"No media content available"})})},t[4]=e.lightboxImageUrl,t[5]=e.lightboxMediaType,t[6]=e.lightboxVideoType,t[7]=e.lightboxVideoUrl,t[8]=l):l=t[8];const d=l;let u;t[9]===Symbol.for("react.memo_cache_sentinel")?(u={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.lightBox,cursor:"pointer"},t[9]=u):u=t[9];let m;t[10]===Symbol.for("react.memo_cache_sentinel")?(m={position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",color:"white",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.lightBoxContent},t[10]=m):m=t[10];let R;t[11]!==a?(R=jsxRuntimeExports.jsx("button",{onClick:a,style:m,children:"×"}),t[11]=a,t[12]=R):R=t[12];let p;t[13]===Symbol.for("react.memo_cache_sentinel")?(p={cursor:"default"},t[13]=p):p=t[13];let j;t[14]!==d?(j=jsxRuntimeExports.jsx("div",{style:p,onClick:_temp$c,children:d()}),t[14]=d,t[15]=j):j=t[15];let x;return t[16]!==s||t[17]!==R||t[18]!==j?(x=jsxRuntimeExports.jsxs("div",{style:u,onClick:s,children:[R,j]}),t[16]=s,t[17]=R,t[18]=j,t[19]=x):x=t[19],x};function _temp$c(t){return t.stopPropagation()}const PagesContainerDesign=React.memo(t=>{const e=compilerRuntimeExports.c(1);let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),e[0]=o):o=e[0],o});PagesContainerDesign.displayName="PagesContainerDesign";const PagesContainerSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$b);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableBackground:!0,enableSize:!0,enableBorder:!1,tabs:{default:!0,animation:!1,event:!1,advanced:!1}}),t[0]=e):e=t[0],e};function _temp$b(t){return{props:t.data.props}}const defaultProps$2={children:null,backgroundType:"color",backgroundColor:"#ffffff",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",syncAcrossDevices:!1,height:"100vh"},PagesContainer=t=>{const e=compilerRuntimeExports.c(22),{connectors:o,id:r}=Ne(),{connect:s}=o,i=reactExports.useRef(null);let a;e[0]!==t?(a={...defaultProps$2,...t},e[0]=t,e[1]=a):a=e[1];const c=a,{backgroundColor:l,height:d,children:u}=c,{currentEditingPlatform:m}=useViewport(),p=useResponsivePlatformContext()||m,{settings:j}=useViewportSettings();let x;e[2]!==l||e[3]!==d?(x={width:"100%",height:d,minHeight:"100vh",position:"relative",backgroundColor:l,overflow:"visible"},e[2]=l,e[3]=d,e[4]=x):x=e[4];const g=x;let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h={width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column"},e[5]=h):h=e[5];const E=h;let w;e[6]!==p||e[7]!==j?(w=p==="mobile"?getMobileWidth(j):getDesktopWidth(j),e[6]=p,e[7]=j,e[8]=w):w=e[8];const C=p==="mobile"?"0 16px":"0";let b;e[9]!==w||e[10]!==C?(b={position:"relative",width:"100%",maxWidth:w,height:"100%",margin:"0 auto",padding:C,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},e[9]=w,e[10]=C,e[11]=b):b=e[11];const v=b;let _;e[12]!==s?(_=A=>{A&&(s(A),i.current=A)},e[12]=s,e[13]=_):_=e[13];let I;e[14]!==u||e[15]!==v?(I=jsxRuntimeExports.jsx("div",{className:"content-wrapper",style:E,children:jsxRuntimeExports.jsx("div",{className:"content-container",style:v,children:u})}),e[14]=u,e[15]=v,e[16]=I):I=e[16];let $;return e[17]!==g||e[18]!==r||e[19]!==_||e[20]!==I?($=jsxRuntimeExports.jsx("div",{ref:_,"data-node-id":r,className:"pages-container",style:g,"data-enable-drag":"true","data-resize-enabled":"true","data-prop-width":"width","data-prop-height":"height",children:I}),e[17]=g,e[18]=r,e[19]=_,e[20]=I,e[21]=$):$=e[21],$};PagesContainer.craft={displayName:"Pages Container",props:defaultProps$2,rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!0,canMoveOut:()=>!0},related:{toolbar:PagesContainerSettings}};const LogoContentDesign=React.memo(t=>{const e=compilerRuntimeExports.c(1);let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),e[0]=o):o=e[0],o});LogoContentDesign.displayName="LogoContentDesign";const LogoContentSettings=()=>{const t=compilerRuntimeExports.c(1);Ne(_temp$a);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{initialTab:"default",enableBackground:!0,enableBorder:!0,enableShadow:!0,enableSize:!0,design:_temp2$5}),t[0]=e):e=t[0],e};function _temp$a(t){return{props:t.data.props}}function _temp2$5(t){return jsxRuntimeExports.jsx(LogoContentDesign,{ctx:t})}const defaultProps$1={children:null,syncAcrossDevices:!0,width:"100%",height:"auto",padding:[20,20,20,20],margin:[0,0,0,0],backgroundType:"color",backgroundColor:"transparent",gradientType:"linear",gradientAngle:90,gradientColor1:"#6366f1",gradientColor2:"#8b5cf6",backgroundImage:"",backgroundVideo:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",borderRadius:[0,0,0,0],borderWidth:[0,0,0,0],borderStyle:"solid",borderColor:"#000000",shadow:0,shadowType:"none",shadowX:0,shadowY:0,shadowBlur:0,shadowSpread:0,shadowColor:"#000000",alignItems:"center",justifyContent:"center",flexDirection:"column",isBrand:!1},LogoContent=t=>{const e=compilerRuntimeExports.c(4),{connectors:o,id:r}=Ne(_temp$9),{connect:s}=o,i={...defaultProps$1,...t},a=reactExports.useRef(null);useViewportSettings(),useViewport();const c=()=>{const h={};e:switch(i.backgroundType){case"color":{h.backgroundColor=i.backgroundColor;break e}case"gradient":{const E=i.gradientType==="radial"?"radial-gradient(circle":`linear-gradient(${i.gradientAngle}deg`;h.background=`${E}, ${i.gradientColor1}, ${i.gradientColor2})`;break e}case"image":{i.backgroundImage&&(h.backgroundImage=`url(${i.backgroundImage})`,h.backgroundSize=i.backgroundSize,h.backgroundPosition=i.backgroundPosition,h.backgroundRepeat=i.backgroundRepeat,h.backgroundAttachment=i.backgroundAttachment);break e}case"video":h.backgroundColor=i.backgroundColor}return h},l=()=>{const[h,E,w,C]=i.borderWidth,[b,v,_,I]=i.borderRadius;return{borderTopWidth:`${h}px`,borderRightWidth:`${E}px`,borderBottomWidth:`${w}px`,borderLeftWidth:`${C}px`,borderStyle:i.borderStyle,borderColor:i.borderColor,borderTopLeftRadius:`${b}px`,borderTopRightRadius:`${v}px`,borderBottomRightRadius:`${_}px`,borderBottomLeftRadius:`${I}px`}},d=()=>i.shadowType==="none"||i.shadow===0?{}:{boxShadow:`${i.shadowX}px ${i.shadowY}px ${i.shadowBlur}px ${i.shadowSpread}px ${i.shadowColor}`},u=i.width,m=i.height,R=c(),p=l();let j;e[0]!==d?(j=d(),e[0]=d,e[1]=j):j=e[1];const x={width:u,height:m,padding:`${i.padding[0]}px ${i.padding[1]}px ${i.padding[2]}px ${i.padding[3]}px`,margin:`${i.margin[0]}px ${i.margin[1]}px ${i.margin[2]}px ${i.margin[3]}px`,position:"relative",display:"flex",alignItems:i.alignItems,justifyContent:i.justifyContent,flexDirection:i.flexDirection,...R,...p,...j};let g;return e[2]!==s?(g=h=>{a.current=h,h&&s(h)},e[2]=s,e[3]=g):g=e[3],jsxRuntimeExports.jsxs("div",{ref:g,style:x,className:"logo-content","data-node-id":r,children:[i.backgroundType==="video"&&i.backgroundVideo&&jsxRuntimeExports.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1},children:jsxRuntimeExports.jsx("source",{src:i.backgroundVideo,type:"video/mp4"})}),i.children]})};LogoContent.craft={displayName:"LogoContent",props:defaultProps$1,rules:{canDrag:()=>!1,canDrop:()=>!0,canMoveIn:()=>!0,canMoveOut:()=>!1},related:{toolbar:LogoContentSettings}};function _temp$9(t){return{id:t.id}}const backgroundTypeOptions=[{value:"color",label:"Màu sắc"},{value:"gradient",label:"Gradient"}],expandDirectionOptions=[{value:"up",label:"Lên trên"},{value:"down",label:"Xuống dưới"},{value:"left",label:"Sang trái"},{value:"right",label:"Sang phải"}],tooltipPositionOptions=[{value:"top",label:"Trên"},{value:"bottom",label:"Dưới"},{value:"left",label:"Trái"},{value:"right",label:"Phải"}],positionOptions=[{value:"top-left",label:"Trên cùng trái"},{value:"top-center",label:"Trên cùng giữa"},{value:"top-right",label:"Trên cùng phải"},{value:"middle-left",label:"Giữa trái"},{value:"middle-right",label:"Giữa phải"},{value:"bottom-left",label:"Dưới cùng trái"},{value:"bottom-center",label:"Dưới cùng giữa"},{value:"bottom-right",label:"Dưới cùng phải"}];createListCollection({items:backgroundTypeOptions});createListCollection({items:gradientTypeOptions});const tooltipPositionCollection=createListCollection({items:tooltipPositionOptions}),positionCollection=createListCollection({items:positionOptions}),labelProps={fontSize:"xs",fontWeight:"semibold",color:"#333"},SectionHeader=React.memo(t=>{const e=compilerRuntimeExports.c(7),{icon:o,title:r}=t;let s;e[0]!==o?(s=jsxRuntimeExports.jsx(Box,{className:"text-blue-500",children:jsxRuntimeExports.jsx(o,{size:20})}),e[0]=o,e[1]=s):s=e[1];let i;e[2]!==r?(i=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",children:r}),e[2]=r,e[3]=i):i=e[3];let a;return e[4]!==s||e[5]!==i?(a=jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s,i]}),e[4]=s,e[5]=i,e[6]=a):a=e[6],a});SectionHeader.displayName="SectionHeader";const SectionCard=React.memo(t=>{const e=compilerRuntimeExports.c(4),{children:o}=t;let r,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={bg:"gray.800",borderColor:"gray.700"},s=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),e[0]=r,e[1]=s):(r=e[0],s=e[1]);let i;return e[2]!==o?(i=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:r,children:[s,o]}),e[2]=o,e[3]=i):i=e[3],i});SectionCard.displayName="SectionCard";const DesignPanel=React.memo(t=>{const e=compilerRuntimeExports.c(210),{props:o,updateProp:r}=t,{showIconPickerModal:s}=useViewport(),i=useIsMobile(),[a,c]=reactExports.useState(null);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=createListCollection({items:backgroundTypeOptions}),e[0]=l):l=e[0];const d=l;let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=createListCollection({items:expandDirectionOptions}),e[1]=u):u=e[1];const m=u;let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=createListCollection({items:gradientTypeOptions}),e[2]=R):R=e[2];const p=R,j=i?"top":"bottom";let x;e[3]!==o.actionButtons||e[4]!==r?(x=(pt,It,Nt)=>{const $t=(o.actionButtons||[]).map((zt,_t)=>_t===pt?{...zt,[It]:Nt}:zt);r("actionButtons",$t)},e[3]=o.actionButtons,e[4]=r,e[5]=x):x=e[5];const g=x;let h;e[6]!==o.actionButtons||e[7]!==r?(h=()=>{if((o.actionButtons||[]).length>=8)return;const pt={id:`action-${Date.now()}`,svgCode:heartIcon,iconColor:"#ffffff",iconSize:20,background:"#4158D0",backgroundType:"color",gradientType:"linear",gradientAngle:90,gradientColor1:"#4158D0",gradientColor2:"#C850C0",borderWidth:[0,0,0,0],borderColor:"#000000",borderStyle:"solid",borderRadius:[25,25,25,25],events:[],tooltipEnabled:!1,tooltipText:"Hành động",tooltipPosition:"left",tooltipDelay:0};r("actionButtons",[...o.actionButtons||[],pt])},e[6]=o.actionButtons,e[7]=r,e[8]=h):h=e[8];const E=h;let w;e[9]!==o.actionButtons||e[10]!==a||e[11]!==r?(w=pt=>{const It=(o.actionButtons||[]).filter((Nt,$t)=>$t!==pt);r("actionButtons",It),a===pt&&c(null)},e[9]=o.actionButtons,e[10]=a,e[11]=r,e[12]=w):w=e[12];const C=w;let b;e[13]!==r?(b=pt=>{if(r("triggerBackgroundType",pt),pt==="color")r("triggerBackground","#4158D0");else if(pt==="gradient"){const It=gradientTemplates[0];r("triggerGradientColor1",It.colors[0]),r("triggerGradientColor2",It.colors[1]),r("triggerBackground",`linear-gradient(90deg, ${It.colors[0]}, ${It.colors[1]})`)}},e[13]=r,e[14]=b):b=e[14];const v=b;let _;e[15]!==g?(_=(pt,It)=>{if(g(pt,"backgroundType",It),It==="color")g(pt,"background","#4158D0");else if(It==="gradient"){const Nt=gradientTemplates[0];g(pt,"gradientColor1",Nt.colors[0]),g(pt,"gradientColor2",Nt.colors[1]),g(pt,"background",`linear-gradient(90deg, ${Nt.colors[0]}, ${Nt.colors[1]})`)}},e[15]=g,e[16]=_):_=e[16];const I=_;let $;e[17]!==r?($=pt=>{if(r("triggerOpenBackgroundType",pt),pt==="color")r("triggerOpenBackground","#ff4757");else if(pt==="gradient"){const It=gradientTemplates[0];r("triggerOpenGradientColor1",It.colors[0]),r("triggerOpenGradientColor2",It.colors[1]),r("triggerOpenBackground",`linear-gradient(90deg, ${It.colors[0]}, ${It.colors[1]})`)}},e[17]=r,e[18]=$):$=e[18];const A=$,T=_temp$8;let L;e[19]!==o||e[20]!==r?(L=()=>{const pt=o.triggerGradientType||"linear",It=o.triggerGradientAngle||0,Nt=o.triggerGradientColor1||"#4158D0",$t=o.triggerGradientColor2||"#C850C0";r("triggerBackground",T(pt,It,Nt,$t))},e[19]=o,e[20]=r,e[21]=L):L=e[21];const P=L;let N;e[22]!==o||e[23]!==r?(N=()=>{const pt=o.triggerOpenGradientType||"linear",It=o.triggerOpenGradientAngle||0,Nt=o.triggerOpenGradientColor1||"#ff4757",$t=o.triggerOpenGradientColor2||"#ff3838";r("triggerOpenBackground",T(pt,It,Nt,$t))},e[22]=o,e[23]=r,e[24]=N):N=e[24];const k=N;let B;e[25]!==o.actionButtons||e[26]!==g?(B=pt=>{const It=(o.actionButtons||[])[pt];if(!It)return;const Nt=It.gradientType||"linear",$t=It.gradientAngle||0,zt=It.gradientColor1||"#4158D0",_t=It.gradientColor2||"#C850C0";g(pt,"background",T(Nt,$t,zt,_t))},e[25]=o.actionButtons,e[26]=g,e[27]=B):B=e[27];const F=B;let W;e[28]===Symbol.for("react.memo_cache_sentinel")?(W=jsxRuntimeExports.jsx(SectionHeader,{icon:FiPlus,title:"Nút chính"}),e[28]=W):W=e[28];const z=o.triggerIcon||"";let H;e[29]!==r?(H=pt=>r("triggerIcon",pt.target.value),e[29]=r,e[30]=H):H=e[30];let U;e[31]!==z||e[32]!==H?(U=jsxRuntimeExports.jsx(Input$1,{value:z,onChange:H,placeholder:"Nhập code svg của biểu tượng",flex:1}),e[31]=z,e[32]=H,e[33]=U):U=e[33];let D;e[34]!==s||e[35]!==r?(D=()=>s(pt=>r("triggerIcon",pt)),e[34]=s,e[35]=r,e[36]=D):D=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=jsxRuntimeExports.jsx(FiSearch,{}),e[37]=O):O=e[37];let Q;e[38]!==D?(Q=jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:D,colorScheme:"blue",variant:"outline",children:O}),e[38]=D,e[39]=Q):Q=e[39];let q;e[40]!==U||e[41]!==Q?(q=jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 items-center",children:[U,Q]}),e[40]=U,e[41]=Q,e[42]=q):q=e[42];const Y=o.triggerIconColor||"#ffffff";let V;e[43]!==r?(V=pt=>r("triggerIconColor",pt),e[43]=r,e[44]=V):V=e[44];let de;e[45]!==Y||e[46]!==V?(de=jsxRuntimeExports.jsx(ColorControl,{label:"Màu biểu tượng",value:Y,onChange:V,size:"xs",showValueText:!0,previewSize:20}),e[45]=Y,e[46]=V,e[47]=de):de=e[47];let ue;e[48]===Symbol.for("react.memo_cache_sentinel")?(ue=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kích thước biểu tượng"}),e[48]=ue):ue=e[48];const Re=o.triggerIconSize||24;let oe;e[49]!==r?(oe=pt=>r("triggerIconSize",pt),e[49]=r,e[50]=oe):oe=e[50];let ce;e[51]!==Re||e[52]!==oe?(ce=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[ue,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Re,onChange:oe,min:12,max:48})]}),e[51]=Re,e[52]=oe,e[53]=ce):ce=e[53];let je;e[54]===Symbol.for("react.memo_cache_sentinel")?(je=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu nền"}),e[54]=je):je=e[54];const ie=o.triggerBackgroundType||"color";let xe;e[55]!==ie?(xe=[ie],e[55]=ie,e[56]=xe):xe=e[56];let pe;e[57]!==v?(pe=pt=>v(pt.value[0]),e[57]=v,e[58]=pe):pe=e[58];let $e;e[59]!==j?($e={placement:j},e[59]=j,e[60]=$e):$e=e[60];let Se;e[61]===Symbol.for("react.memo_cache_sentinel")?(Se=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu nền"})}),e[61]=Se):Se=e[61];let Ie;e[62]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsxs(SelectControl,{children:[Se,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[62]=Ie):Ie=e[62];let Me;e[63]===Symbol.for("react.memo_cache_sentinel")?(Me=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:backgroundTypeOptions.map(_temp2$4)})}),e[63]=Me):Me=e[63];let He;e[64]!==xe||e[65]!==pe||e[66]!==$e?(He=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[je,jsxRuntimeExports.jsxs(SelectRoot,{collection:d,value:xe,onValueChange:pe,size:"sm",positioning:$e,className:"custom-select",children:[Ie,Me]})]}),e[64]=xe,e[65]=pe,e[66]=$e,e[67]=He):He=e[67];let fe;e[68]!==o.triggerBackground||e[69]!==o.triggerBackgroundType||e[70]!==r?(fe=o.triggerBackgroundType==="color"&&jsxRuntimeExports.jsx(ColorControl,{label:"Màu nền",value:o.triggerBackground||"#4158D0",onChange:pt=>r("triggerBackground",pt),size:"xs",showValueText:!0,previewSize:20}),e[68]=o.triggerBackground,e[69]=o.triggerBackgroundType,e[70]=r,e[71]=fe):fe=e[71];let Ce;e[72]!==o.triggerBackgroundType||e[73]!==o.triggerGradientAngle||e[74]!==o.triggerGradientColor1||e[75]!==o.triggerGradientColor2||e[76]!==o.triggerGradientType||e[77]!==j||e[78]!==P||e[79]!==r?(Ce=o.triggerBackgroundType==="gradient"&&jsxRuntimeExports.jsxs(Stack,{gap:"2",children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu Gradient"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:p,value:[o.triggerGradientType||"linear"],onValueChange:pt=>r("triggerGradientType",pt.value[0]),size:"sm",positioning:{placement:j},className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gradient"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:gradientTypeOptions.map(_temp3$1)})})]})]}),o.triggerGradientType==="linear"&&jsxRuntimeExports.jsxs(HStack,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Góc"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.triggerGradientAngle||0,onChange:pt=>r("triggerGradientAngle",pt),min:0,max:360})]}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 1",value:o.triggerGradientColor1||"#4158D0",onChange:pt=>{r("triggerGradientColor1",pt),P()},size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 2",value:o.triggerGradientColor2||"#C850C0",onChange:pt=>{r("triggerGradientColor2",pt),P()},size:"xs",showValueText:!0,previewSize:20})]}),e[72]=o.triggerBackgroundType,e[73]=o.triggerGradientAngle,e[74]=o.triggerGradientColor1,e[75]=o.triggerGradientColor2,e[76]=o.triggerGradientType,e[77]=j,e[78]=P,e[79]=r,e[80]=Ce):Ce=e[80];let le;e[81]===Symbol.for("react.memo_cache_sentinel")?(le=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kích thước nút"}),e[81]=le):le=e[81];const J=o.buttonSize||50;let se;e[82]!==r?(se=pt=>r("buttonSize",pt),e[82]=r,e[83]=se):se=e[83];let te;e[84]!==J||e[85]!==se?(te=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[le,jsxRuntimeExports.jsx(DraggableNumberInput,{value:J,onChange:se,min:30,max:100})]}),e[84]=J,e[85]=se,e[86]=te):te=e[86];let be;e[87]===Symbol.for("react.memo_cache_sentinel")?(be=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Khoảng cách"}),e[87]=be):be=e[87];const Z=o.spacing||10;let Ee;e[88]!==r?(Ee=pt=>r("spacing",pt),e[88]=r,e[89]=Ee):Ee=e[89];let me;e[90]!==Z||e[91]!==Ee?(me=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[be,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Z,onChange:Ee,min:5,max:50})]}),e[90]=Z,e[91]=Ee,e[92]=me):me=e[92];let ge;e[93]===Symbol.for("react.memo_cache_sentinel")?(ge=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Hướng mở rộng"}),e[93]=ge):ge=e[93];const Ke=o.expandDirection||"up";let Ue;e[94]!==Ke?(Ue=[Ke],e[94]=Ke,e[95]=Ue):Ue=e[95];let _e;e[96]!==r?(_e=pt=>r("expandDirection",pt.value[0]),e[96]=r,e[97]=_e):_e=e[97];let Qe;e[98]!==j?(Qe={placement:j},e[98]=j,e[99]=Qe):Qe=e[99];let qe;e[100]===Symbol.for("react.memo_cache_sentinel")?(qe=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn hướng mở rộng"})}),e[100]=qe):qe=e[100];let Ye;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ye=jsxRuntimeExports.jsxs(SelectControl,{children:[qe,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[101]=Ye):Ye=e[101];let nt;e[102]===Symbol.for("react.memo_cache_sentinel")?(nt=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:expandDirectionOptions.map(_temp4)})}),e[102]=nt):nt=e[102];let et;e[103]!==Ue||e[104]!==_e||e[105]!==Qe?(et=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[ge,jsxRuntimeExports.jsxs(SelectRoot,{collection:m,value:Ue,onValueChange:_e,size:"sm",positioning:Qe,className:"custom-select",children:[Ye,nt]})]}),e[103]=Ue,e[104]=_e,e[105]=Qe,e[106]=et):et=e[106];let re;e[107]===Symbol.for("react.memo_cache_sentinel")?(re=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Thời gian animation (s)"}),e[107]=re):re=e[107];const Xe=(o.animationDuration||300)/1e3;let tt;e[108]!==r?(tt=pt=>r("animationDuration",pt*1e3),e[108]=r,e[109]=tt):tt=e[109];let rt;e[110]!==Xe||e[111]!==tt?(rt=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[re,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Xe,onChange:tt,min:.1,max:1,step:.1})]}),e[110]=Xe,e[111]=tt,e[112]=rt):rt=e[112];let Rt;e[113]!==q||e[114]!==de||e[115]!==ce||e[116]!==He||e[117]!==fe||e[118]!==Ce||e[119]!==te||e[120]!==me||e[121]!==et||e[122]!==rt?(Rt=jsxRuntimeExports.jsxs(SectionCard,{children:[W,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[q,de,ce,He,fe,Ce,te,me,et,rt]})]}),e[113]=q,e[114]=de,e[115]=ce,e[116]=He,e[117]=fe,e[118]=Ce,e[119]=te,e[120]=me,e[121]=et,e[122]=rt,e[123]=Rt):Rt=e[123];let wt;e[124]===Symbol.for("react.memo_cache_sentinel")?(wt=jsxRuntimeExports.jsx(SectionHeader,{icon:FiPlus,title:"Nút chính khi mở"}),e[124]=wt):wt=e[124];const St=o.triggerOpenIcon||"";let bt;e[125]!==r?(bt=pt=>r("triggerOpenIcon",pt.target.value),e[125]=r,e[126]=bt):bt=e[126];let yt;e[127]!==St||e[128]!==bt?(yt=jsxRuntimeExports.jsx(Input$1,{value:St,onChange:bt,placeholder:"Nhập code svg của biểu tượng khi mở",flex:1}),e[127]=St,e[128]=bt,e[129]=yt):yt=e[129];let jt;e[130]!==s||e[131]!==r?(jt=()=>s(pt=>r("triggerOpenIcon",pt)),e[130]=s,e[131]=r,e[132]=jt):jt=e[132];let we;e[133]===Symbol.for("react.memo_cache_sentinel")?(we=jsxRuntimeExports.jsx(FiSearch,{}),e[133]=we):we=e[133];let G;e[134]!==jt?(G=jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:jt,colorScheme:"blue",variant:"outline",children:we}),e[134]=jt,e[135]=G):G=e[135];let X;e[136]!==yt||e[137]!==G?(X=jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 items-center",children:[yt,G]}),e[136]=yt,e[137]=G,e[138]=X):X=e[138];const K=o.triggerOpenIconColor||"#ffffff";let ne;e[139]!==r?(ne=pt=>r("triggerOpenIconColor",pt),e[139]=r,e[140]=ne):ne=e[140];let ve;e[141]!==K||e[142]!==ne?(ve=jsxRuntimeExports.jsx(ColorControl,{label:"Màu biểu tượng khi mở",value:K,onChange:ne,size:"xs",showValueText:!0,previewSize:20}),e[141]=K,e[142]=ne,e[143]=ve):ve=e[143];let Te;e[144]===Symbol.for("react.memo_cache_sentinel")?(Te=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kích thước biểu tượng khi mở"}),e[144]=Te):Te=e[144];const Le=o.triggerOpenIconSize||24;let st;e[145]!==r?(st=pt=>r("triggerOpenIconSize",pt),e[145]=r,e[146]=st):st=e[146];let ft;e[147]!==Le||e[148]!==st?(ft=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[Te,jsxRuntimeExports.jsx(DraggableNumberInput,{value:Le,onChange:st,min:12,max:48})]}),e[147]=Le,e[148]=st,e[149]=ft):ft=e[149];let ht;e[150]===Symbol.for("react.memo_cache_sentinel")?(ht=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu nền khi mở"}),e[150]=ht):ht=e[150];const ct=o.triggerOpenBackgroundType||"color";let Et;e[151]!==ct?(Et=[ct],e[151]=ct,e[152]=Et):Et=e[152];let Tt;e[153]!==A?(Tt=pt=>A(pt.value[0]),e[153]=A,e[154]=Tt):Tt=e[154];let vt;e[155]===Symbol.for("react.memo_cache_sentinel")?(vt={placement:"bottom"},e[155]=vt):vt=e[155];let it;e[156]===Symbol.for("react.memo_cache_sentinel")?(it=jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu nền"})}),e[156]=it):it=e[156];let ae;e[157]===Symbol.for("react.memo_cache_sentinel")?(ae=jsxRuntimeExports.jsxs(SelectControl,{children:[it,jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),e[157]=ae):ae=e[157];let Fe;e[158]===Symbol.for("react.memo_cache_sentinel")?(Fe=jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:d.items.map(_temp5$1)})}),e[158]=Fe):Fe=e[158];let ee;e[159]!==Et||e[160]!==Tt?(ee=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[ht,jsxRuntimeExports.jsxs(SelectRoot,{collection:d,value:Et,onValueChange:Tt,positioning:vt,className:"custom-select",children:[ae,Fe]})]}),e[159]=Et,e[160]=Tt,e[161]=ee):ee=e[161];let Be;e[162]!==o.triggerOpenBackground||e[163]!==o.triggerOpenBackgroundType||e[164]!==r?(Be=o.triggerOpenBackgroundType==="color"&&jsxRuntimeExports.jsx(ColorControl,{label:"Màu nền khi mở",value:o.triggerOpenBackground||"#ff4757",onChange:pt=>r("triggerOpenBackground",pt),size:"xs",showValueText:!0,previewSize:20}),e[162]=o.triggerOpenBackground,e[163]=o.triggerOpenBackgroundType,e[164]=r,e[165]=Be):Be=e[165];let ze;e[166]!==o.triggerOpenBackgroundType||e[167]!==o.triggerOpenGradientAngle||e[168]!==o.triggerOpenGradientColor1||e[169]!==o.triggerOpenGradientColor2||e[170]!==o.triggerOpenGradientType||e[171]!==k||e[172]!==r?(ze=o.triggerOpenBackgroundType==="gradient"&&jsxRuntimeExports.jsxs(Stack,{gap:"2",children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu Gradient khi mở"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:p,value:[o.triggerOpenGradientType||"linear"],onValueChange:pt=>r("triggerOpenGradientType",pt.value[0]),positioning:{placement:"bottom"},className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gradient"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:p.items.map(_temp6$1)})})]})]}),o.triggerOpenGradientType==="linear"&&jsxRuntimeExports.jsxs(HStack,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Góc"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:o.triggerOpenGradientAngle||0,onChange:pt=>r("triggerOpenGradientAngle",pt),min:0,max:360})]}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 1 khi mở",value:o.triggerOpenGradientColor1||"#ff4757",onChange:pt=>{r("triggerOpenGradientColor1",pt),k()},size:"xs",showValueText:!0,previewSize:20}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 2 khi mở",value:o.triggerOpenGradientColor2||"#ff3838",onChange:pt=>{r("triggerOpenGradientColor2",pt),k()},size:"xs",showValueText:!0,previewSize:20})]}),e[166]=o.triggerOpenBackgroundType,e[167]=o.triggerOpenGradientAngle,e[168]=o.triggerOpenGradientColor1,e[169]=o.triggerOpenGradientColor2,e[170]=o.triggerOpenGradientType,e[171]=k,e[172]=r,e[173]=ze):ze=e[173];let Ge;e[174]!==X||e[175]!==ve||e[176]!==ft||e[177]!==ee||e[178]!==Be||e[179]!==ze?(Ge=jsxRuntimeExports.jsxs(SectionCard,{children:[wt,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[X,ve,ft,ee,Be,ze]})]}),e[174]=X,e[175]=ve,e[176]=ft,e[177]=ee,e[178]=Be,e[179]=ze,e[180]=Ge):Ge=e[180];let We;e[181]!==o.actionButtons?(We=o.actionButtons||[],e[181]=o.actionButtons,e[182]=We):We=e[182];const Ve=`Nút hành động (${We.length}/8)`;let Je;e[183]!==Ve?(Je=jsxRuntimeExports.jsx(SectionHeader,{icon:FiPlus,title:Ve}),e[183]=Ve,e[184]=Je):Je=e[184];let he;e[185]!==o.actionButtons?(he=o.actionButtons||[],e[185]=o.actionButtons,e[186]=he):he=e[186];const at=he.length>=8,xt=(o.actionButtons||[]).length>=8?"Đã đạt giới hạn tối đa 8 nút":"Thêm nút hành động";let gt;e[187]===Symbol.for("react.memo_cache_sentinel")?(gt=jsxRuntimeExports.jsx(FiPlus,{}),e[187]=gt):gt=e[187];let Oe;e[188]!==E||e[189]!==at||e[190]!==xt?(Oe=jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:E,colorScheme:"blue",disabled:at,title:xt,children:gt}),e[188]=E,e[189]=at,e[190]=xt,e[191]=Oe):Oe=e[191];let Ze;e[192]!==Je||e[193]!==Oe?(Ze=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",mb:3,children:[Je,Oe]}),e[192]=Je,e[193]=Oe,e[194]=Ze):Ze=e[194];let kt;e[195]!==o.actionButtons||e[196]!==C||e[197]!==a||e[198]!==s||e[199]!==F||e[200]!==I||e[201]!==g?(kt=o.actionButtons&&o.actionButtons.length>0?jsxRuntimeExports.jsx(Stack,{gap:3,children:o.actionButtons.map((pt,It)=>jsxRuntimeExports.jsxs(Box,{border:"1px solid #e0e0e0",borderRadius:6,p:3,bg:"gray.50",children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",mb:2,children:[jsxRuntimeExports.jsxs(Text$1,{...labelProps,children:["Nút ",It+1]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Button$1,{size:"xs",onClick:()=>c(a===It?null:It),variant:a===It?"solid":"outline",children:a===It?"Thu gọn":"Chỉnh sửa"}),jsxRuntimeExports.jsx(IconButton,{size:"xs",onClick:()=>C(It),colorScheme:"red",variant:"outline",children:jsxRuntimeExports.jsx(FiTrash2,{})})]})]}),a===It&&jsxRuntimeExports.jsxs(Stack,{gap:2,children:[jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx(Input$1,{value:pt.svgCode||"",onChange:Nt=>g(It,"svgCode",Nt.target.value),placeholder:"Nhập code svg",flex:1,size:"sm"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>s(Nt=>g(It,"svgCode",Nt)),colorScheme:"blue",variant:"outline",children:jsxRuntimeExports.jsx(FiSearch,{})})]}),jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Màu biểu tượng"}),jsxRuntimeExports.jsx(ColorControl,{label:"",value:pt.iconColor||"#ffffff",onChange:Nt=>g(It,"iconColor",Nt),size:"xs",showValueText:!0,previewSize:16})]}),jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kích thước biểu tượng"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:pt.iconSize||20,onChange:Nt=>g(It,"iconSize",Nt),min:10,max:40})]}),jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu nền"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:d,value:[pt.backgroundType||"color"],onValueChange:Nt=>I(It,Nt.value[0]),positioning:{placement:"bottom"},className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu nền"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:d.items.map(_temp7$1)})})]})]}),pt.backgroundType==="color"&&jsxRuntimeExports.jsx(ColorControl,{label:"Màu nền",value:pt.background||"#4158D0",onChange:Nt=>g(It,"background",Nt),size:"xs",showValueText:!0,previewSize:16}),pt.backgroundType==="gradient"&&jsxRuntimeExports.jsxs(Stack,{gap:"2",children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Kiểu Gradient"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:p,value:[pt.gradientType||"linear"],onValueChange:Nt=>g(It,"gradientType",Nt.value[0]),positioning:{placement:"bottom"},className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn kiểu gradient"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:p.items.map(_temp8$1)})})]})]}),pt.gradientType==="linear"&&jsxRuntimeExports.jsxs(HStack,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Góc"}),jsxRuntimeExports.jsx(DraggableNumberInput,{value:pt.gradientAngle||0,onChange:Nt=>g(It,"gradientAngle",Nt),min:0,max:360})]}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 1",value:pt.gradientColor1||"#4158D0",onChange:Nt=>{g(It,"gradientColor1",Nt),F(It)},size:"xs",showValueText:!0,previewSize:16}),jsxRuntimeExports.jsx(ColorControl,{label:"Màu 2",value:pt.gradientColor2||"#C850C0",onChange:Nt=>{g(It,"gradientColor2",Nt),F(It)},size:"xs",showValueText:!0,previewSize:16})]}),jsxRuntimeExports.jsxs(Box,{mt:3,pt:3,borderTop:"1px solid #e0e0e0",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,mb:2,children:"Sự kiện"}),jsxRuntimeExports.jsx(EventManager,{events:pt.events||[],onEventsChange:Nt=>g(It,"events",Nt)})]}),jsxRuntimeExports.jsxs(Box,{mt:3,pt:3,borderTop:"1px solid #e0e0e0",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,mb:2,children:"Tooltip"}),jsxRuntimeExports.jsxs(Stack,{gap:2,children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Bật tooltip"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pt.tooltipEnabled||!1,onChange:Nt=>g(It,"tooltipEnabled",Nt.target.checked)})]}),pt.tooltipEnabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",mb:1,children:"Nội dung tooltip"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",value:pt.tooltipText||"",onChange:Nt=>g(It,"tooltipText",Nt.target.value),placeholder:"Nhập nội dung tooltip"})]}),jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Vị trí tooltip"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:tooltipPositionCollection,value:[pt.tooltipPosition||"left"],onValueChange:Nt=>g(It,"tooltipPosition",Nt.value[0]),positioning:{placement:"bottom"},className:"custom-select",children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn vị trí"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:tooltipPositionCollection.items.map(_temp9$1)})})]})]}),jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:"Độ trễ hiển thị (s)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:((pt.tooltipDelay||10)/1e3).toFixed(1),onChange:Nt=>g(It,"tooltipDelay",(parseFloat(Nt.target.value)||.01)*1e3),min:0,max:5,step:.1,width:"80px"})]})]})]})]})]})]},pt.id))}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",textAlign:"center",py:4,children:"Chưa có nút hành động nào. Nhấn + để thêm."}),e[195]=o.actionButtons,e[196]=C,e[197]=a,e[198]=s,e[199]=F,e[200]=I,e[201]=g,e[202]=kt):kt=e[202];let Mt;e[203]!==Ze||e[204]!==kt?(Mt=jsxRuntimeExports.jsxs(SectionCard,{children:[Ze,kt]}),e[203]=Ze,e[204]=kt,e[205]=Mt):Mt=e[205];let At;return e[206]!==Rt||e[207]!==Ge||e[208]!==Mt?(At=jsxRuntimeExports.jsxs(Stack,{gap:4,className:"w-full",children:[Rt,Ge,Mt]}),e[206]=Rt,e[207]=Ge,e[208]=Mt,e[209]=At):At=e[209],At});DesignPanel.displayName="DesignPanel";const AdvancedPanel=React.memo(t=>{var b,v,_,I,$,A,T,L,P,N,k,B,F,W,z,H,U,D,O,Q,q,Y,V,de,ue,Re,oe,ce,je,ie,xe,pe,$e,Se,Ie,Me,He,fe,Ce,le,J;const e=compilerRuntimeExports.c(37),{props:o,updateProp:r}=t;let s,i,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={bg:"gray.800",borderColor:"gray.700"},i=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),a=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",mb:3,children:"Cài đặt vị trí"}),e[0]=s,e[1]=i,e[2]=a):(s=e[0],i=e[1],a=e[2]);let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Bật cài đặt vị trí"}),e[3]=c):c=e[3];const l=((b=o.position)==null?void 0:b.enabled)||!1;let d;e[4]!==((v=o.position)==null?void 0:v.bottomDistance)||e[5]!==((_=o.position)==null?void 0:_.leftDistance)||e[6]!==((I=o.position)==null?void 0:I.position)||e[7]!==(($=o.position)==null?void 0:$.rightDistance)||e[8]!==((A=o.position)==null?void 0:A.topDistance)||e[9]!==r?(d=se=>{var te,be,Z,Ee,me;return r("position",{enabled:se.target.checked,position:((te=o.position)==null?void 0:te.position)||"bottom-right",topDistance:((be=o.position)==null?void 0:be.topDistance)||20,bottomDistance:((Z=o.position)==null?void 0:Z.bottomDistance)||20,leftDistance:((Ee=o.position)==null?void 0:Ee.leftDistance)||20,rightDistance:((me=o.position)==null?void 0:me.rightDistance)||20})},e[4]=(T=o.position)==null?void 0:T.bottomDistance,e[5]=(L=o.position)==null?void 0:L.leftDistance,e[6]=(P=o.position)==null?void 0:P.position,e[7]=(N=o.position)==null?void 0:N.rightDistance,e[8]=(k=o.position)==null?void 0:k.topDistance,e[9]=r,e[10]=d):d=e[10];let u;e[11]!==l||e[12]!==d?(u=jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[c,jsxRuntimeExports.jsx("input",{type:"checkbox",checked:l,onChange:d})]}),e[11]=l,e[12]=d,e[13]=u):u=e[13];let m;e[14]!==((B=o.position)==null?void 0:B.bottomDistance)||e[15]!==((F=o.position)==null?void 0:F.enabled)||e[16]!==((W=o.position)==null?void 0:W.leftDistance)||e[17]!==((z=o.position)==null?void 0:z.position)||e[18]!==((H=o.position)==null?void 0:H.rightDistance)||e[19]!==((U=o.position)==null?void 0:U.topDistance)||e[20]!==r?(m=((D=o.position)==null?void 0:D.enabled)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Vị trí"}),jsxRuntimeExports.jsxs(SelectRoot,{collection:positionCollection,value:[((O=o.position)==null?void 0:O.position)||"bottom-right"],className:"custom-select",onValueChange:se=>{var te,be,Z,Ee,me;return r("position",{enabled:((te=o.position)==null?void 0:te.enabled)||!0,position:se.value[0],topDistance:((be=o.position)==null?void 0:be.topDistance)||20,bottomDistance:((Z=o.position)==null?void 0:Z.bottomDistance)||20,leftDistance:((Ee=o.position)==null?void 0:Ee.leftDistance)||20,rightDistance:((me=o.position)==null?void 0:me.rightDistance)||20})},positioning:{placement:"bottom"},children:[jsxRuntimeExports.jsxs(SelectControl,{children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:"Chọn vị trí"})}),jsxRuntimeExports.jsx(SelectIndicatorGroup,{children:jsxRuntimeExports.jsx(SelectIndicator,{})})]}),jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent,{maxHeight:"500px",children:positionCollection.items.map(_temp10$1)})})]})]}),(((Q=o.position)==null?void 0:Q.position)==="top-left"||((q=o.position)==null?void 0:q.position)==="top-center"||((Y=o.position)==null?void 0:Y.position)==="top-right")&&jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Khoảng cách từ trên (px)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:((V=o.position)==null?void 0:V.topDistance)||20,onChange:se=>{var te,be,Z,Ee,me;return r("position",{enabled:((te=o.position)==null?void 0:te.enabled)||!0,position:((be=o.position)==null?void 0:be.position)||"bottom-right",topDistance:parseInt(se.target.value)||20,bottomDistance:((Z=o.position)==null?void 0:Z.bottomDistance)||20,leftDistance:((Ee=o.position)==null?void 0:Ee.leftDistance)||20,rightDistance:((me=o.position)==null?void 0:me.rightDistance)||20})},min:0,max:1e3,width:"80px"})]}),(((de=o.position)==null?void 0:de.position)==="bottom-left"||((ue=o.position)==null?void 0:ue.position)==="bottom-center"||((Re=o.position)==null?void 0:Re.position)==="bottom-right")&&jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Khoảng cách từ dưới (px)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:((oe=o.position)==null?void 0:oe.bottomDistance)||20,onChange:se=>{var te,be,Z,Ee,me;return r("position",{enabled:((te=o.position)==null?void 0:te.enabled)||!0,position:((be=o.position)==null?void 0:be.position)||"bottom-right",topDistance:((Z=o.position)==null?void 0:Z.topDistance)||20,bottomDistance:parseInt(se.target.value)||20,leftDistance:((Ee=o.position)==null?void 0:Ee.leftDistance)||20,rightDistance:((me=o.position)==null?void 0:me.rightDistance)||20})},min:0,max:1e3,width:"80px"})]}),(((ce=o.position)==null?void 0:ce.position)==="top-left"||((je=o.position)==null?void 0:je.position)==="middle-left"||((ie=o.position)==null?void 0:ie.position)==="bottom-left")&&jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Khoảng cách từ trái (px)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:((xe=o.position)==null?void 0:xe.leftDistance)||20,onChange:se=>{var te,be,Z,Ee,me;return r("position",{enabled:((te=o.position)==null?void 0:te.enabled)||!0,position:((be=o.position)==null?void 0:be.position)||"bottom-right",topDistance:((Z=o.position)==null?void 0:Z.topDistance)||20,bottomDistance:((Ee=o.position)==null?void 0:Ee.bottomDistance)||20,leftDistance:parseInt(se.target.value)||20,rightDistance:((me=o.position)==null?void 0:me.rightDistance)||20})},min:0,max:1e3,width:"80px"})]}),(((pe=o.position)==null?void 0:pe.position)==="top-right"||(($e=o.position)==null?void 0:$e.position)==="middle-right"||((Se=o.position)==null?void 0:Se.position)==="bottom-right")&&jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Khoảng cách từ phải (px)"}),jsxRuntimeExports.jsx(Input$1,{size:"sm",type:"number",value:((Ie=o.position)==null?void 0:Ie.rightDistance)||20,onChange:se=>{var te,be,Z,Ee,me;return r("position",{enabled:((te=o.position)==null?void 0:te.enabled)||!0,position:((be=o.position)==null?void 0:be.position)||"bottom-right",topDistance:((Z=o.position)==null?void 0:Z.topDistance)||20,bottomDistance:((Ee=o.position)==null?void 0:Ee.bottomDistance)||20,leftDistance:((me=o.position)==null?void 0:me.leftDistance)||20,rightDistance:parseInt(se.target.value)||20})},min:0,max:1e3,width:"80px"})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{...labelProps,mb:2,children:"Xem trước vị trí"}),jsxRuntimeExports.jsxs(Box,{position:"relative",width:"200px",height:"120px",border:"2px dashed #e0e0e0",borderRadius:"md",bg:"gray.50",children:[jsxRuntimeExports.jsx(Text$1,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"xs",color:"gray.400",children:"Trang web"}),jsxRuntimeExports.jsx(Box,{position:"absolute",width:"20px",height:"20px",bg:"blue.500",borderRadius:"50%",style:(()=>{var be;const se=((be=o.position)==null?void 0:be.position)||"bottom-right",te={};e:switch(se){case"top-left":{te.top="8px",te.left="8px";break e}case"top-center":{te.top="8px",te.left="50%",te.transform="translateX(-50%)";break e}case"top-right":{te.top="8px",te.right="8px";break e}case"middle-left":{te.top="50%",te.left="8px",te.transform="translateY(-50%)";break e}case"middle-right":{te.top="50%",te.right="8px",te.transform="translateY(-50%)";break e}case"bottom-left":{te.bottom="8px",te.left="8px";break e}case"bottom-center":{te.bottom="8px",te.left="50%",te.transform="translateX(-50%)";break e}case"bottom-right":default:te.bottom="8px",te.right="8px"}return te})()})]})]})]}),e[14]=(Me=o.position)==null?void 0:Me.bottomDistance,e[15]=(He=o.position)==null?void 0:He.enabled,e[16]=(fe=o.position)==null?void 0:fe.leftDistance,e[17]=(Ce=o.position)==null?void 0:Ce.position,e[18]=(le=o.position)==null?void 0:le.rightDistance,e[19]=(J=o.position)==null?void 0:J.topDistance,e[20]=r,e[21]=m):m=e[21];let R;e[22]!==u||e[23]!==m?(R=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:s,children:[i,a,jsxRuntimeExports.jsxs(Stack,{gap:3,children:[u,m]})]}),e[22]=u,e[23]=m,e[24]=R):R=e[24];let p,j,x;e[25]===Symbol.for("react.memo_cache_sentinel")?(p={bg:"gray.800",borderColor:"gray.700"},j=jsxRuntimeExports.jsx(Box,{position:"absolute",left:0,top:0,bottom:0,width:"3px",bg:"blue.400",borderTopLeftRadius:8,borderBottomLeftRadius:8}),x=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"semibold",color:"#333",mb:3,children:"Tự động mở"}),e[25]=p,e[26]=j,e[27]=x):(p=e[25],j=e[26],x=e[27]);let g;e[28]===Symbol.for("react.memo_cache_sentinel")?(g=jsxRuntimeExports.jsx(Text$1,{...labelProps,children:"Bật tự động mở"}),e[28]=g):g=e[28];const h=o.autoOpen||!1;let E;e[29]!==r?(E=se=>r("autoOpen",se.target.checked),e[29]=r,e[30]=E):E=e[30];let w;e[31]!==h||e[32]!==E?(w=jsxRuntimeExports.jsxs(Box,{border:"1px solid",borderColor:"gray.200",bg:"gray.50",borderRadius:8,p:4,position:"relative",boxShadow:"xs",_dark:p,children:[j,x,jsxRuntimeExports.jsx(Stack,{gap:3,children:jsxRuntimeExports.jsxs(HStack,{justifyContent:"space-between",children:[g,jsxRuntimeExports.jsx("input",{type:"checkbox",checked:h,onChange:E})]})})]}),e[31]=h,e[32]=E,e[33]=w):w=e[33];let C;return e[34]!==w||e[35]!==R?(C=jsxRuntimeExports.jsxs(Stack,{gap:4,children:[R,w]}),e[34]=w,e[35]=R,e[36]=C):C=e[36],C});AdvancedPanel.displayName="AdvancedPanel";const QuickActionsSettings=()=>{const t=compilerRuntimeExports.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=jsxRuntimeExports.jsx(CommonSettings,{tabs:{event:!1,animation:!1,default:!0,advanced:!0},enableSize:!1,enableFilter:!1,enableTransform:!1,enableBackground:!1,enableBorder:!1,enableShadow:!1,enableOverlay:!1,enablePinning:!1,showNodeControlsPanel:!1,design:_temp11$1,advancedExtra:_temp12$1}),t[0]=e):e=t[0],e};function _temp$8(t,e,o,r){return t==="linear"?`linear-gradient(${e}deg, ${o}, ${r})`:t==="radial"?`radial-gradient(circle, ${o}, ${r})`:`linear-gradient(${e}deg, ${o}, ${r})`}function _temp2$4(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp3$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp4(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp5$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp6$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp7$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp8$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp9$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp10$1(t){return jsxRuntimeExports.jsxs(SelectItem,{item:t,children:[jsxRuntimeExports.jsx(SelectItemText,{children:t.label}),jsxRuntimeExports.jsx(SelectItemIndicator,{})]},t.value)}function _temp11$1(t){return jsxRuntimeExports.jsx(DesignPanel,{...t})}function _temp12$1(t){return jsxRuntimeExports.jsx(AdvancedPanel,{...t})}const SingleTooltip=t=>{const e=compilerRuntimeExports.c(24),{tooltip:o}=t,[r,s]=reactExports.useState(null),[i,a]=reactExports.useState(!1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={name:"offset",options:{offset:[0,8]}},e[0]=c):c=e[0];let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={name:"preventOverflow",options:{padding:8}},e[1]=l):l=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=[c,l,{name:"flip",options:{fallbackPlacements:["top","bottom","left","right"]}}],e[2]=d):d=e[2];let u;e[3]!==o.placement?(u={placement:o.placement,modifiers:d},e[3]=o.placement,e[4]=u):u=e[4];const{styles:m,attributes:R,update:p}=usePopper(o.anchorElement,r,u);let j,x;e[5]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{a(!0)},x=[],e[5]=j,e[6]=x):(j=e[5],x=e[6]),reactExports.useEffect(j,x);let g;e[7]!==p?(g=()=>{p&&p()},e[7]=p,e[8]=g):g=e[8];let h;if(e[9]!==p||e[10]!==i?(h=[i,p],e[9]=p,e[10]=i,e[11]=h):h=e[11],reactExports.useEffect(g,h),!i)return null;let E;if(e[12]!==R.popper||e[13]!==m.popper||e[14]!==o.content||e[15]!==i){const w=i?1:0;let C;e[17]!==m.popper||e[18]!==w?(C={...m.popper,backgroundColor:"#333",color:"white",padding:"8px 12px",borderRadius:"6px",maxWidth:"200px",zIndex:zIndex.tooltip,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",opacity:w,transition:"opacity 0.2s ease-in-out",pointerEvents:"none"},e[17]=m.popper,e[18]=w,e[19]=C):C=e[19];let b;e[20]!==R.popper||e[21]!==C||e[22]!==o.content?(b=jsxRuntimeExports.jsx("div",{ref:s,className:"multi-tooltip",style:C,...R.popper,children:o.content}),e[20]=R.popper,e[21]=C,e[22]=o.content,e[23]=b):b=e[23],E=ReactDOM.createPortal(b,document.body),e[12]=R.popper,e[13]=m.popper,e[14]=o.content,e[15]=i,e[16]=E}else E=e[16];return E},MultiTooltip=t=>{const e=compilerRuntimeExports.c(9),{tooltips:o,onTooltipClose:r}=t;let s;e[0]!==r?(s=l=>{r&&r(l)},e[0]=r,e[1]=s):s=e[1];const i=s;let a;if(e[2]!==i||e[3]!==o){let l;e[5]!==i?(l=d=>jsxRuntimeExports.jsx(SingleTooltip,{tooltip:d,onClose:()=>i(d.id)},d.id),e[5]=i,e[6]=l):l=e[6],a=o.map(l),e[2]=i,e[3]=o,e[4]=a}else a=e[4];let c;return e[7]!==a?(c=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a}),e[7]=a,e[8]=c):c=e[8],c},useMultiTooltip=()=>{const t=compilerRuntimeExports.c(7);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[o,r]=reactExports.useState(e);let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=p=>{const j=`tooltip-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,x={...p,id:j};return r(g=>[...g,x]),j},t[1]=s):s=t[1];const i=s;let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=p=>{r(j=>j.filter(x=>x.id!==p))},t[2]=a):a=t[2];const c=a;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{r([])},t[3]=l):l=t[3];const d=l;let u;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=p=>{const j=p.map(_temp$7);return r(x=>[...x,...j]),j.map(_temp2$3)},t[4]=u):u=t[4];const m=u;let R;return t[5]!==o?(R={activeTooltips:o,showTooltip:i,hideTooltip:c,hideAllTooltips:d,showMultipleTooltips:m},t[5]=o,t[6]=R):R=t[6],R};function _temp$7(t){return{...t,id:`tooltip-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}}function _temp2$3(t){return t.id}const defaultProps={triggerIcon:heartIcon,triggerIconColor:"#ffffff",triggerIconSize:24,triggerBackground:"#4158D0",triggerBackgroundType:"color",triggerGradientType:"linear",triggerGradientAngle:90,triggerGradientColor1:"#4158D0",triggerGradientColor2:"#C850C0",triggerBorderWidth:[0,0,0,0],triggerBorderColor:"#000000",triggerBorderStyle:"solid",triggerBorderRadius:[25,25,25,25],triggerOpenIcon:"×",triggerOpenIconColor:"#ffffff",triggerOpenIconSize:24,triggerOpenBackground:"#ff4757",triggerOpenBackgroundType:"color",triggerOpenGradientType:"linear",triggerOpenGradientAngle:90,triggerOpenGradientColor1:"#ff4757",triggerOpenGradientColor2:"#ff3838",triggerOpenBorderWidth:[0,0,0,0],triggerOpenBorderColor:"#000000",triggerOpenBorderStyle:"solid",triggerOpenBorderRadius:[25,25,25,25],actionButtons:[],buttonSize:50,spacing:10,expandDirection:"up",animationDuration:300,position:{enabled:!0,position:"bottom-right",topDistance:20,bottomDistance:20,leftDistance:20,rightDistance:20},autoOpen:!1,className:""},QuickActions=t=>{var ve,Te,Le,st,ft,ht,ct,Et,Tt,vt,it,ae,Fe,ee,Be,ze,Ge,We,Ve,Je,he,at,xt,gt,Oe,Ze,kt,Mt,At,pt,It,Nt;const e=compilerRuntimeExports.c(348);let o;e[0]!==t.position?(o={...defaultProps.position,...t.position},e[0]=t.position,e[1]=o):o=e[1];let r;e[2]!==t||e[3]!==o?(r={...defaultProps,...t,position:o},e[2]=t,e[3]=o,e[4]=r):r=e[4];const s=r,{actionButtons:i,triggerIcon:a,triggerIconColor:c,buttonSize:l,spacing:d,expandDirection:u,animationDuration:m,position:R}=s,{enabled:p,actions:j}=Pe(_temp$6),{connectors:x,id:g,selected:h,actions:E}=Ne(_temp2$2),{connect:w}=x,{setProp:C}=E,b=reactExports.useRef(null),v=reactExports.useRef(null),{activeTooltips:_,showMultipleTooltips:I,hideAllTooltips:$}=useMultiTooltip(),A=reactExports.useRef(null),[T,L]=reactExports.useState(t.autoOpen),[P,N]=reactExports.useState(null),[k,B]=reactExports.useState(!1),[F,W]=reactExports.useState(null);let z;e[5]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{B(!1)},e[5]=z):z=e[5];const H=z,{closePopup:U,currentPopupIdOpen:D,openPopup:O}=useViewport(),Q=g===D,q=reactExports.useRef(!1),Y=s.autoOpen;let V,de;e[6]!==p?(V=()=>{p&&(q.current=!1)},de=[p],e[6]=p,e[7]=V,e[8]=de):(V=e[7],de=e[8]),React.useEffect(V,de);let ue;e[9]!==i||e[10]!==m||e[11]!==Y||e[12]!==p||e[13]!==g||e[14]!==I?(ue=()=>{if(!p&&Y&&!q.current&&i.length>0){q.current=!0,L(!0);const $t=m+500;setTimeout(()=>{const zt=i.filter(_temp3);if(zt.length>0){const _t=zt.map(Xt=>{const Gt=i.findIndex(Kt=>Kt.id===Xt.id),Vt=document.getElementById(`quick-action-button-${g}-${Gt}`);return Vt?{content:Xt.tooltipText,anchorElement:Vt,placement:Xt.tooltipPosition||"left",delay:0}:null}).filter(Boolean);_t.length>0&&I(_t)}},$t)}},e[9]=i,e[10]=m,e[11]=Y,e[12]=p,e[13]=g,e[14]=I,e[15]=ue):ue=e[15];let Re;e[16]!==i||e[17]!==m||e[18]!==Y||e[19]!==p||e[20]!==$||e[21]!==g||e[22]!==I?(Re=[p,Y,i,g,m,I,$],e[16]=i,e[17]=m,e[18]=Y,e[19]=p,e[20]=$,e[21]=g,e[22]=I,e[23]=Re):Re=e[23],React.useEffect(ue,Re);let oe,ce;e[24]!==i||e[25]!==g||e[26]!==I?(ce=()=>{},oe=[i,g,I],e[24]=i,e[25]=g,e[26]=I,e[27]=oe,e[28]=ce):(oe=e[27],ce=e[28]),React.useEffect(ce,oe);let je,ie;e[29]!==j||e[30]!==p||e[31]!==g||e[32]!==Q||e[33]!==O||e[34]!==h?(je=()=>{p&&h&&!Q&&(O(g),j.selectNode(g))},ie=[p,h,Q,g,O,j],e[29]=j,e[30]=p,e[31]=g,e[32]=Q,e[33]=O,e[34]=h,e[35]=je,e[36]=ie):(je=e[35],ie=e[36]),React.useEffect(je,ie);let xe,pe;e[37]!==p||e[38]!==$||e[39]!==g||e[40]!==T?(xe=()=>{if(!p&&T){const $t=_t=>{v.current&&!v.current.contains(_t.target)&&($(),document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp5),L(!1))},zt=_t=>{_t.key==="Escape"&&($(),document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp6),L(!1))};return document.addEventListener("mousedown",$t),document.addEventListener("keydown",zt),()=>{document.removeEventListener("mousedown",$t),document.removeEventListener("keydown",zt)}}},pe=[p,T,$,g],e[37]=p,e[38]=$,e[39]=g,e[40]=T,e[41]=xe,e[42]=pe):(xe=e[41],pe=e[42]),React.useEffect(xe,pe);let $e,Se;e[43]!==p||e[44]!==g||e[45]!==T?($e=()=>{if(!p&&T){const $t=setTimeout(()=>{document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp7)},50);return()=>clearTimeout($t)}},Se=[p,T,g],e[43]=p,e[44]=g,e[45]=T,e[46]=$e,e[47]=Se):($e=e[46],Se=e[47]),React.useEffect($e,Se);let Ie;e[48]!==((ve=i[0])==null?void 0:ve.events)?(Ie=((Te=i[0])==null?void 0:Te.events)||[],e[48]=(Le=i[0])==null?void 0:Le.events,e[49]=Ie):Ie=e[49];const Me=useEventHandling(Ie,(st=i[0])==null?void 0:st.id);let He;e[50]!==((ft=i[1])==null?void 0:ft.events)?(He=((ht=i[1])==null?void 0:ht.events)||[],e[50]=(ct=i[1])==null?void 0:ct.events,e[51]=He):He=e[51];const fe=useEventHandling(He,(Et=i[1])==null?void 0:Et.id);let Ce;e[52]!==((Tt=i[2])==null?void 0:Tt.events)?(Ce=((vt=i[2])==null?void 0:vt.events)||[],e[52]=(it=i[2])==null?void 0:it.events,e[53]=Ce):Ce=e[53];const le=useEventHandling(Ce,(ae=i[2])==null?void 0:ae.id);let J;e[54]!==((Fe=i[3])==null?void 0:Fe.events)?(J=((ee=i[3])==null?void 0:ee.events)||[],e[54]=(Be=i[3])==null?void 0:Be.events,e[55]=J):J=e[55];const se=useEventHandling(J,(ze=i[3])==null?void 0:ze.id);let te;e[56]!==((Ge=i[4])==null?void 0:Ge.events)?(te=((We=i[4])==null?void 0:We.events)||[],e[56]=(Ve=i[4])==null?void 0:Ve.events,e[57]=te):te=e[57];const be=useEventHandling(te,(Je=i[4])==null?void 0:Je.id);let Z;e[58]!==((he=i[5])==null?void 0:he.events)?(Z=((at=i[5])==null?void 0:at.events)||[],e[58]=(xt=i[5])==null?void 0:xt.events,e[59]=Z):Z=e[59];const Ee=useEventHandling(Z,(gt=i[5])==null?void 0:gt.id);let me;e[60]!==((Oe=i[6])==null?void 0:Oe.events)?(me=((Ze=i[6])==null?void 0:Ze.events)||[],e[60]=(kt=i[6])==null?void 0:kt.events,e[61]=me):me=e[61];const ge=useEventHandling(me,(Mt=i[6])==null?void 0:Mt.id);let Ke;e[62]!==((At=i[7])==null?void 0:At.events)?(Ke=((pt=i[7])==null?void 0:pt.events)||[],e[62]=(It=i[7])==null?void 0:It.events,e[63]=Ke):Ke=e[63];const Ue=useEventHandling(Ke,(Nt=i[7])==null?void 0:Nt.id);let _e;e[64]!==Me||e[65]!==fe||e[66]!==le||e[67]!==se||e[68]!==be||e[69]!==Ee||e[70]!==ge||e[71]!==Ue?(_e=[Me,fe,le,se,be,Ee,ge,Ue],e[64]=Me,e[65]=fe,e[66]=le,e[67]=se,e[68]=be,e[69]=Ee,e[70]=ge,e[71]=Ue,e[72]=_e):_e=e[72];const Qe=_e,qe=_temp8;let Ye;e[73]!==i.length||e[74]!==C?(Ye=()=>{if(i.length>=8)return;const $t={id:`action-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,svgCode:heartIcon,iconColor:"#ffffff",iconSize:20,background:"#4158D0",backgroundType:"color",gradientType:"linear",gradientAngle:90,gradientColor1:"#4158D0",gradientColor2:"#C850C0",borderWidth:[0,0,0,0],borderColor:"#000000",borderStyle:"solid",borderRadius:[25,25,25,25],events:[],tooltipEnabled:!1,tooltipText:"Hành động",tooltipPosition:"left",tooltipDelay:0};C(zt=>{zt.actionButtons=[...zt.actionButtons,$t]}),N(i.length)},e[73]=i.length,e[74]=C,e[75]=Ye):Ye=e[75];const nt=Ye;let et;e[76]===Symbol.for("react.memo_cache_sentinel")?(et=$t=>{W($t)},e[76]=et):et=e[76];const re=et;let Xe;e[77]!==j||e[78]!==U||e[79]!==p?(Xe=$t=>{$t.stopPropagation(),p?(U(),j.selectNode([])):U(),N(null)},e[77]=j,e[78]=U,e[79]=p,e[80]=Xe):Xe=e[80];const tt=Xe,rt=_temp9,Rt=_temp10,wt=_temp11;let St;e[81]!==p||e[82]!==$||e[83]!==g||e[84]!==T?(St=()=>{if(p)return;const $t=!T;$t?document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp13):($(),A.current&&A.current.close&&A.current.close(),document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp12)),L($t)},e[81]=p,e[82]=$,e[83]=g,e[84]=T,e[85]=St):St=e[85];const bt=St;let yt;e[86]!==Qe||e[87]!==p||e[88]!==$||e[89]!==g?(yt=($t,zt,_t)=>{if(_t.stopPropagation(),p)return;$(),document.querySelectorAll(`[data-tooltip-id="quick-actions-${g}"]`).forEach(_temp14);const Gt=Qe[zt];Gt&&Gt.handleClick(),L(!1)},e[86]=Qe,e[87]=p,e[88]=$,e[89]=g,e[90]=yt):yt=e[90];const jt=yt;let we;e[91]!==g||e[92]!==T?(we=($t,zt,_t)=>!$t.tooltipEnabled||!$t.tooltipText?_t:React.cloneElement(_t,{"data-tooltip-id":`quick-actions-${g}`,"data-tooltip-content":$t.tooltipText,"data-tooltip-place":$t.tooltipPosition||"left","data-tooltip-delay-show":0,"data-tooltip-delay-hide":300,"data-tooltip-index":zt,"data-tooltip-disabled":T?"false":"true"}),e[91]=g,e[92]=T,e[93]=we):we=e[93];const G=we;if(p&&Q){let $t;e[94]!==w?($t=Ut=>{Ut&&w(Ut)},e[94]=w,e[95]=$t):$t=e[95];let zt;e[96]===Symbol.for("react.memo_cache_sentinel")?(zt={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.quickActionsMain,backdropFilter:"blur(2px)"},e[96]=zt):zt=e[96];let _t;e[97]===Symbol.for("react.memo_cache_sentinel")?(_t={backgroundColor:"white",borderRadius:"8px",padding:"20px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",position:"relative"},e[97]=_t):_t=e[97];let Xt;e[98]===Symbol.for("react.memo_cache_sentinel")?(Xt={position:"absolute",top:"8px",right:"8px",backgroundColor:"transparent",border:"none",fontSize:"20px",cursor:"pointer",color:"#666",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},e[98]=Xt):Xt=e[98];let Gt;e[99]!==tt?(Gt=jsxRuntimeExports.jsx("button",{onClick:tt,style:Xt,onMouseEnter:_temp16,onMouseLeave:_temp17,title:"Đóng modal QuickActions",children:"×"}),e[99]=tt,e[100]=Gt):Gt=e[100];let Vt,Kt,fo,Yt;e[101]===Symbol.for("react.memo_cache_sentinel")?(Vt=jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:jsxRuntimeExports.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"bold"},children:"Nút hành động - Chế độ chỉnh sửa"})}),Kt={marginBottom:"24px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",overflow:"hidden"},fo=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:3,children:"Xem trước:"}),Yt={position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},e[101]=Vt,e[102]=Kt,e[103]=fo,e[104]=Yt):(Vt=e[101],Kt=e[102],fo=e[103],Yt=e[104]);let eo;if(e[105]!==i||e[106]!==m||e[107]!==l||e[108]!==u||e[109]!==T||e[110]!==d){let Ut;e[112]!==m||e[113]!==l||e[114]!==u||e[115]!==T||e[116]!==d?(Ut=(Zt,Ro)=>{const Wo=(l+d)*(Ro+1),Go=u==="up"?{bottom:Wo}:{top:Wo},Ko=Zt.iconColor?rt(Zt.svgCode,Zt.iconColor):Zt.svgCode;return jsxRuntimeExports.jsx("div",{style:{position:"absolute",...Go,left:"50%",transform:"translateX(-50%)",width:`${l}px`,height:`${l}px`,background:Rt(Zt.backgroundType,Zt.background,Zt.gradientType,Zt.gradientAngle,Zt.gradientColor1,Zt.gradientColor2),borderRadius:wt(Zt.borderRadius),...computeBorder({borderWidth:Zt.borderWidth,borderStyle:Zt.borderStyle,borderColor:Zt.borderColor})||{},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:T?1:.3,transition:`all ${m}ms ease-in-out`,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onClick:()=>N(Ro),children:Ko?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:Ko},style:{width:`${Zt.iconSize||20}px`,height:`${Zt.iconSize||20}px`,display:"flex",alignItems:"center",justifyContent:"center"}}):jsxRuntimeExports.jsx(Box,{color:"white",fontSize:"16px",children:"?"})},Zt.id)},e[112]=m,e[113]=l,e[114]=u,e[115]=T,e[116]=d,e[117]=Ut):Ut=e[117],eo=i.map(Ut),e[105]=i,e[106]=m,e[107]=l,e[108]=u,e[109]=T,e[110]=d,e[111]=eo}else eo=e[111];const no=`${l}px`,co=`${l}px`;let oo;e[118]!==T||e[119]!==s.triggerBackground||e[120]!==s.triggerBackgroundType||e[121]!==s.triggerGradientAngle||e[122]!==s.triggerGradientColor1||e[123]!==s.triggerGradientColor2||e[124]!==s.triggerGradientType||e[125]!==s.triggerOpenBackground||e[126]!==s.triggerOpenBackgroundType||e[127]!==s.triggerOpenGradientAngle||e[128]!==s.triggerOpenGradientColor1||e[129]!==s.triggerOpenGradientColor2||e[130]!==s.triggerOpenGradientType?(oo=T?Rt(s.triggerOpenBackgroundType,s.triggerOpenBackground,s.triggerOpenGradientType,s.triggerOpenGradientAngle,s.triggerOpenGradientColor1,s.triggerOpenGradientColor2):Rt(s.triggerBackgroundType,s.triggerBackground,s.triggerGradientType,s.triggerGradientAngle,s.triggerGradientColor1,s.triggerGradientColor2),e[118]=T,e[119]=s.triggerBackground,e[120]=s.triggerBackgroundType,e[121]=s.triggerGradientAngle,e[122]=s.triggerGradientColor1,e[123]=s.triggerGradientColor2,e[124]=s.triggerGradientType,e[125]=s.triggerOpenBackground,e[126]=s.triggerOpenBackgroundType,e[127]=s.triggerOpenGradientAngle,e[128]=s.triggerOpenGradientColor1,e[129]=s.triggerOpenGradientColor2,e[130]=s.triggerOpenGradientType,e[131]=oo):oo=e[131];let qt;e[132]!==T||e[133]!==s.triggerBorderRadius||e[134]!==s.triggerOpenBorderRadius?(qt=wt(T?s.triggerOpenBorderRadius:s.triggerBorderRadius),e[132]=T,e[133]=s.triggerBorderRadius,e[134]=s.triggerOpenBorderRadius,e[135]=qt):qt=e[135];let Qt;e[136]!==T||e[137]!==s.triggerBorderColor||e[138]!==s.triggerBorderStyle||e[139]!==s.triggerBorderWidth||e[140]!==s.triggerOpenBorderColor||e[141]!==s.triggerOpenBorderStyle||e[142]!==s.triggerOpenBorderWidth?(Qt=T?computeBorder({borderWidth:s.triggerOpenBorderWidth,borderStyle:s.triggerOpenBorderStyle,borderColor:s.triggerOpenBorderColor})||{}:computeBorder({borderWidth:s.triggerBorderWidth,borderStyle:s.triggerBorderStyle,borderColor:s.triggerBorderColor})||{},e[136]=T,e[137]=s.triggerBorderColor,e[138]=s.triggerBorderStyle,e[139]=s.triggerBorderWidth,e[140]=s.triggerOpenBorderColor,e[141]=s.triggerOpenBorderStyle,e[142]=s.triggerOpenBorderWidth,e[143]=Qt):Qt=e[143];const po=`all ${m}ms ease-in-out`;let ro;e[144]!==no||e[145]!==co||e[146]!==oo||e[147]!==qt||e[148]!==Qt||e[149]!==po?(ro={position:"relative",width:no,height:co,background:oo,borderRadius:qt,...Qt,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:po,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},e[144]=no,e[145]=co,e[146]=oo,e[147]=qt,e[148]=Qt,e[149]=po,e[150]=ro):ro=e[150];let io;e[151]!==T?(io=()=>L(!T),e[151]=T,e[152]=io):io=e[152];let to;e[153]!==m||e[154]!==T||e[155]!==s.triggerIconSize||e[156]!==s.triggerOpenIcon||e[157]!==s.triggerOpenIconColor||e[158]!==s.triggerOpenIconSize||e[159]!==a||e[160]!==c?(to=T?s.triggerOpenIcon?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:rt(s.triggerOpenIcon,s.triggerOpenIconColor)},style:{width:`${s.triggerOpenIconSize||24}px`,height:`${s.triggerOpenIconSize||24}px`,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${m}ms ease-in-out`}}):jsxRuntimeExports.jsx(Box,{color:s.triggerOpenIconColor,fontSize:"20px",style:{transition:`all ${m}ms ease-in-out`},children:"×"}):a?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:rt(a,c)},style:{width:`${s.triggerIconSize||24}px`,height:`${s.triggerIconSize||24}px`,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${m}ms ease-in-out`}}):jsxRuntimeExports.jsx(Box,{color:c,fontSize:"20px",style:{transition:`all ${m}ms ease-in-out`},children:"+"}),e[153]=m,e[154]=T,e[155]=s.triggerIconSize,e[156]=s.triggerOpenIcon,e[157]=s.triggerOpenIconColor,e[158]=s.triggerOpenIconSize,e[159]=a,e[160]=c,e[161]=to):to=e[161];let so;e[162]!==ro||e[163]!==io||e[164]!==to?(so=jsxRuntimeExports.jsx("div",{style:ro,onClick:io,children:to}),e[162]=ro,e[163]=io,e[164]=to,e[165]=so):so=e[165];let Jt;e[166]!==eo||e[167]!==so?(Jt=jsxRuntimeExports.jsxs("div",{style:Yt,"data-quickactions-preview":!0,children:[eo,so]}),e[166]=eo,e[167]=so,e[168]=Jt):Jt=e[168];let ao,uo;e[169]===Symbol.for("react.memo_cache_sentinel")?(ao=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",textAlign:"center",mt:2,children:"Nhấp vào nút kích hoạt để kiểm tra mở rộng/thu gọn"}),uo={marginTop:"16px",textAlign:"center"},e[169]=ao,e[170]=uo):(ao=e[169],uo=e[170]);let Bt;e[171]===Symbol.for("react.memo_cache_sentinel")?(Bt=()=>B(!0),e[171]=Bt):Bt=e[171];let Ct;e[172]===Symbol.for("react.memo_cache_sentinel")?(Ct=jsxRuntimeExports.jsx("div",{style:uo,children:jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"green",onClick:Bt,children:[jsxRuntimeExports.jsx(FaRegSave,{style:{marginRight:"8px"}}),"Lưu làm mẫu"]})}),e[172]=Ct):Ct=e[172];let Ot;e[173]!==Jt?(Ot=jsxRuntimeExports.jsxs("div",{style:Kt,children:[fo,Jt,ao,Ct]}),e[173]=Jt,e[174]=Ot):Ot=e[174];let Wt;e[175]===Symbol.for("react.memo_cache_sentinel")?(Wt={marginBottom:"20px"},e[175]=Wt):Wt=e[175];let lo;e[176]!==i.length?(lo=jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",fontWeight:"medium",children:["Nút hành động (",i.length,"/8)"]}),e[176]=i.length,e[177]=lo):lo=e[177];const go=i.length>=8,mo=i.length>=8?"Đã đạt giới hạn tối đa 8 nút":"Thêm nút hành động";let bo;e[178]===Symbol.for("react.memo_cache_sentinel")?(bo=jsxRuntimeExports.jsx(FaPlus,{style:{marginRight:"8px"}}),e[178]=bo):bo=e[178];let Eo;e[179]!==nt||e[180]!==go||e[181]!==mo?(Eo=jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"blue",onClick:nt,disabled:go,title:mo,children:[bo,"Thêm nút"]}),e[179]=nt,e[180]=go,e[181]=mo,e[182]=Eo):Eo=e[182];let yo;e[183]!==lo||e[184]!==Eo?(yo=jsxRuntimeExports.jsxs(Flex,{justify:"space-between",align:"center",mb:3,children:[lo,Eo]}),e[183]=lo,e[184]=Eo,e[185]=yo):yo=e[185];let vo;e[186]!==i||e[187]!==P?(vo=i.length>0?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map((Ut,Zt)=>jsxRuntimeExports.jsx("div",{style:{padding:"12px",border:P===Zt?"2px solid #3182ce":"1px solid #e2e8f0",borderRadius:"8px",backgroundColor:P===Zt?"#f7fafc":"white",cursor:"pointer"},onClick:()=>N(Zt),children:jsxRuntimeExports.jsxs(Flex,{justify:"space-between",align:"center",children:[jsxRuntimeExports.jsxs(Flex,{align:"center",gap:3,children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"ghost",cursor:"grab","aria-label":"Kéo để sắp xếp lại",children:jsxRuntimeExports.jsx(FaGripVertical,{})}),jsxRuntimeExports.jsx("div",{style:{width:"32px",height:"32px",background:Rt(Ut.backgroundType,Ut.background,Ut.gradientType,Ut.gradientAngle,Ut.gradientColor1,Ut.gradientColor2),borderRadius:wt(Ut.borderRadius),...computeBorder({borderWidth:Ut.borderWidth,borderStyle:Ut.borderStyle,borderColor:Ut.borderColor})||{},display:"flex",alignItems:"center",justifyContent:"center"},children:Ut.svgCode?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:rt(Ut.svgCode,Ut.iconColor)},style:{width:`${Ut.iconSize||16}px`,height:`${Ut.iconSize||16}px`,display:"flex",alignItems:"center",justifyContent:"center"}}):jsxRuntimeExports.jsx(Box,{color:"white",fontSize:"12px",children:"?"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",fontWeight:"medium",children:["Nút hành động ",Zt+1]}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:[Ut.events.length," sự kiện đã cấu hình"]})]})]}),jsxRuntimeExports.jsxs(Flex,{gap:2,children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"ghost",colorScheme:"blue","aria-label":"Chỉnh sửa nút",onClick:Ro=>{Ro.stopPropagation(),N(Zt)},children:jsxRuntimeExports.jsx(FaEdit,{})}),jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"ghost",colorScheme:"red","aria-label":"Xóa nút",onClick:Ro=>{Ro.stopPropagation(),re(Zt)},children:jsxRuntimeExports.jsx(FaTrash,{})})]})]})},Ut.id))}):jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"32px",border:"2px dashed #e2e8f0",borderRadius:"8px",color:"#718096"},children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",mb:2,children:"Chưa có nút hành động nào được cấu hình"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",children:'Nhấp "Thêm nút" để tạo nút hành động đầu tiên'})]}),e[186]=i,e[187]=P,e[188]=vo):vo=e[188];let Co;e[189]!==yo||e[190]!==vo?(Co=jsxRuntimeExports.jsxs("div",{style:Wt,children:[yo,vo]}),e[189]=yo,e[190]=vo,e[191]=Co):Co=e[191];let wo;e[192]!==Gt||e[193]!==Ot||e[194]!==Co?(wo=jsxRuntimeExports.jsxs("div",{ref:b,style:_t,onClick:_temp15,children:[Gt,Vt,Ot,Co]}),e[192]=Gt,e[193]=Ot,e[194]=Co,e[195]=wo):wo=e[195];let To;e[196]!==g||e[197]!==k?(To=jsxRuntimeExports.jsx(AssetSaveModal,{isOpen:k,onClose:H,elementName:"QuickActions",nodeId:g}),e[196]=g,e[197]=k,e[198]=To):To=e[198];const No=F!==null;let Bo;e[199]===Symbol.for("react.memo_cache_sentinel")?(Bo=()=>W(null),e[199]=Bo):Bo=e[199];let ko;e[200]!==F||e[201]!==P||e[202]!==C?(ko=()=>{F!==null&&(C(Ut=>{Ut.actionButtons=Ut.actionButtons.filter((Zt,Ro)=>Ro!==F)}),P===F?N(null):P!==null&&P>F&&N(P-1)),W(null)},e[200]=F,e[201]=P,e[202]=C,e[203]=ko):ko=e[203];let $o;e[204]!==No||e[205]!==ko?($o=jsxRuntimeExports.jsx(ModalConfirm,{isOpen:No,onClose:Bo,onConfirm:ko,message:"Bạn có chắc chắn muốn xóa action button này không?",confirmLabel:"Xóa",confirmType:"danger"}),e[204]=No,e[205]=ko,e[206]=$o):$o=e[206];let Do;return e[207]!==tt||e[208]!==$t||e[209]!==wo||e[210]!==To||e[211]!==$o?(Do=jsxRuntimeExports.jsxs("div",{ref:$t,style:zt,onClick:tt,children:[wo,To,$o]}),e[207]=tt,e[208]=$t,e[209]=wo,e[210]=To,e[211]=$o,e[212]=Do):Do=e[212],Do}if(!p){let $t;e[213]!==w?($t=Vt=>{Vt&&w(Vt)},e[213]=w,e[214]=$t):$t=e[214];let zt;e[215]===Symbol.for("react.memo_cache_sentinel")?(zt={position:"absolute",top:0,left:0,width:"1px",height:"1px",opacity:0,pointerEvents:"none",zIndex:zIndex.behind},e[215]=zt):zt=e[215];let _t;e[216]!==g||e[217]!==$t?(_t=jsxRuntimeExports.jsx("div",{ref:$t,style:zt,"data-quickactions-id":g}),e[216]=g,e[217]=$t,e[218]=_t):_t=e[218];const Xt=_t;let Gt;if(e[219]!==i||e[220]!==_||e[221]!==m||e[222]!==l||e[223]!==u||e[224]!==jt||e[225]!==bt||e[226]!==Xt||e[227]!==g||e[228]!==T||e[229]!==s.triggerBackground||e[230]!==s.triggerBackgroundType||e[231]!==s.triggerBorderColor||e[232]!==s.triggerBorderRadius||e[233]!==s.triggerBorderStyle||e[234]!==s.triggerBorderWidth||e[235]!==s.triggerGradientAngle||e[236]!==s.triggerGradientColor1||e[237]!==s.triggerGradientColor2||e[238]!==s.triggerGradientType||e[239]!==s.triggerIconSize||e[240]!==s.triggerOpenBackground||e[241]!==s.triggerOpenBackgroundType||e[242]!==s.triggerOpenBorderColor||e[243]!==s.triggerOpenBorderRadius||e[244]!==s.triggerOpenBorderStyle||e[245]!==s.triggerOpenBorderWidth||e[246]!==s.triggerOpenGradientAngle||e[247]!==s.triggerOpenGradientColor1||e[248]!==s.triggerOpenGradientColor2||e[249]!==s.triggerOpenGradientType||e[250]!==s.triggerOpenIcon||e[251]!==s.triggerOpenIconColor||e[252]!==s.triggerOpenIconSize||e[253]!==R||e[254]!==G||e[255]!==d||e[256]!==a||e[257]!==c){let Vt;e[259]!==R?(Vt={...qe(R),zIndex:zIndex.quickActions},e[259]=R,e[260]=Vt):Vt=e[260];let Kt;if(e[261]!==i||e[262]!==m||e[263]!==l||e[264]!==u||e[265]!==jt||e[266]!==g||e[267]!==T||e[268]!==G||e[269]!==d){let Bt;e[271]!==m||e[272]!==l||e[273]!==u||e[274]!==jt||e[275]!==g||e[276]!==T||e[277]!==G||e[278]!==d?(Bt=(Ct,Ot)=>{const Wt=(l+d)*(Ot+1),lo=u==="up"?{bottom:Wt}:{top:Wt},go=Ct.iconColor?rt(Ct.svgCode,Ct.iconColor):Ct.svgCode,mo=jsxRuntimeExports.jsx("div",{id:`quick-action-button-${g}-${Ot}`,style:{position:"absolute",...lo,left:0,width:`${l}px`,height:`${l}px`,background:Rt(Ct.backgroundType,Ct.background,Ct.gradientType,Ct.gradientAngle,Ct.gradientColor1,Ct.gradientColor2),borderRadius:wt(Ct.borderRadius),...computeBorder({borderWidth:Ct.borderWidth,borderStyle:Ct.borderStyle,borderColor:Ct.borderColor})||{},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:T?1:0,transform:T?"scale(1)":"scale(0)",transition:`all ${m}ms ease-in-out`,transitionDelay:T?`${Ot*50}ms`:"0ms",zIndex:zIndex.quickActionsBackground,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onClick:bo=>jt(Ct,Ot,bo),children:go?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:go},style:{width:`${Ct.iconSize||20}px`,height:`${Ct.iconSize||20}px`,display:"flex",alignItems:"center",justifyContent:"center"}}):jsxRuntimeExports.jsx(Box,{color:"white",fontSize:"16px",children:"?"})},Ct.id);return G(Ct,Ot,mo)},e[271]=m,e[272]=l,e[273]=u,e[274]=jt,e[275]=g,e[276]=T,e[277]=G,e[278]=d,e[279]=Bt):Bt=e[279],Kt=i.map(Bt),e[261]=i,e[262]=m,e[263]=l,e[264]=u,e[265]=jt,e[266]=g,e[267]=T,e[268]=G,e[269]=d,e[270]=Kt}else Kt=e[270];const fo=`${l}px`,Yt=`${l}px`;let eo;e[280]!==T||e[281]!==s.triggerBackground||e[282]!==s.triggerBackgroundType||e[283]!==s.triggerGradientAngle||e[284]!==s.triggerGradientColor1||e[285]!==s.triggerGradientColor2||e[286]!==s.triggerGradientType||e[287]!==s.triggerOpenBackground||e[288]!==s.triggerOpenBackgroundType||e[289]!==s.triggerOpenGradientAngle||e[290]!==s.triggerOpenGradientColor1||e[291]!==s.triggerOpenGradientColor2||e[292]!==s.triggerOpenGradientType?(eo=T?Rt(s.triggerOpenBackgroundType,s.triggerOpenBackground,s.triggerOpenGradientType,s.triggerOpenGradientAngle,s.triggerOpenGradientColor1,s.triggerOpenGradientColor2):Rt(s.triggerBackgroundType,s.triggerBackground,s.triggerGradientType,s.triggerGradientAngle,s.triggerGradientColor1,s.triggerGradientColor2),e[280]=T,e[281]=s.triggerBackground,e[282]=s.triggerBackgroundType,e[283]=s.triggerGradientAngle,e[284]=s.triggerGradientColor1,e[285]=s.triggerGradientColor2,e[286]=s.triggerGradientType,e[287]=s.triggerOpenBackground,e[288]=s.triggerOpenBackgroundType,e[289]=s.triggerOpenGradientAngle,e[290]=s.triggerOpenGradientColor1,e[291]=s.triggerOpenGradientColor2,e[292]=s.triggerOpenGradientType,e[293]=eo):eo=e[293];let no;e[294]!==T||e[295]!==s.triggerBorderRadius||e[296]!==s.triggerOpenBorderRadius?(no=wt(T?s.triggerOpenBorderRadius:s.triggerBorderRadius),e[294]=T,e[295]=s.triggerBorderRadius,e[296]=s.triggerOpenBorderRadius,e[297]=no):no=e[297];let co;e[298]!==T||e[299]!==s.triggerBorderColor||e[300]!==s.triggerBorderStyle||e[301]!==s.triggerBorderWidth||e[302]!==s.triggerOpenBorderColor||e[303]!==s.triggerOpenBorderStyle||e[304]!==s.triggerOpenBorderWidth?(co=T?computeBorder({borderWidth:s.triggerOpenBorderWidth,borderStyle:s.triggerOpenBorderStyle,borderColor:s.triggerOpenBorderColor})||{}:computeBorder({borderWidth:s.triggerBorderWidth,borderStyle:s.triggerBorderStyle,borderColor:s.triggerBorderColor})||{},e[298]=T,e[299]=s.triggerBorderColor,e[300]=s.triggerBorderStyle,e[301]=s.triggerBorderWidth,e[302]=s.triggerOpenBorderColor,e[303]=s.triggerOpenBorderStyle,e[304]=s.triggerOpenBorderWidth,e[305]=co):co=e[305];const oo=`all ${m}ms ease-in-out`;let qt;e[306]!==fo||e[307]!==Yt||e[308]!==eo||e[309]!==no||e[310]!==co||e[311]!==oo?(qt={position:"relative",width:fo,height:Yt,background:eo,borderRadius:no,...co,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:oo,zIndex:zIndex.quickActions,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},e[306]=fo,e[307]=Yt,e[308]=eo,e[309]=no,e[310]=co,e[311]=oo,e[312]=qt):qt=e[312];let Qt;e[313]!==m||e[314]!==T||e[315]!==s.triggerIconSize||e[316]!==s.triggerOpenIcon||e[317]!==s.triggerOpenIconColor||e[318]!==s.triggerOpenIconSize||e[319]!==a||e[320]!==c?(Qt=T?s.triggerOpenIcon?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:rt(s.triggerOpenIcon,s.triggerOpenIconColor)},style:{width:`${s.triggerOpenIconSize||24}px`,height:`${s.triggerOpenIconSize||24}px`,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${m}ms ease-in-out`}}):jsxRuntimeExports.jsx(Box,{color:s.triggerOpenIconColor,fontSize:"20px",style:{transition:`all ${m}ms ease-in-out`},children:"×"}):a?jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:rt(a,c)},style:{width:`${s.triggerIconSize||24}px`,height:`${s.triggerIconSize||24}px`,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${m}ms ease-in-out`}}):jsxRuntimeExports.jsx(Box,{color:c,fontSize:"20px",style:{transition:`all ${m}ms ease-in-out`},children:"+"}),e[313]=m,e[314]=T,e[315]=s.triggerIconSize,e[316]=s.triggerOpenIcon,e[317]=s.triggerOpenIconColor,e[318]=s.triggerOpenIconSize,e[319]=a,e[320]=c,e[321]=Qt):Qt=e[321];let po;e[322]!==bt||e[323]!==g||e[324]!==qt||e[325]!==Qt?(po=jsxRuntimeExports.jsx("div",{"data-quickactions-id":g,style:qt,onClick:bt,children:Qt}),e[322]=bt,e[323]=g,e[324]=qt,e[325]=Qt,e[326]=po):po=e[326];let ro;e[327]!==Vt||e[328]!==Kt||e[329]!==po?(ro=jsxRuntimeExports.jsxs("div",{ref:v,className:"quickactions-floating-container",style:Vt,children:[Kt,po]}),e[327]=Vt,e[328]=Kt,e[329]=po,e[330]=ro):ro=e[330];const io=`quick-actions-${g}`;let to;e[331]===Symbol.for("react.memo_cache_sentinel")?(to={zIndex:zIndex.tooltip},e[331]=to):to=e[331];let so;e[332]!==io?(so=jsxRuntimeExports.jsx(M,{id:io,ref:A,style:to}),e[332]=io,e[333]=so):so=e[333];let Jt;e[334]===Symbol.for("react.memo_cache_sentinel")?(Jt=jsxRuntimeExports.jsx(M,{style:{zIndex:zIndex.tooltip}}),e[334]=Jt):Jt=e[334];let ao;e[335]!==_?(ao=jsxRuntimeExports.jsx(MultiTooltip,{tooltips:_,onTooltipClose:_temp18}),e[335]=_,e[336]=ao):ao=e[336];let uo;e[337]!==Xt||e[338]!==ro||e[339]!==so||e[340]!==ao?(uo=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Xt,ro,so,Jt,ao]}),e[337]=Xt,e[338]=ro,e[339]=so,e[340]=ao,e[341]=uo):uo=e[341],Gt=ReactDOM.createPortal(uo,document.body),e[219]=i,e[220]=_,e[221]=m,e[222]=l,e[223]=u,e[224]=jt,e[225]=bt,e[226]=Xt,e[227]=g,e[228]=T,e[229]=s.triggerBackground,e[230]=s.triggerBackgroundType,e[231]=s.triggerBorderColor,e[232]=s.triggerBorderRadius,e[233]=s.triggerBorderStyle,e[234]=s.triggerBorderWidth,e[235]=s.triggerGradientAngle,e[236]=s.triggerGradientColor1,e[237]=s.triggerGradientColor2,e[238]=s.triggerGradientType,e[239]=s.triggerIconSize,e[240]=s.triggerOpenBackground,e[241]=s.triggerOpenBackgroundType,e[242]=s.triggerOpenBorderColor,e[243]=s.triggerOpenBorderRadius,e[244]=s.triggerOpenBorderStyle,e[245]=s.triggerOpenBorderWidth,e[246]=s.triggerOpenGradientAngle,e[247]=s.triggerOpenGradientColor1,e[248]=s.triggerOpenGradientColor2,e[249]=s.triggerOpenGradientType,e[250]=s.triggerOpenIcon,e[251]=s.triggerOpenIconColor,e[252]=s.triggerOpenIconSize,e[253]=R,e[254]=G,e[255]=d,e[256]=a,e[257]=c,e[258]=Gt}else Gt=e[258];return Gt}let X;e[342]!==w?(X=$t=>{$t&&w($t)},e[342]=w,e[343]=X):X=e[343];let K;e[344]===Symbol.for("react.memo_cache_sentinel")?(K={position:"absolute",top:0,left:0,width:"1px",height:"1px",opacity:0,pointerEvents:"none",zIndex:zIndex.behind},e[344]=K):K=e[344];let ne;return e[345]!==g||e[346]!==X?(ne=jsxRuntimeExports.jsx("div",{ref:X,style:K,"data-quickactions-id":g}),e[345]=g,e[346]=X,e[347]=ne):ne=e[347],ne};QuickActions.craft={displayName:"QuickActions",props:defaultProps,rules:{canDrag:()=>!1,canDrop:()=>!1,canMoveIn:()=>!1},related:{toolbar:QuickActionsSettings}};function _temp$6(t){return{enabled:t.options.enabled}}function _temp2$2(t){return{selected:t.events.selected}}function _temp3(t){return t.tooltipEnabled&&t.tooltipText}function _temp5(t){t.setAttribute("data-tooltip-disabled","true"),t.setAttribute("data-tooltip-delay-hide","0");const e=new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}function _temp6(t){t.setAttribute("data-tooltip-disabled","true"),t.setAttribute("data-tooltip-delay-hide","0");const e=new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}function _temp7(t){t.removeAttribute("data-tooltip-disabled"),t.setAttribute("data-tooltip-delay-hide","300")}function _temp8(t){if(!t||!t.enabled)return{position:"fixed",bottom:"20px",right:"20px"};const e={position:"fixed"};e:switch(t.position){case"top-left":{e.top=`${t.topDistance}px`,e.left=`${t.leftDistance}px`;break e}case"top-center":{e.top=`${t.topDistance}px`,e.left="50%",e.transform="translateX(-50%)";break e}case"top-right":{e.top=`${t.topDistance}px`,e.right=`${t.rightDistance}px`;break e}case"middle-left":{e.top="50%",e.left=`${t.leftDistance}px`,e.transform="translateY(-50%)";break e}case"middle-right":{e.top="50%",e.right=`${t.rightDistance}px`,e.transform="translateY(-50%)";break e}case"bottom-left":{e.bottom=`${t.bottomDistance}px`,e.left=`${t.leftDistance}px`;break e}case"bottom-center":{e.bottom=`${t.bottomDistance}px`,e.left="50%",e.transform="translateX(-50%)";break e}case"bottom-right":default:e.bottom=`${t.bottomDistance}px`,e.right=`${t.rightDistance}px`}return e}function _temp9(t,e){if(!t||!e)return t;const r=new DOMParser().parseFromString(t,"image/svg+xml"),s=r.querySelector("svg");return s?(s.setAttribute("fill",e),s.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(a=>{const c=a.getAttribute("fill");(!c||c!=="none"&&c!=="transparent")&&a.setAttribute("fill",e)}),new XMLSerializer().serializeToString(r)):t}function _temp10(t,e,o,r,s,i){return buildBackground({backgroundType:t||"color",backgroundColor:e,gradientType:o,gradientAngle:r,gradientColor1:s,gradientColor2:i})}function _temp11(t){return computeBorderRadius({borderRadius:t})||"25px"}function _temp12(t){t.setAttribute("data-tooltip-disabled","true"),t.setAttribute("data-tooltip-delay-hide","0");const e=new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}function _temp13(t){t.removeAttribute("data-tooltip-disabled"),t.setAttribute("data-tooltip-delay-hide","300")}function _temp14(t){t.setAttribute("data-tooltip-disabled","true"),t.setAttribute("data-tooltip-delay-hide","0");const e=new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}function _temp15(t){return t.stopPropagation()}function _temp16(t){t.currentTarget.style.backgroundColor="#f0f0f0",t.currentTarget.style.color="#333"}function _temp17(t){t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#666"}function _temp18(t){}const NameMapSelector={AlbumSection:"Album Ảnh","Album Modal":"Album Ảnh Popup",Button:"Nút bấm",Calendar:"Lịch",Container:"Khối hộp",ContentWrapper:"Nội dung",Count:"Đếm ngược",Dropbox:"Dropbox",Form:"Form",Group:"Group",HtmlSelector:"HTML",Icon:"Biểu tượng",Image:"Hình ảnh",Input:"Input",LightBox:"Light Box",Line:"Đường kẻ",Page:"Thiệp","Pages Container":"Khung chứa thiệp",LogoContent:"Logo",Popup:"Popup",QuickActions:"Nút hành động",Sections:"Section",Text:"Văn bản",Video:"Video",WishList:"Lời chúc"},Selectors={AlbumSection,AlbumModal,Container,Text,Image:Image$1,Button,Calendar,HtmlSelector,Icon,Input,LightBox,Line,ContentWrapper,Page,PagesContainer,LogoContent,Sections,Video,Group,Popup,QuickActions,Dropbox,Count,Form,WishList},GroupActionButtons=()=>{const t=compilerRuntimeExports.c(13),{selectedNodes:e,canCreateGroup:o,createGroup:r,ungroupSelection:s,clearSelection:i}=useMultiSelectContext(),{isGroupSelected:a}=Pe(_temp$5);if(o()){let c;t[0]!==e.length?(c=jsxRuntimeExports.jsx(Box,{mb:2,textAlign:"center",children:jsxRuntimeExports.jsxs(Box,{as:"span",fontSize:"xs",fontWeight:"bold",color:"#ff4757",bg:"rgba(255, 71, 87, 0.1)",px:2,py:1,borderRadius:"full",children:[e.length," phần tử đã chọn"]})}),t[0]=e.length,t[1]=c):c=t[1];let l;t[2]!==r?(l=jsxRuntimeExports.jsx(Button$1,{colorScheme:"blue",size:"sm",onClick:()=>{r()},mr:2,width:"full",mb:2,children:"🔗 Tạo nhóm"}),t[2]=r,t[3]=l):l=t[3];let d;t[4]!==i?(d=jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:i,width:"full",children:"❌ Hủy chọn"}),t[4]=i,t[5]=d):d=t[5];let u;return t[6]!==c||t[7]!==l||t[8]!==d?(u=jsxRuntimeExports.jsxs(Box,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -5%)",zIndex:zIndex.groupActions,bg:"white",p:4,borderRadius:"md",boxShadow:"xl",border:"2px solid #ff4757",minWidth:"200px",children:[c,l,d]}),t[6]=c,t[7]=l,t[8]=d,t[9]=u):u=t[9],u}if(a){let c;return t[10]!==i||t[11]!==s?(c=jsxRuntimeExports.jsx(Box,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -5%)",zIndex:zIndex.groupActions,bg:"white",p:4,borderRadius:"md",boxShadow:"xl",border:"2px solid #9c88ff",minWidth:"180px",children:jsxRuntimeExports.jsx(Button$1,{colorScheme:"red",size:"sm",onClick:()=>{s(),setTimeout(()=>{i()},100)},width:"full",children:"💥 Hủy nhóm"})}),t[10]=i,t[11]=s,t[12]=c):c=t[12],c}return null};function _temp$5(t,e){const o=e.getEvent("selected").first();return{isGroupSelected:o&&t.nodes[o]&&t.nodes[o].data.displayName==="Group"}}const NodeControls=({id:t,name:e,deletable:o,isLocked:r,isHidden:s,onDelete:i,onToggleLock:a,onToggleHidden:c,onBringForward:l,onSendBackward:d,onDuplicate:u,onClosePopup:m,onCloseDropbox:R,actions:p,query:j,props:x,isDragging:g})=>{const{isSidebarVisible:h,hideSidebar:E,showSidebar:w,showAssetSaveModal:C,currentEditingPlatform:b,desktopContent:v,mobileContent:_,hasFeature:I}=useViewport(),$=useSelector(selectAuth),A=isAdmin($),T=(x==null?void 0:x.isBrand)&&!A&&!I("remove_mewedding_logo"),[L,P]=reactExports.useState(!1),N=useIsMobile(),k=g??!1,B=e==="Popup",F=e==="Dropbox",W=I("layout_block_reorder"),z=!r&&e!=="Popup"&&e!=="Content Wrapper"&&e!=="Sections"&&e!=="AlbumSection",H=O=>{if(!z||!p||!j)return;const q=j.node(t).get().dom;if(!q)return;let Y,V;if("touches"in O&&O.touches.length>0?(Y=O.touches[0].clientX,V=O.touches[0].clientY):(Y=O.clientX,V=O.clientY),"touches"in O){const de=new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[{clientX:Y,clientY:V,identifier:0,pageX:Y,pageY:V,screenX:Y,screenY:V,target:q}]});q.dispatchEvent(de)}else{const de=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,clientX:Y,clientY:V,button:0});q.dispatchEvent(de)}},U=O=>{p&&p.setProp&&p.setProp(t,Q=>{Q.backgroundType="color",Q.backgroundColor=O})},D=()=>{var O,Q;if(!(!p||!j))try{if(((O=j.node(t).get().data.props)==null?void 0:O.syncCrossPlatform)===!1)return;const V=(b==="desktop"?"mobile":"desktop")==="desktop"?v:_;if(!V)return;const ue=JSON.parse(V)[t];if(!ue||!ue.props||((Q=ue.props)==null?void 0:Q.syncCrossPlatform)===!1)return;p.setProp(t,Re=>{Object.keys(Re).forEach(oe=>{delete Re[oe]}),Object.keys(ue.props).forEach(oe=>{Re[oe]=ue.props[oe]})})}catch{}};return jsxRuntimeExports.jsxs(Box,{className:`${e==="Sections"||e==="AlbumSection"?"flex flex-col":"sm:flex flex-row grid grid-cols-5"} items-center gap-2 shadow-lg `,children:[N?jsxRuntimeExports.jsx(Box,{className:"block sm:hidden w-full",children:jsxRuntimeExports.jsxs(Box,{className:"flex gap-2 justify-between",borderBottom:"1px solid #e0e0e0",borderRadius:4,p:1,px:4,children:[jsxRuntimeExports.jsxs(Box,{mb:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Hiển thị & Khóa"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Btn,{onClick:c,"data-tooltip-id":"node-controls","data-tooltip-content":s?"Hiện phần tử":"Ẩn phần tử",className:`p-3 border rounded-lg transition-all ${s?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:s?jsxRuntimeExports.jsx(TbEyeOff,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbEye,{className:"text-2xl"})}),!T&&jsxRuntimeExports.jsx(Btn,{onClick:a,"data-tooltip-id":"node-controls","data-tooltip-content":r?"Mở khóa phần tử":"Khóa phần tử",className:`p-3 border rounded-lg transition-all ${r?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:r?jsxRuntimeExports.jsx(TbLock,{className:"text-2xl"}):jsxRuntimeExports.jsx(TbLockOpen,{className:"text-2xl"})})]})]}),jsxRuntimeExports.jsxs(Box,{mb:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Lớp"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Btn,{onClick:l,"data-tooltip-id":"node-controls","data-tooltip-content":"Đưa lên trước",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:jsxRuntimeExports.jsx(TbArrowUp,{className:"text-2xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:d,"data-tooltip-id":"node-controls","data-tooltip-content":"Đưa xuống sau",className:"p-3 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-all",children:jsxRuntimeExports.jsx(TbArrowDown,{className:"text-2xl"})})]})]}),jsxRuntimeExports.jsxs(Box,{mb:3,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",mb:2,children:"Thao tác"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx(Btn,{onClick:u,"data-tooltip-id":"node-controls","data-tooltip-content":"Nhân bản phần tử",className:"p-3 border border-green-200 rounded-lg bg-green-50 hover:bg-green-100 transition-all",children:jsxRuntimeExports.jsx(TbCopy,{className:"text-2xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:()=>C(e,t),"data-tooltip-id":"node-controls","data-tooltip-content":"Lưu mẫu phần tử",className:"p-3 border border-blue-200 rounded-lg bg-blue-50 hover:bg-blue-100 transition-all",children:jsxRuntimeExports.jsx(TbDeviceFloppy,{className:"text-2xl"})}),(b==="desktop"&&_||b==="mobile"&&v)&&jsxRuntimeExports.jsx(Btn,{onClick:D,"data-tooltip-id":"node-controls","data-tooltip-content":b==="desktop"?"Đồng bộ từ Mobile":"Đồng bộ từ Desktop",className:"p-3 border border-cyan-200 rounded-lg bg-cyan-50 hover:bg-cyan-100 transition-all",children:jsxRuntimeExports.jsx(TbRefresh,{className:"text-2xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:()=>h?E():w(),"data-tooltip-id":"node-controls","data-tooltip-content":h?"Ẩn thanh công cụ":"Hiện thanh công cụ",className:"p-3 border border-purple-200 rounded-lg bg-purple-50 hover:bg-purple-100 transition-all",children:jsxRuntimeExports.jsx(TbSettings,{className:"text-2xl"})}),B&&m&&jsxRuntimeExports.jsx(Btn,{onClick:m,"data-tooltip-id":"node-controls","data-tooltip-content":"Đóng popup",className:"p-3 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-all",children:jsxRuntimeExports.jsx(TbX,{className:"text-2xl"})}),F&&R&&jsxRuntimeExports.jsx(Btn,{onClick:R,"data-tooltip-id":"node-controls","data-tooltip-content":"Đóng dropbox",className:"p-3 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-all",children:jsxRuntimeExports.jsx(TbX,{className:"text-2xl"})}),o&&!T&&jsxRuntimeExports.jsx(Btn,{onMouseDown:O=>{O.stopPropagation(),i()},"data-tooltip-id":"node-controls","data-tooltip-content":"Xóa phần tử",className:"p-3 border border-red-300 rounded-lg bg-red-100 hover:bg-red-200 transition-all",children:jsxRuntimeExports.jsx(TbTrash,{className:"text-2xl text-red-600"})})]})]})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[B&&m&&jsxRuntimeExports.jsx(Btn,{onClick:m,"data-tooltip-id":"node-controls","data-tooltip-content":"Đóng popup",children:jsxRuntimeExports.jsx(TbX,{className:"text-xl"})}),F&&R&&jsxRuntimeExports.jsx(Btn,{onClick:R,"data-tooltip-id":"node-controls","data-tooltip-content":"Đóng dropbox",children:jsxRuntimeExports.jsx(TbX,{className:"text-xl"})}),z&&!T&&jsxRuntimeExports.jsx(Btn,{className:"drag-handle",onMouseDown:H,onTouchStart:H,"data-tooltip-id":"node-controls","data-tooltip-content":"Kéo để di chuyển",style:{cursor:k?"grabbing":"grab",backgroundColor:k?"#e2e8f0":void 0,touchAction:"none"},children:jsxRuntimeExports.jsx(RxDragHandleDots2,{className:"text-xl drag-handle"})}),!T&&jsxRuntimeExports.jsx(Btn,{onClick:l,"data-tooltip-id":"node-controls","data-tooltip-content":"Đưa lên trước",hidden:r,children:jsxRuntimeExports.jsx(TbArrowUp,{className:"text-xl"})}),!T&&jsxRuntimeExports.jsx(Btn,{onClick:d,"data-tooltip-id":"node-controls","data-tooltip-content":"Đưa xuống sau",hidden:r,children:jsxRuntimeExports.jsx(TbArrowDown,{className:"text-xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:u,"data-tooltip-id":"node-controls","data-tooltip-content":"Nhân bản phần tử",children:jsxRuntimeExports.jsx(TbCopy,{className:"text-xl"})}),o&&!T&&jsxRuntimeExports.jsx(Btn,{onMouseDown:O=>{O.stopPropagation(),i()},"data-tooltip-id":"node-controls","data-tooltip-content":"Xóa phần tử",children:jsxRuntimeExports.jsx(TbTrash,{className:"text-xl"})}),jsxRuntimeExports.jsx(Btn,{onClick:()=>h?E():w(),"data-tooltip-id":"node-controls","data-tooltip-content":h?"Ẩn thanh công cụ":"Hiện thanh công cụ",children:jsxRuntimeExports.jsx(TbSettings,{className:"text-xl"})}),jsxRuntimeExports.jsxs(MenuRoot,{children:[jsxRuntimeExports.jsx(MenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(IconButton,{variant:"ghost",size:"sm","data-tooltip-id":"node-controls","data-tooltip-content":"Thêm tùy chọn",children:jsxRuntimeExports.jsx(TbDots,{className:"text-xl"})})}),jsxRuntimeExports.jsx(MenuPositioner,{children:jsxRuntimeExports.jsxs(MenuContent,{children:[jsxRuntimeExports.jsx(MenuItem,{value:"toggle-lock",onClick:()=>{W&&!T&&a()},className:"text-xs flex items-center gap-2",disabled:!W||T,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[r?jsxRuntimeExports.jsx(TbLockOpen,{size:16}):jsxRuntimeExports.jsx(TbLock,{size:16}),r?"Mở khoá phần tử":"Khoá phần tử"]}),!W&&!T&&jsxRuntimeExports.jsx("span",{className:"text-xs text-orange-500 font-medium",children:jsxRuntimeExports.jsx(FaCrown,{})})]})}),!T&&jsxRuntimeExports.jsxs(MenuItem,{value:"toggle-hidden",onClick:c,className:"text-xs flex items-center gap-2",children:[s?jsxRuntimeExports.jsx(TbEyeOff,{size:16}):jsxRuntimeExports.jsx(TbEye,{size:16}),s?"Hiện phần tử":"Ẩn phần tử"]}),(b==="desktop"&&_||b==="mobile"&&v)&&jsxRuntimeExports.jsxs(MenuItem,{value:"cross-platform-sync",onClick:D,className:"text-xs flex items-center gap-2",children:[jsxRuntimeExports.jsx(TbRefresh,{size:16}),b==="desktop"?"Đồng bộ từ Mobile":"Đồng bộ từ Desktop"]}),jsxRuntimeExports.jsxs(MenuItem,{value:"duplicate",onClick:u,className:"text-xs flex items-center gap-2",children:[jsxRuntimeExports.jsx(TbCopy,{size:16})," Sao chép phần tử"]}),jsxRuntimeExports.jsxs(MenuItem,{value:"save-template",onClick:()=>C(e,t),className:"text-xs flex items-center gap-2",children:[jsxRuntimeExports.jsx(TbDeviceFloppy,{size:16})," Lưu mẫu phần tử"]})]})})]})]}),jsxRuntimeExports.jsx(M,{id:"node-controls"}),jsxRuntimeExports.jsx(ColorPickerModal,{isOpen:L,onClose:()=>P(!1),onColorChange:U,initialColor:(x==null?void 0:x.backgroundColor)||"#ffffff"})]})},SectionBottomIndicator=t=>{const e=compilerRuntimeExports.c(15),{dom:o,isSection:r,isActive:s,handleResizeMouseDown:i,addNewSection:a,showAddSectionButton:c}=t,l=c===void 0?!0:c;if(!r||!s||!o||!document.body.contains(o))return null;let d;if(e[0]!==a||e[1]!==o||e[2]!==i||e[3]!==l){let u,m;e[5]===Symbol.for("react.memo_cache_sentinel")?(u={cursor:"ns-resize",touchAction:"none"},m=jsxRuntimeExports.jsx(FaGripLines,{className:"text-black"}),e[5]=u,e[6]=m):(u=e[5],m=e[6]);let R;e[7]!==i?(R=jsxRuntimeExports.jsx("div",{className:"p-2 bg-white rounded-lg",children:jsxRuntimeExports.jsx(Btn,{title:"Resize section height",onMouseDown:i,onTouchStart:i,style:u,children:m})}),e[7]=i,e[8]=R):R=e[8];let p;e[9]!==a||e[10]!==l?(p=l&&jsxRuntimeExports.jsx("div",{className:"p-2 bg-white rounded-lg",children:jsxRuntimeExports.jsxs(Btn,{title:"Add new section below",onClick:a,children:["Thêm section",jsxRuntimeExports.jsx(FaPlus,{className:"text-black"})]})}),e[9]=a,e[10]=l,e[11]=p):p=e[11];let j;e[12]!==R||e[13]!==p?(j=jsxRuntimeExports.jsxs(SectionIndicatorDiv,{children:[R,p]}),e[12]=R,e[13]=p,e[14]=j):j=e[14],d=ReactDOM.createPortal(j,o),e[0]=a,e[1]=o,e[2]=i,e[3]=l,e[4]=d}else d=e[4];return d},DraggingContext=reactExports.createContext(void 0),DraggingProvider=t=>{const e=compilerRuntimeExports.c(5),{children:o,isDragging:r}=t;let s;e[0]!==r?(s={isDragging:r},e[0]=r,e[1]=s):s=e[1];let i;return e[2]!==o||e[3]!==s?(i=jsxRuntimeExports.jsx(DraggingContext.Provider,{value:s,children:o}),e[2]=o,e[3]=s,e[4]=i):i=e[4],i},useDragging=()=>{const t=reactExports.useContext(DraggingContext);if(t===void 0)throw new Error("useDragging must be used within a DraggingProvider");return t};function useThrottle(t,e){const o=reactExports.useRef(Date.now()),r=reactExports.useRef(null);return reactExports.useCallback((...s)=>{const i=Date.now();i-o.current>=e?(t(...s),o.current=i):(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(...s),o.current=Date.now()},e-(i-o.current)))},[t,e])}const RenderNode=({render:t})=>{var we;const{id:e}=Ne(),{actions:o,query:r,isActive:s,enabled:i}=Pe((G,X)=>({isActive:X.getEvent("selected").contains(e),enabled:G.options.enabled})),a=["Sections","Content Wrapper","Popup","Dropbox","Album Modal"],{closePopup:c,closeDropboxEditor:l,currentEditingPlatform:d,isSidebarVisible:u,hideSidebar:m,showSidebar:R,closeAllModalComponents:p,openPopup:j,openDropboxEditor:x,openAlbumModal:g,isCardEditor:h}=useViewport(),{settings:E}=useViewportSettings(),w=useIsMobile(),C=useMultiSelectContext(),{isNodeSelected:b,toggleSelection:v,isCtrlPressed:_,setCurrentSelection:I,addToSelectionIfNotPresent:$,selectedNodes:A,canCreateGroup:T}=C,{isHover:L,dom:P,name:N,deletable:k,parent:B,props:F}=Ne(G=>{let X=!0;try{const K=r.node(G.id);K&&K.get()&&(X=K.isDeletable())}catch{X=!0}return{isHover:G.events.hovered,dom:G.dom,name:G.data.custom.displayName||G.data.displayName,deletable:X,parent:G.data.parent,props:G.data.props}}),W=reactExports.useRef(null),z=reactExports.useRef(null),H=N==="Sections"||N==="AlbumSection",U=N==="Pages Container",D=H&&!h||U,{PinnedWrapper:O}=usePinning(F.pinning,N),Q=useNodeState({id:e,dom:P,locked:F.locked||F.isChildOfButton||F.isEditing||F.isChildOfForm||F.isChildOfGroup,parentNode:B?r.node(B).get():null,actions:o,props:F}),{isLocked:q,toggleLock:Y}=Q,{isDragging:V}=useDragging(),de=reactExports.useCallback(()=>{if(!P)return{top:"0px",left:"0px"};const{top:G,left:X,bottom:K}=P.getBoundingClientRect();return{top:`${G>0?G:K}px`,left:`${X}px`}},[P]),ue=reactExports.useCallback(()=>{if(!P)return{top:"0px",left:"0px"};const{top:G,left:X,width:K,height:ne,bottom:ve}=P.getBoundingClientRect();return{top:`${ve+10}px`,left:`${X+K/2}px`}},[P]),Re=reactExports.useCallback(()=>{if(!P)return{top:"0px",left:"0px"};const{top:G,left:X,bottom:K,width:ne}=P.getBoundingClientRect(),ve=window.innerHeight,Te=50,Le=10,st=ve-K,ft=G;let ht;return st>=Te+Le?ht=K+Le:ft>=Te+Le?ht=G-Te-Le:ht=ve-Te-Le,{top:`${ht}px`,left:`${X+ne/2}px`}},[P]),oe=reactExports.useCallback(()=>{if(!i)return{top:"0px",left:"0px"};if(A.length===0)return{top:"0px",left:"0px"};let G=0,X=1/0,K=0;A.forEach(ve=>{try{const Le=r.node(ve).get().dom;if(Le){const st=Le.getBoundingClientRect();G=Math.max(G,st.bottom),X=Math.min(X,st.left),K=Math.max(K,st.right)}}catch{}});const ne=(X+K)/2;return{top:`${G+20}px`,left:`${ne}px`}},[i,A,r]),ce=reactExports.useCallback(()=>{if(!P)return{left:"20px",top:"50%"};const G=P.getBoundingClientRect(),X=window.innerHeight;if(G.height>=X*.8){const ne=X/2,ve=P.querySelector(".content-container");if(ve){const Le=ve.getBoundingClientRect().left;return Le>=220?{left:`${Le-210}px`,top:`${ne}px`,right:"auto",position:"fixed"}:{left:"20px",top:`${ne}px`,right:"auto",position:"fixed"}}else return{left:"20px",top:`${ne}px`,right:"auto",position:"fixed"}}else{const ne=P.querySelector(".content-container");if(!ne)return{left:"20px",top:"50%",right:"auto"};const ve=ne.getBoundingClientRect(),Te=ve.left,Le=ve.left-G.left;return Te>=220?{left:`${Le-210}px`,top:"50%",right:"auto"}:{left:"20px",top:"50%",right:"auto"}}},[P]),je=reactExports.useRef({timestamp:0,positions:new Map}),ie=100,xe=reactExports.useCallback(()=>{const{current:G}=W;if(!G||!P)return;const X=Date.now(),K=je.current,ne=X-K.timestamp<ie,ve=G.classList.contains("node-indicator")?"node":G.classList.contains("section-indicator")?"section":G.classList.contains("rotate-indicator")?"rotate":G.classList.contains("group-action-indicator")?"group":G.classList.contains("mobile-indicator")?"mobile":null;ve&&requestAnimationFrame(()=>{if(!G||!P)return;let Te;if(ne&&K.positions.has(ve))Te=K.positions.get(ve);else{switch(ve){case"node":case"section":Te=de();break;case"rotate":Te=ue();break;case"group":Te=oe();break;case"mobile":Te=Re();break;default:return}K.positions.set(ve,Te),K.timestamp=X}if(G.style.top=Te.top,G.style.left=Te.left,ve==="section"){const Le=G.querySelector(".section-controls");if(Le){const st=ce();Le.style.left=st.left||"auto",Le.style.right=st.right||"auto",Le.style.top=st.top||"50%"}}})},[P,de,ue,oe,ce,Re]),pe=useThrottle(xe,16);reactExports.useEffect(()=>{const G=[document.querySelector(".craftjs-renderer"),document.querySelector(".page-container"),window].filter(Boolean);return G.forEach(X=>{X.addEventListener("scroll",pe,{passive:!0})}),()=>{G.forEach(X=>{X.removeEventListener("scroll",pe)})}},[pe]);const $e=useThrottle(xe,100);reactExports.useEffect(()=>(window.addEventListener("resize",$e),()=>{window.removeEventListener("resize",$e)}),[$e]);const Se=()=>{if(!B)return;const G=r.node(B).get(),X=G.data.nodes.indexOf(e);X<G.data.nodes.length-1&&o.move(e,B,X+2)},Ie=()=>{if(!B)return;const X=r.node(B).get().data.nodes.indexOf(e);X>0&&o.move(e,B,X-1)},Me=()=>{if(!B)return;const X=r.node(B).get().data.nodes.indexOf(e);X>0&&o.move(e,"ROOT",X-1)},He=()=>{if(!B)return;const G=r.node(B).get(),X=G.data.nodes.indexOf(e);X<G.data.nodes.length-1&&o.move(e,"ROOT",X+2)},{duplicateNode:fe,duplicateSection:Ce,duplicateModalComponent:le,isModalComponent:J}=useDuplication(),se=()=>{try{const G=r.node(e).get();J(G)?le(e,r,o,{closeAllModalComponents:p,openPopup:j,openDropboxEditor:x,openAlbumModal:g}):fe(e)}catch{}},te=G=>{if(G.preventDefault(),G.stopPropagation(),!P||!H&&!U)return;let X;"touches"in G&&G.touches.length>0?X=G.touches[0].clientY:X=G.clientY;const K=P.clientHeight;document.body.style.cursor="ns-resize";const ne=Te=>{if(!P)return;Te.preventDefault();let Le;"touches"in Te&&Te.touches.length>0?Le=Te.touches[0].clientY:"changedTouches"in Te&&Te.changedTouches.length>0?Le=Te.changedTouches[0].clientY:Le=Te.clientY;const st=Le-X,ft=Math.max(100,K+st);P.style.height=`${ft}px`},ve=()=>{document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",ve),document.removeEventListener("touchmove",ne),document.removeEventListener("touchend",ve),document.body.style.cursor="",P&&o.setProp(e,Te=>{Te.height=`${P.clientHeight}px`})};document.addEventListener("mousemove",ne),document.addEventListener("mouseup",ve),document.addEventListener("touchmove",ne,{passive:!1}),document.addEventListener("touchend",ve)},be=()=>{if(H)try{Ce(e)}catch{}},Z=()=>jsxRuntimeExports.jsx(ke,{canvas:!0,is:Sections,height:"400px",backgroundColor:"#f8f9fa"}),Ee=()=>{if(H)try{const G=r.parseReactElement(Z()).toNodeTree(),X=Object.keys(G.nodes)[0],K=G.nodes[X],ve=r.node("ROOT").get().data.nodes.indexOf(e);o.add(K,"ROOT",ve+1)}catch{}},me=F.isChildOfButton||F.isChildOfGroup||F.isChildOfForm,ge=reactExports.useCallback(G=>{if(!i||a.includes(N)||F.isChildOfButton||F.isChildOfGroup||F.isChildOfForm)return;G.ctrlKey||G.metaKey||_?(G.preventDefault(),G.stopPropagation(),v(e)):I(e)},[i,_,v,I,e,N,F.isChildOfButton,F.isChildOfGroup]);reactExports.useEffect(()=>{i&&(a.includes(N)||F.isChildOfButton||F.isChildOfGroup||F.isChildOfForm||s&&!b(e)&&A.length==0&&$(e))},[s,i,N,e,b,$,F.isChildOfButton,F.isChildOfGroup,A.length]),reactExports.useEffect(()=>{if(!(!P||!i))return P.addEventListener("click",ge),()=>{P.removeEventListener("click",ge)}},[P,i,ge]),reactExports.useEffect(()=>{if(!P||!i||!["Group","Form"].includes(N))return;const G=X=>{const K=X.target;K.closest(".resize-handle-top-left")||K.closest(".resize-handle-top-right")||K.closest(".resize-handle-bottom-left")||K.closest(".resize-handle-bottom-right")?o.setProp(e,ve=>{ve.lockAspectRatio=!0}):o.setProp(e,ve=>{ve.lockAspectRatio=!1})};return P.addEventListener("mousedown",G),()=>{P.removeEventListener("mousedown",G)}},[P,i,N,o,e]);const Ke=reactExports.useRef("");reactExports.useEffect(()=>{if(!P||!i)return;const X=a.includes(N)||F.isChildOfButton||F.isChildOfGroup||F.isChildOfForm?!1:b(e);let K="";s||X?K=H?"2px solid #4a90e2":"1px dashed #4a90e2":L&&(K="1px dashed #4a90e2"),Ke.current!==K&&(P.style.outline=K,K==="1px dashed #4a90e2"&&L&&(P.style.outlineStyle="dashed"),Ke.current=K)},[s,L,P,i,b,e,N,H,F.isChildOfButton,F.isChildOfGroup,F.isChildOfForm]);const Ue=reactExports.useRef(!0);reactExports.useEffect(()=>()=>{Ue.current=!1},[]);const _e=reactExports.useRef(null),Qe=reactExports.useCallback(()=>{if(_e.current&&document.body.contains(_e.current))return _e.current;const G=document.querySelector(".page-container");return G?(_e.current=G,G):(_e.current=document.body,document.body)},[]);if(!P)return t;const qe=G=>jsxRuntimeExports.jsxs("div",{ref:G,className:"node-indicator hidden sm:block",style:{position:"absolute",zIndex:zIndex.nodeControl,pointerEvents:"none",...de()},children:[jsxRuntimeExports.jsx("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0}}),jsxRuntimeExports.jsx("div",{className:"node-controls h-[60px] sm:h-[30px] translate-y-[-300%] sm:translate-y-[-400%] translate-x-[-10%] text-xs leading-3 bg-white flex items-center px-2 rounded-sm text-black pointer-events-auto relative z-[1]",onMouseDown:X=>{X.stopPropagation(),X.preventDefault()},children:jsxRuntimeExports.jsx(NodeControls,{id:e,name:N,deletable:k,isLocked:q,onDelete:()=>{try{r.node(e).get()&&(o.setHidden(e,!0),o.delete(e))}catch{try{o.setProp(e,K=>{K.opacity=0,K.pointerEvents="none"}),o.selectNode()}catch{}}},onToggleLock:Y,onBringForward:Se,onSendBackward:Ie,onDuplicate:se,onClosePopup:N==="Popup"?()=>{c()}:void 0,onCloseDropbox:N==="Dropbox"?()=>{l()}:void 0,actions:o,isHidden:F.hidden,onToggleHidden:()=>o.setProp(e,X=>{X.hidden=!X.hidden}),query:r,props:F,isDragging:V})})]}),Ye=G=>{if(G.preventDefault(),G.stopPropagation(),!P)return;let X,K;"touches"in G&&G.touches.length>0?(X=G.touches[0].clientX,K=G.touches[0].clientY):(X=G.clientX,K=G.clientY);const ne=P.getBoundingClientRect(),ve=ne.left+ne.width/2,Te=ne.top+ne.height/2,Le=Math.atan2(K-Te,X-ve)*(180/Math.PI),st=F.rotate||0;document.body.style.cursor="grabbing";const ft=ct=>{if(!P)return;ct.preventDefault();let Et,Tt;"touches"in ct&&ct.touches.length>0?(Et=ct.touches[0].clientX,Tt=ct.touches[0].clientY):"changedTouches"in ct&&ct.changedTouches.length>0?(Et=ct.changedTouches[0].clientX,Tt=ct.changedTouches[0].clientY):(Et=ct.clientX,Tt=ct.clientY);let it=Math.atan2(Tt-Te,Et-ve)*(180/Math.PI)-Le;it=Math.round(it/5)*5;const ae=Math.round(st+it);o.setProp(e,Fe=>{Fe.rotate=ae})},ht=()=>{document.removeEventListener("mousemove",ft),document.removeEventListener("mouseup",ht),document.removeEventListener("touchmove",ft),document.removeEventListener("touchend",ht),document.body.style.cursor=""};document.addEventListener("mousemove",ft),document.addEventListener("mouseup",ht),document.addEventListener("touchmove",ft,{passive:!1}),document.addEventListener("touchend",ht)},nt=G=>jsxRuntimeExports.jsx("div",{ref:G,className:"rotate-indicator hidden sm:block",style:{position:"absolute",zIndex:zIndex.nodeControl,pointerEvents:"none",...ue()},children:jsxRuntimeExports.jsx("div",{className:"node-controls-rotate translate-y-[-300%] sm:translate-y-[-150%] translate-x-[-50%] ",style:{backgroundColor:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",borderRadius:"100%",color:"black",pointerEvents:"auto",position:"relative",zIndex:zIndex.content,transition:"all 0.2s ease",cursor:"grab",touchAction:"none",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},onMouseDown:Ye,onTouchStart:Ye,children:jsxRuntimeExports.jsx(MdRotateLeft,{className:"w-6 h-6"})})}),et=G=>jsxRuntimeExports.jsx("div",{ref:G,className:"group-action-indicator",style:{position:"fixed",zIndex:zIndex.renderNodeHighlight,pointerEvents:"none",...oe()},children:jsxRuntimeExports.jsx("div",{style:{transform:"translateX(-50%)",pointerEvents:"auto",position:"relative",zIndex:zIndex.content},children:jsxRuntimeExports.jsx(GroupActionButtons,{})})}),re=G=>jsxRuntimeExports.jsx("div",{ref:G,className:"mobile-indicator block sm:hidden",style:{position:"fixed",zIndex:zIndex.nodeControl,pointerEvents:"auto",...Re()},children:jsxRuntimeExports.jsxs("div",{style:{transform:"translateX(-50%)",pointerEvents:"auto",position:"relative",zIndex:zIndex.content,display:"flex",gap:"8px",backgroundColor:"#FFFFFF",padding:"8px 12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",border:"1px solid #E5E7EB"},onMouseDown:X=>{X.stopPropagation(),X.preventDefault()},onTouchStart:X=>{X.stopPropagation()},children:[jsxRuntimeExports.jsx("button",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",backgroundColor:u?"#EBF8FF":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"#374151",transition:"all 0.2s ease",touchAction:"manipulation",outline:"none",WebkitTapHighlightColor:"transparent"},onMouseDown:X=>{X.stopPropagation()},onTouchStart:X=>{X.stopPropagation()},onClick:X=>{X.stopPropagation(),X.preventDefault(),u?m():R()},onTouchEnd:X=>{X.stopPropagation(),X.preventDefault(),u?m():R()},children:jsxRuntimeExports.jsx(IoSettingsOutline,{size:20})}),k&&jsxRuntimeExports.jsx("button",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"#DC2626",transition:"all 0.2s ease",touchAction:"manipulation",outline:"none",WebkitTapHighlightColor:"transparent"},onMouseDown:X=>{X.stopPropagation()},onTouchStart:X=>{X.stopPropagation()},onClick:X=>{X.stopPropagation(),X.preventDefault();try{r.node(e).get()&&o.delete(e)}catch{try{o.setProp(e,ne=>{ne.opacity=0,ne.pointerEvents="none"}),o.selectNode()}catch{}}},onTouchEnd:X=>{X.stopPropagation(),X.preventDefault();try{r.node(e).get()&&o.delete(e)}catch{try{o.setProp(e,ne=>{ne.opacity=0,ne.pointerEvents="none"}),o.selectNode()}catch{}}},children:jsxRuntimeExports.jsx(FaTrash,{size:18})})]})}),Xe=G=>jsxRuntimeExports.jsx("div",{ref:G,className:"section-indicator hidden sm:block",style:{position:"absolute",zIndex:zIndex.renderNodeHighlight,pointerEvents:"none",...de()},children:jsxRuntimeExports.jsx("div",{className:"section-controls flex flex-col gap-2 absolute bg-white p-2 rounded shadow-lg pointer-events-auto",style:ce(),onMouseDown:X=>{X.stopPropagation(),X.preventDefault()},children:jsxRuntimeExports.jsx(NodeControls,{id:e,name:N,deletable:k,isLocked:q,onDelete:()=>{try{const X=r.node(e).get();X&&o.delete(X.id)}catch{o.setHidden(e,!0)}},isHidden:F.hidden,onToggleHidden:()=>o.setProp(e,X=>{X.hidden=!X.hidden}),onToggleLock:Y,onBringForward:Me,onSendBackward:He,onDuplicate:be,onClosePopup:N==="Popup"?()=>{c()}:void 0,onCloseDropbox:N==="Dropbox"?()=>{l()}:void 0,actions:o,query:r,props:F,isDragging:V})})}),tt=D&&jsxRuntimeExports.jsxs(SafeAreaBorders,{platform:d,mobileWidth:getMobileWidth(E),desktopWidth:getDesktopWidth(E),children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"20px",cursor:"ns-resize",zIndex:zIndex.renderNodeHighlight,touchAction:"none"},onMouseDown:te,onTouchStart:te}),jsxRuntimeExports.jsx(SectionBottomIndicator,{dom:P,isSection:H,isActive:s,handleResizeMouseDown:te,addNewSection:Ee,duplicateSection:be})]}),rt=G=>{if(!G.current)return null;const X=G.current.getBoundingClientRect(),K=window.pageYOffset||document.documentElement.scrollTop,ne=window.pageXOffset||document.documentElement.scrollLeft;return jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:X.bottom+K-5,left:X.left+ne,width:X.width,height:"10px",backgroundColor:"rgba(65, 88, 208, 0.8)",cursor:"ns-resize",zIndex:zIndex.settingsModal,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:te,onTouchStart:te,children:jsxRuntimeExports.jsx("div",{style:{width:"30px",height:"4px",backgroundColor:"white",borderRadius:"2px"}})})};if(!i&&((we=F.pinning)!=null&&we.enabled)){if(N==="Sections")return jsxRuntimeExports.jsx("div",{className:"w-full",children:t});const G=()=>{const X=document.querySelector(".page-container");if(X)return X;const K=document.querySelector(".craftjs-renderer");return K&&K.parentElement||document.body};return ReactDOM.createPortal(jsxRuntimeExports.jsx(O,{children:t}),G())}const Rt=["Sections","Content Wrapper","AlbumSection","Album Modal","QuickActions","Pages Container","LogoContent"],wt=["Sections","AlbumSection"],St=["Pages Container"],bt=i&&s&&!V&&!me&&!F.isCropMode&&!Rt.includes(N),yt=i&&s&&!V&&wt.includes(N)&&!h,jt=i&&s&&!V&&St.includes(N);return jsxRuntimeExports.jsxs("div",{className:`w-full ${H?"h-full":""}`,children:[bt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ReactDOM.createPortal(nt(W),Qe()),ReactDOM.createPortal(qe(W),Qe()),w&&ReactDOM.createPortal(re(W),Qe())]}),(yt||jt)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yt&&ReactDOM.createPortal(Xe(W),Qe()),jsxRuntimeExports.jsx(SectionBottomIndicator,{dom:P,isSection:H||U,isActive:s,handleResizeMouseDown:te,addNewSection:Ee,duplicateSection:be,showAddSectionButton:!jt})]}),U&&s&&!V&&i&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ReactDOM.createPortal(rt(W),Qe())}),i&&D&&P&&document.body.contains(P)&&ReactDOM.createPortal(tt,P),i&&!V&&(T()||s&&N==="Group")&&ReactDOM.createPortal(et(z),Qe()),t]})};function isContentEmpty(t){if(!t||t==="e30=")return!0;try{const e=lz.decompress(lz.decodeBase64(t));if(!e||e==="{}")return!0;const o=JSON.parse(e);return!o||Object.keys(o).length===0}catch{return!0}}const SelectionBox=()=>{const t=compilerRuntimeExports.c(18),{selectionBox:e,isMultiSelecting:o,forceEndSelection:r}=useMultiSelectContext();let s,i;if(t[0]!==r||t[1]!==o?(s=()=>{if(o){const _=setTimeout(()=>{r()},1e4);return()=>clearTimeout(_)}},i=[o,r],t[0]=r,t[1]=o,t[2]=s,t[3]=i):(s=t[2],i=t[3]),reactExports.useEffect(s,i),!o||!e)return null;const{startX:a,startY:c,endX:l,endY:d}=e,u=Math.min(a,l),m=Math.min(c,d);let R;t[4]!==l||t[5]!==a?(R=Math.abs(l-a),t[4]=l,t[5]=a,t[6]=R):R=t[6];const p=R;let j;t[7]!==d||t[8]!==c?(j=Math.abs(d-c),t[7]=d,t[8]=c,t[9]=j):j=t[9];const x=j,g=`${u}px`,h=`${m}px`,E=`${p}px`,w=`${x}px`;let C;t[10]!==g||t[11]!==h||t[12]!==E||t[13]!==w?(C={position:"fixed",left:g,top:h,width:E,height:w,border:"2px dashed #ff4757",backgroundColor:"rgba(255, 71, 87, 0.15)",pointerEvents:"none",zIndex:zIndex.selectionBox,borderRadius:"4px",boxShadow:"0 0 10px rgba(255, 71, 87, 0.3)"},t[10]=g,t[11]=h,t[12]=E,t[13]=w,t[14]=C):C=t[14];let b;t[15]===Symbol.for("react.memo_cache_sentinel")?(b=jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"-25px",left:"0px",backgroundColor:"#ff4757",color:"white",padding:"2px 8px",fontSize:"11px",fontWeight:"bold",borderRadius:"3px",fontFamily:"system-ui, -apple-system, sans-serif",whiteSpace:"nowrap"},children:"🎯 Chọn vùng"}),t[15]=b):b=t[15];let v;return t[16]!==C?(v=jsxRuntimeExports.jsx("div",{style:C,children:b}),t[16]=C,t[17]=v):v=t[17],v},generateSessionId=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),pingCollaboration=async t=>{try{const e=await apiClient.post("/collaboration/ping",t);return e.data.data||e.data}catch(e){throw e}},getActiveUsers=async(t,e)=>{try{const o=await apiClient.get("/collaboration/active-users",{params:{roomType:t,roomId:e}});return o.data.data||o.data}catch(o){throw o}},startCollaborationSession=async(t,e,o,r)=>await pingCollaboration({userId:t,sessionId:e,roomType:o,roomId:r}),getRoomInfo=(t,e)=>{const o=parseInt(t,10),r=e?"page":"template";if(isNaN(o)||o<=0)throw new Error("Invalid template/page ID for collaboration");return{roomType:r,roomId:o}};let tabSessionId=null;const getOrCreateSessionId=()=>(tabSessionId||(tabSessionId=generateSessionId()),tabSessionId),defaultContext={sessionId:"",isCollaborationActive:!1,activeUsers:[],otherActiveUsersCount:0,isConflictModalOpen:!1,showConflictModal:()=>{},hideConflictModal:()=>{},checkForConflicts:async()=>!1,startSession:async()=>{},stopSession:()=>{},modalProps:{activeUsersCount:0,roomType:"template"}},CollaborationContext=reactExports.createContext(defaultContext),useCollaboration=()=>{const t=reactExports.useContext(CollaborationContext);if(!t)throw new Error("useCollaboration must be used within a CollaborationProvider");return t},CollaborationProvider=({children:t})=>{var v,_;const e=useSelector(selectAuth);if(!((v=e==null?void 0:e.user)!=null&&v.id))return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});const o=getOrCreateSessionId(),[r,s]=reactExports.useState(!1),[i,a]=reactExports.useState([]),[c,l]=reactExports.useState(null),[d,u]=reactExports.useState(!1),[m,R]=reactExports.useState({activeUsersCount:0,roomType:"template"}),[p,j]=reactExports.useState(null),x=i.filter(I=>I.sessionId!==o).length,g=reactExports.useCallback((I,$)=>{R({activeUsersCount:I,roomType:$}),u(!0)},[]),h=reactExports.useCallback(()=>{u(!1)},[]),E=reactExports.useCallback(async(I,$)=>{try{const{roomType:A,roomId:T}=getRoomInfo(I,$);if(window.collaborationTestMode)return g(2,A),!0;const P=(await getActiveUsers(A,T)).filter(N=>N.sessionId!==o);return P.length>0?(g(P.length,A),!0):!1}catch{return!1}},[g]),w=reactExports.useCallback(async(I,$)=>{var A,T;(A=e==null?void 0:e.user)!=null&&A.id||window.mockUserId;try{const{roomType:L,roomId:P}=getRoomInfo(I,$);j({roomType:L,roomId:P});const N=await startCollaborationSession((T=e==null?void 0:e.user)==null?void 0:T.id,o,L,P);a(N),s(!0);const k=setInterval(async()=>{var B;try{const F=await pingCollaboration({userId:(B=e==null?void 0:e.user)==null?void 0:B.id,sessionId:o,roomType:L,roomId:P});a(F)}catch{}},1e4);l(k)}catch{}},[(_=e==null?void 0:e.user)==null?void 0:_.id,o]),C=reactExports.useCallback(()=>{c&&(clearInterval(c),l(null)),s(!1),a([]),j(null)},[c]);reactExports.useEffect(()=>()=>{c&&clearInterval(c)},[c]);const b={sessionId:o,isCollaborationActive:r,activeUsers:i,otherActiveUsersCount:x,isConflictModalOpen:d,showConflictModal:g,hideConflictModal:h,checkForConflicts:E,startSession:w,stopSession:C,modalProps:m};return jsxRuntimeExports.jsx(CollaborationContext.Provider,{value:b,children:t})},NON_COPY_COMPONENTS=["Popup","Dropbox","Content Wrapper","Album Modal","QuickActions"],useCopyPaste=()=>{const{actions:t,query:e}=Pe(),{copiedNode:o,setCopiedNode:r,currentPopupIdOpen:s,currentDropboxEditorIdOpen:i,isCardEditor:a,hasFeature:c}=useViewport(),l=useSelector(selectAuth),d=isAdmin(l),u=reactExports.useCallback(()=>{if(s)try{const x=e.node(s).get();if(x&&x.data.displayName==="Popup")return{type:"popup",targetId:s,isModal:!0}}catch{}if(i)try{const x=e.node(i).get();if(x&&x.data.displayName==="Dropbox")return{type:"dropbox",targetId:i,isModal:!0}}catch{}return null},[s,i,e]),m=reactExports.useCallback(()=>{const x=document.activeElement;if(!x)return!0;if(x.matches('input, textarea, select, [contenteditable="true"], [role="textbox"], [role="combobox"], [role="spinbutton"]')||x.closest(`
      .sidebar,
      .header,
      .toolbar,
      .elements-popup,
      .layer-popup,
      .node-controls,
      .sidebar-content,
      .chakra-modal,
      .chakra-drawer,
      [role="dialog"],
      [role="modal"],
      [role="menu"],
      [role="listbox"],
      [data-testid*="modal"],
      [data-testid*="drawer"],
      [data-testid*="popup"]
    `.replace(/\s+/g," ").trim()))return!1;const E=document.querySelector(".sidebar");if(E&&E.contains(x)||x.closest(".chakra-input, .chakra-textarea, .chakra-select, .chakra-button, .chakra-stack, .chakra-box")||x.closest("[data-settings], [data-toolbar], [data-property-panel]"))return!1;const b=document.querySelector(".craftjs-renderer");return!!(b&&b.contains(x)||x===document.body||x===document.documentElement)},[]),R=reactExports.useCallback(x=>{if((x.ctrlKey||x.metaKey)&&x.key==="c"){if(!m())return;const g=e.getEvent("selected").first();if(!g)return;const h=e.node(g).get(),E=h.data.displayName,w=h.data.props;if(NON_COPY_COMPONENTS.includes(E)||w!=null&&w.isBrand&&!d&&!c("remove_mewedding_logo"))return;try{const C=e.node(g).toNodeTree();if(!C||!C.nodes||!C.rootNodeId)return;r(C)}catch{}}},[e,m,r,d,c]),p=reactExports.useCallback(x=>{if((x.ctrlKey||x.metaKey)&&x.key==="x"){if(!m())return;const g=e.getEvent("selected").first();if(!g)return;const h=e.node(g).get(),E=h.data.displayName,w=h.data.props;if(NON_COPY_COMPONENTS.includes(E))return;if(w!=null&&w.isBrand&&!d&&!c("remove_mewedding_logo")){try{t.setProp(g,C=>{C.hidden=!0})}catch{}return}try{const C=e.node(g).toNodeTree();if(!C||!C.nodes||!C.rootNodeId)return;r(C);try{e.node(g).get()&&t.delete(g)}catch{try{t.setProp(g,v=>{v.opacity=0,v.pointerEvents="none"}),t.selectNode()}catch{}}}catch{}}},[e,t,m,r,d,c]),j=reactExports.useCallback(x=>{var g,h,E,w,C,b;if((x.ctrlKey||x.metaKey)&&x.key==="v"){if(!m()||!o)return;const v=e.getEvent("selected").first();if(!v)return;try{const _=u();let I,$=!1;_?(I=_.targetId,$=!0):I=getTargetSection(e,v,{isCardEditor:a});let A;try{A=e.node(I).get()}catch{return}const T=A.data.nodes.indexOf(v);if(o&&typeof o=="object"&&o.rootNodeId&&o.nodes)try{const P=getCloneTree(o,e,$?{top:"20px",left:"20px"}:{top:"20px",left:"20px"}),N=$?void 0:T+1;t.addNodeTree(P,I,N),setTimeout(()=>{t.selectNode(P.rootNodeId)},100)}catch{const P=o.nodes&&o.rootNodeId?o.nodes[o.rootNodeId]:null;if(P&&P.data){const k={data:{...P.data,props:{...P.data.props,top:(g=P.data.props)!=null&&g.top?`${parseInt(P.data.props.top)+20}px`:"20px",left:(h=P.data.props)!=null&&h.left?`${parseInt(P.data.props.left)+20}px`:"20px"}}},B=e.parseFreshNode(k).toNode(),F=$?void 0:T+1;t.add(B,I,F),setTimeout(()=>{t.selectNode(B.id)},100)}}else try{const L=e.parseSerializedNode(o).toNode();if(!L||!L.data)return;const N={data:{...L.data,props:{...L.data.props,top:(E=L.data.props)!=null&&E.top?`${parseInt(L.data.props.top)+20}px`:"20px",left:(w=L.data.props)!=null&&w.left?`${parseInt(L.data.props.left)+20}px`:"20px"}}},k=e.parseFreshNode(N).toNode(),B=$?void 0:T+1;t.add(k,I,B),setTimeout(()=>{t.selectNode(k.id)},100)}catch(L){throw L}}catch{try{const I=u();let $,A=!1;I?($=I.targetId,A=!0):$=getTargetSection(e,v,{isCardEditor:a});const L=e.node($).get().data.nodes.indexOf(v);let P;if(o&&o.rootNodeId&&o.nodes){const W=o.nodes[o.rootNodeId];P=W&&W.data?W.data:W}else P=o;if(!P)return;const k={data:{...P,props:{...P.props,top:(C=P.props)!=null&&C.top?`${parseInt(P.props.top)+20}px`:"20px",left:(b=P.props)!=null&&b.left?`${parseInt(P.props.left)+20}px`:"20px"}}},B=e.parseFreshNode(k).toNode(),F=A?void 0:L+1;t.add(B,$,F),setTimeout(()=>{t.selectNode(B.id)},100)}catch{}}}},[t,e,m,o,u]);reactExports.useEffect(()=>(document.addEventListener("keydown",R),document.addEventListener("keydown",p),document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keydown",p),document.removeEventListener("keydown",j)}),[R,p,j])},NON_DRAGGABLE_COMPONENTS=["Content Wrapper","Sections","AlbumSection","Album Modal","QuickActions","Pages Container","Logo Container","LogoContent"],RESIZABLE_MODAL_COMPONENTS=["Popup","Dropbox"],SNAP_THRESHOLD=5,SNAP_RENDER_THRESHOLD=1,SNAP_DIGIT=0,KEYBOARD_MOVE_INCREMENT=1,MAX_KEYBOARD_MOVE_INCREMENT=10,KEYBOARD_ACCELERATION_DELAY=150,AlignmentController=({children:t,isCardEditor:e=!1})=>{const o=reactExports.useRef(null),{currentPopupIdOpen:r,currentDropboxEditorIdOpen:s}=useViewport();React.useEffect(()=>{const ae=document.createElement("style");ae.id="moveable-controls-style",ae.innerHTML=`
            .moveable-selection-controls .moveable-control-box,
            .moveable-selection-controls .moveable-line,
            .moveable-selection-controls .moveable-control,
            .moveable-selection-controls .moveable-direction,
            .moveable-selection-controls .moveable-rotation,
            .moveable-selection-controls .moveable-origin,
            .moveable-selection-controls .moveable-snap-digit,
            .moveable-selection-controls .moveable-guideline {
                z-index: ${zIndex.resizer} !important;
            }

            /* Ensure all moveable elements have high z-index */
            .moveable-control-box {
                z-index: ${zIndex.resizer} !important;
            }

            .moveable-line {
                z-index: ${zIndex.resizer} !important;
            }

            .moveable-control {
                z-index: ${zIndex.resizer} !important;
            }

            .moveable-direction {
                z-index: ${zIndex.resizer} !important;
            }

            .moveable-snap-digit {
                z-index: ${zIndex.resizer} !important;
            }

            .moveable-guideline {
                z-index: ${zIndex.resizer} !important;
            }
        `;const Fe=document.getElementById("moveable-controls-style");return Fe&&Fe.remove(),document.head.appendChild(ae),()=>{const ee=document.getElementById("moveable-controls-style");ee&&ee.remove()}},[]);const{actions:i,query:a,selectedNodeId:c}=Pe(ae=>({selectedNodeId:ae.events.selected.values().next().value})),l=useMultiSelectContext(),{selectedNodes:d}=l,[u,m]=reactExports.useState(null),[R,p]=reactExports.useState(!1),[j,x]=reactExports.useState("moveable-group-target"),[g,h]=reactExports.useState("none"),E=reactExports.useRef(new Set),[w,C]=reactExports.useState([]),[b,v]=reactExports.useState(!1),[_,I]=reactExports.useState(!1),[$,A]=reactExports.useState(null),[T,L]=reactExports.useState([]),[P,N]=reactExports.useState([]),[k,B]=reactExports.useState(!1),[F,W]=reactExports.useState(null),[z,H]=reactExports.useState(null),U=reactExports.useRef(null),D=reactExports.useRef(0),O=reactExports.useRef(KEYBOARD_MOVE_INCREMENT),Q=reactExports.useRef(null),q=reactExports.useRef(null),Y=reactExports.useRef(null),V=300,de=reactExports.useCallback(ae=>{const Fe=ae.getBoundingClientRect();return{left:0,top:0,right:Fe.width,bottom:Fe.height}},[]),ue=reactExports.useMemo(()=>({toPx:(ae,Fe)=>typeof ae=="string"?percentToPx(ae,Fe):ae,toPercent:(ae,Fe)=>pxToPercent(ae,Fe)+"%"}),[]),Re=reactExports.useRef(new Map),oe=reactExports.useRef(Date.now()),ce=100,je=reactExports.useCallback((ae,Fe)=>{if(!a)return null;const ee=Date.now();if(ee-oe.current<ce){const Be=Re.current.get(ae);if(Be)return Be}else Re.current.clear(),oe.current=ee;try{const Be=a.node(ae).get();if(!Be)return null;let ze={width:"width",height:"height"};if(Fe){const We=Fe.getAttribute("data-prop-width"),Ve=Fe.getAttribute("data-prop-height");(We||Ve)&&(ze={width:We||void 0,height:Ve||void 0})}const Ge={width:ze.width?Be.data.props[ze.width]:void 0,height:ze.height?Be.data.props[ze.height]:void 0,left:Be.data.props.left,top:Be.data.props.top,displayName:Be.data.displayName,isChildOfButton:Be.data.props.isChildOfButton,isChildOfGroup:Be.data.props.isChildOfGroup,isChildOfForm:Be.data.props.isChildOfForm,locked:Be.data.props.locked||!1,propKey:ze,canResizeWidth:!!ze.width,canResizeHeight:!!ze.height,lockAspectRatio:Be.data.props.lockAspectRatio,resizeEnabled:(Fe==null?void 0:Fe.getAttribute("data-resize-enabled"))==="true",enableDrag:(Fe==null?void 0:Fe.getAttribute("data-enable-drag"))!=="false"};return Re.current.set(ae,Ge),Ge}catch{return null}},[a]),ie=ae=>ae?ae.locked?{width:!1,height:!1}:ae.isChildOfButton||ae.isChildOfGroup?{width:!1,height:!1}:{width:ae.width!==void 0,height:ae.height!==void 0}:{width:!1,height:!1},xe=reactExports.useCallback(()=>{E.current.forEach(ae=>{document.body.contains(ae)&&Array.from(ae.classList).forEach(ee=>{ee.startsWith("moveable-group-target")&&ae.classList.remove(ee)})}),E.current.clear()},[]),pe=reactExports.useRef(null),$e=reactExports.useRef(new Map),Se=reactExports.useCallback((ae,Fe,ee=100)=>{$e.current.has(ae)&&clearTimeout($e.current.get(ae));const Be=setTimeout(()=>{i.setProp(ae,Fe),$e.current.delete(ae)},ee);$e.current.set(ae,Be)},[i]);reactExports.useEffect(()=>()=>{$e.current.forEach(ae=>clearTimeout(ae)),$e.current.clear()},[]);const Ie=reactExports.useCallback(ae=>{if(pe.current){const Ve=pe.current,Je=Math.abs(Ve.width-ae.width),he=Math.abs(Ve.height-ae.height);if(Je<10&&he<10)return{verticals:Ve.verticals,horizontals:Ve.horizontals}}const Fe=[],ee=[],Be=ae.width>2e3||ae.height>2e3?40:20,ze=100,Ge=Math.max(Be,Math.floor(ae.width/ze)),We=Math.max(Be,Math.floor(ae.height/ze));for(let Ve=0;Ve<=ae.width;Ve+=Ge)Fe.push(Ve);for(let Ve=0;Ve<=ae.height;Ve+=We)ee.push(Ve);return Fe.push(ae.width/2),ee.push(ae.height/2),pe.current={width:ae.width,height:ae.height,verticals:Fe,horizontals:ee},{verticals:Fe,horizontals:ee}},[]);reactExports.useEffect(()=>{const ae=d.filter(ee=>{try{const Be=a.node(ee).get();return Be&&!Be.data.props.isChildOfGroup}catch{return!1}}),Fe=ae.length>1;if(c&&!Fe){xe();const ee=a.node(c).get();if(ee&&ee.dom)if(ee.data.displayName==="Group"){h("groupContainer"),p(!1),v(!0),m(ee.dom);const Be=ee.data.parent;if(Be){const ze=a.node(Be).get(),We=(ze.data.nodes||[]).filter(Ve=>Ve!==c).map(Ve=>{const Je=a.node(Ve).get();return Je==null?void 0:Je.dom}).filter(Ve=>Ve!==null);if(C(We),ze.dom){const Ve=de(ze.dom);A(Ve);const Je=ze.dom.getBoundingClientRect(),{verticals:he,horizontals:at}=Ie(Je);L(he),N(at)}}}else{h("single");const Be=!NON_DRAGGABLE_COMPONENTS.includes(ee.data.displayName),ze=RESIZABLE_MODAL_COMPONENTS.includes(ee.data.displayName),Ge=ee.data.props,We=Ge.isChildOfButton||Ge.isChildOfGroup;v((Be||ze)&&!We),p(!1),m(ee.dom);const Ve=ee.data.parent;if(Ve){const Je=a.node(Ve).get(),at=Je.data.nodes.filter(xt=>xt!==c).map(xt=>{const gt=a.node(xt).get();return gt==null?void 0:gt.dom}).filter(xt=>xt!==null);if(C(at),Je.dom){const xt=de(Je.dom);A(xt);const gt=Je.dom.getBoundingClientRect(),{verticals:Oe,horizontals:Ze}=Ie(gt);L(Oe),N(Ze)}}}}else if(Fe){h("multi");const ee=`moveable-group-target-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;x(ee),xe();const Be=[];let ze=!0,Ge=0;if(ae.forEach(We=>{try{const Ve=a.node(We).get();if(Ve&&Ve.dom){NON_DRAGGABLE_COMPONENTS.includes(Ve.data.displayName)&&(ze=!1),RESIZABLE_MODAL_COMPONENTS.includes(Ve.data.displayName)&&(ze=!1);const Je=Ve.data.props;(Je.isChildOfButton||Je.isChildOfGroup||Je.isChildOfForm)&&(ze=!1),Ve.dom.classList.add(ee),Ve.dom.setAttribute("data-node-id",We),Be.push(Ve.dom),E.current.add(Ve.dom),Ge++}}catch{}}),Ge===0){m(null),p(!1),C([]),A(null),L([]),N([]);return}if(v(ze),p(!0),m(`.${ee}`),ae.length>0){const We=a.node(ae[0]).get();if(We){const Ve=We.data.parent;if(Ve){const Je=a.node(Ve).get(),at=Je.data.nodes.filter(xt=>!ae.includes(xt)).map(xt=>{const gt=a.node(xt).get();return gt==null?void 0:gt.dom}).filter(xt=>xt!==null);if(C(at),Je.dom){const xt=de(Je.dom);A(xt);const gt=Je.dom.getBoundingClientRect(),{verticals:Oe,horizontals:Ze}=Ie(gt);L(Oe),N(Ze)}}}}}else h("none"),xe(),m(null),p(!1),C([]),A(null),L([]),N([])},[c,d,a,de,Ie,xe]);const Me=50,He=reactExports.useCallback((ae,Fe)=>{if(!Fe)return null;try{const ee=a.node(Fe).get();if(!ee)return null;const ze=a.node("ROOT").get().data.nodes.filter(Ve=>{const Je=a.node(Ve).get();return Je&&Je.data.displayName==="Sections"}),Ge=ae.getBoundingClientRect(),We=Ge.top+Ge.height/2;for(const Ve of ze){const Je=a.node(Ve).get();if(!Je||!Je.dom)continue;const he=Je.dom.getBoundingClientRect();if(We>=he.top-Me&&We<=he.bottom+Me&&Ve!==ee.data.parent)return Ve}}catch{}return null},[a]),fe=reactExports.useCallback((ae,Fe,ee,Be)=>{Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{if(r||s)return;const ze=He(ae,Fe);if(ze)try{const Ge=a.node(Fe).get();if(Ge&&Ge.data.parent!==ze){const We=a.node(ze).get();if(We&&We.dom){const Ve=We.dom.getBoundingClientRect(),he=ae.getBoundingClientRect().top-Ve.top;i.move(Fe,ze,0),i.setProp(Fe,at=>{at.top=`${he}px`,at.left=`${ee}px`})}}}catch{}},V)},[a,i,He,r,s]),Ce=reactExports.useCallback(ae=>{if(!u||!b)return;const Fe=d.filter(Je=>{try{const he=a.node(Je).get();return he&&!he.data.props.isChildOfGroup}catch{return!1}});if(R&&Fe.length===0||!R&&!c||!R&&typeof u!="string"&&!Array.isArray(u)&&u.getAttribute("data-enable-drag")==="false"||ae.ctrlKey||ae.metaKey||ae.altKey||ae.shiftKey)return;const ee=document.activeElement;if(ee&&(ee.tagName==="INPUT"||ee.tagName==="TEXTAREA"||ee.tagName==="SELECT"||ee.contentEditable==="true"))return;const Be=ae.key;if(q.current===Be){D.current+=1;const Je=Math.min(KEYBOARD_MOVE_INCREMENT+Math.floor(D.current/3),MAX_KEYBOARD_MOVE_INCREMENT);O.current=Je}else D.current=0,O.current=KEYBOARD_MOVE_INCREMENT,q.current=Be;Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{D.current=0,O.current=KEYBOARD_MOVE_INCREMENT,q.current=null},KEYBOARD_ACCELERATION_DELAY);let Ge=0,We=0;switch(ae.key){case"ArrowUp":We=-O.current;break;case"ArrowDown":We=O.current;break;case"ArrowLeft":Ge=-O.current;break;case"ArrowRight":Ge=O.current;break;default:return}ae.preventDefault(),ae.stopPropagation();const Ve=(Je,he,at)=>{const xt=Je.getBoundingClientRect();let gt=null;if(r)try{const Oe=a.node(r).get();Oe&&Oe.data.displayName==="Popup"&&Oe.dom&&(gt=Oe.dom.getBoundingClientRect())}catch{}else if(s)try{const Oe=a.node(s).get();Oe&&Oe.data.displayName==="Dropbox"&&Oe.dom&&(gt=Oe.dom.getBoundingClientRect())}catch{}if(gt){const Ze=gt.width-xt.width,kt=0,Mt=gt.height-xt.height;return{x:Math.max(0,Math.min(Ze,he)),y:Math.max(kt,Math.min(Mt,at))}}return{x:Math.max(0,he),y:Math.max(0,at)}};if(g==="groupContainer"){const Je=u,he=parseInt(Je.style.left||"0"),at=parseInt(Je.style.top||"0");let xt=he+Ge,gt=at+We;const Oe=Ve(Je,xt,gt);xt=Oe.x,gt=Oe.y,Je.style.left=`${xt}px`,Je.style.top=`${gt}px`,c&&(i.setProp(c,Ze=>{Ze.left=`${xt}px`,Ze.top=`${gt}px`}),fe(Je,c,xt,gt))}else if(R)document.querySelectorAll(".moveable-group-target").forEach(he=>{const at=he.getAttribute("data-node-id");if(!at)return;const xt=parseInt(he.style.left||"0"),gt=parseInt(he.style.top||"0");let Oe=xt+Ge,Ze=gt+We;const kt=Ve(he,Oe,Ze);Oe=kt.x,Ze=kt.y,he.style.left=`${Oe}px`,he.style.top=`${Ze}px`,i.setProp(at,Mt=>{Mt.left=`${Oe}px`,Mt.top=`${Ze}px`}),fe(he,at,Oe,Ze)});else{const Je=u,he=parseInt(Je.style.left||"0"),at=parseInt(Je.style.top||"0");let xt=he+Ge,gt=at+We;const Oe=Ve(Je,xt,gt);xt=Oe.x,gt=Oe.y,Je.style.left=`${xt}px`,Je.style.top=`${gt}px`,c&&(i.setProp(c,Ze=>{Ze.left=`${xt}px`,Ze.top=`${gt}px`}),fe(Je,c,xt,gt))}o.current&&setTimeout(()=>{o.current&&o.current.updateRect()},0)},[u,b,d,R,c,a,i,fe,r,s]);reactExports.useEffect(()=>{if(c&&u&&b)return document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[c,u,b,Ce]),reactExports.useEffect(()=>()=>{Q.current&&clearTimeout(Q.current),Y.current&&clearTimeout(Y.current)},[]);const le=reactExports.useMemo(()=>({left:!0,top:!0,right:!0,bottom:!0,center:!0,middle:!0}),[]),J=reactExports.useMemo(()=>({left:!0,top:!0,right:!0,bottom:!0,center:!0,middle:!0}),[]),se=()=>{var ae,Fe;if(typeof u=="string"||Array.isArray(u))return R&&d.length>0?!d.some(Be=>{var ze,Ge;try{const We=a.node(Be).get();return((Ge=(ze=We==null?void 0:We.data)==null?void 0:ze.props)==null?void 0:Ge.locked)===!0}catch{return!1}}):!0;if(!u)return!1;if(c){const ee=a.node(c).get();if(ee&&RESIZABLE_MODAL_COMPONENTS.includes(ee.data.displayName)||((Fe=(ae=ee==null?void 0:ee.data)==null?void 0:ae.props)==null?void 0:Fe.locked)===!0)return!1}return u.getAttribute("data-enable-drag")!=="false"},te=()=>{var ae,Fe;if(g==="groupContainer")return!0;if(!R&&c)try{const ee=a.node(c).get();if(((Fe=(ae=ee==null?void 0:ee.data)==null?void 0:ae.props)==null?void 0:Fe.locked)===!0)return!1}catch{}return R&&d.length>0?!d.some(Be=>{var ze,Ge;try{const We=a.node(Be).get();return((Ge=(ze=We==null?void 0:We.data)==null?void 0:ze.props)==null?void 0:Ge.locked)===!0}catch{return!1}}):!0},be=()=>g==="groupContainer"?!1:R&&d.length>0?!d.some(Fe=>{var ee,Be;try{const ze=a.node(Fe).get();return((Be=(ee=ze==null?void 0:ze.data)==null?void 0:ee.props)==null?void 0:Be.locked)===!0}catch{return!1}}):!1,Z=()=>{var ae;return R||(c?(ae=je(c,u))==null?void 0:ae.lockAspectRatio:!1)},Ee=()=>0,me=()=>R?["nw","ne","sw","se"]:void 0,ge=()=>!1,Ke=()=>!0,Ue=()=>SNAP_THRESHOLD,_e=()=>SNAP_RENDER_THRESHOLD,Qe=()=>SNAP_DIGIT,qe=()=>le,Ye=()=>J,nt=()=>!0,et=()=>!0,re=()=>!1,Xe=()=>w,tt=()=>T,rt=()=>P,Rt=()=>0,wt=()=>0,St=()=>"moveable-selection-controls",bt=()=>{I(!0)},yt=({target:ae,left:Fe,top:ee})=>{if(!R&&typeof ae!="string"){const Be=ae;Be.style.left=`${Fe}px`,Be.style.top=`${ee}px`,Be.style.setProperty("z-index",`${zIndex.dragging}`,"important");const ze=Be.closest(".sections-wrapper");ze&&ze.style.setProperty("isolation","auto","important")}},jt=({target:ae,isDrag:Fe})=>{if(I(!1),!Fe||R||typeof ae=="string")return;const ee=ae,Be=parseInt(ee.style.left,10)||0,ze=parseInt(ee.style.top,10)||0;if(c){ee.style.removeProperty("z-index");const Ge=ee.closest(".sections-wrapper");Ge&&Ge.style.removeProperty("isolation");const We=He(ee,c),Ve=a.node(c).get();if(We&&RESIZABLE_MODAL_COMPONENTS.includes(Ve.data.displayName))try{const Je=a.node(c).get();if(Je&&Je.data.parent!==We){const he=a.node(We).get();if(he&&he.dom){const at=he.dom.getBoundingClientRect(),gt=ee.getBoundingClientRect().top-at.top;i.move(c,We,0),Se(c,Oe=>{Oe.top=`${gt}px`,Oe.left=`${Be}px`});return}}}catch{}Se(c,Je=>{Je.left=`${Be}px`,Je.top=`${ze}px`})}},we=()=>{I(!0)},G=({targets:ae,events:Fe})=>{ae.forEach((ee,Be)=>{if(ee instanceof HTMLElement){ee.style.left=`${Fe[Be].left}px`,ee.style.top=`${Fe[Be].top}px`,ee.style.setProperty("z-index",`${zIndex.dragging}`,"important");const ze=ee.closest(".sections-wrapper");ze&&ze.style.setProperty("isolation","auto","important")}})},X=({targets:ae,isDrag:Fe})=>{I(!1),Fe&&ae.forEach(ee=>{if(ee instanceof HTMLElement){const Be=ee.getAttribute("data-node-id")||ee.getAttribute("data-craftjs-node-id")||ee.id;if(Be){ee.style.removeProperty("z-index");const ze=ee.closest(".sections-wrapper");ze&&ze.style.removeProperty("isolation");const Ge=parseInt(ee.style.left,10)||0,We=parseInt(ee.style.top,10)||0,Ve=He(ee,Be);if(Ve)try{const Je=a.node(Be).get();if(Je&&Je.data.parent!==Ve){const he=a.node(Ve).get();if(he&&he.dom){const at=he.dom.getBoundingClientRect(),gt=ee.getBoundingClientRect().top-at.top;i.move(Be,Ve,0),Se(Be,Oe=>{Oe.top=`${gt}px`});return}}}catch{}Se(Be,Je=>{Je.left=`${Ge}px`,Je.top=`${We}px`})}}})},K=({target:ae})=>{if(g==="groupContainer")return Et({target:ae});if(!c||R||typeof ae=="string")return;B(!0),I(!0);const Fe=ae.getBoundingClientRect();W({width:Fe.width,height:Fe.height});const ee=je(c,ae);if(ee){const Be=ee.displayName&&RESIZABLE_MODAL_COMPONENTS.includes(ee.displayName);H(Be?{left:0,top:0}:{left:parseFloat(String(ee.left||"0")),top:parseFloat(String(ee.top||"0"))})}},ne=({target:ae,width:Fe,height:ee,direction:Be})=>{if(g==="groupContainer")return Tt({target:ae,width:Fe,height:ee});if(!c||!F||R||typeof ae=="string")return;const ze=je(c,ae);if(!ze)return;const Ge=ze.displayName&&RESIZABLE_MODAL_COMPONENTS.includes(ze.displayName),We=ie(ze),Ve=ae.parentElement;if(!Ve)return;const Je=(xt,gt)=>{const Oe=Ge?window.innerWidth:getElementDimensions(Ve).width,Ze=Ge?window.innerHeight:getElementDimensions(Ve).height;let kt=ze.width,Mt=ze.height;return We.width&&(kt=isPercentage(String(ze.width))?ue.toPercent(xt,Oe):`${xt}px`),We.height&&(Mt=isPercentage(String(ze.height))?ue.toPercent(gt,Ze):`${gt}px`),{finalWidth:kt,finalHeight:Mt}},{finalWidth:he,finalHeight:at}=Je(Fe,ee);if(We.width&&typeof he=="string"&&(ae.style.width=he),We.height&&typeof at=="string"&&(ae.style.height=at),!Ge&&z&&F){const xt=Fe-F.width,gt=ee-F.height;let Oe=z.left,Ze=z.top;const kt=Array.isArray(Be)&&Be[0]<0,Mt=Array.isArray(Be)&&Be[1]<0;kt&&(Oe=z.left-xt),Mt&&(Ze=z.top-gt),ze.left!==void 0&&(ae.style.left=`${Oe}px`),ze.top!==void 0&&(ae.style.top=`${Ze}px`)}},ve=({target:ae,isDrag:Fe})=>{if(g==="groupContainer")return vt({target:ae,isDrag:Fe});if(!Fe||!c||R||typeof ae=="string")return;B(!1),I(!1);const ee=je(c,ae);if(!ee)return;const Be=ee.displayName&&RESIZABLE_MODAL_COMPONENTS.includes(ee.displayName),ze=ie(ee),Ge=ae.style.width,We=ae.style.height,Ve=ae.style.left,Je=ae.style.top;Se(c,he=>{ze.width&&Ge&&ee.propKey.width&&(he[ee.propKey.width]=Ge),ze.height&&We&&ee.propKey.height&&(he[ee.propKey.height]=We),Be||(ee.left!==void 0&&Ve&&(he.left=Ve),ee.top!==void 0&&Je&&(he.top=Je))}),W(null),H(null)},Te=()=>{I(!0)},Le=({targets:ae,events:Fe})=>{ae.forEach((ee,Be)=>{if(ee instanceof HTMLElement){const ze=Fe[Be];ee.style.width=`${ze.width}px`,ee.style.height=`${ze.height}px`}})},st=({targets:ae,isDrag:Fe})=>{I(!1),Fe&&ae.forEach(ee=>{if(ee instanceof HTMLElement){const Be=ee.getAttribute("data-node-id");if(Be){const ze=ee.style.width,Ge=ee.style.height;Se(Be,We=>{ze&&(We.width=ze),Ge&&(We.height=Ge)})}}})},ft=()=>{I(!0)},ht=({targets:ae,events:Fe})=>{ae.forEach((ee,Be)=>{if(ee instanceof HTMLElement){const ze=Fe[Be];ee.style.transform=`scale(${ze.scale[0]}, ${ze.scale[1]})`}})},ct=({targets:ae,isDrag:Fe})=>{I(!1),Fe&&ae.forEach(ee=>{var Be;if(ee instanceof HTMLElement){const ze=ee.getAttribute("data-node-id");if(ze){const Ge=ee.getBoundingClientRect(),We=(Be=ee.parentElement)==null?void 0:Be.getBoundingClientRect();if(We){const Ve=Ge.left-We.left,Je=Ge.top-We.top,he=Ge.width,at=Ge.height;ee.style.transform="",ee.style.left=`${Ve}px`,ee.style.top=`${Je}px`,ee.style.width=`${he}px`,ee.style.height=`${at}px`,Se(ze,xt=>{xt.left=`${Ve}px`,xt.top=`${Je}px`,xt.width=`${he}px`,xt.height=`${at}px`})}}}})},Et=({target:ae})=>{var We;if(g!=="groupContainer"||!c)return;const ee=ae.getBoundingClientRect(),Be=a.node(c).get(),Ge=(((We=Be==null?void 0:Be.data)==null?void 0:We.nodes)||[]).map(Ve=>{var gt;const Je=a.node(Ve).get(),he=Je==null?void 0:Je.dom,at=((gt=Je==null?void 0:Je.data)==null?void 0:gt.props)||{},xt=he.getBoundingClientRect();return{id:Ve,el:he,left:parseFloat(String(at.left??"0").replace("px","").replace("%",""))||0,top:parseFloat(String(at.top??"0").replace("px","").replace("%",""))||0,width:parseFloat(String(at.width??xt.width).replace("px","").replace("%",""))||xt.width,height:parseFloat(String(at.height??xt.height).replace("px","").replace("%",""))||xt.height,leftIsPct:typeof at.left=="string"&&at.left.includes("%"),topIsPct:typeof at.top=="string"&&at.top.includes("%"),widthIsPct:typeof at.width=="string"&&at.width.includes("%"),heightIsPct:typeof at.height=="string"&&at.height.includes("%")}});U.current={initGroup:{w:ee.width,h:ee.height,left:ee.left,top:ee.top},items:Ge},B(!0),I(!0)},Tt=({target:ae,width:Fe,height:ee})=>{if(g!=="groupContainer"||!U.current)return;ae.style.width=`${Fe}px`,ae.style.height=`${ee}px`;const{initGroup:Be,items:ze}=U.current,Ge=Fe/Math.max(1,Be.w),We=ee/Math.max(1,Be.h);ze.forEach(Ve=>{const Je=Math.round(Ve.left*Ge),he=Math.round(Ve.top*We),at=Math.max(1,Math.round(Ve.width*Ge)),xt=Math.max(1,Math.round(Ve.height*We));Ve.el.style.left=`${Je}px`,Ve.el.style.top=`${he}px`,Ve.el.style.width=`${at}px`,Ve.el.style.height=`${xt}px`})},vt=({target:ae,isDrag:Fe})=>{if(g!=="groupContainer"||!Fe||!U.current||!c)return;const ee=ae,Be=parseFloat(ee.style.width||"0"),ze=parseFloat(ee.style.height||"0");Se(c,he=>{he.width=`${Be}px`,he.height=`${ze}px`});const{initGroup:Ge,items:We}=U.current,Ve=Be/Math.max(1,Ge.w),Je=ze/Math.max(1,Ge.h);We.forEach(he=>{const at=he.left*Ve,xt=he.top*Je,gt=he.width*Ve,Oe=he.height*Je;Se(he.id,Ze=>{he.leftIsPct?Ze.left=`${pxToPercent(at,Be)}%`:Ze.left=`${Math.round(at)}px`,he.topIsPct?Ze.top=`${pxToPercent(xt,ze)}%`:Ze.top=`${Math.round(xt)}px`,he.widthIsPct?Ze.width=`${pxToPercent(gt,Be)}%`:Ze.width=`${Math.round(gt)}px`,he.heightIsPct?Ze.height=`${pxToPercent(Oe,ze)}%`:Ze.height=`${Math.round(Oe)}px`}),he.el.style.left="",he.el.style.top="",he.el.style.width="",he.el.style.height=""}),U.current=null,B(!1),I(!1)},it=reactExports.useMemo(()=>{var ae;if(!c)return!1;try{const Fe=a.node(c).get();return((ae=Fe==null?void 0:Fe.data)==null?void 0:ae.displayName)&&RESIZABLE_MODAL_COMPONENTS.includes(Fe.data.displayName)}catch{return!1}},[c,a]);return jsxRuntimeExports.jsxs(DraggingProvider,{isDragging:_,children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto"},children:[t,u&&b&&!it&&jsxRuntimeExports.jsx(Moveable,{ref:o,target:u,draggable:se(),resizable:te(),scalable:be(),keepRatio:Z(),throttleScale:Ee(),renderDirections:me(),rotatable:ge(),snappable:Ke(),snapThreshold:Ue(),snapRenderThreshold:_e(),snapDigit:Qe(),snapDirections:qe(),elementSnapDirections:Ye(),snapGap:nt(),isDisplaySnapDigit:et(),isDisplayInnerSnapDigit:re(),elementGuidelines:Xe(),verticalGuidelines:tt(),horizontalGuidelines:rt(),snapGridWidth:Rt(),snapGridHeight:wt(),className:St(),onDragStart:bt,onDrag:yt,onDragEnd:jt,onDragGroupStart:we,onDragGroup:G,onDragGroupEnd:X,onResizeStart:K,onResize:ne,onResizeEnd:ve,onResizeGroupStart:Te,onResizeGroup:Le,onResizeGroupEnd:st,onScaleGroupStart:ft,onScaleGroup:ht,onScaleGroupEnd:ct})]}),u&&b&&it&&typeof document<"u"&&ReactDOM.createPortal(jsxRuntimeExports.jsx(Moveable,{ref:o,target:u,draggable:se(),resizable:te(),scalable:be(),keepRatio:Z(),throttleScale:Ee(),renderDirections:me(),rotatable:ge(),snappable:Ke(),snapThreshold:Ue(),snapRenderThreshold:_e(),snapDigit:Qe(),snapDirections:qe(),elementSnapDirections:Ye(),snapGap:nt(),isDisplaySnapDigit:et(),isDisplayInnerSnapDigit:re(),elementGuidelines:[],verticalGuidelines:[],horizontalGuidelines:[],snapGridWidth:Rt(),snapGridHeight:wt(),className:St(),onDragStart:bt,onDrag:yt,onDragEnd:jt,onDragGroupStart:we,onDragGroup:G,onDragGroupEnd:X,onResizeStart:K,onResize:ne,onResizeEnd:ve,onResizeGroupStart:Te,onResizeGroup:Le,onResizeGroupEnd:st,onScaleGroupStart:ft,onScaleGroup:ht,onScaleGroupEnd:ct}),document.body)]})},ElementItem=t=>{const e=compilerRuntimeExports.c(21),{icon:o,label:r,onClick:s,active:i,"data-asset":a,disabled:c}=t,l=c===void 0?!1:c,d=l?"not-allowed":"pointer",u=l?"gray.50":"blue.50";let m;e[0]!==u?(m={bg:u},e[0]=u,e[1]=m):m=e[1];const R=i?"blue.100":l?"gray.50":"white",p=l?void 0:s,j=l?.5:1,x=l?"gray.400":i?"blue.600":"gray.600";let g;e[2]!==o||e[3]!==x?(g=jsxRuntimeExports.jsx(Box,{color:x,fontSize:"lg",children:o}),e[2]=o,e[3]=x,e[4]=g):g=e[4];const h=i?"semibold":"medium",E=l?"gray.400":i?"blue.700":"gray.700";let w;e[5]!==r||e[6]!==h||e[7]!==E?(w=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:h,color:E,children:r}),e[5]=r,e[6]=h,e[7]=E,e[8]=w):w=e[8];let C;e[9]!==l?(C=l&&jsxRuntimeExports.jsx(Box,{position:"absolute",right:"8px",top:"8px",bg:"orange.500",borderRadius:"full",p:.5,display:"flex",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx(FaCrown,{fontSize:"8px",color:"white"})}),e[9]=l,e[10]=C):C=e[10];let b;return e[11]!==a||e[12]!==w||e[13]!==C||e[14]!==d||e[15]!==m||e[16]!==R||e[17]!==p||e[18]!==j||e[19]!==g?(b=jsxRuntimeExports.jsxs(Box,{p:3,cursor:d,_hover:m,bg:R,borderRadius:"lg",onClick:p,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:3,transition:"all 0.2s","data-asset":a,opacity:j,position:"relative",children:[g,w,C]}),e[11]=a,e[12]=w,e[13]=C,e[14]=d,e[15]=m,e[16]=R,e[17]=p,e[18]=j,e[19]=g,e[20]=b):b=e[20],b},scrollbarStyles={overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#c1c1c1 #f1f1f1"},scrollbarCSS=`
.elements-popup-scroll {
  overflow-y: auto !important;
  scrollbar-width: thin;
  scrollbar-color: #c1c1c1 #f1f1f1;
}

.elements-popup-scroll::-webkit-scrollbar {
  width: 8px;
}

.elements-popup-scroll::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

.elements-popup-scroll::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

.elements-popup-scroll::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}
`,loadAssetContent=(t,e,o,r)=>{let s=null,i=!1;if(e==="desktop"?t.content?s=t.content:t.contentMobile&&(s=t.contentMobile,i=!0):t.contentMobile?s=t.contentMobile:t.content&&(s=t.content,i=!0),!s)throw new Error("No content available for this asset");const a=lz.decompress(lz.decodeBase64(s));if(i)try{const c=createDefaultContent(e,o,r);return synchronizeContent(a,c)}catch{return a}return a},loadDualPlatformAsset=(t,e,o,r,s,i,a,c,l)=>{var d,u;if(!(!o.content||!o.contentMobile))try{const m={};((v,_)=>{const I=e.rootNodeId,$=t.rootNodeId;m[I]=$;const A=(T,L)=>{var F,W;const P=v[T],N=_[L];if(!P||!N)return;const k=((F=P.data)==null?void 0:F.nodes)||P.nodes,B=((W=N.data)==null?void 0:W.nodes)||N.nodes;if(k&&B&&k.length===B.length)for(let z=0;z<k.length;z++){const H=k[z],U=B[z];m[H]=U,A(H,U)}};A(I,$)})(e.nodes,t.nodes);const p=r==="desktop"?o.contentMobile:o.content,j=lz.decompress(lz.decodeBase64(p)),x=JSON.parse(j),g={};for(const[v,_]of Object.entries(x.nodes)){const I=m[v];if(I){const $={..._};$.parent&&m[$.parent]&&($.parent=m[$.parent]),$.nodes&&($.nodes=$.nodes.map(A=>m[A]||A)),g[I]=$}}const h=r==="desktop"?a:i,w={...h?JSON.parse(h):{},...g},C=JSON.stringify(w);r==="desktop"?l(C):c(C);const b=t.rootNodeId;(u=(d=t.nodes[b])==null?void 0:d.data)!=null&&u.props&&(t.nodes[b].data.props.isAssetDualPlatform=!0)}catch{}},ElementsPopup=()=>{const{actions:t,selected:e,query:o}=Pe((we,G)=>({selected:we.events.selected,nodes:we.nodes})),[r,s]=React.useState(0);React.useEffect(()=>{const we="elements-popup-scrollbar-styles";if(!document.getElementById(we)){const G=document.createElement("style");G.id=we,G.textContent=scrollbarCSS,document.head.appendChild(G)}},[]);const{isLoading:i,data:a}=useGetAssets(),c=useDeleteAsset(),{isElementsPopupOpen:l,closeAllPopups:d,openPopup:u,currentPopupIdOpen:m,openDropboxEditor:R,currentDropboxEditorIdOpen:p,closeAllModalComponents:j,showIconPickerModal:x,desktopContent:g,mobileContent:h,setDesktopContent:E,setMobileContent:w,currentEditingPlatform:C,isCardEditor:b,isLogoEditor:v,hasFeature:_}=useViewport(),I=useIsMobile(),$=_("layout_block_reorder"),A=_("element_form_limits"),T=_("element_video_limits_basic"),L=_("element_html_block_basic"),P=_("element_wishes_block_basic"),N=we=>{if($)return!0;switch(we){case"form":return A;case"video":return T;case"html":return L;case"wishlist":return P;default:return!1}};React.useEffect(()=>{s(we=>we+1)},[g,h,C]);const[k,B]=reactExports.useState("basic"),[F,W]=reactExports.useState("container"),[z,H]=reactExports.useState(""),[U,D]=reactExports.useState(FileType.IMAGE),[O,Q]=reactExports.useState(""),[q,Y]=reactExports.useState("page"),[V,de]=reactExports.useState("page"),[ue,Re]=reactExports.useState("page"),[oe,ce]=reactExports.useState(!1),[je,ie]=reactExports.useState(null),[xe,pe]=reactExports.useState(null),{data:$e,isLoading:Se}=useGetFiles(U);reactExports.useEffect(()=>{oe&&d()},[oe]);const Ie=async(we,G)=>{ie({id:we,name:G})},Me=we=>{try{const G=document.querySelector(`[data-node-id="${we}"]`);if(!G)return{top:0,left:0};const X=G.getBoundingClientRect(),K=X.width/2,ne=X.height/2,ve=50,Te=Math.max(ve,Math.min(K,X.width-ve)),Le=Math.max(ve,Math.min(ne,X.height-ve));return{left:Te,top:Le}}catch{return{top:0,left:0}}},He=()=>{try{const we=o.node("ROOT").toNodeTree().nodes,G=Object.values(we).filter(Et=>Et&&Et.data&&Et.data.name==="Page");if(G.length===0)return null;const X=window.innerWidth,K=window.innerHeight,ne=X/2,ve=K/2,Te=0,Le=0,st=X,ft=K;let ht=null,ct=-1;for(const Et of G){const Tt=document.querySelector(`[data-node-id="${Et.id}"]`);if(!Tt)continue;const vt=Tt.getBoundingClientRect();if(vt.right<Te||vt.left>st||vt.bottom<Le||vt.top>ft)continue;const it=Math.max(Te,vt.left),ae=Math.min(st,vt.right),Fe=Math.max(Le,vt.top),ee=Math.min(ft,vt.bottom),Be=Math.max(0,ae-it),ze=Math.max(0,ee-Fe),Ge=Be*ze,We=Math.max(1,vt.width*vt.height),Ve=Math.min(1,Ge/We),Je=vt.left+vt.width/2,he=vt.top+vt.height/2,at=Je-ne,xt=he-ve,gt=Math.sqrt(at*at+xt*xt),Oe=Math.sqrt(X*X+K*K),Ze=Math.max(0,1-gt/Oe),kt=Ve*.6+Ze*.4;kt>ct&&(ct=kt,ht=Et.id)}return ht}catch{return null}},fe=(we,G)=>{pe({id:we,type:G})},Ce=()=>{if(!le)return[];try{const we=o.node("ROOT").toNodeTree();return Object.values(we.nodes).filter(K=>K&&K.data&&(K.data.displayName==="Popup"||K.data.name==="Popup"||K.data.custom&&K.data.custom.displayName==="Popup")).map(K=>{var ne,ve;return{id:K.id,displayName:((ne=K.data.custom)==null?void 0:ne.displayName)||K.data.displayName||"Popup",props:K.data.props||{},customId:(ve=K.data.custom)==null?void 0:ve.customId}})}catch{return[]}},le=React.useMemo(()=>{try{const we=o.node("ROOT").toNodeTree(),G=Object.values(we.nodes),X=G.find(Le=>Le&&Le.id==="ROOT"),K=G.length>1||X&&X.data&&X.data.nodes&&X.data.nodes.length>0,ne=C==="desktop"&&g||C==="mobile"&&h,ve=G.length<=1&&(!X||!X.data||!X.data.nodes||X.data.nodes.length===0);return K&&!(ne&&ve)}catch{return!1}},[o,r,g,h,C]);React.useEffect(()=>{if(!le){const we=setInterval(()=>{s(X=>X+1)},1e3),G=setTimeout(()=>{clearInterval(we)},1e4);return()=>{clearInterval(we),clearTimeout(G)}}},[le]);const J=React.useMemo(()=>le?Ce().filter(G=>G.id!==m):[],[m,r,o,le]),se=()=>{if(!le)return[];try{const we=o.node("ROOT").toNodeTree();return Object.values(we.nodes).filter(K=>K&&K.data&&(K.data.displayName==="Dropbox"||K.data.name==="Dropbox"||K.data.custom&&K.data.custom.displayName==="Dropbox")).map(K=>{var ne,ve;return{id:K.id,displayName:((ne=K.data.custom)==null?void 0:ne.displayName)||K.data.displayName||"Dropbox",props:K.data.props||{},customId:(ve=K.data.custom)==null?void 0:ve.customId}})}catch{return[]}},te=React.useMemo(()=>le?se().filter(G=>G.id!==p):[],[p,r,o,le]),be=()=>{if(!le)return[];try{const we=o.node("ROOT").toNodeTree();return Object.values(we.nodes).filter(K=>K&&K.data&&(K.data.displayName==="Album Modal"||K.data.name==="Album Modal"||K.data.custom&&K.data.custom.displayName==="Album Modal")).map(K=>{var ne,ve;return{id:K.id,displayName:((ne=K.data.custom)==null?void 0:ne.displayName)||K.data.displayName||"Album Modal",props:K.data.props||{},customId:(ve=K.data.custom)==null?void 0:ve.customId}})}catch{return[]}},Z=React.useMemo(()=>be().filter(G=>G.id!==m),[m,r,o,le]),Ee=()=>{if(!le)return[];try{const we=o.node("ROOT").toNodeTree();return Object.values(we.nodes).filter(K=>K&&K.data&&(K.data.displayName==="QuickActions"||K.data.name==="QuickActions"||K.data.custom&&K.data.custom.displayName==="QuickActions")).map(K=>{var ne,ve;return{id:K.id,displayName:((ne=K.data.custom)==null?void 0:ne.displayName)||K.data.displayName||"QuickActions",props:K.data.props||{},customId:(ve=K.data.custom)==null?void 0:ve.customId}})}catch{return[]}},me=React.useMemo(()=>Ee(),[r,o,le]),ge=()=>{var we;try{const G=o.node("ROOT").toNodeTree().nodes,X=(we=e.entries().next().value)==null?void 0:we[0];if(X&&G[X]&&G[X].data&&G[X].data.name==="Page"){const ve=o.node(X).get().data.parent;if(ve)return ve}const K=He();if(K){const ve=o.node(K).get().data.parent;if(ve)return ve}const ne=Object.values(G).filter(ve=>ve&&ve.data&&(ve.data.name==="PagesContainer"||ve.data.displayName==="Pages Container"||ve.data.custom&&ve.data.custom.displayName==="Pages Container"));return ne&&ne[0]&&ne[0].id||"ROOT"}catch{return"ROOT"}},Ke=we=>a?a.filter(K=>K.key===we&&K.key!=="popup"&&K.key!=="dropbox").map(K=>K.tag).filter(K=>K&&K.trim()!=="").filter((K,ne,ve)=>ve.indexOf(K)===ne).sort():[],Ue=we=>{W(we),H("")},_e=()=>{var G,X,K;const we=(G=e.entries().next().value)==null?void 0:G[0];if(v){const ne=o.getNodes();for(const[ve,Te]of Object.entries(ne))if(((X=Te.data)==null?void 0:X.displayName)==="LogoContent"||((K=Te.data)==null?void 0:K.name)==="LogoContent")return ve;return"ROOT"}return getTargetNode(o,we,{isCardEditor:b||v,currentPopupIdOpen:m,currentDropboxEditorIdOpen:p})},Qe=we=>{try{const G=document.querySelector(`[data-node-id="${we}"]`);if(!G)return{top:0,left:0};const X=G.querySelector(".content-container");if(X){const K=X.getBoundingClientRect(),ne=G.getBoundingClientRect(),ve=K.left-ne.left+K.width/2,Te=K.top-ne.top+K.height/2;return{left:ve,top:Te}}else{const K=G.getBoundingClientRect(),ne=K.width/2,ve=K.height/2;return{left:ne,top:ve}}}catch{return{top:0,left:0}}},qe=we=>{try{const G=document.querySelector(`[data-node-id="${we}"]`);if(!G||b||v)return{top:0,left:0};const X=window.innerWidth/2,K=window.innerHeight/2,ne=G.querySelector(".content-container");if(ne){const ve=ne.getBoundingClientRect(),Te=X-ve.left,Le=K-ve.top,st=Math.max(50,Math.min(Te,ve.width-50)),ft=Math.max(50,Le);return{left:st,top:ft}}else{const ve=G.getBoundingClientRect(),Te=X-ve.left,Le=K-ve.top,st=100,ft=Math.max(st,Math.min(Te,ve.width-st)),ht=Math.max(50,Le);return{left:ft,top:ht}}}catch{return Qe(we)}},Ye=we=>{const G=_e(),X=b?Me(G):qe(G);try{const K=o.parseReactElement(we).toNodeTree(),ne=Object.keys(K.nodes)[0],ve=K.nodes[ne];ve.data.props&&(ve.data.props={...ve.data.props,left:`${X.left}px`,top:`${X.top}px`}),t.add(ve,G),typeof ve.id=="string"&&(t.selectNode([]),setTimeout(()=>{t.selectNode(ve.id),St()},100)),d()}catch{}},et={container:()=>Ye(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Container,backgroundType:"color",backgroundColor:"#ffffff",color:"#000000",height:"150px",width:"150px"})),text:()=>Ye(jsxRuntimeExports.jsx(Text,{text:"Heading 3",fontSize:"20px"})),button:()=>Ye(jsxRuntimeExports.jsx(Button,{background:"#ffffff",color:"#000000",text:"Button",width:"100px"})),input:()=>Ye(jsxRuntimeExports.jsx(Input,{inputType:"text",placeholder:"Nhập nội dung...",dataName:"input_field",width:"200px",height:"40px",options:""})),form:()=>Ye(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Form,width:"400px",height:"auto",isWeddingWishForm:!0,isGuestForm:!1,formType:"wedding-wish",apiUrl:`${domain}/guests/wishes`})),image:()=>ce(!0),albumsection:()=>rt(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:AlbumSection,height:"400px",backgroundColor:"#ffffff"})),icon:()=>{const we=_e(),G=b?Me(we):qe(we);try{const X=jsxRuntimeExports.jsx(Icon,{width:"50px",height:"50px"}),K=o.parseReactElement(X).toNodeTree(),ne=Object.keys(K.nodes)[0],ve=K.nodes[ne];if(ve.data.props&&(ve.data.props={...ve.data.props,left:`${G.left}px`,top:`${G.top}px`}),t.add(ve,we),typeof ve.id=="string"){const Te=ve.id;t.selectNode([]),setTimeout(()=>{t.selectNode(Te),St(),setTimeout(()=>{x(Le=>{t.setProp(Te,st=>{st.svgCode=Le})})},200)},100)}d()}catch{}},line:()=>Ye(jsxRuntimeExports.jsx(Line,{})),video:()=>Ye(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Video,backgroundType:"color",backgroundColor:"#ffffff",color:"#000000",height:"150px",width:"150px"})),calendar:()=>Ye(jsxRuntimeExports.jsx(Calendar,{width:"380px",height:"380px",backgroundColor:"#ffffff",selectedDateMode:"today",highlightColor:"#4ade80",highlightType:"color",highlightSvg:"",calendarBorderColor:"#000000",headerTextColor:"#000000",dateTextColor:"#000000",selectedDateTextColor:"#ffffff"})),count:()=>Ye(jsxRuntimeExports.jsx(Count,{countType:"minutes",countMode:"countdown",minutes:10,fontSize:"24px",fontWeight:"bold",color:"#000000"})),html:()=>Ye(jsxRuntimeExports.jsx(HtmlSelector,{width:"300px",height:"200px",htmlContent:'<div style="padding: 20px; text-align: center; border: 2px dashed #ccc; background: #f9f9f9;"><p>Click the HTML button to edit content</p></div>'})),wishlist:()=>Ye(jsxRuntimeExports.jsx(WishList,{width:"400px",height:"300px",maxWishes:10,showMockData:!1})),page:()=>Ye(jsxRuntimeExports.jsx(Page,{width:"400px",height:"300px",backgroundColor:"#ffffff"})),quickactions:()=>Rt()},re=we=>we in et,Xe=we=>{try{j();const G=o.parseReactElement(we).toNodeTree(),X=Object.keys(G.nodes)[0],K=G.nodes[X];t.add(K,"ROOT"),typeof K.id=="string"&&(t.selectNode([]),setTimeout(()=>{const ne=K.id;u(ne),t.selectNode(ne)},100)),d()}catch{}},tt=we=>{try{j();const G=o.parseReactElement(we).toNodeTree(),X=Object.keys(G.nodes)[0],K=G.nodes[X];t.add(K,"ROOT"),typeof K.id=="string"&&(t.selectNode([]),setTimeout(()=>{const ne=K.id;R(ne),t.selectNode(ne)},100)),d()}catch{}},rt=we=>{var G;try{const X=o.parseReactElement(we).toNodeTree(),K=Object.keys(X.nodes)[0],ne=X.nodes[K],ve=(G=e.entries().next().value)==null?void 0:G[0],Te=o.node("ROOT").toNodeTree().nodes;let Le=null,st=-1;if(ve&&Te[ve]&&Te[ve].data&&Te[ve].data.name==="Sections")Le=ve;else{const ht=Object.values(Te).filter(ct=>ct&&ct.data&&ct.data.name==="Sections").find(ct=>ct&&ct.data&&ct.data.nodes&&ct.data.nodes.includes(ve));Le=ht==null?void 0:ht.id}Le&&(st=o.node("ROOT").get().data.nodes.indexOf(Le)+1),st>=0?t.add(ne,"ROOT",st):t.add(ne,"ROOT"),typeof ne.id=="string"&&(t.selectNode([]),setTimeout(()=>{t.selectNode(ne.id),St()},100)),d()}catch{}},Rt=()=>{try{const we=jsxRuntimeExports.jsx(QuickActions,{buttonSize:50,spacing:10,expandDirection:"up",animationDuration:300}),G=o.parseReactElement(we).toNodeTree(),X=Object.keys(G.nodes)[0],K=G.nodes[X];t.add(K,"ROOT"),typeof K.id=="string"&&(t.selectNode([]),setTimeout(()=>{t.selectNode(K.id),St()},100)),d(),s(ne=>ne+1)}catch{}},wt=(we,G={})=>{try{const{behavior:X="smooth",offset:K=0,block:ne="center"}=G,ve=we.getBoundingClientRect(),Te=window.pageYOffset||document.documentElement.scrollTop;let Le;switch(ne){case"start":Le=ve.top+Te+K;break;case"end":Le=ve.bottom+Te-window.innerHeight+K;break;case"center":default:Le=ve.top+Te-window.innerHeight/2+ve.height/2+K;break}window.scrollTo({top:Le,behavior:X})}catch{we.scrollIntoView({behavior:"smooth",block:"center"})}},St=()=>{setTimeout(()=>{const we=document.querySelector(".component-selected");we&&wt(we,{behavior:"smooth",block:"center",offset:0})},300)},bt=(we,G)=>{if(we<=400&&G<=300)return{width:`${we}px`,height:`${G}px`};const ne=we/G;let ve=we,Te=G;return we>400&&(ve=400,Te=ve/ne),Te>300&&(Te=300,ve=Te*ne),{width:`${Math.round(ve)}px`,height:`${Math.round(Te)}px`}},yt=we=>{ce(!1);const G=new Image;G.onload=()=>{try{const K=bt(G.naturalWidth,G.naturalHeight);Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:K.width,height:K.height,lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))}catch{Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:"200px",height:"150px",lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))}},G.onerror=()=>{Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:"200px",height:"150px",lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))};const X=setTimeout(()=>{G.onload=null,G.onerror=null,Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:"200px",height:"150px",lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))},5e3);G.onload=()=>{clearTimeout(X);try{const K=bt(G.naturalWidth,G.naturalHeight);Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:K.width,height:K.height,lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))}catch{Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:"200px",height:"150px",lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))}},G.onerror=()=>{clearTimeout(X),Ye(jsxRuntimeExports.jsx(Image$1,{url:we,width:"200px",height:"150px",lockAspectRatio:!0,objectFit:"cover",events:[{id:crypto.randomUUID(),actionType:"click",eventType:"open-lightbox",lightboxMediaType:"image",lightboxImageUrl:we}]}))},G.src=we},jt=(we=!1)=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:l&&jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Box,{className:`${we?"relative":"fixed"} fixed top-0 left-0 w-full sm:w-[860px] h-full bg-white flex flex-col gap-2 border-r border-[#E0E0E0] shadow-md`,style:{zIndex:zIndex.elementsPopup,position:"fixed",isolation:"isolate"},children:jsxRuntimeExports.jsxs(TabsRoot,{value:k,onValueChange:G=>B(G.value),variant:"line",className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs(Flex,{className:"border-b border-gray-200 px-2",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden scrollbar-hide",children:jsxRuntimeExports.jsxs(TabsList,{className:"flex-nowrap min-w-max",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"basic",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"basic",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaThLarge,{style:{color:"#3B82F6"}})}),"Cơ bản"]}),!v&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"file",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"file",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaFolder,{style:{color:"#10B981"}})}),"File"]}),!v&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"popup",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"popup",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaWindowMaximize,{style:{color:"#8B5CF6"}})}),"Popup"]}),!v&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"dropbox",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"dropbox",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaBoxOpen,{style:{color:"#F59E0B"}})}),"Dropbox"]}),!v&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"album-modal",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"album-modal",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaPhotoVideo,{style:{color:"#EF4444"}})}),"Album Modal"]}),!v&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"quickactions",className:"!text-sm flex items-center gap-2 whitespace-nowrap","data-section":"quickactions",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jsxRuntimeExports.jsx(FaPlus,{style:{color:"#06B6D4"}})}),"QuickActions"]})]})}),jsxRuntimeExports.jsx(Icon$1,{as:IoMdClose,cursor:"pointer",color:"gray.500",_hover:{color:"gray.700"},onClick:d,fontSize:"lg",mr:2})]}),jsxRuntimeExports.jsx(TabsContent,{value:"basic",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:[jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaCube,{}),label:"Khối/ Hộp",onClick:()=>Ue("container"),active:F==="container","data-asset":"container"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaFont,{}),label:"Văn bản",onClick:()=>Ue("text"),active:F==="text"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaMousePointer,{}),label:"Nút bấm",onClick:()=>Ue("button"),active:F==="button"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaFileAlt,{}),label:"Form",onClick:()=>Ue("form"),active:F==="form"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaImage,{}),label:"Hình ảnh",onClick:()=>Ue("image"),active:F==="image"}),!b&&jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaPhotoVideo,{}),label:"Album ảnh",onClick:()=>Ue("albumsection"),active:F==="albumsection"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaSmile,{}),label:"Biểu tượng",onClick:()=>Ue("icon"),active:F==="icon"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaMinus,{}),label:"Đường kẻ",onClick:()=>Ue("line"),active:F==="line"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaPlay,{}),label:"Video",onClick:()=>Ue("video"),active:F==="video"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaCalendar,{}),label:"Lịch",onClick:()=>Ue("calendar"),active:F==="calendar"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaStopwatch,{}),label:"Đếm ngược",onClick:()=>Ue("count"),active:F==="count"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaCodepen,{}),label:"HTML",onClick:()=>Ue("html"),active:F==="html"}),b&&!v&&jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(RiWindow2Line,{}),label:"Page",onClick:()=>Ue("page"),active:F==="page"}),!b&&!v&&jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaThLarge,{}),label:"Section",onClick:()=>Ue("section"),active:F==="section"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaGift,{}),label:"Lời chúc",onClick:()=>Ue("wishlist"),active:F==="wishlist"}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaEllipsisH,{}),label:"Khác",onClick:()=>Ue("other"),active:F==="other"})]}),jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:[i&&jsxRuntimeExports.jsx(Text$1,{children:"Loading ..."}),!i&&a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[re(F)&&jsxRuntimeExports.jsxs(Box,{mb:4,position:"relative",children:[jsxRuntimeExports.jsxs(Box,{as:"button",px:4,py:3,bg:N(F)?"blue.500":"gray.400",color:"white",borderRadius:"lg",cursor:N(F)?"pointer":"not-allowed",fontWeight:"semibold",fontSize:"sm",display:"flex",alignItems:"center",justifyContent:"center",gap:2,_hover:N(F)?{bg:"blue.600",transform:"translateY(-1px)",boxShadow:"lg"}:{},transition:"all 0.2s",width:"100%",border:"none",onClick:N(F)?()=>{const G=et[F];G&&G()}:void 0,"data-add-button":"true",opacity:N(F)?1:.6,children:[jsxRuntimeExports.jsx(FaPlus,{fontSize:"12px"}),"Thêm mới"]}),!N(F)&&jsxRuntimeExports.jsx(Box,{position:"absolute",right:"-8px",top:"-8px",bg:"orange.500",borderRadius:"full",p:1,display:"flex",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx(FaCrown,{fontSize:"10px",color:"white"})})]}),(()=>{const G=Ke(F);return G.length>0?jsxRuntimeExports.jsxs(Box,{mb:4,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Chọn nhóm:"}),jsxRuntimeExports.jsxs(Flex,{wrap:"wrap",gap:2,children:[jsxRuntimeExports.jsxs(Box,{px:3,py:1,bg:z===""?"blue.500":"gray.100",color:z===""?"white":"gray.700",borderRadius:"md",cursor:"pointer",fontSize:"sm",_hover:{bg:z===""?"blue.600":"gray.200"},onClick:()=>H(""),children:["Tất cả (",a.filter(X=>X.key===F&&X.key!=="popup"&&X.key!=="dropbox").length,")"]}),G.map(X=>jsxRuntimeExports.jsxs(Box,{px:3,py:1,bg:z===X?"blue.500":"gray.100",color:z===X?"white":"gray.700",borderRadius:"md",cursor:"pointer",fontSize:"sm",_hover:{bg:z===X?"blue.600":"gray.200"},onClick:()=>H(X),children:[X," (",a.filter(K=>K.key===F&&K.tag===X).length,")"]},X))]})]}):null})(),jsxRuntimeExports.jsx(Box,{children:(()=>{const G=a.filter(X=>{const K=X.key===F&&X.key!=="popup"&&X.key!=="dropbox",ne=z===""||X.tag===z;return K&&ne});return G.length===0?jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",mt:4,children:z===""?"Không có mẫu nào trong danh mục này":`Không có mẫu nào trong nhóm "${z}"`}):G.map((X,K)=>jsxRuntimeExports.jsx(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.50"},border:"1px solid #e0e0e0",borderRadius:"md",mb:2,onClick:()=>{var ne;if(X.content)try{const ve=loadAssetContent(X,C,b,v),Te=JSON.parse(ve);if(!Te)throw new Error("Parsed content is null or undefined");delete Te.parent;let Le;if(X.key==="page")try{let st=ge(),ft;const ht=o.node("ROOT").toNodeTree().nodes,ct=(ne=e.entries().next().value)==null?void 0:ne[0];let Et=null;if(ct&&ht[ct]&&ht[ct].data&&ht[ct].data.name==="Page"?Et=ct:Et=He(),Et){const it=o.node(Et).get();st=it&&it.data&&it.data.parent||st;const ae=o.node(st).get(),Fe=ae&&ae.data&&ae.data.nodes||[],ee=Fe.indexOf(Et);ft=ee>=0?ee+1:Fe.length}const vt=Te.rootNodeId&&Te.nodes?Te:Te._assetTree;if(vt&&vt.nodes&&vt.rootNodeId){const it={rootNodeId:vt.rootNodeId,nodes:Object.keys(vt.nodes).reduce((Fe,ee)=>{const Be=vt.nodes[ee],ze=o.parseSerializedNode(Be).toNode();return Fe[ee]=ze,Fe},{})},ae=getCloneTree(it,o);loadDualPlatformAsset(ae,it,X,C,o,g,h,E,w),t.addNodeTree(ae,st,ft),Le={id:ae.rootNodeId}}else{if(Le=o.parseSerializedNode(Te).toNode(),!Le)throw new Error("Failed to parse serialized node for Page asset");t.add(Le,st,ft)}}catch{toaster.create({title:"Không thể chèn Page",description:"Đã xảy ra lỗi khi chèn Page từ mẫu. Vui lòng thử lại.",type:"error"});return}else if(X.key==="section"||X.key==="albumsection")try{const ft=Te.rootNodeId&&Te.nodes?Te:Te._assetTree;if(ft&&ft.nodes&&ft.rootNodeId){const ht={rootNodeId:ft.rootNodeId,nodes:Object.keys(ft.nodes).reduce((Et,Tt)=>{const vt=ft.nodes[Tt],it=o.parseSerializedNode(vt).toNode();return Et[Tt]=it,Et},{})},ct=getCloneTree(ht,o);loadDualPlatformAsset(ct,ht,X,C,o,g,h,E,w),t.addNodeTree(ct,"ROOT"),Le={id:ct.rootNodeId}}else{if(Le=o.parseSerializedNode(Te).toNode(),!Le)throw new Error("Failed to parse serialized node");t.add(Le,"ROOT")}}catch{return}else{const st=_e(),ft=qe(st);try{const ct=Te.rootNodeId&&Te.nodes?Te:Te._assetTree;if(ct&&ct.nodes&&ct.rootNodeId){const Et={rootNodeId:ct.rootNodeId,nodes:Object.keys(ct.nodes).reduce((it,ae)=>{const Fe=ct.nodes[ae],ee=o.parseSerializedNode(Fe).toNode();return it[ae]=ee,it},{})},Tt={top:`${ft.top}px`,left:`${ft.left}px`},vt=getCloneTree(Et,o,Tt);loadDualPlatformAsset(vt,Et,X,C,o,g,h,E,w),t.addNodeTree(vt,st),Le={id:vt.rootNodeId}}else{if(Le=o.parseSerializedNode(Te).toNode(),!Le)throw new Error("Failed to parse serialized node");Le.data&&Le.data.props&&(Le.data.props={...Le.data.props,left:`${ft.left}px`,top:`${ft.top}px`}),t.add(Le,st)}}catch{return}}Le&&Le.id&&(t.selectNode([]),setTimeout(()=>{t.selectNode(Le.id),St()},100)),d()}catch{}},children:jsxRuntimeExports.jsxs(Flex,{direction:"row",gap:2,alignItems:"center",children:[jsxRuntimeExports.jsx("img",{src:X.previewUrl,alt:X.key+K,style:{width:"60px",height:"35px",objectFit:"cover",borderRadius:"4px"}}),jsxRuntimeExports.jsxs(Box,{flex:"1",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:X.tag||"Không có tên"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:X.key})]}),jsxRuntimeExports.jsx(Box,{p:1,cursor:"pointer",_hover:{bg:"red.100",color:"red.600"},borderRadius:"md",color:"gray.400",onClick:ne=>{ne.stopPropagation(),X.id&&Ie(X.id,X.tag||"Không có tên")},title:"Xóa mẫu",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,boxSize:3})})]})},X.id))})()})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"file",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] order-first border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:[jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaImage,{}),label:"Hình ảnh",onClick:()=>D(FileType.IMAGE),active:U===FileType.IMAGE}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaPlay,{}),label:"Video",onClick:()=>D(FileType.VIDEO),active:U===FileType.VIDEO}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaAudible,{}),label:"Âm thanh",onClick:()=>D(FileType.AUDIO),active:U===FileType.AUDIO}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaFileAlt,{}),label:"Tài liệu",onClick:()=>D(FileType.DOCUMENT),active:U===FileType.DOCUMENT}),jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaFont,{}),label:"Font",onClick:()=>D(FileType.FONT),active:U===FileType.FONT})]}),jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:(()=>{if(Se)return jsxRuntimeExports.jsx(Text$1,{children:"Đang tải file..."});if(!$e||$e.length===0)return jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",mt:4,children:"Không có file nào trong danh mục này"});const G=$e.map(X=>X.tag).filter(X=>X&&X.trim()!=="").filter((X,K,ne)=>ne.indexOf(X)===K).sort();return jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:4,children:[G.length>0&&jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",mb:2,color:"gray.700",children:"Chọn nhóm:"}),jsxRuntimeExports.jsxs(Flex,{direction:"row",gap:2,flexWrap:"wrap",children:[jsxRuntimeExports.jsxs(Box,{px:3,py:1,bg:O===""?"blue.500":"gray.100",color:O===""?"white":"gray.700",borderRadius:"md",cursor:"pointer",fontSize:"sm",_hover:{bg:O===""?"blue.600":"gray.200"},onClick:()=>Q(""),children:["Tất cả (",$e.length,")"]}),G.map(X=>jsxRuntimeExports.jsxs(Box,{px:3,py:1,bg:O===X?"blue.500":"gray.100",color:O===X?"white":"gray.700",borderRadius:"md",cursor:"pointer",fontSize:"sm",_hover:{bg:O===X?"blue.600":"gray.200"},onClick:()=>Q(X),children:[X," (",$e.filter(K=>K.tag===X).length,")"]},X))]})]}),jsxRuntimeExports.jsx(Box,{children:(()=>{const X=$e.filter(K=>O===""||K.tag===O);return X.length===0?jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",mt:4,children:O===""?"Không có file nào trong danh mục này":`Không có file nào trong nhóm "${O}"`}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:X.map(K=>{const ne=getFileUrl(K);return jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.50"},border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{U===FileType.IMAGE?yt(ne):navigator.clipboard.writeText(ne),d()},className:"aspect-square flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded",children:K.mimeType.startsWith("image/")?jsxRuntimeExports.jsx("img",{src:ne,alt:K.originalName,className:"object-cover w-full h-full"}):jsxRuntimeExports.jsxs("div",{className:"text-4xl text-gray-400",children:[K.mimeType.startsWith("video/")&&jsxRuntimeExports.jsx(FaVideo,{}),K.mimeType.startsWith("audio/")&&jsxRuntimeExports.jsx(FaAudible,{}),(K.mimeType.includes("document")||K.mimeType.includes("pdf"))&&jsxRuntimeExports.jsx(FaCode,{}),K.mimeType.includes("font")&&jsxRuntimeExports.jsx(MdOutlineTextFormat,{})]})}),jsxRuntimeExports.jsxs(Box,{mt:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",fontWeight:"medium",className:"truncate",children:K.originalName}),K.tag&&jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"blue.500",className:"truncate",children:["#",K.tag]})]})]},K.id)})})})()})]})})()})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"popup",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(RiWindow2Line,{}),label:"Tạo mới",disabled:!$,onClick:()=>{$&&(j(),Xe(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Popup,width:"400px",height:"300px",backgroundColor:"#ffffff"})))}})}),jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsxs(TabsRoot,{value:q,onValueChange:G=>Y(G.value),variant:"line",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"page",className:"!text-xs",children:"Popup trong trang"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"template",className:"!text-xs",children:"Mẫu"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"page",className:"p-2",children:le?J.length>0?jsxRuntimeExports.jsx(Box,{gap:2,display:"flex",flexDirection:"column",children:J.map(G=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),u(G.id),t.selectNode(G.id),d()},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.displayName}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:["ID: ",G.customId||G.id.substring(0,16),"..."]})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Icon$1,{as:RiWindow2Line,color:"gray.400"}),jsxRuntimeExports.jsx(Box,{cursor:"pointer",_hover:{color:"red.600"},onClick:X=>{X.stopPropagation(),fe(G.id,"Popup")},title:"Xóa Popup",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,color:"red.400"})})]})]},G.id))}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có popup nào. Tạo popup mới để bắt đầu."}):jsxRuntimeExports.jsxs(Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",h:"200px",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Đang tải nội dung..."}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",textAlign:"center",children:"Vui lòng đợi trong giây lát"})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"template",className:"p-2",children:!i&&a?jsxRuntimeExports.jsxs(Box,{gap:2,display:"flex",flexDirection:"column",children:[jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),Xe(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Popup,width:"400px",height:"300px",backgroundColor:"#ffffff"}))},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Popup trống"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Tạo popup mới với nội dung trống"})]}),jsxRuntimeExports.jsx(Icon$1,{as:RiWindow2Line,color:"gray.400"})]}),a.filter(G=>G.key==="popup").map((G,X)=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{if(G.content)try{j();const K=loadAssetContent(G,C,b,v),ne=JSON.parse(K);delete ne.parent;const Te=ne.rootNodeId&&ne.nodes?ne:ne._assetTree;let Le;if(Te&&Te.nodes&&Te.rootNodeId){const st={rootNodeId:Te.rootNodeId,nodes:Object.keys(Te.nodes).reduce((ht,ct)=>{const Et=Te.nodes[ct],Tt=o.parseSerializedNode(Et).toNode();return ht[ct]=Tt,ht},{})},ft=getCloneTree(st,o);loadDualPlatformAsset(ft,st,G,C,o,g,h,E,w),t.addNodeTree(ft,"ROOT"),Le={id:ft.rootNodeId}}else{if(Le=o.parseSerializedNode(ne).toNode(),!Le)throw new Error("Failed to parse serialized popup node");t.add(Le,"ROOT")}t.selectNode([]),setTimeout(()=>{t.selectNode(Le.id),u(Le.id),St()},100),d()}catch{}},display:"flex",flexDirection:"column",gap:2,children:[jsxRuntimeExports.jsx("img",{src:G.previewUrl,alt:`popup-template-${X}`,style:{width:"100%",height:"80px",objectFit:"contain",borderRadius:"4px"}}),jsxRuntimeExports.jsxs(Flex,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{flex:"1",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.tag||`Popup mẫu ${X+1}`}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Nhấn để thêm popup mẫu"})]}),jsxRuntimeExports.jsx(Box,{p:1,cursor:"pointer",_hover:{bg:"red.100",color:"red.600"},borderRadius:"md",color:"gray.400",onClick:K=>{K.stopPropagation(),G.id&&Ie(G.id,G.tag||`Popup mẫu ${X+1}`)},title:"Xóa mẫu popup",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,boxSize:3})})]})]},G.id))]}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Đang tải popup mẫu..."})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"dropbox",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(RiWindow2Line,{}),label:"Tạo mới",disabled:!$,onClick:()=>{$&&(j(),tt(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Dropbox,width:"200px",height:"150px",backgroundColor:"#ffffff"})))}})}),jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsxs(TabsRoot,{value:V,onValueChange:G=>de(G.value),variant:"line",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"page",className:"!text-xs",children:"Dropbox trong trang"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"template",className:"!text-xs",children:"Mẫu"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"page",className:"p-2",children:[le?te.length>0?jsxRuntimeExports.jsx(Box,{gap:2,display:"flex",flexDirection:"column",children:te.map(G=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),R(G.id),t.selectNode(G.id),d()},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.displayName}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:["ID: ",G.customId||G.id.substring(0,16),"..."]})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Icon$1,{as:RiWindow2Line,color:"gray.400"}),jsxRuntimeExports.jsx(Box,{cursor:"pointer",_hover:{color:"red.600"},onClick:X=>{X.stopPropagation(),fe(G.id,"Dropbox")},title:"Xóa Dropbox",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,color:"red.400"})})]})]},G.id))}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có dropbox nào. Tạo dropbox mới để bắt đầu."}):jsxRuntimeExports.jsxs(Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",h:"200px",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Đang tải nội dung..."}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",textAlign:"center",children:"Vui lòng đợi trong giây lát"})]}),jsxRuntimeExports.jsx(Box,{mt:4,children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Dropbox hoạt động như tooltip xuất hiện khi có sự kiện kích hoạt"})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"template",className:"p-2",children:!i&&a?jsxRuntimeExports.jsxs(Box,{gap:2,display:"flex",flexDirection:"column",children:[jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),tt(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:Dropbox,width:"200px",height:"150px",backgroundColor:"#ffffff"}))},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Dropbox trống"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Tạo dropbox mới với nội dung trống"})]}),jsxRuntimeExports.jsx(Icon$1,{as:RiWindow2Line,color:"gray.400"})]}),a.filter(G=>G.key==="dropbox").map((G,X)=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{if(G.content)try{j();const K=loadAssetContent(G,C,b,v),ne=JSON.parse(K);delete ne.parent;const Te=ne.rootNodeId&&ne.nodes?ne:ne._assetTree;let Le;if(Te&&Te.nodes&&Te.rootNodeId){const st={rootNodeId:Te.rootNodeId,nodes:Object.keys(Te.nodes).reduce((ht,ct)=>{const Et=Te.nodes[ct],Tt=o.parseSerializedNode(Et).toNode();return ht[ct]=Tt,ht},{})},ft=getCloneTree(st,o);loadDualPlatformAsset(ft,st,G,C,o,g,h,E,w),t.addNodeTree(ft,"ROOT"),Le={id:ft.rootNodeId}}else{if(Le=o.parseSerializedNode(ne).toNode(),!Le)throw new Error("Failed to parse serialized dropbox node");t.add(Le,"ROOT")}t.selectNode([]),setTimeout(()=>{t.selectNode(Le.id),R(Le.id),St()},100),d()}catch{}},display:"flex",flexDirection:"column",gap:2,children:[jsxRuntimeExports.jsx("img",{src:G.previewUrl,alt:`dropbox-template-${X}`,style:{width:"100%",height:"80px",objectFit:"contain",borderRadius:"4px"}}),jsxRuntimeExports.jsxs(Flex,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{flex:"1",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.tag||`Dropbox mẫu ${X+1}`}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Nhấn để thêm dropbox mẫu"})]}),jsxRuntimeExports.jsx(Box,{p:1,cursor:"pointer",_hover:{bg:"red.100",color:"red.600"},borderRadius:"md",color:"gray.400",onClick:K=>{K.stopPropagation(),G.id&&Ie(G.id,G.tag||`Dropbox mẫu ${X+1}`)},title:"Xóa mẫu dropbox",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,boxSize:3})})]})]},G.id))]}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Đang tải dropbox mẫu..."})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"album-modal",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaImages,{}),label:"Tạo mới",disabled:!$,onClick:()=>{$&&(j(),Xe(jsxRuntimeExports.jsx(ke,{id:ye(),canvas:!0,is:AlbumModal})))}})}),jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:[jsxRuntimeExports.jsxs(TabsRoot,{value:"page",variant:"line",children:[jsxRuntimeExports.jsx(TabsList,{children:jsxRuntimeExports.jsx(TabsTrigger,{value:"page",className:"!text-xs",children:"Album Modal trong trang"})}),jsxRuntimeExports.jsx(TabsContent,{value:"page",className:"p-2",children:le?Z.length>0?jsxRuntimeExports.jsx(Box,{gap:2,display:"flex",flexDirection:"column",children:Z.map(G=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),u(G.id),t.selectNode(G.id),d()},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.displayName}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:["ID: ",G.customId||G.id.substring(0,16)]})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Icon$1,{as:FaImages,color:"gray.400"}),jsxRuntimeExports.jsx(Box,{cursor:"pointer",_hover:{color:"red.600"},onClick:X=>{X.stopPropagation(),fe(G.id,"Album Modal")},title:"Xóa Album Modal",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,color:"red.400"})})]})]},G.id))}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có Album Modal nào. Tạo Album Modal mới để bắt đầu."}):jsxRuntimeExports.jsxs(Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",h:"200px",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Đang tải nội dung..."}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",textAlign:"center",children:"Vui lòng đợi trong giây lát"})]})})]}),jsxRuntimeExports.jsx(Box,{mt:4,children:jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Album Modal cho phép bạn tạo modal hiển thị album ảnh có thể được kích hoạt từ các thành phần khác thông qua sự kiện."})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"quickactions",className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsxs(Flex,{direction:"row",h:"full",children:[jsxRuntimeExports.jsx(Flex,{direction:"column",gap:2,className:"w-[40%] sm:w-[20%] border-r border-[#E0E0E0] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:jsxRuntimeExports.jsx(ElementItem,{icon:jsxRuntimeExports.jsx(FaPlus,{}),label:"Tạo mới",disabled:!$,onClick:()=>{$&&(j(),Rt())}})}),jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,className:"w-[60%] sm:w-[80%] elements-popup-scroll",h:"calc(100vh - 120px)",p:2,style:scrollbarStyles,children:[jsxRuntimeExports.jsxs(TabsRoot,{value:ue,onValueChange:G=>Re(G.value),variant:"line",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"page",className:"!text-xs",children:"QuickActions trong trang"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"template",className:"!text-xs",children:"Mẫu"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"page",className:"p-2",children:[le?me.length>0?jsxRuntimeExports.jsx(Box,{gap:2,display:"flex",flexDirection:"column",children:me.map(G=>{var X,K;return jsxRuntimeExports.jsxs(Box,{p:2,cursor:$?"pointer":"not-allowed",_hover:$?{bg:"gray.100"}:{},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:$?()=>{j(),u(G.id),t.selectNode(G.id),d()}:void 0,display:"flex",alignItems:"center",justifyContent:"space-between",opacity:$?1:.6,position:"relative",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.displayName}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:["ID: ",G.customId||G.id.substring(0,16)]}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:[((K=(X=G.props)==null?void 0:X.actionButtons)==null?void 0:K.length)||0," action button(s)"]}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"blue.500",children:["Position: ",(()=>{var Te;const ne=(Te=G.props)==null?void 0:Te.position;return!ne||!ne.enabled?"bottom-right (default)":{"top-left":"Trên cùng trái","top-center":"Trên cùng giữa","top-right":"Trên cùng phải","middle-left":"Giữa trái","middle-right":"Giữa phải","bottom-left":"Dưới cùng trái","bottom-center":"Dưới cùng giữa","bottom-right":"Dưới cùng phải"}[ne.position]||ne.position})()]})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Icon$1,{as:FaPlus,color:"gray.400"}),jsxRuntimeExports.jsx(Box,{cursor:"pointer",_hover:{color:"red.600"},onClick:ne=>{$&&(ne.stopPropagation(),fe(G.id,"QuickActions"))},title:"Xóa QuickActions",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,color:"red.400"})})]}),!$&&jsxRuntimeExports.jsx(Box,{position:"absolute",right:"8px",top:"8px",bg:"orange.500",borderRadius:"full",p:1,display:"flex",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx(FaCrown,{fontSize:"8px",color:"white"})})]},G.id)})}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Chưa có QuickActions nào. Tạo QuickActions mới để bắt đầu."}):jsxRuntimeExports.jsxs(Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",h:"200px",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"Đang tải nội dung..."}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",textAlign:"center",children:"Vui lòng đợi trong giây lát"})]}),jsxRuntimeExports.jsx(Box,{mt:4,children:jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"QuickActions là nút hành động nhanh nổi cho phép người dùng thực hiện các hành động quan trọng một cách nhanh chóng"})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"template",className:"p-2",children:!i&&a?jsxRuntimeExports.jsxs(Box,{gap:2,display:"flex",flexDirection:"column",children:[jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{j(),Rt()},display:"flex",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"QuickActions trống"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Tạo QuickActions mới với nội dung trống"})]}),jsxRuntimeExports.jsx(Icon$1,{as:FaPlus,color:"gray.400"})]}),a.filter(G=>G.key==="quickactions").map((G,X)=>jsxRuntimeExports.jsxs(Box,{p:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:"white",border:"1px solid #e0e0e0",borderRadius:"md",onClick:()=>{if(G.content)try{j();const K=loadAssetContent(G,C,b,v),ne=JSON.parse(K);delete ne.parent;const Te=ne.rootNodeId&&ne.nodes?ne:ne._assetTree;let Le;if(Te&&Te.nodes&&Te.rootNodeId){const st={rootNodeId:Te.rootNodeId,nodes:Object.keys(Te.nodes).reduce((ht,ct)=>{const Et=Te.nodes[ct],Tt=o.parseSerializedNode(Et).toNode();return ht[ct]=Tt,ht},{})},ft=getCloneTree(st,o);loadDualPlatformAsset(ft,st,G,C,o,g,h,E,w),t.addNodeTree(ft,"ROOT"),Le={id:ft.rootNodeId}}else{if(Le=o.parseSerializedNode(ne).toNode(),!Le)throw new Error("Failed to parse serialized QuickActions node");t.add(Le,"ROOT")}t.selectNode([]),setTimeout(()=>{t.selectNode(Le.id),u(Le.id),St()},100),d()}catch{}},display:"flex",flexDirection:"column",gap:2,children:[jsxRuntimeExports.jsx("img",{src:G.previewUrl,alt:`quickactions-template-${X}`,style:{width:"100%",height:"80px",objectFit:"contain",borderRadius:"4px"}}),jsxRuntimeExports.jsxs(Flex,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Box,{flex:"1",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:G.tag||`QuickActions mẫu ${X+1}`}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Nhấn để thêm QuickActions mẫu"})]}),jsxRuntimeExports.jsx(Box,{p:1,cursor:"pointer",_hover:{bg:"red.100",color:"red.600"},borderRadius:"md",color:"gray.400",onClick:K=>{K.stopPropagation(),G.id&&Ie(G.id,G.tag||`QuickActions mẫu ${X+1}`)},title:"Xóa mẫu QuickActions",children:jsxRuntimeExports.jsx(Icon$1,{as:FaTrash,boxSize:3})})]})]},G.id))]}):jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.500",children:"Đang tải QuickActions mẫu..."})})]}),jsxRuntimeExports.jsx(Box,{mt:4,children:jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.500",textAlign:"center",children:"QuickActions cho phép bạn tạo nút hành động nhanh nổi với nhiều action button có thể được cấu hình để thực hiện các sự kiện khác nhau. Bạn có thể tạo nhiều QuickActions và đặt chúng ở các vị trí khác nhau trên trang."})})]})]})})]})})})});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block",children:jt()}),jsxRuntimeExports.jsx(DialogRoot,{size:"full",lazyMount:!0,open:l&&I,onOpenChange:we=>we.open?null:d(),children:jsxRuntimeExports.jsxs(Portal,{children:[jsxRuntimeExports.jsx(DialogBackdrop,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogBody,{backgroundColor:"white",p:0,children:jt(!0)}),jsxRuntimeExports.jsx(DialogCloseTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm"})})]})]})}),jsxRuntimeExports.jsx(FileSelectModal,{isOpen:oe,onClose:()=>ce(!1),onSelectFile:yt,fileType:FileType.IMAGE}),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:je!==null,onClose:()=>ie(null),onConfirm:async()=>{if(je)try{await c.mutateAsync(je.id)}catch{}ie(null)},message:je?`Bạn có chắc chắn muốn xóa mẫu "${je.name}"? Hành động này không thể hoàn tác.`:"",confirmLabel:"Xóa",confirmType:"danger"}),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:xe!==null,onClose:()=>pe(null),onConfirm:()=>{if(xe)try{t.delete(xe.id)}catch{}pe(null)},message:xe?`Bạn có chắc chắn muốn xóa ${xe.type} này không?`:"",confirmLabel:"Xóa",confirmType:"danger"})]})},LogoMeHappy="/assets/logo-mehappy-NkpNGlx5.png",CollaborativeEditingModal=t=>{const e=compilerRuntimeExports.c(38),{isOpen:o,onAccept:r,onCancel:s,activeUsersCount:i,roomType:a}=t,c=a==="page"?"trang":"template",l=a==="page"?"Trang":"Template";let d;e[0]!==s?(d=L=>{L.open||s()},e[0]=s,e[1]=d):d=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=jsxRuntimeExports.jsx(DialogBackdrop,{style:{zIndex:zIndex.collaborationModal-1}}),e[2]=u):u=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m={zIndex:zIndex.collaborationModal},e[3]=m):m=e[3];let R;e[4]===Symbol.for("react.memo_cache_sentinel")?(R=jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2 text-orange-600",children:[jsxRuntimeExports.jsx(FaExclamationTriangle,{className:"text-orange-500"}),"Cảnh báo chỉnh sửa đồng thời"]})}),e[4]=R):R=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=jsxRuntimeExports.jsx(FaUsers,{className:"text-orange-500",size:20}),e[5]=p):p=e[5];let j;e[6]!==i?(j=jsxRuntimeExports.jsxs(HStack,{justify:"center",gap:2,mb:2,children:[p,jsxRuntimeExports.jsxs(Text$1,{fontSize:"lg",fontWeight:"semibold",color:"orange.700",children:[i," người đang chỉnh sửa"]})]}),e[6]=i,e[7]=j):j=e[7];let x;e[8]!==i||e[9]!==l?(x=jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",color:"orange.600",children:[l," này hiện đang được chỉnh sửa bởi ",i," người khác"]}),e[8]=i,e[9]=l,e[10]=x):x=e[10];let g;e[11]!==j||e[12]!==x?(g=jsxRuntimeExports.jsxs(Box,{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",textAlign:"center",children:[j,x]}),e[11]=j,e[12]=x,e[13]=g):g=e[13];let h;e[14]===Symbol.for("react.memo_cache_sentinel")?(h=jsxRuntimeExports.jsx(Text$1,{fontSize:"md",color:"gray.700",textAlign:"center",children:jsxRuntimeExports.jsx("strong",{children:"Bạn có muốn tiếp tục chỉnh sửa không?"})}),e[14]=h):h=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=jsxRuntimeExports.jsx("strong",{children:"Lưu ý:"}),e[15]=E):E=e[15];let w;e[16]!==c?(w=jsxRuntimeExports.jsx(Box,{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",color:"yellow.800",lineHeight:"1.5",children:["⚠️ ",E," Nếu tiếp tục, nhiều người sẽ cùng chỉnh sửa ",c," này. Điều này có thể dẫn đến xung đột dữ liệu và mất thay đổi."]})}),e[16]=c,e[17]=w):w=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsxs(VStack,{gap:2,align:"stretch",fontSize:"sm",color:"gray.600",children:[jsxRuntimeExports.jsx(Text$1,{children:"• Các thay đổi có thể bị ghi đè lẫn nhau"}),jsxRuntimeExports.jsx(Text$1,{children:"• Một số chỉnh sửa có thể bị mất"}),jsxRuntimeExports.jsx(Text$1,{children:"• Khuyến nghị chờ người khác hoàn thành trước khi chỉnh sửa"})]}),e[18]=C):C=e[18];let b;e[19]!==w?(b=jsxRuntimeExports.jsxs(VStack,{gap:3,align:"stretch",children:[h,w,C]}),e[19]=w,e[20]=b):b=e[20];let v;e[21]!==b||e[22]!==g?(v=jsxRuntimeExports.jsx(DialogBody,{children:jsxRuntimeExports.jsxs(VStack,{gap:4,align:"stretch",children:[g,b]})}),e[21]=b,e[22]=g,e[23]=v):v=e[23];let _;e[24]!==s?(_=jsxRuntimeExports.jsx(DialogActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",colorScheme:"gray",onClick:s,size:"md",flex:1,children:"Quay lại"})}),e[24]=s,e[25]=_):_=e[25];let I;e[26]!==r?(I=jsxRuntimeExports.jsx(DialogActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{colorScheme:"orange",onClick:r,size:"md",flex:1,children:"Chấp nhận"})}),e[26]=r,e[27]=I):I=e[27];let $;e[28]!==_||e[29]!==I?($=jsxRuntimeExports.jsx(DialogFooter,{children:jsxRuntimeExports.jsxs(HStack,{gap:3,width:"full",justify:"center",children:[_,I]})}),e[28]=_,e[29]=I,e[30]=$):$=e[30];let A;e[31]!==v||e[32]!==$?(A=jsxRuntimeExports.jsxs(DialogContent,{backdrop:!0,portalled:!0,className:"max-w-md mx-auto",style:m,children:[R,v,$]}),e[31]=v,e[32]=$,e[33]=A):A=e[33];let T;return e[34]!==o||e[35]!==d||e[36]!==A?(T=jsxRuntimeExports.jsxs(DialogRoot,{open:o,onOpenChange:d,children:[u,A]}),e[34]=o,e[35]=d,e[36]=A,e[37]=T):T=e[37],T},defaultQRSettings={dotColor:"#000000",backgroundColor:"#FFFFFF",cornerSquareColor:"#000000",cornerDotColor:"#000000",dotType:"rounded",cornerSquareType:"extra-rounded",cornerDotType:"dot",margin:10,dotSize:1,imageUrl:"",imageSize:.4,hideBackgroundDots:!0,errorCorrectionLevel:"M"},loadQRSettings=()=>{try{const t=localStorage.getItem("qrCodeSettings");if(t){const e=JSON.parse(t);return{...defaultQRSettings,...e}}}catch{}return defaultQRSettings},saveQRSettings=t=>{try{localStorage.setItem("qrCodeSettings",JSON.stringify(t))}catch{}},QRCodeSettingsModal=t=>{const e=compilerRuntimeExports.c(153),{isOpen:o,onClose:r,onSettingsChange:s,currentSettings:i}=t,[a,c]=reactExports.useState(i),[,l]=reactExports.useState("");let d,u;e[0]!==i?(d=()=>{c(i)},u=[i],e[0]=i,e[1]=d,e[2]=u):(d=e[1],u=e[2]),reactExports.useEffect(d,u);let m;e[3]!==r||e[4]!==s||e[5]!==a?(m=()=>{saveQRSettings(a),s(a),toaster.create({title:"Đã lưu!",description:"Cài đặt QR code đã được lưu",type:"success",duration:2e3}),r()},e[3]=r,e[4]=s,e[5]=a,e[6]=m):m=e[6];const R=m;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{c(defaultQRSettings),localStorage.removeItem("qrCodeSettings"),toaster.create({title:"Đã reset!",description:"Đã khôi phục cài đặt mặc định",type:"info",duration:2e3})},e[7]=p):p=e[7];const j=p;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=ze=>{var We;const Ge=(We=ze.target.files)==null?void 0:We[0];if(Ge){const Ve=new FileReader;Ve.onload=Je=>{var at;const he=(at=Je.target)==null?void 0:at.result;c(xt=>({...xt,imageUrl:he})),l(he)},Ve.readAsDataURL(Ge)}},e[8]=x):x=e[8];const g=x;let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{c(_temp$4),l("")},e[9]=h):h=e[9];const E=h;let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=(ze,Ge)=>{c(We=>({...We,[ze]:Ge}))},e[10]=w):w=e[10];const C=w;let b;e[11]!==r?(b=ze=>ze.open?null:r(),e[11]=r,e[12]=b):b=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaCog,{size:16}),jsxRuntimeExports.jsx(Text$1,{children:"Cài đặt QR Code"})]})}),jsxRuntimeExports.jsx(DialogCloseTrigger,{})]}),e[13]=v):v=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",children:"Màu sắc"}),e[14]=_):_=e[14];let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Màu chấm"}),e[15]=I):I=e[15];let $,A;e[16]===Symbol.for("react.memo_cache_sentinel")?($=ze=>C("dotColor",ze.target.value),A={width:"40px",height:"40px",border:"none",borderRadius:"4px"},e[16]=$,e[17]=A):($=e[16],A=e[17]);let T;e[18]!==a.dotColor?(T=jsxRuntimeExports.jsx("input",{type:"color",value:a.dotColor,onChange:$,style:A}),e[18]=a.dotColor,e[19]=T):T=e[19];let L;e[20]===Symbol.for("react.memo_cache_sentinel")?(L=ze=>C("dotColor",ze.target.value),e[20]=L):L=e[20];let P;e[21]!==a.dotColor?(P=jsxRuntimeExports.jsx(Input$1,{value:a.dotColor,onChange:L,size:"sm",w:"100px"}),e[21]=a.dotColor,e[22]=P):P=e[22];let N;e[23]!==T||e[24]!==P?(N=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[I,jsxRuntimeExports.jsxs(HStack,{gap:2,children:[T,P]})]}),e[23]=T,e[24]=P,e[25]=N):N=e[25];let k;e[26]===Symbol.for("react.memo_cache_sentinel")?(k=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Màu nền"}),e[26]=k):k=e[26];let B,F;e[27]===Symbol.for("react.memo_cache_sentinel")?(B=ze=>C("backgroundColor",ze.target.value),F={width:"40px",height:"40px",border:"none",borderRadius:"4px"},e[27]=B,e[28]=F):(B=e[27],F=e[28]);let W;e[29]!==a.backgroundColor?(W=jsxRuntimeExports.jsx("input",{type:"color",value:a.backgroundColor,onChange:B,style:F}),e[29]=a.backgroundColor,e[30]=W):W=e[30];let z;e[31]===Symbol.for("react.memo_cache_sentinel")?(z=ze=>C("backgroundColor",ze.target.value),e[31]=z):z=e[31];let H;e[32]!==a.backgroundColor?(H=jsxRuntimeExports.jsx(Input$1,{value:a.backgroundColor,onChange:z,size:"sm",w:"100px"}),e[32]=a.backgroundColor,e[33]=H):H=e[33];let U;e[34]!==W||e[35]!==H?(U=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[k,jsxRuntimeExports.jsxs(HStack,{gap:2,children:[W,H]})]}),e[34]=W,e[35]=H,e[36]=U):U=e[36];let D;e[37]!==N||e[38]!==U?(D=jsxRuntimeExports.jsxs(HStack,{gap:4,children:[N,U]}),e[37]=N,e[38]=U,e[39]=D):D=e[39];let O;e[40]===Symbol.for("react.memo_cache_sentinel")?(O=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Màu góc vuông"}),e[40]=O):O=e[40];let Q,q;e[41]===Symbol.for("react.memo_cache_sentinel")?(Q=ze=>C("cornerSquareColor",ze.target.value),q={width:"40px",height:"40px",border:"none",borderRadius:"4px"},e[41]=Q,e[42]=q):(Q=e[41],q=e[42]);let Y;e[43]!==a.cornerSquareColor?(Y=jsxRuntimeExports.jsx("input",{type:"color",value:a.cornerSquareColor,onChange:Q,style:q}),e[43]=a.cornerSquareColor,e[44]=Y):Y=e[44];let V;e[45]===Symbol.for("react.memo_cache_sentinel")?(V=ze=>C("cornerSquareColor",ze.target.value),e[45]=V):V=e[45];let de;e[46]!==a.cornerSquareColor?(de=jsxRuntimeExports.jsx(Input$1,{value:a.cornerSquareColor,onChange:V,size:"sm",w:"100px"}),e[46]=a.cornerSquareColor,e[47]=de):de=e[47];let ue;e[48]!==Y||e[49]!==de?(ue=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[O,jsxRuntimeExports.jsxs(HStack,{gap:2,children:[Y,de]})]}),e[48]=Y,e[49]=de,e[50]=ue):ue=e[50];let Re;e[51]===Symbol.for("react.memo_cache_sentinel")?(Re=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Màu chấm góc"}),e[51]=Re):Re=e[51];let oe,ce;e[52]===Symbol.for("react.memo_cache_sentinel")?(oe=ze=>C("cornerDotColor",ze.target.value),ce={width:"40px",height:"40px",border:"none",borderRadius:"4px"},e[52]=oe,e[53]=ce):(oe=e[52],ce=e[53]);let je;e[54]!==a.cornerDotColor?(je=jsxRuntimeExports.jsx("input",{type:"color",value:a.cornerDotColor,onChange:oe,style:ce}),e[54]=a.cornerDotColor,e[55]=je):je=e[55];let ie;e[56]===Symbol.for("react.memo_cache_sentinel")?(ie=ze=>C("cornerDotColor",ze.target.value),e[56]=ie):ie=e[56];let xe;e[57]!==a.cornerDotColor?(xe=jsxRuntimeExports.jsx(Input$1,{value:a.cornerDotColor,onChange:ie,size:"sm",w:"100px"}),e[57]=a.cornerDotColor,e[58]=xe):xe=e[58];let pe;e[59]!==je||e[60]!==xe?(pe=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[Re,jsxRuntimeExports.jsxs(HStack,{gap:2,children:[je,xe]})]}),e[59]=je,e[60]=xe,e[61]=pe):pe=e[61];let $e;e[62]!==ue||e[63]!==pe?($e=jsxRuntimeExports.jsxs(HStack,{gap:4,children:[ue,pe]}),e[62]=ue,e[63]=pe,e[64]=$e):$e=e[64];let Se;e[65]!==D||e[66]!==$e?(Se=jsxRuntimeExports.jsxs(VStack,{align:"stretch",gap:3,children:[_,D,$e]}),e[65]=D,e[66]=$e,e[67]=Se):Se=e[67];let Ie;e[68]===Symbol.for("react.memo_cache_sentinel")?(Ie=jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",children:"Hình dạng"}),e[68]=Ie):Ie=e[68];let Me;e[69]===Symbol.for("react.memo_cache_sentinel")?(Me=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Kiểu chấm"}),e[69]=Me):Me=e[69];let He,fe,Ce,le,J;e[70]===Symbol.for("react.memo_cache_sentinel")?(He=ze=>C("dotType",ze.target.value),fe={width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #e2e8f0"},Ce=jsxRuntimeExports.jsx("option",{value:"square",children:"Vuông"}),le=jsxRuntimeExports.jsx("option",{value:"rounded",children:"Bo tròn"}),J=jsxRuntimeExports.jsx("option",{value:"extra-rounded",children:"Rất bo tròn"}),e[70]=He,e[71]=fe,e[72]=Ce,e[73]=le,e[74]=J):(He=e[70],fe=e[71],Ce=e[72],le=e[73],J=e[74]);let se;e[75]!==a.dotType?(se=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[Me,jsxRuntimeExports.jsxs("select",{value:a.dotType,onChange:He,style:fe,children:[Ce,le,J]})]}),e[75]=a.dotType,e[76]=se):se=e[76];let te;e[77]===Symbol.for("react.memo_cache_sentinel")?(te=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Kiểu góc vuông"}),e[77]=te):te=e[77];let be,Z,Ee,me,ge;e[78]===Symbol.for("react.memo_cache_sentinel")?(be=ze=>C("cornerSquareType",ze.target.value),Z={width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #e2e8f0"},Ee=jsxRuntimeExports.jsx("option",{value:"square",children:"Vuông"}),me=jsxRuntimeExports.jsx("option",{value:"rounded",children:"Bo tròn"}),ge=jsxRuntimeExports.jsx("option",{value:"extra-rounded",children:"Rất bo tròn"}),e[78]=be,e[79]=Z,e[80]=Ee,e[81]=me,e[82]=ge):(be=e[78],Z=e[79],Ee=e[80],me=e[81],ge=e[82]);let Ke;e[83]!==a.cornerSquareType?(Ke=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[te,jsxRuntimeExports.jsxs("select",{value:a.cornerSquareType,onChange:be,style:Z,children:[Ee,me,ge]})]}),e[83]=a.cornerSquareType,e[84]=Ke):Ke=e[84];let Ue;e[85]!==se||e[86]!==Ke?(Ue=jsxRuntimeExports.jsxs(HStack,{gap:4,children:[se,Ke]}),e[85]=se,e[86]=Ke,e[87]=Ue):Ue=e[87];let _e;e[88]===Symbol.for("react.memo_cache_sentinel")?(_e=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Kiểu chấm góc"}),e[88]=_e):_e=e[88];let Qe,qe,Ye,nt,et;e[89]===Symbol.for("react.memo_cache_sentinel")?(Qe=ze=>C("cornerDotType",ze.target.value),qe={width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #e2e8f0"},Ye=jsxRuntimeExports.jsx("option",{value:"square",children:"Vuông"}),nt=jsxRuntimeExports.jsx("option",{value:"rounded",children:"Bo tròn"}),et=jsxRuntimeExports.jsx("option",{value:"dot",children:"Chấm tròn"}),e[89]=Qe,e[90]=qe,e[91]=Ye,e[92]=nt,e[93]=et):(Qe=e[89],qe=e[90],Ye=e[91],nt=e[92],et=e[93]);let re;e[94]!==a.cornerDotType?(re=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[_e,jsxRuntimeExports.jsxs("select",{value:a.cornerDotType,onChange:Qe,style:qe,children:[Ye,nt,et]})]}),e[94]=a.cornerDotType,e[95]=re):re=e[95];let Xe;e[96]===Symbol.for("react.memo_cache_sentinel")?(Xe=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"medium",children:"Mức độ sửa lỗi"}),e[96]=Xe):Xe=e[96];let tt,rt,Rt,wt,St,bt;e[97]===Symbol.for("react.memo_cache_sentinel")?(tt=ze=>C("errorCorrectionLevel",ze.target.value),rt={width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #e2e8f0"},Rt=jsxRuntimeExports.jsx("option",{value:"L",children:"Thấp (L)"}),wt=jsxRuntimeExports.jsx("option",{value:"M",children:"Trung bình (M)"}),St=jsxRuntimeExports.jsx("option",{value:"Q",children:"Cao (Q)"}),bt=jsxRuntimeExports.jsx("option",{value:"H",children:"Rất cao (H)"}),e[97]=tt,e[98]=rt,e[99]=Rt,e[100]=wt,e[101]=St,e[102]=bt):(tt=e[97],rt=e[98],Rt=e[99],wt=e[100],St=e[101],bt=e[102]);let yt;e[103]!==a.errorCorrectionLevel?(yt=jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,flex:1,children:[Xe,jsxRuntimeExports.jsxs("select",{value:a.errorCorrectionLevel,onChange:tt,style:rt,children:[Rt,wt,St,bt]})]}),e[103]=a.errorCorrectionLevel,e[104]=yt):yt=e[104];let jt;e[105]!==re||e[106]!==yt?(jt=jsxRuntimeExports.jsxs(HStack,{gap:4,children:[re,yt]}),e[105]=re,e[106]=yt,e[107]=jt):jt=e[107];let we;e[108]!==Ue||e[109]!==jt?(we=jsxRuntimeExports.jsxs(VStack,{align:"stretch",gap:3,children:[Ie,Ue,jt]}),e[108]=Ue,e[109]=jt,e[110]=we):we=e[110];let G;e[111]===Symbol.for("react.memo_cache_sentinel")?(G=jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",children:"Kích thước"}),e[111]=G):G=e[111];let X;e[112]!==a.margin?(X=jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",fontWeight:"medium",children:["Khoảng cách viền: ",a.margin,"px"]}),e[112]=a.margin,e[113]=X):X=e[113];let K;e[114]===Symbol.for("react.memo_cache_sentinel")?(K=ze=>C("margin",parseInt(ze.target.value)),e[114]=K):K=e[114];let ne;e[115]===Symbol.for("react.memo_cache_sentinel")?(ne={width:"100%"},e[115]=ne):ne=e[115];let ve;e[116]!==a.margin?(ve=jsxRuntimeExports.jsx("input",{type:"range",value:a.margin,onChange:K,min:0,max:20,step:1,style:ne}),e[116]=a.margin,e[117]=ve):ve=e[117];let Te;e[118]!==X||e[119]!==ve?(Te=jsxRuntimeExports.jsxs(VStack,{align:"stretch",gap:3,children:[G,jsxRuntimeExports.jsxs(VStack,{align:"start",gap:2,children:[X,ve]})]}),e[118]=X,e[119]=ve,e[120]=Te):Te=e[120];let Le;e[121]===Symbol.for("react.memo_cache_sentinel")?(Le=jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",children:"Logo/Favicon"}),e[121]=Le):Le=e[121];let st;e[122]===Symbol.for("react.memo_cache_sentinel")?(st=jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:g,style:{display:"none"},id:"qr-image-upload"}),e[122]=st):st=e[122];let ft;e[123]===Symbol.for("react.memo_cache_sentinel")?(ft=jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:_temp2$1,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaUpload,{size:12}),jsxRuntimeExports.jsx(Text$1,{children:"Chọn ảnh"})]})}),e[123]=ft):ft=e[123];let ht;e[124]!==a.imageUrl?(ht=a.imageUrl&&jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",colorScheme:"red",onClick:E,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaTrash,{size:12}),jsxRuntimeExports.jsx(Text$1,{children:"Xóa"})]})}),e[124]=a.imageUrl,e[125]=ht):ht=e[125];let ct;e[126]!==ht?(ct=jsxRuntimeExports.jsxs(HStack,{gap:2,children:[st,ft,ht]}),e[126]=ht,e[127]=ct):ct=e[127];let Et;e[128]!==a.hideBackgroundDots||e[129]!==a.imageSize||e[130]!==a.imageUrl?(Et=a.imageUrl&&jsxRuntimeExports.jsxs(VStack,{align:"start",gap:2,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",children:"Ảnh đã chọn:"}),jsxRuntimeExports.jsx(Image$2,{src:a.imageUrl,alt:"QR Logo",maxW:"100px",maxH:"100px",objectFit:"contain"}),jsxRuntimeExports.jsxs(VStack,{align:"start",gap:1,children:[jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",fontWeight:"medium",children:["Kích thước logo: ",Math.round(a.imageSize*100),"%"]}),jsxRuntimeExports.jsx("input",{type:"range",value:a.imageSize,onChange:ze=>C("imageSize",parseFloat(ze.target.value)),min:.1,max:.8,step:.1,style:{width:"100%"}})]}),jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:a.hideBackgroundDots,onChange:ze=>C("hideBackgroundDots",ze.target.checked)}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",children:"Ẩn chấm nền dưới logo"})]})]}),e[128]=a.hideBackgroundDots,e[129]=a.imageSize,e[130]=a.imageUrl,e[131]=Et):Et=e[131];let Tt;e[132]!==ct||e[133]!==Et?(Tt=jsxRuntimeExports.jsxs(VStack,{align:"stretch",gap:3,children:[Le,jsxRuntimeExports.jsxs(VStack,{align:"start",gap:2,children:[ct,Et]})]}),e[132]=ct,e[133]=Et,e[134]=Tt):Tt=e[134];let vt;e[135]===Symbol.for("react.memo_cache_sentinel")?(vt=jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:j,children:"Reset mặc định"}),e[135]=vt):vt=e[135];let it;e[136]!==r?(it=jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:r,children:"Hủy"}),e[136]=r,e[137]=it):it=e[137];let ae;e[138]!==R?(ae=jsxRuntimeExports.jsx(Button$1,{colorScheme:"blue",onClick:R,children:"Lưu cài đặt"}),e[138]=R,e[139]=ae):ae=e[139];let Fe;e[140]!==it||e[141]!==ae?(Fe=jsxRuntimeExports.jsxs(HStack,{gap:3,justify:"end",children:[vt,it,ae]}),e[140]=it,e[141]=ae,e[142]=Fe):Fe=e[142];let ee;e[143]!==Se||e[144]!==we||e[145]!==Te||e[146]!==Tt||e[147]!==Fe?(ee=jsxRuntimeExports.jsxs(DialogContent,{maxW:"600px",children:[v,jsxRuntimeExports.jsx(DialogBody,{pb:6,children:jsxRuntimeExports.jsxs(VStack,{gap:6,align:"stretch",children:[Se,we,Te,Tt,Fe]})})]}),e[143]=Se,e[144]=we,e[145]=Te,e[146]=Tt,e[147]=Fe,e[148]=ee):ee=e[148];let Be;return e[149]!==o||e[150]!==b||e[151]!==ee?(Be=jsxRuntimeExports.jsx(DialogRoot,{open:o,onOpenChange:b,placement:"center",children:ee}),e[149]=o,e[150]=b,e[151]=ee,e[152]=Be):Be=e[152],Be};function _temp$4(t){return{...t,imageUrl:""}}function _temp2$1(){var t;return(t=document.getElementById("qr-image-upload"))==null?void 0:t.click()}const ShareButton=({templateId:t,pageData:e,isPage:o})=>{const{enabled:r}=Pe(E=>({enabled:E.options.enabled})),{hasFeature:s}=useViewport(),[i,a]=reactExports.useState(!1),[c,l]=reactExports.useState(!1),d=s("custom_qrcode_style"),[u,m]=reactExports.useState(loadQRSettings());reactExports.useEffect(()=>{d&&m(loadQRSettings())},[d]);const p=o&&(e!=null&&e.domain)?`https://${e.domain}`:t?`https://template.mehappy.info/${t}`:window.location.href,j=async()=>{try{await navigator.clipboard.writeText(p),toaster.create({title:"Đã sao chép!",description:"Link đã được sao chép vào clipboard",type:"success",duration:2e3})}catch{toaster.create({title:"Lỗi",description:"Không thể sao chép link",type:"error",duration:2e3})}},x=()=>{window.open(p,"_blank","noopener,noreferrer")},g=async()=>{if(navigator.share)try{await navigator.share({title:o?"Thiệp cưới của tôi":"Mẫu thiệp cưới",text:o?"Xem thiệp cưới của chúng tôi":"Xem mẫu thiệp cưới đẹp",url:p})}catch{j()}else j(),toaster.create({title:"Thông báo",description:"Trình duyệt không hỗ trợ chia sẻ trực tiếp. Link đã được sao chép.",type:"info",duration:3e3})},h=()=>{a(!0)};return r?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(MenuRoot$1,{children:[jsxRuntimeExports.jsx(MenuTrigger$1,{asChild:!0,children:jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",title:"Chia sẻ",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(FaShare,{size:10,className:"w-2.5 h-2.5 sm:w-3.5 sm:h-3.5"})})}),jsxRuntimeExports.jsxs(MenuContent$1,{children:[jsxRuntimeExports.jsx(MenuItem$1,{value:"open-link",onClick:x,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:14,color:"#F59E0B"}),jsxRuntimeExports.jsx(Text$1,{children:"Mở trang"})]})}),jsxRuntimeExports.jsx(MenuItem$1,{value:"copy-link",onClick:j,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaCopy,{size:14,color:"#3B82F6"}),jsxRuntimeExports.jsx(Text$1,{children:"Copy Link thiệp"})]})}),jsxRuntimeExports.jsx(MenuItem$1,{value:"social-share",onClick:g,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(MdShare,{size:16,color:"#10B981"}),jsxRuntimeExports.jsx(Text$1,{children:"Chia sẻ qua mạng xã hội"})]})}),jsxRuntimeExports.jsx(MenuItem$1,{value:"qr-code",onClick:d?h:void 0,disabled:!d,opacity:d?1:.5,children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaQrcode,{size:14,color:"#8B5CF6"}),jsxRuntimeExports.jsx(Text$1,{children:"Tạo mã QR"}),!d&&jsxRuntimeExports.jsx(FaCrown,{size:12,color:"#FFD700"})]})}),d&&jsxRuntimeExports.jsx(MenuItem$1,{value:"qr-settings",onClick:()=>l(!0),children:jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(FaCog,{size:14,color:"#6B7280"}),jsxRuntimeExports.jsx(Text$1,{children:"Cài đặt QR"})]})})]})]}),jsxRuntimeExports.jsx(QRCodeModal,{isOpen:i,onClose:()=>a(!1),shareUrl:p,title:"Mã QR",description:"Quét mã QR để truy cập thiệp",downloadFileName:o?"qr-thiep-cuoi.png":"qr-mau-thiep.png",qrSettings:u,hasCustomStyle:d}),jsxRuntimeExports.jsx(QRCodeSettingsModal,{isOpen:c,onClose:()=>l(!1),onSettingsChange:m,currentSettings:u})]})},useProductTour=()=>{const[t,e]=reactExports.useState(null);Pe(a=>({enabled:a.options.enabled})),reactExports.useEffect(()=>{const a=Ae({showProgress:!0,animate:!0,smoothScroll:!0,allowClose:!0,disableActiveInteraction:!1,allowKeyboardControl:!0,stagePadding:4,stageRadius:8,overlayOpacity:.75,popoverOffset:10,nextBtnText:"Tiếp theo",prevBtnText:"Quay lại",doneBtnText:"Hoàn thành",progressText:"{{current}} / {{total}}",steps:[{element:".header",popover:{title:"🎉 Chào mừng đến với Editor meHappy!",description:"Chúng tôi sẽ hướng dẫn bạn cách sử dụng editor để tạo thiệp cưới đẹp mắt. Hãy bắt đầu nào!",side:"bottom"}},{element:'[data-tour="edit-button"]',popover:{title:"Bắt đầu chỉnh sửa",description:'Vui lòng nhấp vào nút "Sửa" này để bắt đầu chỉnh sửa thiệp cưới. Sau khi nhấp, nút sẽ chuyển thành "Lưu" và bạn sẽ thấy thêm các nút chỉnh sửa.',side:"bottom",showButtons:[]}},{element:'button[title="Thêm elements"], button:has(svg[data-icon="plus"]), .header button:nth-of-type(2)',popover:{title:"Thêm thành phần mới",description:'Nhấp vào nút "+" để mở bảng chọn thành phần. Từ đây bạn có thể thêm văn bản, hình ảnh, nút bấm và nhiều thành phần khác.',side:"bottom",showButtons:[]}},{element:'[data-section="basic"]',popover:{title:"Chọn loại thành phần",description:'Trong tab "Cơ bản", bạn sẽ thấy các thành phần cơ bản như khối hộp, văn bản, nút bấm, hình ảnh. Đây là tab được chọn mặc định.',side:"left",showButtons:["next"]}},{element:'[data-asset="container"]',popover:{title:"Thêm Khối hộp",description:'Nhấp vào "Khối/ Hộp" để chọn loại thành phần này. Khối hộp là container cơ bản để chứa nội dung khác.',side:"left",showButtons:[]}},{element:'[data-add-button="true"]',popover:{title:"Thêm thành phần vào thiệp",description:'Nhấp "Thêm mới" để thêm khối hộp vào thiệp cưới của bạn. Thành phần sẽ xuất hiện ở giữa màn hình.',side:"left",showButtons:[]}},{element:".craftjs-renderer",popover:{title:"Chọn thành phần để chỉnh sửa",description:"Nhấp vào khối hộp vừa thêm trên thiệp để chọn nó. Khi được chọn, thành phần sẽ có viền xung quanh và bảng công cụ sẽ xuất hiện bên phải.",side:"left",showButtons:[]}},{element:".sidebar-content.bg-white",popover:{title:"Bảng cài đặt thành phần",description:"Đây là phần cài đặt thành phần - Xuất hiện khi bạn chọn một thành phần. Tại đây bạn có thể thấy tên thành phần, ID và các công cụ chỉnh sửa chi tiết.",side:"left"}},{element:'button[title="Thêm elements"], button:has(svg[data-icon="plus"]), .header button:nth-of-type(2)',popover:{title:"Tiếp tục thêm thành phần",description:'Nhấp vào nút "+" để mở bảng chọn thành phần. Từ đây bạn có thể thêm văn bản, hình ảnh, nút bấm và nhiều thành phần khác.',side:"bottom",showButtons:[]}},{element:'[data-section="basic"]',popover:{title:'Tab "Cơ bản"',description:'Tab "Cơ bản" chứa các thành phần cơ bản nhất như văn bản, hình ảnh, nút bấm, khối container. Đây là nơi bạn sẽ tìm thấy hầu hết các thành phần cần thiết.',side:"left"}},{element:'[data-section="file"]',popover:{title:'Tab "File"',description:'Tab "File" cho phép bạn quản lý và thêm các tệp tin như hình ảnh, video đã tải lên. Bạn có thể tải lên hình ảnh mới hoặc sử dụng hình ảnh có sẵn.',side:"left"}},{element:'[data-section="popup"]',popover:{title:'Tab "Popup"',description:'Tab "Popup" cho phép bạn tạo và quản lý các popup trên thiệp cưới. Popup có thể chứa thông tin chi tiết, form đăng ký hoặc các nội dung bổ sung. Có thể được kích hoạt bằng tự động hoặc bằng các phần tử khác ở mục Sự kiện',side:"left"}},{element:'[data-section="dropbox"]',popover:{title:"Dropbox - Hộp thông báo",description:"Dropbox hoạt động giống message box, cho phép bạn hiển thị thông báo, thông tin quan trọng hoặc tin nhắn đến khách mời một cách nổi bật và thu hút.",side:"left",showButtons:["next"]}},{element:'[data-section="album-modal"]',popover:{title:"Album Modal - Bộ sưu tập ảnh",description:"Tạo trước modal chứa album ảnh và kích hoạt giống sự kiện. Bạn có thể tạo gallery ảnh đẹp mắt để khách mời xem và tương tác.",side:"left",showButtons:["next"]}},{element:'[data-section="quickactions"]',popover:{title:"Quick Actions - Hành động nhanh",description:"Một nút hành động nhanh ở góc màn hình. Cho phép khách mời thực hiện các tác vụ quan trọng như gọi điện, nhắn tin, hoặc chia sẻ một cách nhanh chóng.",side:"left",showButtons:["next"]}},{element:'button[title="Cài đặt"]',popover:{title:"Cài đặt chung",description:'Nút "Cài đặt" cho phép bạn tùy chỉnh các hiệu ứng tổng thể như hiệu ứng hạt, âm thanh nền cho toàn bộ thiệp cưới.',side:"bottom",showButtons:["next"]}},{element:'[data-tour="edit-button"]',popover:{title:"Lưu thiệp cưới",description:'Nhấp "Lưu" để lưu tất cả thay đổi. Hệ thống đã có tự động lưu, tuy nhiên bạn có thể lưu thủ công để yên tâm hơn!',side:"bottom",showButtons:[]}},{element:'[data-tour="publish-button"]',popover:{title:"Xuất bản thiệp cưới",description:'Khi hoàn tất, nhấp "Xuất bản" để thiệp cưới có thể truy cập được qua domain công khai. Bạn có thể "Hủy xuất bản" bất cứ lúc nào.',side:"bottom",showButtons:[]}},{element:'[data-tour="view-user-features-button"]',popover:{title:"Xem tính năng user",description:'Nhấp vào nút "Xem tính năng" để tải dữ liệu tính năng của user. Hệ thống sẽ gọi API để lấy thông tin và hiển thị danh sách tính năng.',side:"top",showButtons:[]}},{element:".header",popover:{title:"🎊 Hoàn thành!",description:"Tuyệt vời! Bạn đã hoàn thành hướng dẫn cơ bản. Giờ đây bạn có thể tự do sáng tạo thiệp cưới độc đáo của riêng mình. Chúc bạn thiết kế thành công!",side:"bottom"}}],onPopoverRender:(c,{config:l,state:d})=>{c.wrapper&&(c.wrapper.style.zIndex="2147483647");const u=document.querySelector(".driver-active-element");u&&u instanceof HTMLElement&&(u.style.zIndex="2147483645",u.style.pointerEvents="auto",u.style.position="relative")},onHighlightStarted:(c,l)=>{var d;if(c&&c instanceof HTMLElement&&(c.style.pointerEvents="auto",c.style.position="relative",c.style.zIndex="2147483645",c.classList.add("driver-clickable-element")),c&&typeof l.element=="string"&&(!((d=l.popover)!=null&&d.showButtons)||l.popover.showButtons.length===0)){const m=R=>{if(l.element==='[data-tour="view-user-features-button"]'){const p=()=>{const h=document.querySelectorAll('[data-loading="true"], .spinner, .loading'),E=document.querySelector("table"),w=document.querySelector('[data-testid="summary-cards"], .grid');return!(h.length>0)&&(E||w)?(setTimeout(()=>{a.hasNextStep()?a.moveNext():a.destroy()},1e3),!0):!1};let j=0;const x=20,g=setInterval(()=>{j++,(p()||j>=x)&&(clearInterval(g),j>=x&&setTimeout(()=>{a.hasNextStep()?a.moveNext():a.destroy()},1e3))},500);setTimeout(p,100)}else setTimeout(()=>{l.element==='[data-tour="edit-button"]'?setTimeout(()=>{a.moveNext()},2e3):a.hasNextStep()?a.moveNext():a.destroy()},1e3);c.removeEventListener("click",m)};c.addEventListener("click",m,!1),c.__tourClickHandler=m}if(l.element,l.element,l.element==='[data-tour="view-user-features-button"]'){const u=c;u&&u.disabled}},onDeselected:(c,l)=>{c&&c.__tourClickHandler&&(c.removeEventListener("click",c.__tourClickHandler,!1),delete c.__tourClickHandler),c&&c instanceof HTMLElement&&(c.style.pointerEvents="",c.style.position="",c.style.zIndex="",c.classList.remove("driver-clickable-element"))},onDestroyed:()=>{},onPrevClick:(c,l)=>{}});return e(a),()=>{a==null||a.destroy()}},[]);const o=()=>{document.querySelectorAll(".header button")};return{startTour:()=>{if(t){o();const a=document.querySelector('[data-tour="edit-button"]');if(!document.querySelector(".header")){toaster.create({title:"Lỗi",description:"Không thể khởi động hướng dẫn. Vui lòng tải lại trang.",type:"error",duration:5e3});return}a||document.querySelectorAll("button");try{t.drive()}catch{toaster.create({title:"Lỗi",description:"Có lỗi khi khởi động hướng dẫn. Vui lòng thử lại sau.",type:"error",duration:5e3})}}},startTourFromStep:a=>{t&&t.drive(a)},startSimpleTour:()=>{if(t){const a=Ae({showProgress:!0,animate:!0,smoothScroll:!0,allowClose:!0,nextBtnText:"Tiếp theo",prevBtnText:"Quay lại",doneBtnText:"Hoàn thành",steps:[{element:".header",popover:{title:"Test Step 1",description:"This is the header area",side:"bottom"}},{element:"body",popover:{title:"Test Step 2",description:"This is the body area",side:"top"}}],onNextClick:(c,l,d)=>!0});try{a.drive()}catch{}}},debugTour:o,driverInstance:t}},TourButton=()=>{const t=compilerRuntimeExports.c(9),{startTour:e,debugTour:o,startSimpleTour:r}=useProductTour();let s;t[0]!==o||t[1]!==r||t[2]!==e?(s=u=>{if(u.preventDefault(),u.shiftKey){o();return}if(u.altKey){r();return}e()},t[0]=o,t[1]=r,t[2]=e,t[3]=s):s=t[3];const i=s;let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a={color:"blue.600",transform:"translateY(-1px)"},t[4]=a):a=t[4];let c,l;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=jsxRuntimeExports.jsx(FaQuestionCircle,{size:12,className:"text-blue-500"}),l=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"blue.500",fontWeight:"medium",className:"text-xs sm:text-sm",children:"Xem hướng dẫn"}),t[5]=c,t[6]=l):(c=t[5],l=t[6]);let d;return t[7]!==i?(d=jsxRuntimeExports.jsxs(Box,{as:"button",display:"flex",alignItems:"center",gap:2,cursor:"pointer",onClick:i,_hover:a,transition:"all 0.2s",className:"hidden sm:flex items-center gap-1 sm:gap-2",title:"Click: Start tour, Shift+Click: Debug, Alt+Click: Simple tour",children:[c,l]}),t[7]=i,t[8]=d):d=t[8],d},useKeyboardShortcuts=()=>{const{actions:t,query:e}=Pe((h,E)=>({canUndo:E.history.canUndo(),canRedo:E.history.canRedo(),selectedNodeIds:h.events.selected})),{initialContent:o,currentEditingPlatform:r,hasFeature:s}=useViewport(),{desktop:i,mobile:a}=o,{selectedNodes:c,clearSelection:l}=useMultiSelect(),d=useSelector(selectAuth),u=isAdmin(d),m=["Popup","Dropbox","Content Wrapper","Sections","AlbumSection","Album Modal","QuickActions"],R=()=>{if(e.history.canUndo()){const E=r==="desktop"?i:a;if(E){if(e.serialize()===E)return;t.history.undo()}else t.history.undo()}},p=()=>{e.history.canRedo()&&t.history.redo()},j=h=>{(h.ctrlKey||h.metaKey)&&h.key==="z"&&!h.shiftKey&&(h.preventDefault(),R())},x=h=>{((h.ctrlKey||h.metaKey)&&h.key==="z"&&h.shiftKey||h.ctrlKey&&h.key==="y"&&!h.shiftKey)&&(h.preventDefault(),p())},g=reactExports.useCallback(h=>{if(h.key==="Delete"||h.key==="Backspace"){const E=h.target;if(E&&(E.tagName==="INPUT"||E.tagName==="TEXTAREA"||E.isContentEditable||E.closest('[contenteditable="true"]')))return;h.preventDefault();let w=[];c.length>0?w=c:w=e.getEvent("selected").all(),w.length>0&&(w.forEach(C=>{try{if(e.node(C).get()){const v=e.node(C).get();if(v&&v.data){const _=v.data.displayName||v.data.name||"",I=v.data.props||{};if(m.includes(_)||I.isChildOfButton||I.isChildOfGroup||I.isChildOfForm||I.deletable===!1)return;if(I.isBrand&&!u&&!s("remove_mewedding_logo")){try{t.setProp(C,$=>{$.hidden=!0})}catch{}return}}t.delete(C)}}catch{try{t.setProp(C,v=>{v.opacity=0,v.pointerEvents="none"})}catch{}}}),c.length>0&&l(),t.selectNode())}},[t,e,c,l,m,u,s]);return reactExports.useEffect(()=>(document.addEventListener("keydown",j),document.addEventListener("keydown",x),document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keydown",x),document.removeEventListener("keydown",g)}),[j,x,g]),{handleUndo:j,handleRedo:x,handleDelete:g,handleUndoProcess:R,handleRedoProcess:p}},useNavigationPrevention=t=>{const e=compilerRuntimeExports.c(8),{enabled:o,message:r}=t,s=r===void 0?"You have unsaved changes. Are you sure you want to leave?":r;let i;e[0]!==o?(i=d=>{const{currentLocation:u,nextLocation:m}=d;return o&&u.pathname!==m.pathname},e[0]=o,e[1]=i):i=e[1],useBlocker(i);let a,c;e[2]!==o||e[3]!==s?(a=()=>{if(!o)return;const d=u=>(u.preventDefault(),u.returnValue=s,s);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},c=[o,s],e[2]=o,e[3]=s,e[4]=a,e[5]=c):(a=e[4],c=e[5]),reactExports.useEffect(a,c);let l;return e[6]!==o?(l={isBlocking:o},e[6]=o,e[7]=l):l=e[7],l},convertModernColors=t=>{if(!t)return t;if(t.includes("oklch")){const e=t.match(/oklch\(([^)]+)\)/);if(e){const o=e[1].split(/\s+/);if(o.length>=3){const r=parseFloat(o[0])||.5,s=Math.round(r*255);return`rgb(${s}, ${s}, ${s})`}}return"transparent"}return t.includes("lab(")||t.includes("lch(")||t.includes("color(")?"transparent":t},downloadCanvasAsImage=(t,e)=>{const o=document.createElement("a");o.download=e,o.href=t.toDataURL("image/png"),document.body.appendChild(o),o.click(),document.body.removeChild(o)},downloadLogoAsImage=async t=>{try{const e=document.querySelector(".logo-content");if(!e)throw new Error("Logo content element not found");const o=await html2canvas(e,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:null,ignoreElements:i=>i.tagName==="SCRIPT"||i.tagName==="STYLE",onclone:i=>{i.querySelectorAll("*").forEach(c=>{if(c instanceof HTMLElement){const l=window.getComputedStyle(c);l.backgroundColor&&l.backgroundColor.includes("oklch")&&(c.style.backgroundColor=convertModernColors(l.backgroundColor)),l.color&&l.color.includes("oklch")&&(c.style.color=convertModernColors(l.color)),l.borderColor&&l.borderColor.includes("oklch")&&(c.style.borderColor=convertModernColors(l.borderColor))}})}}),s=`logo-${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.png`;downloadCanvasAsImage(o,s)}catch{try{const o=document.querySelector(".logo-content");if(o){const r=await html2canvas(o,{scale:1,useCORS:!1,allowTaint:!1,backgroundColor:"#ffffff",logging:!1,onclone:a=>{const c=a.createElement("style");c.textContent=`
              * {
                background-color: white !important;
                color: black !important;
                border-color: black !important;
                box-shadow: none !important;
                text-shadow: none !important;
              }
              
              /* Remove any oklch, lab, lch color functions */
              *[style*="oklch"], *[style*="lab("], *[style*="lch("], *[style*="color("] {
                background-color: white !important;
                color: black !important;
              }
            `,a.head.appendChild(c),a.querySelectorAll("*").forEach(d=>{d instanceof HTMLElement&&d.style&&d.style.cssText&&(d.style.cssText=d.style.cssText.replace(/oklch\([^)]*\)/g,"rgb(128, 128, 128)").replace(/lab\([^)]*\)/g,"rgb(128, 128, 128)").replace(/lch\([^)]*\)/g,"rgb(128, 128, 128)").replace(/color\([^)]*\)/g,"rgb(128, 128, 128)"))})}}),i=`logo-fallback-${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.png`;downloadCanvasAsImage(r,i)}else throw new Error("Logo element not found in fallback")}catch{throw new Error("Failed to download logo image")}}},downloadPageAsImage=async(t,e)=>{try{let o=null;if(e?o=t.node(e).get().dom:(o=document.querySelector('[data-cy="page"]'),o||(o=document.querySelector(".page"))),!o)throw new Error("Page element not found");const r=await html2canvas(o,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:null,width:o.offsetWidth,height:o.offsetHeight,ignoreElements:a=>a.tagName==="SCRIPT"||a.tagName==="STYLE",onclone:a=>{a.querySelectorAll("*").forEach(l=>{if(l instanceof HTMLElement){const d=window.getComputedStyle(l);d.backgroundColor&&d.backgroundColor.includes("oklch")&&(l.style.backgroundColor=convertModernColors(d.backgroundColor)),d.color&&d.color.includes("oklch")&&(l.style.color=convertModernColors(d.color)),d.borderColor&&d.borderColor.includes("oklch")&&(l.style.borderColor=convertModernColors(d.borderColor)),l.style.cssText&&(l.style.cssText=l.style.cssText.replace(/oklch\([^)]*\)/g,"rgb(128, 128, 128)").replace(/lab\([^)]*\)/g,"rgb(128, 128, 128)").replace(/lch\([^)]*\)/g,"rgb(128, 128, 128)").replace(/color\([^)]*\)/g,"rgb(128, 128, 128)"))}})}}),i=`card-page-${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.png`;downloadCanvasAsImage(r,i)}catch{throw new Error("Failed to download page image")}},getAllPages=t=>{var e,o,r,s;try{const i=t.getNodes(),a=[];for(const[c,l]of Object.entries(i))(((e=l.data)==null?void 0:e.displayName)==="Page"||((o=l.data)==null?void 0:o.name)==="Page")&&a.push({id:c,name:((s=(r=l.data)==null?void 0:r.props)==null?void 0:s.pageName)||`Page ${a.length+1}`});return a}catch{return[]}},PageSelectionModal=({isOpen:t,onClose:e,pages:o,query:r})=>{const[s,i]=reactExports.useState(!1),[a,c]=reactExports.useState(null),l=async(u,m)=>{if(!s){i(!0),c(u);try{await downloadPageAsImage(r,u),toaster.create({title:"Thành công",description:`Đã tải xuống "${m}" thành công!`,type:"success"})}catch{toaster.create({title:"Lỗi",description:`Không thể tải xuống "${m}". Vui lòng thử lại.`,type:"error"})}finally{i(!1),c(null)}}},d=async()=>{if(!s){i(!0);try{for(const u of o)c(u.id),await downloadPageAsImage(r,u.id),await new Promise(m=>setTimeout(m,500));toaster.create({title:"Thành công",description:`Đã tải xuống tất cả ${o.length} trang thành công!`,type:"success"}),e()}catch{toaster.create({title:"Lỗi",description:"Không thể tải xuống tất cả trang. Vui lòng thử lại.",type:"error"})}finally{i(!1),c(null)}}};return t?jsxRuntimeExports.jsx(Box,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",bg:"blackAlpha.600",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",onClick:e,children:jsxRuntimeExports.jsxs(Box,{bg:"white",borderRadius:"lg",p:6,maxW:"md",w:"90%",maxH:"80vh",overflowY:"auto",onClick:u=>u.stopPropagation(),boxShadow:"xl",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"lg",fontWeight:"bold",mb:4,children:"Chọn trang để tải xuống"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.600",mb:4,children:"Chọn trang cụ thể hoặc tải xuống tất cả trang cùng lúc."}),jsxRuntimeExports.jsxs(Button$1,{colorScheme:"blue",size:"sm",onClick:d,loading:s&&!a,disabled:s,mb:4,w:"full",children:[jsxRuntimeExports.jsx(FaDownload,{style:{marginRight:"8px"}}),"Tải xuống tất cả (",o.length," trang)"]}),jsxRuntimeExports.jsx(Box,{maxH:"300px",overflowY:"auto",children:o.map((u,m)=>jsxRuntimeExports.jsxs(Flex,{justify:"space-between",align:"center",p:3,borderRadius:"md",bg:"gray.50",mb:2,_hover:{bg:"gray.100"},children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{fontWeight:"medium",fontSize:"sm",children:u.name}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",children:["Trang ",m+1]})]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>l(u.id,u.name),loading:a===u.id,disabled:s,children:[jsxRuntimeExports.jsx(FaDownload,{style:{marginRight:"4px"},size:12}),"Tải"]})]},u.id))}),o.length===0&&jsxRuntimeExports.jsx(Text$1,{textAlign:"center",color:"gray.500",py:4,children:"Không tìm thấy trang nào để tải xuống."}),jsxRuntimeExports.jsx(Flex,{justify:"flex-end",mt:4,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:e,disabled:s,children:"Đóng"})})]})}):null},Header=({id:t,effects:e,audioSettings:o,customHtmlSettings:r,seoSettings:s,notificationSettings:i,customEffects:a,pageData:c,isPageProp:l})=>{const{enabled:d,canUndo:u,canRedo:m,actions:R,query:p}=Pe((et,re)=>({enabled:et.options.enabled,canUndo:re.history.canUndo(),canRedo:re.history.canRedo()})),j=useNavigate(),{isSidebarVisible:x,showSidebar:g,hideSidebar:h,toggleLayer:E,toggleElementsPopup:w,isPage:C,isCardEditor:b,isLogoEditor:v,showParticleEffectsModal:_,showAudioSettingsModal:I,showSEOSettingsModal:$,showCustomHtmlSettingsModal:A,showNotificationSettingsModal:T,showCustomEffectsModal:L,showFileManagementModal:P,showViewportSettingsModal:N,showAutoFillInfoModal:k,currentEditingPlatform:B,switchToPlatform:F,syncFromDesktop:W,isEditModeToggling:z,editModeProgress:H,performEditModeToggle:U,hasFeature:D}=useViewport(),{mutate:O}=useUpdateTemplate(),{mutate:Q}=useUpdatePageContent(),{mutate:q}=usePublishPage(),{fontMap:Y}=useFontContext(),{settings:V}=useViewportSettings(),de=D("wishes_notifications_settings"),ue=!l&&!C&&t?parseInt(t,10):0,{data:Re}=useGetTemplate(ue>0?ue:0),[oe,ce]=reactExports.useState(!1),[je,ie]=reactExports.useState(!1),[xe,pe]=reactExports.useState(!1),[$e,Se]=reactExports.useState(!1),Ie=async()=>{if(!je){if(v){ie(!0);try{await downloadLogoAsImage(p),toaster.create({title:"Thành công",description:"Đã tải xuống logo thành công!",type:"success"})}catch{toaster.create({title:"Lỗi",description:"Không thể tải xuống logo. Vui lòng thử lại.",type:"error"})}finally{ie(!1)}}else if(b){const et=getAllPages(p);if(et.length===0){toaster.create({title:"Lỗi",description:"Không tìm thấy trang nào để tải xuống.",type:"error"});return}if(et.length===1){ie(!0);try{await downloadPageAsImage(p,et[0].id),toaster.create({title:"Thành công",description:"Đã tải xuống trang thành công!",type:"success"})}catch{toaster.create({title:"Lỗi",description:"Không thể tải xuống trang. Vui lòng thử lại.",type:"error"})}finally{ie(!1)}}else pe(!0)}}},{handleUndoProcess:Me,handleRedoProcess:He}=useKeyboardShortcuts(),[fe,Ce]=reactExports.useState(!1);useNavigationPrevention({enabled:d&&!fe,message:"Bạn có thay đổi chưa được lưu. Bạn có chắc chắn muốn rời khỏi trang này?"});const{checkForConflicts:le,startSession:J,stopSession:se,isConflictModalOpen:te,hideConflictModal:be,modalProps:Z}=useCollaboration(),Ee=()=>{x?h():g()},ge=(et,re)=>{(C?Q:O)(et,{onSuccess:tt=>{var rt;(rt=re==null?void 0:re.onSuccess)==null||rt.call(re,tt)},onError:tt=>{var rt;(rt=re==null?void 0:re.onError)==null||rt.call(re,tt)}})},Ke=()=>{d?Se(!0):window.history.length>1?j(-1):j("/")},Ue=()=>{Ce(!0),Se(!1),setTimeout(()=>{window.history.length>1?j(-1):j("/")},10)},_e=()=>{if(l||C){if(!(c!=null&&c.id)){toaster.create({title:"Lỗi",description:"Không thể tìm thấy thông tin trang",type:"error"});return}ce(!0);const re=!c.isPublished;q({id:c.id},{onSuccess:()=>{toaster.create({title:"Thành công",description:re?"Trang đã được xuất bản thành công":"Trang đã được hủy xuất bản",type:"success"}),ce(!1)},onError:Xe=>{toaster.create({title:"Lỗi",description:"Có lỗi xảy ra khi cập nhật trạng thái xuất bản",type:"error"}),ce(!1)}})}else{if(!(Re!=null&&Re.id)){toaster.create({title:"Lỗi",description:"Không thể tìm thấy thông tin template",type:"error"});return}ce(!0);const re=!Re.isPublished;O({id:Re.id,data:{isPublished:re}},{onSuccess:()=>{toaster.create({title:"Thành công",description:re?"Template đã được xuất bản thành công":"Template đã được hủy xuất bản",type:"success"}),ce(!1)},onError:Xe=>{toaster.create({title:"Lỗi",description:"Có lỗi xảy ra khi cập nhật trạng thái xuất bản",type:"error"}),ce(!1)}})}},Qe=async()=>{z||!d&&await le(t,l||C)||await nt()},qe=async()=>{z||(be(),await nt())},Ye=()=>{be()},nt=async()=>{await U(d,R,V,J,se,t,l||C,Y,ge)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[z&&jsxRuntimeExports.jsx(Box,{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(72, 64, 64, 0.35)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:zIndex.dragging+1,backdropFilter:"blur(2px)",pointerEvents:"auto",children:jsxRuntimeExports.jsx(Box,{backgroundColor:"white",padding:"32px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",maxWidth:"400px",width:"90%",textAlign:"center",children:jsxRuntimeExports.jsxs(Flex,{direction:"column",align:"center",gap:4,children:[jsxRuntimeExports.jsx(Box,{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid rgb(236, 84, 84)",borderRadius:"50%",animation:"spin 1s linear infinite"}),jsxRuntimeExports.jsx(Text$1,{fontSize:"md",fontWeight:"medium",color:"gray.700",children:d?"Đang lưu thay đổi...":"Đang bắt đầu chỉnh sửa..."}),jsxRuntimeExports.jsxs(Box,{width:"100%",children:[jsxRuntimeExports.jsx(Box,{width:"100%",height:"8px",backgroundColor:"gray.200",borderRadius:"4px",overflow:"hidden",children:jsxRuntimeExports.jsx(Box,{height:"100%",backgroundColor:"rgb(236, 84, 84)",borderRadius:"4px",transition:"width 0.3s ease",width:`${H}%`})}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"xs",color:"gray.500",marginTop:"2",children:[H,"%"]})]})]})})}),jsxRuntimeExports.jsxs(Box,{width:"100%",zIndex:zIndex.headerControls,position:"relative",padding:"8px 16px",background:"white",borderBottom:"1px solid #e0e0e0",display:"flex",className:"header transition w-full px-2 py-1 sm:px-4 sm:py-2 h-[120px] sm:h-[60px]",children:[jsxRuntimeExports.jsxs(Box,{width:"100%",alignItems:"center",position:"relative",className:"hidden sm:flex items-center justify-between gap-1 sm:gap-3",children:[jsxRuntimeExports.jsxs(Flex,{gap:3,alignItems:"center",flex:"1",className:"flex items-center gap-1 sm:gap-2 flex-1 min-w-0",children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:Ke,title:"Quay về",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2 text-xs sm:text-sm",children:jsxRuntimeExports.jsx(FaArrowLeft,{size:10,className:"sm:w-3.5 sm:h-3.5"})}),d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:()=>w(),title:"Thêm elements",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2 text-xs sm:text-sm",children:jsxRuntimeExports.jsx(FaPlus,{size:10,className:"sm:w-3.5 sm:h-3.5"})}),jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:()=>E(),title:"Layer",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2 text-xs sm:text-sm",children:jsxRuntimeExports.jsx(SlLayers,{size:10,className:"sm:w-3.5 sm:h-3.5"})})]}),jsxRuntimeExports.jsx(TourButton,{})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",gap:2,position:"absolute",left:"50%",transform:"translateX(-50%)",zIndex:zIndex.ui,className:"flex items-center gap-1 sm:gap-2 absolute left-1/2 transform -translate-x-1/2 cursor-pointer",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Image$2,{src:LogoMeHappy,alt:"meHappy",height:"45px",className:"h-8 sm:h-10 md:h-12",style:{mixBlendMode:"multiply",backgroundColor:"transparent"}})}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xl",fontWeight:"700",color:"#e53e3e",fontFamily:"Quicksand, sans-serif",lineHeight:"1",display:"flex",alignItems:"center",height:"45px",className:"text-sm sm:text-lg md:text-xl font-bold text-red-500 leading-none flex items-center h-8 sm:h-10 md:h-12",children:"meHappy"})]}),jsxRuntimeExports.jsxs(Flex,{gap:2,alignItems:"center",flex:"1",justifyContent:"flex-end",className:"flex items-center gap-1 sm:gap-2 flex-1 justify-end min-w-0",children:[d&&jsxRuntimeExports.jsxs(Flex,{gap:1,alignItems:"center",className:"hidden sm:flex items-center gap-1",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",direction:"column-reverse",className:"flex flex-col-reverse items-center",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",marginRight:2,className:"text-2xs sm:text-xs text-gray-600 mr-1 sm:mr-2",children:"Hoàn tác"}),jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",disabled:!u,onClick:()=>{u&&Me()},title:"Undo (Ctrl+Z)",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaUndo,{size:8,color:"#707070",className:"w-2 h-2 sm:w-3 sm:h-3"})})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",direction:"column-reverse",className:"flex flex-col-reverse items-center",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",marginX:2,className:"text-2xs sm:text-xs text-gray-600 mx-1 sm:mx-2",children:"Làm lại"}),jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",disabled:!m,onClick:()=>He(),title:"Redo (Ctrl+Shift+Z or Ctrl+Y)",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaRedo,{size:8,color:"#707070",className:"w-2 h-2 sm:w-3 sm:h-3"})})]}),!v&&jsxRuntimeExports.jsxs(Flex,{alignItems:"center",direction:"column-reverse",className:"flex flex-col-reverse items-center",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.600",marginX:2,className:"text-2xs sm:text-xs text-gray-600 mx-1 sm:mx-2 hidden sm:block",children:"Cài đặt"}),jsxRuntimeExports.jsxs(MenuRoot$1,{children:[jsxRuntimeExports.jsx(MenuTrigger$1,{asChild:!0,children:jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",title:"Cài đặt",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaCog,{size:8,color:"#707070",className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})}),jsxRuntimeExports.jsxs(MenuContent$1,{children:[jsxRuntimeExports.jsxs(MenuItem$1,{value:"option1",onClick:()=>_(e),children:[jsxRuntimeExports.jsx(FaMagic,{size:14,color:"#8B5CF6",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Cài đặt hiệu ứng"})]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option2",onClick:()=>I(o||{}),children:[jsxRuntimeExports.jsx(FaVolumeUp,{size:14,color:"#10B981",style:{marginRight:"8px"}}),"Cài đặt âm thanh nền"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option3",onClick:()=>A(r||""),children:[jsxRuntimeExports.jsx(FaCode,{size:14,color:"#F59E0B",style:{marginRight:"8px"}}),"Cài đặt HTML tùy chỉnh"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option4",onClick:()=>$(s),children:[jsxRuntimeExports.jsx(FaSearch,{size:14,color:"#3B82F6",style:{marginRight:"8px"}}),"Cài đặt SEO"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option5",onClick:de?()=>T(i):void 0,disabled:!de,className:de?"":"opacity-50 cursor-not-allowed",children:[jsxRuntimeExports.jsx(FaBell,{size:14,color:de?"#EF4444":"#9CA3AF",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{className:de?"":"text-gray-400",children:"Cài đặt thông báo lời chúc"}),!de&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-orange-500 font-medium",children:jsxRuntimeExports.jsx(FaCrown,{})})]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option6",onClick:()=>L(a||{}),children:[jsxRuntimeExports.jsx(FaMagic,{size:14,color:"#EC4899",style:{marginRight:"8px"}}),"Cài đặt hiệu ứng tùy chỉnh"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option7",onClick:()=>P(),children:[jsxRuntimeExports.jsx(FaFolder,{size:14,color:"#6B7280",style:{marginRight:"8px"}}),"Quản lý File"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option8",onClick:()=>N(V),children:[jsxRuntimeExports.jsx(FaDesktop,{size:14,color:"#059669",style:{marginRight:"8px"}}),"Cài đặt toàn trang"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option9",onClick:()=>k(),children:[jsxRuntimeExports.jsx(FaUserCheck,{size:14,color:"#3B82F6",style:{marginRight:"8px"}}),"Tự điền thông tin"]})]})]})]})]}),!isMobileOnly(V)&&!v&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",onClick:()=>{F("desktop")},title:"Desktop - Edit desktop version",variant:B==="desktop"?"solid":"outline",colorScheme:B==="desktop"?"blue":"gray",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(CiDesktop,{size:12,color:B==="desktop"?"#ffffff":"#707070",className:"w-3 h-3 sm:w-4 sm:h-4"})}),jsxRuntimeExports.jsx(IconButton,{size:"sm",onClick:()=>{F("mobile")},title:"Mobile - Edit mobile version",variant:B==="mobile"?"solid":"outline",colorScheme:B==="mobile"?"blue":"gray",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(CiMobile4,{size:12,color:B==="mobile"?"#ffffff":"#707070",className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),B==="mobile"&&d&&jsxRuntimeExports.jsx(IconButton,{onClick:()=>{W()},title:isMobileOnly(V)?"Đồng bộ từ desktop - Sync desktop content to mobile (works in mobile-only mode)":"Đồng bộ từ desktop - Copy and adapt desktop layout to mobile",variant:"outline",colorScheme:"orange",size:"sm",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(FaSync,{size:10,color:"#f56500",className:"w-2.5 h-2.5 sm:w-3.5 sm:h-3.5"})}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"green",disabled:z,loading:z,className:cx(["transition cursor-pointer text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 h-6 sm:h-8",{"bg-green-400":d,"bg-primary":!d}]),onClick:Qe,"data-tour":"edit-button",children:[d?jsxRuntimeExports.jsx(FaCheck,{style:{marginRight:"2px"},size:8,className:"mr-0.5 sm:mr-1 w-2 h-2 sm:w-3 sm:h-3"}):jsxRuntimeExports.jsx(FaPencilAlt,{style:{marginRight:"2px"},size:8,className:"mr-0.5 sm:mr-1 w-2 h-2 sm:w-3 sm:h-3"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:block sm:text-sm",children:d?"Lưu":"Sửa"})]}),!d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(l||C)&&c&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:c.isPublished?"red":"green",variant:"outline",loading:oe,onClick:_e,className:"text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 h-6 sm:h-8",title:c.isPublished?"Hủy xuất bản trang":"Xuất bản trang","data-tour":"publish-button",children:[c.isPublished?jsxRuntimeExports.jsx(FaEyeSlash,{style:{marginRight:"4px"},size:8,className:"mr-1 w-2 h-2 sm:w-3 sm:h-3"}):jsxRuntimeExports.jsx(FaGlobe,{style:{marginRight:"4px"},size:8,className:"mr-1 w-2 h-2 sm:w-3 sm:h-3"}),jsxRuntimeExports.jsx("span",{className:"text-2xs sm:text-sm",children:c.isPublished?"Hủy xuất bản":"Xuất bản"})]}),!l&&!C&&Re&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:Re.isPublished?"red":"green",variant:"outline",loading:oe,onClick:_e,className:"text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 h-6 sm:h-8",title:Re.isPublished?"Hủy xuất bản template":"Xuất bản template","data-tour":"publish-button",children:[Re.isPublished?jsxRuntimeExports.jsx(FaEyeSlash,{style:{marginRight:"4px"},size:8,className:"mr-1 w-2 h-2 sm:w-3 sm:h-3"}):jsxRuntimeExports.jsx(FaGlobe,{style:{marginRight:"4px"},size:8,className:"mr-1 w-2 h-2 sm:w-3 sm:h-3"}),jsxRuntimeExports.jsx("span",{className:"text-2xs sm:text-sm",children:Re.isPublished?"Hủy xuất bản":"Xuất bản"})]})]}),(b||v)&&!d&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"blue",variant:"outline",onClick:Ie,loading:je,disabled:je,className:"text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 h-6 sm:h-8",title:v?"Tải xuống logo":"Tải xuống trang",children:[jsxRuntimeExports.jsx(FaDownload,{style:{marginRight:"4px"},size:8,className:"mr-1 w-2 h-2 sm:w-3 sm:h-3"}),jsxRuntimeExports.jsx("span",{className:"text-2xs sm:text-sm",children:v?"Tải logo":"Tải trang"})]}),(l||C)&&(c!=null&&c.isPublished)||Re&&Re.isPublished?jsxRuntimeExports.jsx(ShareButton,{templateId:t,pageData:c,isPage:l||C}):null,d&&jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:Ee,title:x?"Ẩn sidebar":"Hiển thị sidebar",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(GiSettingsKnobs,{size:12,color:"#707070",className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),jsxRuntimeExports.jsxs(Box,{width:"100%",alignItems:"center",position:"relative",className:"sm:hidden flex flex-col items-center justify-between gap-1 sm:gap-3",children:[jsxRuntimeExports.jsxs(Flex,{gap:3,alignItems:"center",flex:"1",className:"flex items-center gap-1 w-full justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:Ke,title:"Quay về",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2 text-xs sm:text-sm",children:jsxRuntimeExports.jsx(FaArrowLeft,{size:10,className:"sm:w-3.5 sm:h-3.5"})}),d&&jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:()=>w(),title:"Thêm elements",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2 text-xs sm:text-sm",children:jsxRuntimeExports.jsx(FaPlus,{size:10,className:"sm:w-3.5 sm:h-3.5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Image$2,{src:LogoMeHappy,alt:"meHappy",className:"h-8 w-8 ",style:{mixBlendMode:"multiply",backgroundColor:"transparent"}})}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xl",fontWeight:"700",color:"#e53e3e",fontFamily:"Quicksand, sans-serif",lineHeight:"1",display:"flex",alignItems:"center",height:"45px",className:"text-sm sm:text-lg md:text-xl font-bold text-red-500 leading-none flex items-center h-8 sm:h-10 md:h-12",children:"meHappy"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end flex-1 gap-2",children:[d&&jsxRuntimeExports.jsxs(MenuRoot$1,{children:[jsxRuntimeExports.jsx(MenuTrigger$1,{asChild:!0,children:jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",title:"Cài đặt",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaCog,{size:8,color:"#707070",className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})}),jsxRuntimeExports.jsxs(MenuContent$1,{children:[jsxRuntimeExports.jsxs(MenuItem$1,{value:"option1",onClick:()=>_(e),children:[jsxRuntimeExports.jsx(FaMagic,{size:14,color:"#8B5CF6",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Cài đặt hiệu ứng"})]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option2",onClick:()=>I(o||{}),children:[jsxRuntimeExports.jsx(FaVolumeUp,{size:14,color:"#10B981",style:{marginRight:"8px"}}),"Cài đặt âm thanh nền"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option3",onClick:()=>A(r||""),children:[jsxRuntimeExports.jsx(FaCode,{size:14,style:{marginRight:"8px"}}),"Cài đặt HTML tùy chỉnh"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option4",onClick:()=>$(s),children:[jsxRuntimeExports.jsx(FaSearch,{size:14,color:"#3B82F6",style:{marginRight:"8px"}}),"Cài đặt SEO"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option5",onClick:de?()=>T(i):void 0,disabled:!de,className:de?"":"opacity-50 cursor-not-allowed",children:[jsxRuntimeExports.jsx(FaBell,{size:14,color:de?"#EF4444":"#9CA3AF",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{className:de?"":"text-gray-400",children:"Cài đặt thông báo lời chúc"}),!de&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-orange-500 font-medium",children:jsxRuntimeExports.jsx(FaCrown,{})})]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option6",onClick:()=>L(a||{}),children:[jsxRuntimeExports.jsx(FaMagic,{size:14,color:"#EC4899",style:{marginRight:"8px"}}),"Cài đặt hiệu ứng tùy chỉnh"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option7",onClick:()=>P(),children:[jsxRuntimeExports.jsx(FaFolder,{size:14,color:"#6B7280",style:{marginRight:"8px"}}),"Quản lý File"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option8",onClick:()=>N(V),children:[jsxRuntimeExports.jsx(FaDesktop,{size:14,color:"#059669",style:{marginRight:"8px"}}),"Cài đặt toàn trang"]}),jsxRuntimeExports.jsxs(MenuItem$1,{value:"option9",onClick:()=>k(),children:[jsxRuntimeExports.jsx(FaUserCheck,{size:14,color:"#3B82F6",style:{marginRight:"8px"}}),"Tự điền thông tin"]})]})]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:"green",disabled:z,loading:z,className:cx(["transition cursor-pointer text-xs w-6 h-6 p-1 ",{"bg-green-400":d,"bg-primary":!d}]),onClick:Qe,children:[d?jsxRuntimeExports.jsx(FaCheck,{style:{marginRight:"2px"},size:8,className:"mr-0.5 sm:mr-1 w-2 h-2 sm:w-3 sm:h-3"}):jsxRuntimeExports.jsx(FaPencilAlt,{style:{marginRight:"2px"},size:8,className:"mr-0.5 sm:mr-1 w-2 h-2 sm:w-3 sm:h-3"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:block sm:text-sm",children:d?"Lưu":"Sửa"})]}),!d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(l||C)&&c&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:c.isPublished?"red":"green",variant:"outline",loading:oe,onClick:_e,className:"text-xs w-6 h-6 p-1 ",title:c.isPublished?"Hủy xuất bản trang":"Xuất bản trang",children:[c.isPublished?jsxRuntimeExports.jsx(FaEyeSlash,{style:{marginRight:"2px"},size:6,className:"mr-0.5 w-1.5 h-1.5"}):jsxRuntimeExports.jsx(FaGlobe,{style:{marginRight:"2px"},size:6,className:"mr-0.5 w-1.5 h-1.5"}),jsxRuntimeExports.jsx("span",{className:"text-2xs hidden sm:block",children:c.isPublished?"Hủy xuất bản":"Xuất bản"})]}),!l&&!C&&Re&&jsxRuntimeExports.jsxs(Button$1,{size:"sm",colorScheme:Re.isPublished?"red":"green",variant:"outline",loading:oe,onClick:_e,className:"text-xs w-6 h-6 p-1 ",title:Re.isPublished?"Hủy xuất bản template":"Xuất bản template",children:[Re.isPublished?jsxRuntimeExports.jsx(FaEyeSlash,{style:{marginRight:"2px"},size:6,className:"mr-0.5 w-1.5 h-1.5"}):jsxRuntimeExports.jsx(FaGlobe,{style:{marginRight:"2px"},size:6,className:"mr-0.5 w-1.5 h-1.5"}),jsxRuntimeExports.jsx("span",{className:"text-2xs hidden sm:block",children:Re.isPublished?"Hủy xuất bản":"Xuất bản"})]})]}),((c==null?void 0:c.isPublished)||Re&&Re.isPublished)&&jsxRuntimeExports.jsx(ShareButton,{templateId:t,pageData:c,isPage:l||C})]})]}),jsxRuntimeExports.jsx(Box,{className:"flex items-center gap-1 sm:gap-2 w-full min-w-0",children:d&&jsxRuntimeExports.jsxs(Flex,{gap:1,alignItems:"center",className:"flex items-center justify-between gap-1 w-full",children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"blue.500",cursor:"pointer",fontWeight:"medium",className:"text-xs sm:text-sm",children:"Xem hướng dẫn"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",disabled:!u,onClick:()=>{u&&Me()},title:"Undo (Ctrl+Z)",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaUndo,{size:8,color:"#707070",className:"w-2 h-2 sm:w-3 sm:h-3"})}),jsxRuntimeExports.jsx(IconButton,{size:"xs",variant:"ghost",disabled:!m,onClick:()=>He(),title:"Redo (Ctrl+Shift+Z or Ctrl+Y)",className:"w-5 h-5 p-1 sm:w-6 sm:h-6 sm:p-1.5",children:jsxRuntimeExports.jsx(FaRedo,{size:8,color:"#707070",className:"w-2 h-2 sm:w-3 sm:h-3"})}),d&&jsxRuntimeExports.jsx(IconButton,{size:"sm",variant:"outline",onClick:Ee,title:x?"Ẩn sidebar":"Hiển thị sidebar",className:"w-6 h-6 p-1 sm:w-8 sm:h-8 sm:p-2",children:jsxRuntimeExports.jsx(GiSettingsKnobs,{size:12,color:"#707070",className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})})]}),jsxRuntimeExports.jsx(CollaborativeEditingModal,{isOpen:te,onAccept:qe,onCancel:Ye,activeUsersCount:Z.activeUsersCount,roomType:Z.roomType}),b&&jsxRuntimeExports.jsx(PageSelectionModal,{isOpen:xe,onClose:()=>pe(!1),pages:getAllPages(p),query:p}),jsxRuntimeExports.jsx(ModalConfirmBasic,{isOpen:$e,title:"Xác nhận rời khỏi trang",message:"Bạn có thay đổi chưa được lưu. Bạn có chắc chắn muốn rời khỏi trang này?",confirmLabel:"Rời khỏi",cancelLabel:"Ở lại",onConfirm:Ue,onClose:()=>Se(!1),confirmColorScheme:"red"})]})]})},getComponentIcon=t=>{switch(t){case"Album Ảnh":case"Album Ảnh Popup":return jsxRuntimeExports.jsx(FaPhotoVideo,{size:16});case"Biểu tượng":return jsxRuntimeExports.jsx(FaSmile,{size:16});case"Đường kẻ":return jsxRuntimeExports.jsx(FaMinus,{size:16});case"Video":return jsxRuntimeExports.jsx(FaPlay,{size:16});case"Lịch":return jsxRuntimeExports.jsx(FaCalendar,{size:16});case"Đếm ngược":return jsxRuntimeExports.jsx(FaStopwatch,{size:16});case"HTML":return jsxRuntimeExports.jsx(FaCodepen,{size:16});case"Section":return jsxRuntimeExports.jsx(FaThLarge,{size:16});case"Lời chúc":return jsxRuntimeExports.jsx(FaGift,{size:16});case"Văn bản":return jsxRuntimeExports.jsx(FaFont,{size:16});case"Hình ảnh":return jsxRuntimeExports.jsx(FaImage,{size:16});case"Nút bấm":return jsxRuntimeExports.jsx(FaMousePointer,{size:16});case"Khối hộp":return jsxRuntimeExports.jsx(FaCube,{size:16});case"Dropbox":return jsxRuntimeExports.jsx(FaFileAlt,{size:16});case"Form":return jsxRuntimeExports.jsx(FaFileAlt,{size:16});case"Group":return jsxRuntimeExports.jsx(FaThLarge,{size:16});case"Nút hành động":return jsxRuntimeExports.jsx(FaMousePointer,{size:16});case"Popup":return jsxRuntimeExports.jsx(FaEllipsisH,{size:16});case"Light Box":return jsxRuntimeExports.jsx(FaEllipsisH,{size:16});case"Input":return jsxRuntimeExports.jsx(FaEllipsisH,{size:16});default:return jsxRuntimeExports.jsx(FaEllipsisH,{size:16})}},CustomLayerItem=t=>{const e=compilerRuntimeExports.c(72),{layer:o,isSelected:r,onSelect:s,onToggleVisibility:i,onDelete:a,isExpanded:c,onToggleExpanded:l}=t,d=o.children.length>0,u=`${o.depth*20+8}px`,m=r?"blue.50":o.depth>0?"gray.25":"transparent",R=r||o.depth>0?"3px solid":"3px solid transparent",p=r?"blue.500":o.depth>0?"gray.200":"transparent",j=r?"blue.50":(o.depth>0,"gray.50");let x;e[0]!==j?(x={bg:j},e[0]=j,e[1]=x):x=e[1];let g;e[2]!==o.id||e[3]!==s?(g=()=>s(o.id),e[2]=o.id,e[3]=s,e[4]=g):g=e[4];const h=o.depth>0?"md":"none",E=o.depth>0?1:0,w=o.depth>0?.5:0;let C;e[5]!==d||e[6]!==c||e[7]!==o.depth?(C=o.depth>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{position:"absolute",left:`${(o.depth-1)*20+18}px`,top:0,bottom:d&&c?"50%":0,width:"1px",bg:"gray.300",zIndex:1}),jsxRuntimeExports.jsx(Box,{position:"absolute",left:`${(o.depth-1)*20+18}px`,top:"50%",width:"12px",height:"1px",bg:"gray.300",zIndex:1})]}),e[5]=d,e[6]=c,e[7]=o.depth,e[8]=C):C=e[8];let b;e[9]!==d||e[10]!==c||e[11]!==o.depth||e[12]!==o.id||e[13]!==l?(b=d?jsxRuntimeExports.jsx(Box,{as:"button",color:"gray.500",_hover:{color:"gray.700",bg:"gray.100"},onClick:je=>{je.stopPropagation(),l(o.id)},p:1,borderRadius:"sm",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",minW:"20px",h:"20px",bg:"white",border:"1px solid",borderColor:"gray.200",zIndex:2,children:jsxRuntimeExports.jsx(Box,{transform:c?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.2s ease",children:jsxRuntimeExports.jsx(TbChevronDown,{size:12})})}):jsxRuntimeExports.jsx(Box,{minW:"20px",h:"20px",display:"flex",alignItems:"center",justifyContent:"center",children:o.depth>0&&jsxRuntimeExports.jsx(Box,{w:"8px",h:"8px",borderRadius:"full",bg:"gray.300",zIndex:2})}),e[9]=d,e[10]=c,e[11]=o.depth,e[12]=o.id,e[13]=l,e[14]=b):b=e[14];let v;e[15]!==o.displayName?(v=getComponentIcon(o.displayName),e[15]=o.displayName,e[16]=v):v=e[16];let _;e[17]!==v?(_=jsxRuntimeExports.jsx(Box,{color:"gray.600",display:"flex",alignItems:"center",bg:"white",p:1,borderRadius:"sm",border:"1px solid",borderColor:"gray.200",children:v}),e[17]=v,e[18]=_):_=e[18];const I=o.isHidden?"gray.400":r?"blue.600":"gray.700",$=r?"medium":"normal",A=o.isHidden?.6:1,T=o.isHidden?"line-through":"none",L=`${o.displayName} (ID: ${o.id})`;let P;e[19]!==o.displayName||e[20]!==I||e[21]!==$||e[22]!==A||e[23]!==T||e[24]!==L?(P=jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:I,fontWeight:$,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",opacity:A,textDecoration:T,title:L,children:o.displayName}),e[19]=o.displayName,e[20]=I,e[21]=$,e[22]=A,e[23]=T,e[24]=L,e[25]=P):P=e[25];const N=`ID: ${o.customId||o.id}`;let k;e[26]!==N?(k=jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",fontStyle:"italic",children:N}),e[26]=N,e[27]=k):k=e[27];let B;e[28]!==P||e[29]!==k?(B=jsxRuntimeExports.jsxs(Box,{flex:1,children:[P,k]}),e[28]=P,e[29]=k,e[30]=B):B=e[30];const F=r?1:.7;let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W={opacity:1},e[31]=W):W=e[31];const z=o.isHidden?"red.500":"gray.500",H=o.isHidden?"red.600":"gray.700",U=o.isHidden?"red.50":"gray.100";let D;e[32]!==H||e[33]!==U?(D={color:H,bg:U},e[32]=H,e[33]=U,e[34]=D):D=e[34];let O;e[35]!==o.id||e[36]!==i?(O=je=>{je.stopPropagation(),i(o.id)},e[35]=o.id,e[36]=i,e[37]=O):O=e[37];const Q=o.isHidden?"Hiển thị phần tử":"Ẩn phần tử";let q;e[38]!==o.isHidden?(q=o.isHidden?jsxRuntimeExports.jsx(TbEyeOff,{size:14}):jsxRuntimeExports.jsx(TbEye,{size:14}),e[38]=o.isHidden,e[39]=q):q=e[39];let Y;e[40]!==z||e[41]!==D||e[42]!==O||e[43]!==Q||e[44]!==q?(Y=jsxRuntimeExports.jsx(Box,{as:"button",color:z,_hover:D,onClick:O,p:1,borderRadius:"sm",transition:"all 0.2s",title:Q,children:q}),e[40]=z,e[41]=D,e[42]=O,e[43]=Q,e[44]=q,e[45]=Y):Y=e[45];let V;e[46]===Symbol.for("react.memo_cache_sentinel")?(V={color:"red.600",bg:"red.50"},e[46]=V):V=e[46];let de;e[47]!==o.id||e[48]!==a?(de=je=>{je.stopPropagation(),a(o.id)},e[47]=o.id,e[48]=a,e[49]=de):de=e[49];let ue;e[50]===Symbol.for("react.memo_cache_sentinel")?(ue=jsxRuntimeExports.jsx(TbTrash,{size:14}),e[50]=ue):ue=e[50];let Re;e[51]!==de?(Re=jsxRuntimeExports.jsx(Box,{as:"button",color:"gray.500",_hover:V,onClick:de,p:1,borderRadius:"sm",transition:"all 0.2s",title:"Xóa phần tử",children:ue}),e[51]=de,e[52]=Re):Re=e[52];let oe;e[53]!==F||e[54]!==Y||e[55]!==Re?(oe=jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,opacity:F,_hover:W,children:[Y,Re]}),e[53]=F,e[54]=Y,e[55]=Re,e[56]=oe):oe=e[56];let ce;return e[57]!==u||e[58]!==w||e[59]!==C||e[60]!==b||e[61]!==_||e[62]!==m||e[63]!==B||e[64]!==R||e[65]!==oe||e[66]!==p||e[67]!==x||e[68]!==g||e[69]!==h||e[70]!==E?(ce=jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Box,{pl:u,py:2,px:3,bg:m,borderLeft:R,borderColor:p,cursor:"pointer",transition:"all 0.2s",_hover:x,onClick:g,display:"flex",alignItems:"center",gap:2,position:"relative",borderRadius:h,mx:E,my:w,children:[C,b,_,B,oe]})}),e[57]=u,e[58]=w,e[59]=C,e[60]=b,e[61]=_,e[62]=m,e[63]=B,e[64]=R,e[65]=oe,e[66]=p,e[67]=x,e[68]=g,e[69]=h,e[70]=E,e[71]=ce):ce=e[71],ce},CustomLayerSystem=()=>{const{query:t,actions:e}=Pe(w=>({nodes:w.nodes})),[o,r]=reactExports.useState(new Set(["ROOT"])),[s,i]=reactExports.useState(!1),[a,c]=reactExports.useState(null),[l,d]=reactExports.useState(null),m=(()=>{const w=t.getNodes(),C=[],b=(_,I=0)=>{var N,k,B;const $=w[_];if(!$||_==="ROOT")return null;const A=$.data.displayName||$.data.name||"div",T=NameMapSelector[A]||A,L=((N=$.data.custom)==null?void 0:N.displayName)||T;return{id:_,displayName:L,customId:((k=$.data.custom)==null?void 0:k.customId)||void 0,type:A,children:$.data.nodes||[],depth:I,isHidden:((B=$.data.custom)==null?void 0:B.hidden)||!1,parent:$.data.parent||void 0}},v=(_,I=0)=>{const $=w[_];if($){if(_!=="ROOT"){const A=b(_,I);A&&C.push(A)}(o.has(_)||_==="ROOT")&&($.data.nodes||[]).forEach(T=>{v(T,_==="ROOT"?0:I+1)})}};return v("ROOT"),C})(),R=t.getEvent("selected").first(),p=w=>{e.selectNode(w)},j=w=>{const C=t.node(w).get();e.setProp(w,b=>{var v;b.custom||(b.custom={}),b.custom.hidden=!((v=C.data.custom)!=null&&v.hidden)}),setTimeout(()=>{},50)},x=w=>{var I;const C=t.node(w).get(),b=C.data.displayName||C.data.name||"div",v=NameMapSelector[b]||b,_=((I=C.data.custom)==null?void 0:I.displayName)||v;c(w),d({displayName:_,id:w}),i(!0)},g=()=>{try{a&&t.node(a).isDeletable()&&(e.delete(a),c(null),d(null))}catch{a&&e.setHidden(a,!0)}},h=()=>{i(!1),c(null),d(null)},E=w=>{r(C=>{const b=new Set(C);return b.has(w)?b.delete(w):b.add(w),b})};return jsxRuntimeExports.jsxs(Box,{children:[m.length===0?jsxRuntimeExports.jsx(Box,{p:4,textAlign:"center",children:jsxRuntimeExports.jsx(Text$1,{color:"gray.500",fontSize:"sm",children:"Chưa có phần tử nào. Thêm một số thành phần để xem chúng ở đây."})}):m.map(w=>jsxRuntimeExports.jsx(CustomLayerItem,{layer:w,isSelected:R===w.id,onSelect:p,onToggleVisibility:j,onDelete:x,isExpanded:o.has(w.id),onToggleExpanded:E},w.id)),jsxRuntimeExports.jsx(ModalConfirm,{isOpen:s,title:"Xác nhận xóa phần tử",message:l?jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$1,{children:"Bạn có chắc chắn muốn xóa phần tử này không?"}),jsxRuntimeExports.jsxs(Box,{mt:3,p:3,bg:"gray.50",borderRadius:"md",borderLeft:"4px solid",borderColor:"red.400",children:[jsxRuntimeExports.jsx(Text$1,{fontWeight:"semibold",color:"gray.700",children:l.displayName}),jsxRuntimeExports.jsxs(Text$1,{fontSize:"sm",color:"gray.500",fontFamily:"mono",children:["ID: ",l.id]})]}),jsxRuntimeExports.jsx(Text$1,{mt:3,fontSize:"sm",color:"red.600",children:"⚠️ Hành động này không thể hoàn tác!"})]}):"Bạn có chắc chắn muốn xóa phần tử này không?",confirmLabel:"Xóa",cancelLabel:"Hủy",confirmType:"danger",onConfirm:g,onClose:h,zIndex:9999})]})},LayerPopup=()=>{const t=compilerRuntimeExports.c(5),{isLayerVisible:e,toggleLayer:o}=useViewport();let r;t[0]!==e||t[1]!==o?(r=e&&jsxRuntimeExports.jsxs("div",{className:"absolute top-0 left-0 w-[350px] h-full bg-white p-5 flex flex-col gap-2",style:{zIndex:zIndex.layerPopup,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.7)"},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold",children:"Lớp"}),jsxRuntimeExports.jsx(Box,{as:"button",onClick:()=>o(!1),cursor:"pointer",children:jsxRuntimeExports.jsx(IoMdClose,{size:20})})]}),jsxRuntimeExports.jsx(Box,{flex:1,overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:"#c1c1c1",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"#a1a1a1"}},children:jsxRuntimeExports.jsx(CustomLayerSystem,{})})]}),t[0]=e,t[1]=o,t[2]=r):r=t[2];let s;return t[3]!==r?(s=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r}),t[3]=r,t[4]=s):s=t[4],s},Toolbar=()=>{const t=compilerRuntimeExports.c(29),{showElementIdEditModal:e}=useViewport(),[o,r]=reactExports.useState(!1);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=async w=>{try{await navigator.clipboard.writeText(w),r(!0),setTimeout(()=>r(!1),2e3)}catch{const b=document.createElement("textarea");b.value=w,document.body.appendChild(b),b.select();try{document.execCommand("copy"),r(!0),setTimeout(()=>r(!1),2e3)}catch{}document.body.removeChild(b)}},t[0]=s):s=t[0];const i=s,{active:a,related:c,parentRelated:l,name:d,displayId:u,isLocked:m}=Pe(_temp$3),R=d==="Content Wrapper";let p;t[1]!==a||t[2]!==o||t[3]!==u||t[4]!==R||t[5]!==d||t[6]!==e?(p=a&&!R?jsxRuntimeExports.jsx("div",{className:"flex w-full items-center px-4 text-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2 sm:gap-0 justify-center sm:flex-col border-b border-gray-200 w-full pb-1 mb-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-md font-bold ",children:[NameMapSelector[d]," "]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 flex items-center justify-center",children:[jsxRuntimeExports.jsx("span",{children:u}),jsxRuntimeExports.jsx("button",{onClick:()=>i(u),className:"ml-2 p-1 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:o?"Đã sao chép!":"Sao chép ID",children:jsxRuntimeExports.jsx(FiCopy,{className:`text-sm ${o?"text-green-600":""}`})}),jsxRuntimeExports.jsx("button",{onClick:()=>a&&e(a),className:"ml-1 p-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Chỉnh sửa ID phần tử",children:jsxRuntimeExports.jsx(FiEdit2,{className:"text-sm"})})]})]})}):null,t[1]=a,t[2]=o,t[3]=u,t[4]=R,t[5]=d,t[6]=e,t[7]=p):p=t[7];let j;t[8]!==a||t[9]!==l?(j=a&&l.subToolbar&&React.createElement(l.subToolbar),t[8]=a,t[9]=l,t[10]=j):j=t[10];let x;t[11]!==a||t[12]!==m||t[13]!==c?(x=a&&c.subToolbar&&!m&&React.createElement(c.subToolbar),t[11]=a,t[12]=m,t[13]=c,t[14]=x):x=t[14];let g;t[15]!==a||t[16]!==m||t[17]!==c?(g=a&&c.toolbar&&!m&&React.createElement(c.toolbar),t[15]=a,t[16]=m,t[17]=c,t[18]=g):g=t[18];let h;t[19]!==a||t[20]!==R||t[21]!==m?(h=(!a||R||m)&&jsxRuntimeExports.jsx("div",{className:"px-5 py-2 flex flex-col items-center h-full justify-center text-center",style:{color:"rgba(0, 0, 0, 0.5607843137254902)",fontSize:"11px"},children:jsxRuntimeExports.jsx("h2",{className:"pb-1",children:"Chọn phần tử để bắt đầu chỉnh sửa"})}),t[19]=a,t[20]=R,t[21]=m,t[22]=h):h=t[22];let E;return t[23]!==p||t[24]!==j||t[25]!==x||t[26]!==g||t[27]!==h?(E=jsxRuntimeExports.jsxs("div",{className:"py-1 h-full",children:[p,j,x,g,h]}),t[23]=p,t[24]=j,t[25]=x,t[26]=g,t[27]=h,t[28]=E):E=t[28],E};function _temp$3(t,e){var c;const o=e.getEvent("selected").first();let r=!1,s=null,i=null,a;if(o){const l=e.node(o).get();r=!!l.data.props.isChildOfButton,s=l.data.parent,i=(c=l.data.custom)==null?void 0:c.customId,a=l.data.props.locked}else a=!1;return{active:o,related:o&&t.nodes[o].related,parentRelated:r&&s&&e.node(s).get().related,name:o?t.nodes[o].data.displayName:"",displayId:i||o,isLocked:a}}const SidebarDiv=dt.div`
  opacity: ${t=>t.$enabled?1:0};
  background: #fff;
  margin-right: ${t=>t.$enabled?0:-280}px;
`,Sidebar=t=>{const e=compilerRuntimeExports.c(3),{enabled:o}=Pe(_temp$2);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=jsxRuntimeExports.jsx(Toolbar,{}),e[0]=r):r=e[0];let s;return e[1]!==o?(s=jsxRuntimeExports.jsx(SidebarDiv,{$enabled:o,className:"sidebar transition bg-white w-2 h-full w-full",children:r}),e[1]=o,e[2]=s):s=e[2],s};function _temp$2(t){return{enabled:t.options.enabled}}const ViewportContent=({children:t,data:e,mobileData:o,id:r,isEditor:s,isCardEditor:i=!1,isLogoEditor:a=!1,pageData:c,isPage:l,effects:d={},audioSettings:u={},customHtmlSettings:m="",seoSettings:R={},notificationSettings:p={},customEffects:j={},fontMap:x={},refetchData:g})=>{const{actions:h,query:E}=Pe(),[w,C]=reactExports.useState({x:window.innerWidth-330,y:(window.innerHeight-600)/2}),[b,v]=reactExports.useState(!1),[_,I]=reactExports.useState(window.innerWidth<640),$=reactExports.useRef(null),A=reactExports.useRef({x:0,y:0}),T=reactExports.useRef({x:0,y:0}),{closeAllPopups:L,isLayerVisible:P,isElementsPopupOpen:N,sidebarMode:k,toggleSidebarMode:B,hideSidebar:F,isSidebarVisible:W,setPageContent:z,setIsPage:H,setId:U,setDesktopContent:D,setMobileContent:O,desktopContent:Q,mobileContent:q,currentEditingPlatform:Y,setInitialContent:V,isEditModeToggling:de}=useViewport(),{settings:ue}=useViewportSettings(),Re=()=>{if(Y==="mobile")return getMobilePageBackgroundColor(ue)};useCopyPaste(),React.useEffect(()=>{U(r||"")},[r,U]);const oe=700,ce=330,je=300,[ie,xe]=reactExports.useState(!1),[pe,$e]=reactExports.useState(!1),[Se,Ie]=reactExports.useState(!1);reactExports.useEffect(()=>{if(Se||!ie)return;const te=isContentEmpty(e),be=isContentEmpty(o);let Z=!1;try{const me=E.serialize();Z=!me||me==="{}"||Object.keys(JSON.parse(me)).length===0}catch{Z=!0}if(Y==="desktop"?te&&Z&&!isMobileOnly(ue):be&&Z){let me;if(Y==="mobile"&&be&&e&&!te)try{const ge=lz.decompress(lz.decodeBase64(e));me=convertDesktopContentToMobile(ge)}catch{me=createDefaultContent(Y,i,a)}else me=createDefaultContent(Y,i,a);Y==="desktop"?D(me):O(me),setTimeout(()=>{h.deserialize(me),Ie(!0)},100)}},[e,o,Y,ie,Se,E,h,D,O,ue]),reactExports.useEffect(()=>{if(e&&!ie){if(isContentEmpty(e)){xe(!0),V({desktop:createDefaultContent("desktop",i,a)});return}const te=lz.decompress(lz.decodeBase64(e));if(D(te),Y==="desktop"&&!isMobileOnly(ue))try{const be=E.serialize();(!be||be==="{}"||Object.keys(JSON.parse(be)).length===0)&&h.deserialize(te)}catch{h.deserialize(te)}xe(!0),V({desktop:te})}else!e&&!ie&&(xe(!0),V({desktop:createDefaultContent("desktop",i,a)}))},[e,h,D,Y,ie,E,ue]),reactExports.useEffect(()=>{if(!pe)if(o){if(isContentEmpty(o)){$e(!0),O(createDefaultContent("mobile",i,a)),V({mobile:createDefaultContent("mobile",i,a)});return}const te=lz.decompress(lz.decodeBase64(o));if(O(te),Y==="mobile")try{const be=E.serialize();(!be||be==="{}"||Object.keys(JSON.parse(be)).length===0)&&h.deserialize(te)}catch{h.deserialize(te)}$e(!0),V({mobile:te})}else $e(!0),V({mobile:createDefaultContent("mobile",i,a)})},[o,e,h,O,Y,pe,E,ue]),reactExports.useEffect(()=>{if(Y==="mobile"&&ie&&pe&&!q&&e)try{const te=lz.decompress(lz.decodeBase64(e)),be=convertDesktopContentToMobile(te);O(be),setTimeout(()=>{h.deserialize(be)},50)}catch{const be=createDefaultContent("mobile",i,a);O(be),setTimeout(()=>{h.deserialize(be)},50)}},[Y,ie,pe,q,e,h,O]),reactExports.useEffect(()=>{l&&(c&&z({bride:c.bride||"",groom:c.groom||"",date:c.date||"",location:c.location||""}),H(!0))},[c,l]);const{enabled:Me,connectors:He,actions:{setOptions:fe}}=Pe(te=>({enabled:te.options.enabled})),Ce=reactExports.useRef(null),le=reactExports.useRef(null);reactExports.useEffect(()=>{if(!ie||!pe)return;if(Me){le.current=Me;return}if(de)return;const te=Ce.current!==Y,be=le.current===!0&&Me===!1;if(!(!te&&!be)){Ce.current=Y,le.current=Me;try{const Z=E.serialize(),Ee=!Z||Z==="{}"||Object.keys(JSON.parse(Z)).length===0;if(Y==="mobile"){if(q&&(Ee||Z!==q))h.deserialize(q);else if(!q&&e&&!isMobileOnly(ue)){const me=lz.decompress(lz.decodeBase64(e)),ge=convertDesktopContentToMobile(me);O(ge),h.deserialize(ge)}}else Y==="desktop"&&!isMobileOnly(ue)&&Q&&(Ee||Z!==Q)&&h.deserialize(Q)}catch{}}},[Y,ie,pe,e,Me,de,h,O,ue,E]),reactExports.useEffect(()=>{const te=()=>{C({x:window.innerWidth-ce-30,y:(window.innerHeight-oe)/2}),I(window.innerWidth<640)};return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),reactExports.useEffect(()=>{window&&window.requestAnimationFrame(()=>{window.parent.postMessage({LANDING_PAGE_LOADED:!0},"*")})},[fe]);const J=te=>{te.stopPropagation(),te.preventDefault(),$.current&&(v(!0),A.current={x:te.clientX,y:te.clientY},T.current={...w},document.body.classList.add("sidebar-dragging"))};reactExports.useEffect(()=>{const te=Z=>{if(!b)return;Z.preventDefault(),Z.stopPropagation();const Ee=Z.clientX-A.current.x,me=Z.clientY-A.current.y;let ge=T.current.x+Ee,Ke=T.current.y+me;ge=Math.max(0,Math.min(window.innerWidth-ce,ge)),Ke=Math.max(0,Math.min(window.innerHeight-oe,Ke)),C({x:ge,y:Ke})},be=Z=>{Z.preventDefault(),Z.stopPropagation(),v(!1),document.body.classList.remove("sidebar-dragging")};if(b){document.addEventListener("mousemove",te,{capture:!0}),document.addEventListener("mouseup",be,{capture:!0});const Z=document.createElement("style");Z.id="drag-style",Z.innerHTML=`
        body.sidebar-dragging {
          user-select: none;
          -webkit-user-select: none;
          cursor: grabbing !important;
        }
        body.sidebar-dragging * {
          cursor: grabbing !important;
        }
      `,document.head.appendChild(Z)}return()=>{document.removeEventListener("mousemove",te,{capture:!0}),document.removeEventListener("mouseup",be,{capture:!0});const Z=document.getElementById("drag-style");Z&&Z.remove()}},[b]);const se=te=>{te.stopPropagation(),te.preventDefault(),B()};return jsxRuntimeExports.jsxs("div",{className:"viewport",children:[b&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0",style:{cursor:"grabbing",zIndex:zIndex.settingsModal}}),jsxRuntimeExports.jsxs("div",{className:cx(["flex h-full overflow-hidden w-full flex-col fixed top-0 left-0"]),children:[jsxRuntimeExports.jsx(Header,{id:r||"",effects:d,audioSettings:u,customHtmlSettings:m,seoSettings:R,notificationSettings:p,customEffects:j,pageData:c,isPageProp:l}),jsxRuntimeExports.jsxs("div",{className:"page-container relative flex flex-1 h-[calc(100vh-60px)] flex-row",children:[jsxRuntimeExports.jsx(LayerPopup,{}),jsxRuntimeExports.jsx(ElementsPopup,{}),jsxRuntimeExports.jsx(SelectionBox,{}),jsxRuntimeExports.jsx("div",{className:cx(["craftjs-renderer flex-1 h-full w-full transition overflow-auto",{"bg-renderer-gray":Me,"pointer-events-none":b}]),style:{backgroundColor:Re()},ref:te=>{te&&He.select(He.hover(te,""),"")},children:jsxRuntimeExports.jsx(AlignmentController,{isCardEditor:i||a,children:jsxRuntimeExports.jsx("div",{className:`relative flex-col flex items-center pt-8 pb-2 ${s?"py-10":""}`,onClick:()=>{(P||N)&&L()},style:{paddingBottom:Me&&W&&_?`${je+140}px`:"140px"},children:t})})}),Me&&W&&jsxRuntimeExports.jsxs("div",{className:"fixed sm:hidden inset-x-0 bottom-0 bg-white rounded-t-xl shadow-2xl transform transition-transform duration-300 ease-out",style:{height:`${je}px`,maxHeight:"70vh",zIndex:zIndex.settingsModal},children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center bg-[#E53E3E] rounded-t-xl border-b border-gray-200",children:jsxRuntimeExports.jsx("button",{className:"text-white hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:te=>{te.stopPropagation(),te.preventDefault(),F()},children:jsxRuntimeExports.jsx(IoClose,{size:18})})}),jsxRuntimeExports.jsx("div",{className:"h-full overflow-y-auto overscroll-contain w-full",style:{height:`${je-60}px`},children:jsxRuntimeExports.jsx(Sidebar,{isFixed:!0})})]}),k==="fixed"&&Me&&W&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col hidden sm:block",style:{width:`${ce}px`},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-[#E53E3E] p-2 text-xs text-gray-600",children:[jsxRuntimeExports.jsx("button",{className:"text-white hover:text-gray-800 p-1 rounded transition-colors",onClick:te=>{te.stopPropagation(),te.preventDefault(),F()},title:"Đóng sidebar",children:jsxRuntimeExports.jsx(IoClose,{size:14})}),jsxRuntimeExports.jsx("button",{className:"text-white hover:text-gray-800 p-1 rounded transition-colors",onClick:se,title:"Chuyển sang sidebar có thể kéo",children:jsxRuntimeExports.jsx(BiCollapse,{size:14})})]}),jsxRuntimeExports.jsx("div",{style:{overflow:"auto",height:"calc(100vh - 100px)",width:"100%"},children:jsxRuntimeExports.jsx(Sidebar,{isFixed:!0})})]})]}),k==="draggable"&&Me&&W&&jsxRuntimeExports.jsxs("div",{ref:$,className:"absolute shadow-2xl rounded-md overflow-hidden hidden sm:block border border-[#E53E3E] bg-white",style:{zIndex:zIndex.settingsModal,top:w.y,left:w.x,cursor:b?"grabbing":"auto",height:`${oe}px`,width:`${ce}px`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 25px 50px -12px rgba(0, 0, 0, 0.15)"},children:[jsxRuntimeExports.jsxs("div",{className:"sidebar-handle bg-[#E53E3E] p-2 text-center text-xs text-gray-600 flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"text-white hover:text-gray-800 p-1 rounded transition-colors cursor-pointer",onClick:te=>{te.stopPropagation(),te.preventDefault(),F()},title:"Đóng sidebar",children:jsxRuntimeExports.jsx(IoClose,{size:14})}),jsxRuntimeExports.jsx(RxDragHandleDots2,{className:"cursor-grab",size:14,transform:"rotate(90)",onMouseDown:J,style:{cursor:b?"grabbing":"grab"},color:"white"}),jsxRuntimeExports.jsx("button",{className:"text-white hover:text-gray-800 p-1 rounded transition-colors cursor-pointer",onClick:se,title:"Chuyển sang sidebar cố định",children:jsxRuntimeExports.jsx(BiExpand,{size:14})})]}),jsxRuntimeExports.jsx("div",{className:"sidebar-content bg-white",style:{height:`${oe-30}px`,overflow:"auto"},children:jsxRuntimeExports.jsx(Sidebar,{isFixed:!1})})]})]})]})},Viewport=t=>{const e=compilerRuntimeExports.c(15);let o;e[0]!==t?(o=jsxRuntimeExports.jsx(ViewportContent,{...t}),e[0]=t,e[1]=o):o=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=jsxRuntimeExports.jsx(LightBox,{id:"global-lightbox"}),e[2]=r):r=e[2];let s;e[3]!==o?(s=jsxRuntimeExports.jsx(CollaborationProvider,{children:jsxRuntimeExports.jsxs(MultiSelectProvider,{children:[o,r]})}),e[3]=o,e[4]=s):s=e[4];let i;e[5]!==t.id||e[6]!==t.isCardEditor||e[7]!==t.isLogoEditor||e[8]!==t.isPage||e[9]!==t.refetchData||e[10]!==s?(i=jsxRuntimeExports.jsx(ViewportProvider,{refetchData:t.refetchData,templateId:t.id,isPage:t.isPage,isCardEditor:t.isCardEditor,isLogoEditor:t.isLogoEditor,children:s}),e[5]=t.id,e[6]=t.isCardEditor,e[7]=t.isLogoEditor,e[8]=t.isPage,e[9]=t.refetchData,e[10]=s,e[11]=i):i=e[11];let a;return e[12]!==t.fontMap||e[13]!==i?(a=jsxRuntimeExports.jsx(FontProvider,{fontMap:t.fontMap,children:i}),e[12]=t.fontMap,e[13]=i,e[14]=a):a=e[14],a},ViewOnlyRenderNode=t=>{var b;const e=compilerRuntimeExports.c(21),{render:o}=t;useFontContext();const{dom:r,name:s,props:i}=Ne(_temp$1),{PinnedWrapper:a}=usePinning(i.pinning,s),c=reactExports.useRef(null);let l;e[0]!==r?(l=()=>{if(!r)return{top:"0px",left:"0px"};const{top:v,left:_,bottom:I}=r.getBoundingClientRect();return{top:`${v>0?v:I}px`,left:`${_}px`}},e[0]=r,e[1]=l):l=e[1];const d=l;let u;e[2]!==r?(u=()=>{if(!r)return{top:"0px",left:"0px"};const{left:v,width:_,bottom:I}=r.getBoundingClientRect();return{top:`${I+10}px`,left:`${v+_/2}px`}},e[2]=r,e[3]=u):u=e[3];const m=u;let R;e[4]!==r||e[5]!==d||e[6]!==m?(R=()=>{const{current:v}=c;if(!(!v||!r)){if(v.classList.contains("node-indicator")){const{top:_,left:I}=d();v.style.top=_,v.style.left=I}else if(v.classList.contains("rotate-indicator")){const{top:_,left:I}=m();v.style.top=_,v.style.left=I}}},e[4]=r,e[5]=d,e[6]=m,e[7]=R):R=e[7];const p=R;let j,x;e[8]!==p?(j=()=>{const v=document.querySelector(".craftjs-renderer");if(v)return v.addEventListener("scroll",p),()=>{v.removeEventListener("scroll",p)}},x=[p],e[8]=p,e[9]=j,e[10]=x):(j=e[9],x=e[10]),reactExports.useEffect(j,x);const g=s==="Text"&&i.isChildOfButton===!0,h=reactExports.useRef(!0);let E,w;if(e[11]===Symbol.for("react.memo_cache_sentinel")?(E=()=>()=>{h.current=!1},w=[],e[11]=E,e[12]=w):(E=e[11],w=e[12]),reactExports.useEffect(E,w),(b=i.pinning)!=null&&b.enabled){if(s==="Sections"){const I=`${g?"text-center":"w-full h-full"}`;let $;return e[13]!==o||e[14]!==I?($=jsxRuntimeExports.jsx("div",{className:I,children:o}),e[13]=o,e[14]=I,e[15]=$):$=e[15],$}const v=_temp2;let _;return e[16]!==a||e[17]!==o?(_=ReactDOM.createPortal(jsxRuntimeExports.jsx(a,{children:o}),v()),e[16]=a,e[17]=o,e[18]=_):_=e[18],_}let C;return e[19]!==o?(C=jsxRuntimeExports.jsx("div",{className:"w-full",children:o}),e[19]=o,e[20]=C):C=e[20],C};function _temp$1(t){return{dom:t.dom,name:t.data.custom.displayName||t.data.displayName,props:t.data.props}}function _temp2(){const t=document.querySelector(".view-page");if(t)return t;const e=document.querySelector(".craftjs-renderer");return e&&e.parentElement||document.body}let cachedViewOnlySelectors=null;const createViewOnlySelectors=()=>{if(cachedViewOnlySelectors)return cachedViewOnlySelectors;const t=I=>{if(!(I!=null&&I.craft))return I;try{const{related:$,...A}=I.craft;I.craft=A}catch{try{const{related:A,...T}=I.craft;Object.defineProperty(I,"craft",{value:T,writable:!0,configurable:!0,enumerable:!0})}catch{}}return I},e=t(WishList),o=t(Text),r=t(Button),s=t(Image$1),i=t(Video),a=t(Container),c=t(Icon),l=t(Line),d=t(Calendar),u=t(Count),m=t(Form),R=t(Input),p=t(HtmlSelector),j=t(AlbumSection),x=t(Popup),g=t(Dropbox),h=t(QuickActions),E=t(Sections),w=t(Group),C=t(ContentWrapper),b=t(Page),v=t(PagesContainer),_=t(LogoContent);return cachedViewOnlySelectors={AlbumSection:j,AlbumModal,Container:a,Text:o,Image:s,Button:r,Calendar:d,HtmlSelector:p,Icon:c,Input:R,LightBox,Line:l,ContentWrapper:C,Sections:E,Video:i,Group:w,Popup:x,QuickActions:h,Dropbox:g,Count:u,Form:m,WishList:e,Page:b,PagesContainer:v,LogoContent:_},cachedViewOnlySelectors},ParticlesBackground=t=>{const e=compilerRuntimeExports.c(36),{effects:o}=t,{imageUrl:r,coverageLevel:s,fallSpeed:i,minSize:a,maxSize:c}=o,[l,d]=reactExports.useState(!1),u=useIsMobile(),m=Math.max(1,Math.floor(s*.4));let R;e[0]!==m?(R={particleCount:m,fpsLimit:30,enableRotation:!1,gravityAcceleration:.05,detectRetina:!1},e[0]=m,e[1]=R):R=e[1];const p=R;let j;e[2]!==s?(j={particleCount:s,fpsLimit:60,enableRotation:!0,gravityAcceleration:.1,detectRetina:!0},e[2]=s,e[3]=j):j=e[3];const g=u?p:j;let h,E;if(e[4]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{n(_temp).then(()=>{d(!0)})},E=[],e[4]=h,e[5]=E):(h=e[4],E=e[5]),reactExports.useEffect(h,E),l){let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w={enable:!0},e[6]=w):w=e[6];let C;e[7]!==g.particleCount?(C={value:g.particleCount},e[7]=g.particleCount,e[8]=C):C=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b={value:"#ffffff"},e[9]=b):b=e[9];let v;e[10]!==r?(v={type:"image",options:{image:{src:r,width:100,height:100}}},e[10]=r,e[11]=v):v=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_={value:.8},e[12]=_):_=e[12];let I;e[13]!==c||e[14]!==a?(I={value:{min:a,max:c}},e[13]=c,e[14]=a,e[15]=I):I=e[15];let $;e[16]!==g.gravityAcceleration?($={enable:!0,acceleration:g.gravityAcceleration},e[16]=g.gravityAcceleration,e[17]=$):$=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A={default:"out"},e[18]=A):A=e[18];let T;e[19]!==i||e[20]!==$?(T={enable:!0,direction:"bottom",speed:i,gravity:$,outModes:A},e[19]=i,e[20]=$,e[21]=T):T=e[21];let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L={min:0,max:360},e[22]=L):L=e[22];const P=g.enableRotation?5:0;let N;e[23]!==g.enableRotation||e[24]!==P?(N={value:L,direction:"random",animation:{enable:g.enableRotation,speed:P}},e[23]=g.enableRotation,e[24]=P,e[25]=N):N=e[25];let k;e[26]!==I||e[27]!==T||e[28]!==N||e[29]!==C||e[30]!==v?(k={number:C,color:b,shape:v,opacity:_,size:I,move:T,rotate:N},e[26]=I,e[27]=T,e[28]=N,e[29]=C,e[30]=v,e[31]=k):k=e[31];let B;return e[32]!==g.detectRetina||e[33]!==g.fpsLimit||e[34]!==k?(B=jsxRuntimeExports.jsx(f,{id:"tsparticles-falling-images",options:{fullScreen:w,fpsLimit:g.fpsLimit,particles:k,detectRetina:g.detectRetina}}),e[32]=g.detectRetina,e[33]=g.fpsLimit,e[34]=k,e[35]=B):B=e[35],B}return null};async function _temp(t){await loadSlim(t),await loadImageShape(t)}mt`
  0% { transform: scale(1); }
  50% { transform: scale(1.05) rotate(1deg); }
  100% { transform: scale(1) rotate(-1deg); }
`;const rotate=mt`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,glow=mt`
  0% { box-shadow: 0 0 10px rgba(139, 0, 0, 0.2), 0 0 20px rgba(139, 0, 0, 0.2); }
  50% { box-shadow: 0 0 20px rgba(139, 0, 0, 0.6), 0 0 30px rgba(139, 0, 0, 0.5); }
  100% { box-shadow: 0 0 10px rgba(139, 0, 0, 0.2), 0 0 20px rgba(139, 0, 0, 0.2); }
`,growFromLeft=mt`
  0% {
    transform: scaleX(0);
    transform-origin: left center;
  }
  100% {
    transform: scaleX(1);
    transform-origin: left center;
  }
`,MusicToggle=dt.button`
  position: fixed;
  bottom: 15px;
  left: 15px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: #fff;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: ${zIndex.audioPlayer};
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border: none;

  &:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }

  img {
    width: 25px;
    height: 25px;
    pointer-events: none;
  }

  /* Animation effects when playing */
  ${t=>t.$isVibrating&&lt`
    animation: ${rotate} 4s linear infinite, ${glow} 2s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(139, 0, 0, 0.6), 0 0 25px rgba(139, 0, 0, 0.4);
  `}
`,AudioPlayer=({audioSettings:t,className:e=""})=>{const[o,r]=reactExports.useState(!1),[s,i]=reactExports.useState(.5),[a,c]=reactExports.useState(!1),[l,d]=reactExports.useState(!1),u=reactExports.useRef(null);reactExports.useEffect(()=>{if(t.audioUrl){d(!0),localStorage.setItem("audioPlayerTooltipShown","true");const g=setTimeout(()=>{d(!1)},1e4);return()=>clearTimeout(g)}},[t.audioUrl]);const m=reactExports.useCallback(()=>{!u.current||!t.audioUrl||a||(u.current.volume=s,u.current.play().then(()=>{r(!0),c(!0)}).catch(g=>{}))},[t.audioUrl,a,s]);reactExports.useEffect(()=>{if(!t.autoPlay||a)return;let g=0,h=0;const E=v=>{v.touches&&v.touches.length===1&&(g=v.touches[0].clientX,h=v.touches[0].clientY)},w=v=>{if(a)return;let _=!1;if(v.changedTouches&&v.changedTouches.length===1){const I=v.changedTouches[0].clientX,$=v.changedTouches[0].clientY,A=I-g,T=$-h;(Math.abs(A)>30||Math.abs(T)>30)&&(_=!0)}(_||!_)&&m()},C=()=>{m()},b=()=>{m()};return document.body.addEventListener("touchstart",E),document.body.addEventListener("touchend",w),document.body.addEventListener("pointerdown",C,{once:!0}),document.addEventListener("scroll",b,{once:!0}),()=>{document.body.removeEventListener("touchstart",E),document.body.removeEventListener("touchend",w),document.body.removeEventListener("pointerdown",C),document.removeEventListener("scroll",b)}},[t.autoPlay,a,m]);const R=g=>{g.stopPropagation(),l&&d(!1),!(!u.current||!t.audioUrl)&&(o?(u.current.pause(),r(!1)):(u.current.volume=s,u.current.play().then(()=>{r(!0),c(!0)}).catch(h=>{r(!1)})))},p=()=>{r(!1)},j=()=>{r(!1)};if(!t.audioUrl)return null;const x=()=>{if(o){const g=t.useDefaultIcons?"/icons/play.png":t.playIconUrl||"/icons/play.png";return jsxRuntimeExports.jsx("img",{src:g,alt:"Play Icon",className:"w-6 h-6 object-contain pointer-events-none",style:{display:"block"}})}else{const g=t.useDefaultIcons?"/icons/pause.jpg":t.pauseIconUrl||"/icons/pause.jpg";return jsxRuntimeExports.jsx("img",{src:g,alt:"Pause Icon",className:"w-6 h-6 object-contain pointer-events-none",style:{display:"block"}})}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("audio",{ref:u,src:t.audioUrl,onEnded:p,onError:j,preload:"auto",loop:!0}),jsxRuntimeExports.jsx(Tooltip,{content:"Click vào đây nếu bạn muốn phát nhạc",positioning:{placement:"left"},openDelay:l?0:10,closeDelay:300,open:l,onOpenChange:g=>{g.open||d(!1)},contentProps:{css:lt`
            animation: ${growFromLeft} 0.2s ease-out;
            transform-origin: left center;
            font-size: 14px;
            padding: 8px 12px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 6px;
            white-space: nowrap;
            z-index: ${zIndex.audioPlayerControls};
          `},children:jsxRuntimeExports.jsx(MusicToggle,{onClick:R,className:e,$isVibrating:o&&t.enableAnimations,children:x()})})]})},useResponsivePlatform=t=>{const e=compilerRuntimeExports.c(10);let o;e[0]!==t?(o=()=>{if(t&&isMobileOnly(t))return"mobile";if(typeof window<"u"){const d=detectMobileDevice(),u=window.innerWidth,m=t?getDesktopBreakpoint(t):960;return d||u<=m?"mobile":"desktop"}return"desktop"},e[0]=t,e[1]=o):o=e[1];const[r,s]=reactExports.useState(o);let i,a;e[2]!==r||e[3]!==t?(i=()=>{t&&isMobileOnly(t)&&r!=="mobile"&&s("mobile")},a=[t,r],e[2]=r,e[3]=t,e[4]=i,e[5]=a):(i=e[4],a=e[5]),reactExports.useEffect(i,a);let c,l;return e[6]!==r||e[7]!==t?(c=()=>{if(t&&isMobileOnly(t))return;const d=()=>{const R=detectMobileDevice(),p=window.innerWidth,j=t?getDesktopBreakpoint(t):960;(R||p<=j?"mobile":"desktop")!==r&&window.location.reload()};let u;const m=()=>{clearTimeout(u),u=window.setTimeout(d,300)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),clearTimeout(u)}},l=[r,t],e[6]=r,e[7]=t,e[8]=c,e[9]=l):(c=e[8],l=e[9]),reactExports.useEffect(c,l),r},CustomToast=t=>{const e=compilerRuntimeExports.c(46),{name:o,message:r,notificationSettings:s,isMobile:i}=t,a=(s==null?void 0:s.showIcon)!==!1,c=(s==null?void 0:s.useDefaultIcon)!==!1,l=(s==null?void 0:s.iconColor)||"#FFD700",d=(s==null?void 0:s.size)||"medium",u=i?"11px":"12px",m=i?"16px":"18px",R=i?"6px":"8px",p=i?"8px":"10px";let j;e[0]!==u||e[1]!==m||e[2]!==R||e[3]!==p?(j={fontSize:u,iconSize:m,padding:R,gap:p},e[0]=u,e[1]=m,e[2]=R,e[3]=p,e[4]=j):j=e[4];const x=i?"12px":"14px",g=i?"18px":"22px",h=i?"8px":"12px",E=i?"10px":"14px";let w;e[5]!==x||e[6]!==g||e[7]!==h||e[8]!==E?(w={fontSize:x,iconSize:g,padding:h,gap:E},e[5]=x,e[6]=g,e[7]=h,e[8]=E,e[9]=w):w=e[9];const C=i?"13px":"16px",b=i?"20px":"26px",v=i?"10px":"16px",_=i?"12px":"18px";let I;e[10]!==C||e[11]!==b||e[12]!==v||e[13]!==_?(I={fontSize:C,iconSize:b,padding:v,gap:_},e[10]=C,e[11]=b,e[12]=v,e[13]=_,e[14]=I):I=e[14];let $;e[15]!==w||e[16]!==I||e[17]!==j?($={small:j,medium:w,large:I},e[15]=w,e[16]=I,e[17]=j,e[18]=$):$=e[18];const T=$[d];let L;e[19]!==T.gap||e[20]!==T.padding?(L={display:"flex",alignItems:"center",gap:T.gap,padding:T.padding},e[19]=T.gap,e[20]=T.padding,e[21]=L):L=e[21];let P;e[22]!==T.iconSize||e[23]!==l||e[24]!==s||e[25]!==a||e[26]!==c?(P=a&&(c?jsxRuntimeExports.jsx(GiPartyPopper,{style:{fontSize:T.iconSize,color:"#FFD700",flexShrink:0}}):s!=null&&s.iconUrl?jsxRuntimeExports.jsx("div",{style:{width:T.iconSize,height:T.iconSize,flexShrink:0},dangerouslySetInnerHTML:{__html:(()=>{try{return s.iconUrl.startsWith("data:image/svg+xml;base64,")?atob(s.iconUrl.split(",")[1]).replace(/fill="[^"]*"/g,`fill="${l}"`):`<img src="${s.iconUrl}" alt="notification icon" style="width: 100%; height: 100%; object-fit: contain;" />`}catch{return`<img src="${s.iconUrl}" alt="notification icon" style="width: 100%; height: 100%; object-fit: contain;" />`}})()}}):jsxRuntimeExports.jsx(GiPartyPopper,{style:{fontSize:T.iconSize,color:"#FFD700",flexShrink:0}})),e[22]=T.iconSize,e[23]=l,e[24]=s,e[25]=a,e[26]=c,e[27]=P):P=e[27];let N;e[28]===Symbol.for("react.memo_cache_sentinel")?(N={flex:1},e[28]=N):N=e[28];let k;e[29]!==T.fontSize?(k={fontWeight:"bold",fontSize:T.fontSize,marginBottom:"4px",color:"#333"},e[29]=T.fontSize,e[30]=k):k=e[30];let B;e[31]!==o||e[32]!==k?(B=jsxRuntimeExports.jsx("div",{style:k,children:o}),e[31]=o,e[32]=k,e[33]=B):B=e[33];const F=`calc(${T.fontSize} - 1px)`;let W;e[34]!==F?(W={fontSize:F,color:"#666",lineHeight:"1.3"},e[34]=F,e[35]=W):W=e[35];let z;e[36]!==r||e[37]!==W?(z=jsxRuntimeExports.jsx("div",{style:W,children:r}),e[36]=r,e[37]=W,e[38]=z):z=e[38];let H;e[39]!==B||e[40]!==z?(H=jsxRuntimeExports.jsxs("div",{style:N,children:[B,z]}),e[39]=B,e[40]=z,e[41]=H):H=e[41];let U;return e[42]!==L||e[43]!==P||e[44]!==H?(U=jsxRuntimeExports.jsxs("div",{style:L,children:[P,H]}),e[42]=L,e[43]=P,e[44]=H,e[45]=U):U=e[45],U},mockToastData=[{name:"CEO meHappy",message:"Chúc hai bạn bắt đầu hành trình hôn nhân với trọn vẹn yêu thương, để mỗi ngày bên nhau đều là một ngày cưới."},{name:"meWedding",message:"Tình yêu đẹp không chỉ nằm ở khoảnh khắc gặp nhau, mà ở chặng đường cùng nhau đi qua. Chúc hai bạn một đời hạnh phúc."},{name:"Người lạ",message:"Ngày cưới là điểm bắt đầu, hạnh phúc mới là đích đến. Chúc hai bạn luôn tìm thấy niềm vui trên hành trình ấy."}],CustomHtmlInjector=({htmlContent})=>{const containerRef=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!containerRef.current)return;const timer=setTimeout(()=>{var t;document.body.classList.add("open");const scripts=(t=containerRef.current)==null?void 0:t.querySelectorAll("script");scripts==null||scripts.forEach(script=>{try{const scriptContent=script.textContent||"";if(scriptContent.includes("window.onload")){const match=scriptContent.match(/window\.onload\s*=\s*function\s*\(\s*\)\s*{([\s\S]*)}/);if(match&&match[1]){const funcContent=match[1];eval(funcContent)}}else eval(scriptContent)}catch(e){}})},500);return()=>clearTimeout(timer)},[htmlContent]),jsxRuntimeExports.jsx("div",{ref:containerRef,dangerouslySetInnerHTML:{__html:htmlContent}})},WeddingPageIdSetter=t=>{const e=compilerRuntimeExports.c(4),{id:o}=t,{setWeddingPageId:r}=useViewport();let s,i;return e[0]!==o||e[1]!==r?(s=()=>{o&&r(o)},i=[o,r],e[0]=o,e[1]=r,e[2]=s,e[3]=i):(s=e[2],i=e[3]),reactExports.useEffect(s,i),null},ContentLoader=({contentToRender:t,currentPlatform:e})=>{const{actions:o,query:r}=Pe(),[s,i]=reactExports.useState(!1),a=reactExports.useRef(null),c=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!(t===a.current&&e===c.current))if(a.current=t,c.current=e,t)try{const l=JSON.parse(t);if(l&&typeof l=="object")o.deserialize(t);else{i(!0);return}setTimeout(()=>{const u=()=>{try{const R=r.getNodes();return Object.keys(R).some(x=>{try{const g=r.node(x);if(!g)return!1;const h=g.get();return h&&h.dom}catch{return!1}})?(i(!0),!0):!1}catch{return!1}};if(u())return;const m=new MutationObserver(()=>{u()&&m.disconnect()});m.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{m.disconnect(),s||i(!0)},2e3)},50)}catch{i(!1)}else i(!0)},[t,e,o,r]),null},ViewOnlyViewportContent=({children:t,content:e,mobileContent:o,id:r,effects:s,audioSettings:i,notificationSettings:a,customHtmlSettings:c,customEffects:l,isLogo:d,isCard:u,className:m="view-page",fontMap:R})=>{var A,T;const{settings:p,isLoading:j}=useViewportSettings(),[x,g]=React.useState(!1);React.useEffect(()=>{p&&Object.keys(p).length>0&&g(!0);const L=setTimeout(()=>{x||g(!0)},500);return()=>clearTimeout(L)},[p,x]);const h=useResponsivePlatform(p),E=React.useMemo(()=>isMobileOnly(p)?"mobile":h,[p,h,x]),w=React.useMemo(()=>{if(E==="mobile")return getMobilePageBackgroundColor(p)},[E,p]),C=React.useMemo(()=>{if(isMobileOnly(p))return o||e;if(E==="mobile"){if(o)return o;if(e)return e}else return e;return e},[E,o,e,p]),{data:b}=useGetGuestWishes(r||null),v=reactExports.useRef(null),_=reactExports.useRef(!1),I=reactExports.useRef(null),$=reactExports.useCallback(()=>{if(!(a!=null&&a.enabled)||(I.current&&(clearTimeout(I.current),I.current=null),_.current))return;const P=!!r&&b?(()=>{const N=(b==null?void 0:b.filter(B=>B==null?void 0:B.isPublic))||[];if(N.length===0){const B=mockToastData[Math.floor(Math.random()*mockToastData.length)];return{name:B.name,message:B.message}}const k=N[Math.floor(Math.random()*N.length)];return{name:(k==null?void 0:k.guestName)||"Khách mời",message:(k==null?void 0:k.message)||"Chúc mừng hạnh phúc!"}})():(()=>{const N=mockToastData[Math.floor(Math.random()*mockToastData.length)];return{name:N.name,message:N.message}})();_.current=!0,v.current=y(jsxRuntimeExports.jsx(CustomToast,{name:P.name,message:P.message,notificationSettings:a,isMobile:E==="mobile"}),{position:"top-right",autoClose:(a==null?void 0:a.displayDuration)||5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,style:{borderRadius:E==="mobile"?"8px":"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",top:"60px",zIndex:999999,...E==="mobile"&&{maxWidth:"280px",fontSize:"12px"}},onClose:()=>{_.current=!1,v.current=null,I.current=setTimeout(()=>{$()},5e3)}})},[b,a,r,E]);return reactExports.useEffect(()=>{if((a==null?void 0:a.enabled)===!1)return;const L=setTimeout(()=>{$()},3e3);return()=>{clearTimeout(L),I.current&&clearTimeout(I.current),v.current&&y.dismiss(v.current)}},[$,a==null?void 0:a.enabled]),reactExports.useEffect(()=>{var Re;if(!((Re=l==null?void 0:l.autoScroll)!=null&&Re.enabled))return;const P=.3+(l.autoScroll.speed||1)*.27;let N,k=!1,B=null,F=0,W=0,z=!1,H=window.pageYOffset||document.documentElement.scrollTop,U=!1;const D=()=>{z||(z=!0,N&&cancelAnimationFrame(N),k&&(k=!1,B=null))},O=()=>{if(!U&&!z){const oe=window.pageYOffset||document.documentElement.scrollTop;Math.abs(oe-H)>1&&D()}H=window.pageYOffset||document.documentElement.scrollTop},Q=oe=>{if(z)return;B||(B=oe,F=window.pageYOffset||document.documentElement.scrollTop,W=0);const ce=oe-B,ie=Math.min(ce/2e3,1),pe=(Se=>Se<.5?4*Se*Se*Se:(Se-1)*(2*Se-2)*(2*Se-2)+1)(ie),$e=F+(W-F)*pe;U=!0,window.scrollTo(0,$e),U=!1,ie<1&&!z?N=requestAnimationFrame(Q):ie>=1&&!z&&(k=!1,B=null,H=0,setTimeout(()=>{var Se;(Se=l==null?void 0:l.autoScroll)!=null&&Se.enabled&&!z&&(N=requestAnimationFrame(q))},1e3))},q=()=>{if(z)return;const oe=window.pageYOffset||document.documentElement.scrollTop,ce=window.innerHeight,je=document.documentElement.scrollHeight;oe+ce>=je-10?k||(k=!0,B=null,N=requestAnimationFrame(Q)):k||(U=!0,window.scrollBy(0,P),U=!1,H=window.pageYOffset||document.documentElement.scrollTop,N=requestAnimationFrame(q))},Y=["scroll","wheel","touchstart","touchmove"],V=["keydown"];Y.forEach(oe=>{window.addEventListener(oe,O,{passive:!0})});const de=oe=>{const ce=oe;["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(ce.key)&&D()};V.forEach(oe=>{window.addEventListener(oe,de,{passive:!0})});const ue=setTimeout(()=>{var oe;(oe=l==null?void 0:l.autoScroll)!=null&&oe.enabled&&!z&&(N=requestAnimationFrame(q))},3e3);return()=>{N&&cancelAnimationFrame(N),ue&&clearTimeout(ue),Y.forEach(oe=>{window.removeEventListener(oe,O)}),V.forEach(oe=>{window.removeEventListener(oe,de)})}},[(A=l==null?void 0:l.autoScroll)==null?void 0:A.enabled,(T=l==null?void 0:l.autoScroll)==null?void 0:T.speed]),x?jsxRuntimeExports.jsxs("div",{className:m,"data-viewport-platform":E,style:{backgroundColor:w},children:[s&&ReactDOM.createPortal(jsxRuntimeExports.jsx(ParticlesBackground,{effects:s}),document.body),jsxRuntimeExports.jsx(ut,{resolver:createViewOnlySelectors(),enabled:!1,onRender:ViewOnlyRenderNode,children:jsxRuntimeExports.jsx(ResponsivePlatformContext.Provider,{value:E,children:jsxRuntimeExports.jsx(FontProvider,{fontMap:R,children:jsxRuntimeExports.jsx(ViewportProvider,{isViewOnly:!0,isLogoEditor:d,isCardEditor:u,children:jsxRuntimeExports.jsxs(MultiSelectProvider,{children:[jsxRuntimeExports.jsx(WeddingPageIdSetter,{id:r}),jsxRuntimeExports.jsx(ContentLoader,{contentToRender:C,currentPlatform:E}),jsxRuntimeExports.jsx(De,{children:!C&&t},`${E}-frame`),jsxRuntimeExports.jsx(LightBox,{id:"global-lightbox"})]})})})})}),i&&jsxRuntimeExports.jsx(AudioPlayer,{audioSettings:i}),(a==null?void 0:a.enabled)!==!1&&jsxRuntimeExports.jsx(Lt,{position:"top-right",autoClose:(a==null?void 0:a.displayDuration)||6e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",limit:1,style:{zIndex:999999,...E==="mobile"&&{"--toastify-toast-width":"280px","--toastify-toast-min-height":"50px",opacity:"0.85",right:"30px",top:"30px"}},toastStyle:E==="mobile"?{fontSize:"13px",padding:"8px 12px",minHeight:"50px"}:void 0}),c&&ReactDOM.createPortal(jsxRuntimeExports.jsx(CustomHtmlInjector,{htmlContent:c}),document.body)]}):jsxRuntimeExports.jsx(EditorLoadingScreen,{message:"Đang tải trang...",submessage:"Đang xác định cấu hình hiển thị"})},ViewOnlyViewport=t=>{const e=compilerRuntimeExports.c(2);let o;return e[0]!==t?(o=jsxRuntimeExports.jsx(ViewOnlyViewportContent,{...t}),e[0]=t,e[1]=o):o=e[1],o};function EditorPage(){var _;const t=compilerRuntimeExports.c(24),{id:e}=useParams(),o=e?parseInt(e,10):NaN,r=!isNaN(o)&&o>0,{data:s,isLoading:i,error:a,refetch:c}=useGetPage(r?o:0);if(!r){let I;return t[0]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Navigate,{to:ROUTES.PUBLIC.NOT_FOUND,replace:!0}),t[0]=I):I=t[0],I}if(a||!i&&!s){let I;return t[1]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(Navigate,{to:ROUTES.PUBLIC.NOT_FOUND,replace:!0}),t[1]=I):I=t[1],I}if(i){let I;return t[2]===Symbol.for("react.memo_cache_sentinel")?(I=jsxRuntimeExports.jsx(EditorLoadingScreen,{message:"Đang tải trang thiệp...",submessage:"Đang chuẩn bị trình chỉnh sửa cho bạn"}),t[2]=I):I=t[2],I}const l=s==null?void 0:s.content,d=s==null?void 0:s.contentMobile;let u;t[3]!==(s==null?void 0:s.id)?(u=(_=s==null?void 0:s.id)==null?void 0:_.toString(),t[3]=s==null?void 0:s.id,t[4]=u):u=t[4];const m=s==null?void 0:s.isCard,R=s==null?void 0:s.isLogo,p=s==null?void 0:s.effects,j=s==null?void 0:s.audioSettings,x=(s==null?void 0:s.customHtml)||"",g=s==null?void 0:s.seoSettings,h=s==null?void 0:s.notificationSettings,E=s==null?void 0:s.customEffects,w=s==null?void 0:s.fontMap;let C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C=jsxRuntimeExports.jsx(De,{}),t[5]=C):C=t[5];let b;t[6]!==s||t[7]!==c||t[8]!==l||t[9]!==d||t[10]!==E||t[11]!==w||t[12]!==u||t[13]!==m||t[14]!==R||t[15]!==p||t[16]!==j||t[17]!==x||t[18]!==g||t[19]!==h?(b=jsxRuntimeExports.jsx(ut,{resolver:Selectors,enabled:!1,onRender:RenderNode,children:jsxRuntimeExports.jsx(Viewport,{pageData:s,data:l,isPage:!0,mobileData:d,id:u,isEditor:!0,isCardEditor:m,isLogoEditor:R,effects:p,audioSettings:j,customHtmlSettings:x,seoSettings:g,notificationSettings:h,customEffects:E,refetchData:c,fontMap:w,children:C})}),t[6]=s,t[7]=c,t[8]=l,t[9]=d,t[10]=E,t[11]=w,t[12]=u,t[13]=m,t[14]=R,t[15]=p,t[16]=j,t[17]=x,t[18]=g,t[19]=h,t[20]=b):b=t[20];let v;return t[21]!==s||t[22]!==b?(v=jsxRuntimeExports.jsx("div",{className:"editor",children:jsxRuntimeExports.jsx(ViewportSettingsProvider,{templateData:s,children:b})}),t[21]=s,t[22]=b,t[23]=v):v=t[23],v}const index=Object.freeze(Object.defineProperty({__proto__:null,default:EditorPage},Symbol.toStringTag,{value:"Module"})),fetchPublicPages=async(t={})=>(await apiClient.get("/pages/public",{params:{page:t.page??1,limit:t.limit??20,...t.type?{type:t.type}:{},...t.search?{search:t.search}:{}}})).data.data,usePublicPages=t=>{const e=compilerRuntimeExports.c(4);let o;e[0]!==t?(o=t===void 0?{}:t,e[0]=t,e[1]=o):o=e[1];const r=o;let s;return e[2]!==r?(s={queryKey:["publicPages",r],queryFn:()=>fetchPublicPages(r),staleTime:3e5,gcTime:6e5},e[2]=r,e[3]=s):s=e[3],useQuery(s)};export{useUpdatePageContent as A,useChangeTemplate as B,getCanvasPreviewStats as C,index as D,LogoMeHappy as L,PageType as P,RenderNode as R,Selectors as S,TemplateWishProvider as T,Viewport as V,ViewportSettingsProvider as a,useGetPageByDomain as b,useGetPageUserInfo as c,ViewOnlyViewport as d,useIsMobile as e,useGetPage as f,detectMobileDevice as g,getDesktopBreakpoint as h,isMobileOnly as i,uploadFileWithTag as j,defaultQRSettings as k,system as l,useCreatePage as m,checkDomainAvailability as n,uploadFile as o,usePublishPage as p,usePublicPages as q,useGetMyPages as r,safeSessionStorage as s,loadQRSettings as t,useGetAdminPages as u,useGetUserInfoSummary as v,useGetUserInfo as w,useUpsertUserInfo as x,useGetDashboardSummary as y,zIndex as z};
